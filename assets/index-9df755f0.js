var ub=Object.defineProperty;var hb=(e,t,r)=>t in e?ub(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var M=(e,t,r)=>(hb(e,typeof t!="symbol"?t+"":t,r),r);function db(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in e)){const s=Object.getOwnPropertyDescriptor(i,n);s&&Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();function Mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vv={exports:{}},xc={},jv={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=Symbol.for("react.element"),fb=Symbol.for("react.portal"),pb=Symbol.for("react.fragment"),mb=Symbol.for("react.strict_mode"),_b=Symbol.for("react.profiler"),gb=Symbol.for("react.provider"),vb=Symbol.for("react.context"),yb=Symbol.for("react.forward_ref"),Sb=Symbol.for("react.suspense"),wb=Symbol.for("react.memo"),Cb=Symbol.for("react.lazy"),wm=Symbol.iterator;function bb(e){return e===null||typeof e!="object"?null:(e=wm&&e[wm]||e["@@iterator"],typeof e=="function"?e:null)}var Uv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gv=Object.assign,Kv={};function xs(e,t,r){this.props=e,this.context=t,this.refs=Kv,this.updater=r||Uv}xs.prototype.isReactComponent={};xs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qv(){}qv.prototype=xs.prototype;function Bf(e,t,r){this.props=e,this.context=t,this.refs=Kv,this.updater=r||Uv}var $f=Bf.prototype=new qv;$f.constructor=Bf;Gv($f,xs.prototype);$f.isPureReactComponent=!0;var Cm=Array.isArray,Yv=Object.prototype.hasOwnProperty,Ff={current:null},Xv={key:!0,ref:!0,__self:!0,__source:!0};function Qv(e,t,r){var i,n={},s=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Yv.call(t,i)&&!Xv.hasOwnProperty(i)&&(n[i]=t[i]);var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}if(e&&e.defaultProps)for(i in l=e.defaultProps,l)n[i]===void 0&&(n[i]=l[i]);return{$$typeof:nl,type:e,key:s,ref:o,props:n,_owner:Ff.current}}function Eb(e,t){return{$$typeof:nl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zf(e){return typeof e=="object"&&e!==null&&e.$$typeof===nl}function xb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var bm=/\/+/g;function gu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xb(""+e.key):t.toString(36)}function ea(e,t,r,i,n){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case nl:case fb:o=!0}}if(o)return o=e,n=n(o),e=i===""?"."+gu(o,0):i,Cm(n)?(r="",e!=null&&(r=e.replace(bm,"$&/")+"/"),ea(n,t,r,"",function(c){return c})):n!=null&&(zf(n)&&(n=Eb(n,r+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(bm,"$&/")+"/")+e)),t.push(n)),1;if(o=0,i=i===""?".":i+":",Cm(e))for(var l=0;l<e.length;l++){s=e[l];var a=i+gu(s,l);o+=ea(s,t,r,a,n)}else if(a=bb(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=i+gu(s,l++),o+=ea(s,t,r,a,n);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function wl(e,t,r){if(e==null)return e;var i=[],n=0;return ea(e,i,"","",function(s){return t.call(r,s,n++)}),i}function kb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lt={current:null},ta={transition:null},Rb={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:ta,ReactCurrentOwner:Ff};function Zv(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:wl,forEach:function(e,t,r){wl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return wl(e,function(){t++}),t},toArray:function(e){return wl(e,function(t){return t})||[]},only:function(e){if(!zf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=xs;le.Fragment=pb;le.Profiler=_b;le.PureComponent=Bf;le.StrictMode=mb;le.Suspense=Sb;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rb;le.act=Zv;le.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Gv({},e.props),n=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Ff.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Yv.call(t,a)&&!Xv.hasOwnProperty(a)&&(i[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:nl,type:e.type,key:n,ref:s,props:i,_owner:o}};le.createContext=function(e){return e={$$typeof:vb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gb,_context:e},e.Consumer=e};le.createElement=Qv;le.createFactory=function(e){var t=Qv.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:yb,render:e}};le.isValidElement=zf;le.lazy=function(e){return{$$typeof:Cb,_payload:{_status:-1,_result:e},_init:kb}};le.memo=function(e,t){return{$$typeof:wb,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=ta.transition;ta.transition={};try{e()}finally{ta.transition=t}};le.unstable_act=Zv;le.useCallback=function(e,t){return Lt.current.useCallback(e,t)};le.useContext=function(e){return Lt.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return Lt.current.useDeferredValue(e)};le.useEffect=function(e,t){return Lt.current.useEffect(e,t)};le.useId=function(){return Lt.current.useId()};le.useImperativeHandle=function(e,t,r){return Lt.current.useImperativeHandle(e,t,r)};le.useInsertionEffect=function(e,t){return Lt.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return Lt.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return Lt.current.useMemo(e,t)};le.useReducer=function(e,t,r){return Lt.current.useReducer(e,t,r)};le.useRef=function(e){return Lt.current.useRef(e)};le.useState=function(e){return Lt.current.useState(e)};le.useSyncExternalStore=function(e,t,r){return Lt.current.useSyncExternalStore(e,t,r)};le.useTransition=function(){return Lt.current.useTransition()};le.version="18.3.1";jv.exports=le;var g=jv.exports;const fe=Mf(g),Jv=db({__proto__:null,default:fe},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb=g,Tb=Symbol.for("react.element"),Lb=Symbol.for("react.fragment"),Ab=Object.prototype.hasOwnProperty,Db=Pb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nb={key:!0,ref:!0,__self:!0,__source:!0};function e0(e,t,r){var i,n={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)Ab.call(t,i)&&!Nb.hasOwnProperty(i)&&(n[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)n[i]===void 0&&(n[i]=t[i]);return{$$typeof:Tb,type:e,key:s,ref:o,props:n,_owner:Db.current}}xc.Fragment=Lb;xc.jsx=e0;xc.jsxs=e0;Vv.exports=xc;var E=Vv.exports,Rh={},t0={exports:{}},er={},r0={exports:{}},i0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,F){var j=k.length;k.push(F);e:for(;0<j;){var J=j-1>>>1,se=k[J];if(0<n(se,F))k[J]=F,k[j]=se,j=J;else break e}}function r(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var F=k[0],j=k.pop();if(j!==F){k[0]=j;e:for(var J=0,se=k.length,Se=se>>>1;J<Se;){var ce=2*(J+1)-1,Re=k[ce],pe=ce+1,q=k[pe];if(0>n(Re,j))pe<se&&0>n(q,Re)?(k[J]=q,k[pe]=j,J=pe):(k[J]=Re,k[ce]=j,J=ce);else if(pe<se&&0>n(q,j))k[J]=q,k[pe]=j,J=pe;else break e}}return F}function n(k,F){var j=k.sortIndex-F.sortIndex;return j!==0?j:k.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],c=[],u=1,h=null,d=3,f=!1,p=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(k){for(var F=r(c);F!==null;){if(F.callback===null)i(c);else if(F.startTime<=k)i(c),F.sortIndex=F.expirationTime,t(a,F);else break;F=r(c)}}function w(k){if(_=!1,y(k),!p)if(r(a)!==null)p=!0,I(b);else{var F=r(c);F!==null&&V(w,F.startTime-k)}}function b(k,F){p=!1,_&&(_=!1,m(L),L=-1),f=!0;var j=d;try{for(y(F),h=r(a);h!==null&&(!(h.expirationTime>F)||k&&!D());){var J=h.callback;if(typeof J=="function"){h.callback=null,d=h.priorityLevel;var se=J(h.expirationTime<=F);F=e.unstable_now(),typeof se=="function"?h.callback=se:h===r(a)&&i(a),y(F)}else i(a);h=r(a)}if(h!==null)var Se=!0;else{var ce=r(c);ce!==null&&V(w,ce.startTime-F),Se=!1}return Se}finally{h=null,d=j,f=!1}}var R=!1,x=null,L=-1,T=5,N=-1;function D(){return!(e.unstable_now()-N<T)}function A(){if(x!==null){var k=e.unstable_now();N=k;var F=!0;try{F=x(!0,k)}finally{F?P():(R=!1,x=null)}}else R=!1}var P;if(typeof v=="function")P=function(){v(A)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,$=O.port2;O.port1.onmessage=A,P=function(){$.postMessage(null)}}else P=function(){S(A,0)};function I(k){x=k,R||(R=!0,P())}function V(k,F){L=S(function(){k(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,I(b))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(k){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var j=d;d=F;try{return k()}finally{d=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,F){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var j=d;d=k;try{return F()}finally{d=j}},e.unstable_scheduleCallback=function(k,F,j){var J=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?J+j:J):j=J,k){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=j+se,k={id:u++,callback:F,priorityLevel:k,startTime:j,expirationTime:se,sortIndex:-1},j>J?(k.sortIndex=j,t(c,k),r(a)===null&&k===r(c)&&(_?(m(L),L=-1):_=!0,V(w,j-J))):(k.sortIndex=se,t(a,k),p||f||(p=!0,I(b))),k},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(k){var F=d;return function(){var j=d;d=F;try{return k.apply(this,arguments)}finally{d=j}}}})(i0);r0.exports=i0;var Ob=r0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib=g,Jt=Ob;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n0=new Set,Lo={};function Pn(e,t){hs(e,t),hs(e+"Capture",t)}function hs(e,t){for(Lo[e]=t,e=0;e<t.length;e++)n0.add(t[e])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ph=Object.prototype.hasOwnProperty,Mb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Em={},xm={};function Bb(e){return Ph.call(xm,e)?!0:Ph.call(Em,e)?!1:Mb.test(e)?xm[e]=!0:(Em[e]=!0,!1)}function $b(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fb(e,t,r,i){if(t===null||typeof t>"u"||$b(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function At(e,t,r,i,n,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mt[e]=new At(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mt[t]=new At(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mt[e]=new At(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mt[e]=new At(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mt[e]=new At(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mt[e]=new At(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mt[e]=new At(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mt[e]=new At(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mt[e]=new At(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hf=/[\-:]([a-z])/g;function Wf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hf,Wf);mt[t]=new At(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hf,Wf);mt[t]=new At(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hf,Wf);mt[t]=new At(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mt[e]=new At(e,1,!1,e.toLowerCase(),null,!1,!1)});mt.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mt[e]=new At(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vf(e,t,r,i){var n=mt.hasOwnProperty(t)?mt[t]:null;(n!==null?n.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fb(t,r,n,i)&&(r=null),i||n===null?Bb(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,i=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var hi=Ib.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cl=Symbol.for("react.element"),Hn=Symbol.for("react.portal"),Wn=Symbol.for("react.fragment"),jf=Symbol.for("react.strict_mode"),Th=Symbol.for("react.profiler"),s0=Symbol.for("react.provider"),o0=Symbol.for("react.context"),Uf=Symbol.for("react.forward_ref"),Lh=Symbol.for("react.suspense"),Ah=Symbol.for("react.suspense_list"),Gf=Symbol.for("react.memo"),bi=Symbol.for("react.lazy"),l0=Symbol.for("react.offscreen"),km=Symbol.iterator;function Hs(e){return e===null||typeof e!="object"?null:(e=km&&e[km]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,vu;function io(e){if(vu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);vu=t&&t[1]||""}return`
`+vu+e}var yu=!1;function Su(e,t){if(!e||yu)return"";yu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var n=c.stack.split(`
`),s=i.stack.split(`
`),o=n.length-1,l=s.length-1;1<=o&&0<=l&&n[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==s[l]){var a=`
`+n[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{yu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?io(e):""}function zb(e){switch(e.tag){case 5:return io(e.type);case 16:return io("Lazy");case 13:return io("Suspense");case 19:return io("SuspenseList");case 0:case 2:case 15:return e=Su(e.type,!1),e;case 11:return e=Su(e.type.render,!1),e;case 1:return e=Su(e.type,!0),e;default:return""}}function Dh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wn:return"Fragment";case Hn:return"Portal";case Th:return"Profiler";case jf:return"StrictMode";case Lh:return"Suspense";case Ah:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case o0:return(e.displayName||"Context")+".Consumer";case s0:return(e._context.displayName||"Context")+".Provider";case Uf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gf:return t=e.displayName||null,t!==null?t:Dh(e.type)||"Memo";case bi:t=e._payload,e=e._init;try{return Dh(e(t))}catch{}}return null}function Hb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dh(t);case 8:return t===jf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function a0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wb(e){var t=a0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bl(e){e._valueTracker||(e._valueTracker=Wb(e))}function c0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=a0(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function Ra(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nh(e,t){var r=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Rm(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=Wi(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function u0(e,t){t=t.checked,t!=null&&Vf(e,"checked",t,!1)}function Oh(e,t){u0(e,t);var r=Wi(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ih(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ih(e,t.type,Wi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ih(e,t,r){(t!=="number"||Ra(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var no=Array.isArray;function ts(e,t,r,i){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&i&&(e[r].defaultSelected=!0)}else{for(r=""+Wi(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,i&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Mh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(z(92));if(no(r)){if(1<r.length)throw Error(z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Wi(r)}}function h0(e,t){var r=Wi(t.value),i=Wi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function Lm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function d0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?d0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var El,f0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(El=El||document.createElement("div"),El.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=El.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ao(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vb=["Webkit","ms","Moz","O"];Object.keys(vo).forEach(function(e){Vb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vo[t]=vo[e]})});function p0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||vo.hasOwnProperty(e)&&vo[e]?(""+t).trim():t+"px"}function m0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,n=p0(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,n):e[r]=n}}var jb=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $h(e,t){if(t){if(jb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Fh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=null;function Kf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hh=null,rs=null,is=null;function Am(e){if(e=ll(e)){if(typeof Hh!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Lc(t),Hh(e.stateNode,e.type,t))}}function _0(e){rs?is?is.push(e):is=[e]:rs=e}function g0(){if(rs){var e=rs,t=is;if(is=rs=null,Am(e),t)for(e=0;e<t.length;e++)Am(t[e])}}function v0(e,t){return e(t)}function y0(){}var wu=!1;function S0(e,t,r){if(wu)return e(t,r);wu=!0;try{return v0(e,t,r)}finally{wu=!1,(rs!==null||is!==null)&&(y0(),g0())}}function Do(e,t){var r=e.stateNode;if(r===null)return null;var i=Lc(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(z(231,t,typeof r));return r}var Wh=!1;if(si)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){Wh=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{Wh=!1}function Ub(e,t,r,i,n,s,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var yo=!1,Pa=null,Ta=!1,Vh=null,Gb={onError:function(e){yo=!0,Pa=e}};function Kb(e,t,r,i,n,s,o,l,a){yo=!1,Pa=null,Ub.apply(Gb,arguments)}function qb(e,t,r,i,n,s,o,l,a){if(Kb.apply(this,arguments),yo){if(yo){var c=Pa;yo=!1,Pa=null}else throw Error(z(198));Ta||(Ta=!0,Vh=c)}}function Tn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function w0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dm(e){if(Tn(e)!==e)throw Error(z(188))}function Yb(e){var t=e.alternate;if(!t){if(t=Tn(e),t===null)throw Error(z(188));return t!==e?null:e}for(var r=e,i=t;;){var n=r.return;if(n===null)break;var s=n.alternate;if(s===null){if(i=n.return,i!==null){r=i;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===r)return Dm(n),e;if(s===i)return Dm(n),t;s=s.sibling}throw Error(z(188))}if(r.return!==i.return)r=n,i=s;else{for(var o=!1,l=n.child;l;){if(l===r){o=!0,r=n,i=s;break}if(l===i){o=!0,i=n,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,i=n;break}if(l===i){o=!0,i=s,r=n;break}l=l.sibling}if(!o)throw Error(z(189))}}if(r.alternate!==i)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?e:t}function C0(e){return e=Yb(e),e!==null?b0(e):null}function b0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=b0(e);if(t!==null)return t;e=e.sibling}return null}var E0=Jt.unstable_scheduleCallback,Nm=Jt.unstable_cancelCallback,Xb=Jt.unstable_shouldYield,Qb=Jt.unstable_requestPaint,He=Jt.unstable_now,Zb=Jt.unstable_getCurrentPriorityLevel,qf=Jt.unstable_ImmediatePriority,x0=Jt.unstable_UserBlockingPriority,La=Jt.unstable_NormalPriority,Jb=Jt.unstable_LowPriority,k0=Jt.unstable_IdlePriority,kc=null,Vr=null;function eE(e){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:iE,tE=Math.log,rE=Math.LN2;function iE(e){return e>>>=0,e===0?32:31-(tE(e)/rE|0)|0}var xl=64,kl=4194304;function so(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Aa(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,n=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~n;l!==0?i=so(l):(s&=o,s!==0&&(i=so(s)))}else o=r&~n,o!==0?i=so(o):s!==0&&(i=so(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&n)&&(n=i&-i,s=t&-t,n>=s||n===16&&(s&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-kr(t),n=1<<r,i|=e[r],t&=~n;return i}function nE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sE(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-kr(s),l=1<<o,a=n[o];a===-1?(!(l&r)||l&i)&&(n[o]=nE(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function jh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function R0(){var e=xl;return xl<<=1,!(xl&4194240)&&(xl=64),e}function Cu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function sl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kr(t),e[t]=r}function oE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-kr(r),s=1<<n;t[n]=0,i[n]=-1,e[n]=-1,r&=~s}}function Yf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-kr(r),n=1<<i;n&t|e[i]&t&&(e[i]|=t),r&=~n}}var me=0;function P0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var T0,Xf,L0,A0,D0,Uh=!1,Rl=[],Di=null,Ni=null,Oi=null,No=new Map,Oo=new Map,ki=[],lE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Om(e,t){switch(e){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":No.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(t.pointerId)}}function Vs(e,t,r,i,n,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:s,targetContainers:[n]},t!==null&&(t=ll(t),t!==null&&Xf(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function aE(e,t,r,i,n){switch(t){case"focusin":return Di=Vs(Di,e,t,r,i,n),!0;case"dragenter":return Ni=Vs(Ni,e,t,r,i,n),!0;case"mouseover":return Oi=Vs(Oi,e,t,r,i,n),!0;case"pointerover":var s=n.pointerId;return No.set(s,Vs(No.get(s)||null,e,t,r,i,n)),!0;case"gotpointercapture":return s=n.pointerId,Oo.set(s,Vs(Oo.get(s)||null,e,t,r,i,n)),!0}return!1}function N0(e){var t=cn(e.target);if(t!==null){var r=Tn(t);if(r!==null){if(t=r.tag,t===13){if(t=w0(r),t!==null){e.blockedOn=t,D0(e.priority,function(){L0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ra(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);zh=i,r.target.dispatchEvent(i),zh=null}else return t=ll(r),t!==null&&Xf(t),e.blockedOn=r,!1;t.shift()}return!0}function Im(e,t,r){ra(e)&&r.delete(t)}function cE(){Uh=!1,Di!==null&&ra(Di)&&(Di=null),Ni!==null&&ra(Ni)&&(Ni=null),Oi!==null&&ra(Oi)&&(Oi=null),No.forEach(Im),Oo.forEach(Im)}function js(e,t){e.blockedOn===t&&(e.blockedOn=null,Uh||(Uh=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,cE)))}function Io(e){function t(n){return js(n,e)}if(0<Rl.length){js(Rl[0],e);for(var r=1;r<Rl.length;r++){var i=Rl[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Di!==null&&js(Di,e),Ni!==null&&js(Ni,e),Oi!==null&&js(Oi,e),No.forEach(t),Oo.forEach(t),r=0;r<ki.length;r++)i=ki[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<ki.length&&(r=ki[0],r.blockedOn===null);)N0(r),r.blockedOn===null&&ki.shift()}var ns=hi.ReactCurrentBatchConfig,Da=!0;function uE(e,t,r,i){var n=me,s=ns.transition;ns.transition=null;try{me=1,Qf(e,t,r,i)}finally{me=n,ns.transition=s}}function hE(e,t,r,i){var n=me,s=ns.transition;ns.transition=null;try{me=4,Qf(e,t,r,i)}finally{me=n,ns.transition=s}}function Qf(e,t,r,i){if(Da){var n=Gh(e,t,r,i);if(n===null)Du(e,t,i,Na,r),Om(e,i);else if(aE(n,e,t,r,i))i.stopPropagation();else if(Om(e,i),t&4&&-1<lE.indexOf(e)){for(;n!==null;){var s=ll(n);if(s!==null&&T0(s),s=Gh(e,t,r,i),s===null&&Du(e,t,i,Na,r),s===n)break;n=s}n!==null&&i.stopPropagation()}else Du(e,t,i,null,r)}}var Na=null;function Gh(e,t,r,i){if(Na=null,e=Kf(i),e=cn(e),e!==null)if(t=Tn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=w0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Na=e,null}function O0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zb()){case qf:return 1;case x0:return 4;case La:case Jb:return 16;case k0:return 536870912;default:return 16}default:return 16}}var Pi=null,Zf=null,ia=null;function I0(){if(ia)return ia;var e,t=Zf,r=t.length,i,n="value"in Pi?Pi.value:Pi.textContent,s=n.length;for(e=0;e<r&&t[e]===n[e];e++);var o=r-e;for(i=1;i<=o&&t[r-i]===n[s-i];i++);return ia=n.slice(e,1<i?1-i:void 0)}function na(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pl(){return!0}function Mm(){return!1}function tr(e){function t(r,i,n,s,o){this._reactName=r,this._targetInst=n,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pl:Mm,this.isPropagationStopped=Mm,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),t}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jf=tr(ks),ol=Ie({},ks,{view:0,detail:0}),dE=tr(ol),bu,Eu,Us,Rc=Ie({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ep,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Us&&(Us&&e.type==="mousemove"?(bu=e.screenX-Us.screenX,Eu=e.screenY-Us.screenY):Eu=bu=0,Us=e),bu)},movementY:function(e){return"movementY"in e?e.movementY:Eu}}),Bm=tr(Rc),fE=Ie({},Rc,{dataTransfer:0}),pE=tr(fE),mE=Ie({},ol,{relatedTarget:0}),xu=tr(mE),_E=Ie({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),gE=tr(_E),vE=Ie({},ks,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yE=tr(vE),SE=Ie({},ks,{data:0}),$m=tr(SE),wE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bE[e])?!!t[e]:!1}function ep(){return EE}var xE=Ie({},ol,{key:function(e){if(e.key){var t=wE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=na(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ep,charCode:function(e){return e.type==="keypress"?na(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?na(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kE=tr(xE),RE=Ie({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fm=tr(RE),PE=Ie({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ep}),TE=tr(PE),LE=Ie({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),AE=tr(LE),DE=Ie({},Rc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NE=tr(DE),OE=[9,13,27,32],tp=si&&"CompositionEvent"in window,So=null;si&&"documentMode"in document&&(So=document.documentMode);var IE=si&&"TextEvent"in window&&!So,M0=si&&(!tp||So&&8<So&&11>=So),zm=String.fromCharCode(32),Hm=!1;function B0(e,t){switch(e){case"keyup":return OE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vn=!1;function ME(e,t){switch(e){case"compositionend":return $0(t);case"keypress":return t.which!==32?null:(Hm=!0,zm);case"textInput":return e=t.data,e===zm&&Hm?null:e;default:return null}}function BE(e,t){if(Vn)return e==="compositionend"||!tp&&B0(e,t)?(e=I0(),ia=Zf=Pi=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return M0&&t.locale!=="ko"?null:t.data;default:return null}}var $E={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$E[e.type]:t==="textarea"}function F0(e,t,r,i){_0(i),t=Oa(t,"onChange"),0<t.length&&(r=new Jf("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var wo=null,Mo=null;function FE(e){X0(e,0)}function Pc(e){var t=Gn(e);if(c0(t))return e}function zE(e,t){if(e==="change")return t}var z0=!1;if(si){var ku;if(si){var Ru="oninput"in document;if(!Ru){var Vm=document.createElement("div");Vm.setAttribute("oninput","return;"),Ru=typeof Vm.oninput=="function"}ku=Ru}else ku=!1;z0=ku&&(!document.documentMode||9<document.documentMode)}function jm(){wo&&(wo.detachEvent("onpropertychange",H0),Mo=wo=null)}function H0(e){if(e.propertyName==="value"&&Pc(Mo)){var t=[];F0(t,Mo,e,Kf(e)),S0(FE,t)}}function HE(e,t,r){e==="focusin"?(jm(),wo=t,Mo=r,wo.attachEvent("onpropertychange",H0)):e==="focusout"&&jm()}function WE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pc(Mo)}function VE(e,t){if(e==="click")return Pc(t)}function jE(e,t){if(e==="input"||e==="change")return Pc(t)}function UE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pr=typeof Object.is=="function"?Object.is:UE;function Bo(e,t){if(Pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var n=r[i];if(!Ph.call(t,n)||!Pr(e[n],t[n]))return!1}return!0}function Um(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gm(e,t){var r=Um(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Um(r)}}function W0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?W0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function V0(){for(var e=window,t=Ra();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ra(e.document)}return t}function rp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GE(e){var t=V0(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&W0(r.ownerDocument.documentElement,r)){if(i!==null&&rp(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,s=Math.min(i.start,n);i=i.end===void 0?s:Math.min(i.end,n),!e.extend&&s>i&&(n=i,i=s,s=n),n=Gm(r,s);var o=Gm(r,i);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KE=si&&"documentMode"in document&&11>=document.documentMode,jn=null,Kh=null,Co=null,qh=!1;function Km(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qh||jn==null||jn!==Ra(i)||(i=jn,"selectionStart"in i&&rp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Co&&Bo(Co,i)||(Co=i,i=Oa(Kh,"onSelect"),0<i.length&&(t=new Jf("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=jn)))}function Tl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Un={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionend:Tl("Transition","TransitionEnd")},Pu={},j0={};si&&(j0=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function Tc(e){if(Pu[e])return Pu[e];if(!Un[e])return e;var t=Un[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in j0)return Pu[e]=t[r];return e}var U0=Tc("animationend"),G0=Tc("animationiteration"),K0=Tc("animationstart"),q0=Tc("transitionend"),Y0=new Map,qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(e,t){Y0.set(e,t),Pn(t,[e])}for(var Tu=0;Tu<qm.length;Tu++){var Lu=qm[Tu],qE=Lu.toLowerCase(),YE=Lu[0].toUpperCase()+Lu.slice(1);Ki(qE,"on"+YE)}Ki(U0,"onAnimationEnd");Ki(G0,"onAnimationIteration");Ki(K0,"onAnimationStart");Ki("dblclick","onDoubleClick");Ki("focusin","onFocus");Ki("focusout","onBlur");Ki(q0,"onTransitionEnd");hs("onMouseEnter",["mouseout","mouseover"]);hs("onMouseLeave",["mouseout","mouseover"]);hs("onPointerEnter",["pointerout","pointerover"]);hs("onPointerLeave",["pointerout","pointerover"]);Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XE=new Set("cancel close invalid load scroll toggle".split(" ").concat(oo));function Ym(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,qb(i,t,void 0,e),e.currentTarget=null}function X0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],n=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var l=i[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==s&&n.isPropagationStopped())break e;Ym(n,l,c),s=a}else for(o=0;o<i.length;o++){if(l=i[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==s&&n.isPropagationStopped())break e;Ym(n,l,c),s=a}}}if(Ta)throw e=Vh,Ta=!1,Vh=null,e}function Ee(e,t){var r=t[Jh];r===void 0&&(r=t[Jh]=new Set);var i=e+"__bubble";r.has(i)||(Q0(t,e,2,!1),r.add(i))}function Au(e,t,r){var i=0;t&&(i|=4),Q0(r,e,i,t)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function $o(e){if(!e[Ll]){e[Ll]=!0,n0.forEach(function(r){r!=="selectionchange"&&(XE.has(r)||Au(r,!1,e),Au(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ll]||(t[Ll]=!0,Au("selectionchange",!1,t))}}function Q0(e,t,r,i){switch(O0(t)){case 1:var n=uE;break;case 4:n=hE;break;default:n=Qf}r=n.bind(null,t,r,e),n=void 0,!Wh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),i?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Du(e,t,r,i,n){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=i.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===n||a.nodeType===8&&a.parentNode===n))return;o=o.return}for(;l!==null;){if(o=cn(l),o===null)return;if(a=o.tag,a===5||a===6){i=s=o;continue e}l=l.parentNode}}i=i.return}S0(function(){var c=s,u=Kf(r),h=[];e:{var d=Y0.get(e);if(d!==void 0){var f=Jf,p=e;switch(e){case"keypress":if(na(r)===0)break e;case"keydown":case"keyup":f=kE;break;case"focusin":p="focus",f=xu;break;case"focusout":p="blur",f=xu;break;case"beforeblur":case"afterblur":f=xu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=pE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=TE;break;case U0:case G0:case K0:f=gE;break;case q0:f=AE;break;case"scroll":f=dE;break;case"wheel":f=NE;break;case"copy":case"cut":case"paste":f=yE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Fm}var _=(t&4)!==0,S=!_&&e==="scroll",m=_?d!==null?d+"Capture":null:d;_=[];for(var v=c,y;v!==null;){y=v;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=Do(v,m),w!=null&&_.push(Fo(v,w,y)))),S)break;v=v.return}0<_.length&&(d=new f(d,p,null,r,u),h.push({event:d,listeners:_}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",d&&r!==zh&&(p=r.relatedTarget||r.fromElement)&&(cn(p)||p[oi]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=c,p=p?cn(p):null,p!==null&&(S=Tn(p),p!==S||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(_=Bm,w="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(_=Fm,w="onPointerLeave",m="onPointerEnter",v="pointer"),S=f==null?d:Gn(f),y=p==null?d:Gn(p),d=new _(w,v+"leave",f,r,u),d.target=S,d.relatedTarget=y,w=null,cn(u)===c&&(_=new _(m,v+"enter",p,r,u),_.target=y,_.relatedTarget=S,w=_),S=w,f&&p)t:{for(_=f,m=p,v=0,y=_;y;y=Dn(y))v++;for(y=0,w=m;w;w=Dn(w))y++;for(;0<v-y;)_=Dn(_),v--;for(;0<y-v;)m=Dn(m),y--;for(;v--;){if(_===m||m!==null&&_===m.alternate)break t;_=Dn(_),m=Dn(m)}_=null}else _=null;f!==null&&Xm(h,d,f,_,!1),p!==null&&S!==null&&Xm(h,S,p,_,!0)}}e:{if(d=c?Gn(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var b=zE;else if(Wm(d))if(z0)b=jE;else{b=WE;var R=HE}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=VE);if(b&&(b=b(e,c))){F0(h,b,r,u);break e}R&&R(e,d,c),e==="focusout"&&(R=d._wrapperState)&&R.controlled&&d.type==="number"&&Ih(d,"number",d.value)}switch(R=c?Gn(c):window,e){case"focusin":(Wm(R)||R.contentEditable==="true")&&(jn=R,Kh=c,Co=null);break;case"focusout":Co=Kh=jn=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Km(h,r,u);break;case"selectionchange":if(KE)break;case"keydown":case"keyup":Km(h,r,u)}var x;if(tp)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Vn?B0(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(M0&&r.locale!=="ko"&&(Vn||L!=="onCompositionStart"?L==="onCompositionEnd"&&Vn&&(x=I0()):(Pi=u,Zf="value"in Pi?Pi.value:Pi.textContent,Vn=!0)),R=Oa(c,L),0<R.length&&(L=new $m(L,e,null,r,u),h.push({event:L,listeners:R}),x?L.data=x:(x=$0(r),x!==null&&(L.data=x)))),(x=IE?ME(e,r):BE(e,r))&&(c=Oa(c,"onBeforeInput"),0<c.length&&(u=new $m("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=x))}X0(h,t)})}function Fo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Oa(e,t){for(var r=t+"Capture",i=[];e!==null;){var n=e,s=n.stateNode;n.tag===5&&s!==null&&(n=s,s=Do(e,r),s!=null&&i.unshift(Fo(e,s,n)),s=Do(e,t),s!=null&&i.push(Fo(e,s,n))),e=e.return}return i}function Dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xm(e,t,r,i,n){for(var s=t._reactName,o=[];r!==null&&r!==i;){var l=r,a=l.alternate,c=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&c!==null&&(l=c,n?(a=Do(r,s),a!=null&&o.unshift(Fo(r,a,l))):n||(a=Do(r,s),a!=null&&o.push(Fo(r,a,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var QE=/\r\n?/g,ZE=/\u0000|\uFFFD/g;function Qm(e){return(typeof e=="string"?e:""+e).replace(QE,`
`).replace(ZE,"")}function Al(e,t,r){if(t=Qm(t),Qm(e)!==t&&r)throw Error(z(425))}function Ia(){}var Yh=null,Xh=null;function Qh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zh=typeof setTimeout=="function"?setTimeout:void 0,JE=typeof clearTimeout=="function"?clearTimeout:void 0,Zm=typeof Promise=="function"?Promise:void 0,ex=typeof queueMicrotask=="function"?queueMicrotask:typeof Zm<"u"?function(e){return Zm.resolve(null).then(e).catch(tx)}:Zh;function tx(e){setTimeout(function(){throw e})}function Nu(e,t){var r=t,i=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){e.removeChild(n),Io(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=n}while(r);Io(t)}function Ii(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Rs=Math.random().toString(36).slice(2),zr="__reactFiber$"+Rs,zo="__reactProps$"+Rs,oi="__reactContainer$"+Rs,Jh="__reactEvents$"+Rs,rx="__reactListeners$"+Rs,ix="__reactHandles$"+Rs;function cn(e){var t=e[zr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[oi]||r[zr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Jm(e);e!==null;){if(r=e[zr])return r;e=Jm(e)}return t}e=r,r=e.parentNode}return null}function ll(e){return e=e[zr]||e[oi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Lc(e){return e[zo]||null}var ed=[],Kn=-1;function qi(e){return{current:e}}function ke(e){0>Kn||(e.current=ed[Kn],ed[Kn]=null,Kn--)}function be(e,t){Kn++,ed[Kn]=e.current,e.current=t}var Vi={},Et=qi(Vi),$t=qi(!1),vn=Vi;function ds(e,t){var r=e.type.contextTypes;if(!r)return Vi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var n={},s;for(s in r)n[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Ft(e){return e=e.childContextTypes,e!=null}function Ma(){ke($t),ke(Et)}function e_(e,t,r){if(Et.current!==Vi)throw Error(z(168));be(Et,t),be($t,r)}function Z0(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var n in i)if(!(n in t))throw Error(z(108,Hb(e)||"Unknown",n));return Ie({},r,i)}function Ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vi,vn=Et.current,be(Et,e),be($t,$t.current),!0}function t_(e,t,r){var i=e.stateNode;if(!i)throw Error(z(169));r?(e=Z0(e,t,vn),i.__reactInternalMemoizedMergedChildContext=e,ke($t),ke(Et),be(Et,e)):ke($t),be($t,r)}var ti=null,Ac=!1,Ou=!1;function J0(e){ti===null?ti=[e]:ti.push(e)}function nx(e){Ac=!0,J0(e)}function Yi(){if(!Ou&&ti!==null){Ou=!0;var e=0,t=me;try{var r=ti;for(me=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}ti=null,Ac=!1}catch(n){throw ti!==null&&(ti=ti.slice(e+1)),E0(qf,Yi),n}finally{me=t,Ou=!1}}return null}var qn=[],Yn=0,$a=null,Fa=0,lr=[],ar=0,yn=null,ri=1,ii="";function sn(e,t){qn[Yn++]=Fa,qn[Yn++]=$a,$a=e,Fa=t}function ey(e,t,r){lr[ar++]=ri,lr[ar++]=ii,lr[ar++]=yn,yn=e;var i=ri;e=ii;var n=32-kr(i)-1;i&=~(1<<n),r+=1;var s=32-kr(t)+n;if(30<s){var o=n-n%5;s=(i&(1<<o)-1).toString(32),i>>=o,n-=o,ri=1<<32-kr(t)+n|r<<n|i,ii=s+e}else ri=1<<s|r<<n|i,ii=e}function ip(e){e.return!==null&&(sn(e,1),ey(e,1,0))}function np(e){for(;e===$a;)$a=qn[--Yn],qn[Yn]=null,Fa=qn[--Yn],qn[Yn]=null;for(;e===yn;)yn=lr[--ar],lr[ar]=null,ii=lr[--ar],lr[ar]=null,ri=lr[--ar],lr[ar]=null}var Qt=null,Xt=null,Le=!1,Cr=null;function ty(e,t){var r=cr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function r_(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,Xt=Ii(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,Xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yn!==null?{id:ri,overflow:ii}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=cr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qt=e,Xt=null,!0):!1;default:return!1}}function td(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rd(e){if(Le){var t=Xt;if(t){var r=t;if(!r_(e,t)){if(td(e))throw Error(z(418));t=Ii(r.nextSibling);var i=Qt;t&&r_(e,t)?ty(i,r):(e.flags=e.flags&-4097|2,Le=!1,Qt=e)}}else{if(td(e))throw Error(z(418));e.flags=e.flags&-4097|2,Le=!1,Qt=e}}}function i_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function Dl(e){if(e!==Qt)return!1;if(!Le)return i_(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qh(e.type,e.memoizedProps)),t&&(t=Xt)){if(td(e))throw ry(),Error(z(418));for(;t;)ty(e,t),t=Ii(t.nextSibling)}if(i_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xt=Ii(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xt=null}}else Xt=Qt?Ii(e.stateNode.nextSibling):null;return!0}function ry(){for(var e=Xt;e;)e=Ii(e.nextSibling)}function fs(){Xt=Qt=null,Le=!1}function sp(e){Cr===null?Cr=[e]:Cr.push(e)}var sx=hi.ReactCurrentBatchConfig;function Gs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var i=r.stateNode}if(!i)throw Error(z(147,e));var n=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=n.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,e))}return e}function Nl(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function n_(e){var t=e._init;return t(e._payload)}function iy(e){function t(m,v){if(e){var y=m.deletions;y===null?(m.deletions=[v],m.flags|=16):y.push(v)}}function r(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function i(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function n(m,v){return m=Fi(m,v),m.index=0,m.sibling=null,m}function s(m,v,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<v?(m.flags|=2,v):y):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,v,y,w){return v===null||v.tag!==6?(v=Hu(y,m.mode,w),v.return=m,v):(v=n(v,y),v.return=m,v)}function a(m,v,y,w){var b=y.type;return b===Wn?u(m,v,y.props.children,w,y.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===bi&&n_(b)===v.type)?(w=n(v,y.props),w.ref=Gs(m,v,y),w.return=m,w):(w=ha(y.type,y.key,y.props,null,m.mode,w),w.ref=Gs(m,v,y),w.return=m,w)}function c(m,v,y,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=Wu(y,m.mode,w),v.return=m,v):(v=n(v,y.children||[]),v.return=m,v)}function u(m,v,y,w,b){return v===null||v.tag!==7?(v=_n(y,m.mode,w,b),v.return=m,v):(v=n(v,y),v.return=m,v)}function h(m,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Hu(""+v,m.mode,y),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Cl:return y=ha(v.type,v.key,v.props,null,m.mode,y),y.ref=Gs(m,null,v),y.return=m,y;case Hn:return v=Wu(v,m.mode,y),v.return=m,v;case bi:var w=v._init;return h(m,w(v._payload),y)}if(no(v)||Hs(v))return v=_n(v,m.mode,y,null),v.return=m,v;Nl(m,v)}return null}function d(m,v,y,w){var b=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:l(m,v,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Cl:return y.key===b?a(m,v,y,w):null;case Hn:return y.key===b?c(m,v,y,w):null;case bi:return b=y._init,d(m,v,b(y._payload),w)}if(no(y)||Hs(y))return b!==null?null:u(m,v,y,w,null);Nl(m,y)}return null}function f(m,v,y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,l(v,m,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cl:return m=m.get(w.key===null?y:w.key)||null,a(v,m,w,b);case Hn:return m=m.get(w.key===null?y:w.key)||null,c(v,m,w,b);case bi:var R=w._init;return f(m,v,y,R(w._payload),b)}if(no(w)||Hs(w))return m=m.get(y)||null,u(v,m,w,b,null);Nl(v,w)}return null}function p(m,v,y,w){for(var b=null,R=null,x=v,L=v=0,T=null;x!==null&&L<y.length;L++){x.index>L?(T=x,x=null):T=x.sibling;var N=d(m,x,y[L],w);if(N===null){x===null&&(x=T);break}e&&x&&N.alternate===null&&t(m,x),v=s(N,v,L),R===null?b=N:R.sibling=N,R=N,x=T}if(L===y.length)return r(m,x),Le&&sn(m,L),b;if(x===null){for(;L<y.length;L++)x=h(m,y[L],w),x!==null&&(v=s(x,v,L),R===null?b=x:R.sibling=x,R=x);return Le&&sn(m,L),b}for(x=i(m,x);L<y.length;L++)T=f(x,m,L,y[L],w),T!==null&&(e&&T.alternate!==null&&x.delete(T.key===null?L:T.key),v=s(T,v,L),R===null?b=T:R.sibling=T,R=T);return e&&x.forEach(function(D){return t(m,D)}),Le&&sn(m,L),b}function _(m,v,y,w){var b=Hs(y);if(typeof b!="function")throw Error(z(150));if(y=b.call(y),y==null)throw Error(z(151));for(var R=b=null,x=v,L=v=0,T=null,N=y.next();x!==null&&!N.done;L++,N=y.next()){x.index>L?(T=x,x=null):T=x.sibling;var D=d(m,x,N.value,w);if(D===null){x===null&&(x=T);break}e&&x&&D.alternate===null&&t(m,x),v=s(D,v,L),R===null?b=D:R.sibling=D,R=D,x=T}if(N.done)return r(m,x),Le&&sn(m,L),b;if(x===null){for(;!N.done;L++,N=y.next())N=h(m,N.value,w),N!==null&&(v=s(N,v,L),R===null?b=N:R.sibling=N,R=N);return Le&&sn(m,L),b}for(x=i(m,x);!N.done;L++,N=y.next())N=f(x,m,L,N.value,w),N!==null&&(e&&N.alternate!==null&&x.delete(N.key===null?L:N.key),v=s(N,v,L),R===null?b=N:R.sibling=N,R=N);return e&&x.forEach(function(A){return t(m,A)}),Le&&sn(m,L),b}function S(m,v,y,w){if(typeof y=="object"&&y!==null&&y.type===Wn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Cl:e:{for(var b=y.key,R=v;R!==null;){if(R.key===b){if(b=y.type,b===Wn){if(R.tag===7){r(m,R.sibling),v=n(R,y.props.children),v.return=m,m=v;break e}}else if(R.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===bi&&n_(b)===R.type){r(m,R.sibling),v=n(R,y.props),v.ref=Gs(m,R,y),v.return=m,m=v;break e}r(m,R);break}else t(m,R);R=R.sibling}y.type===Wn?(v=_n(y.props.children,m.mode,w,y.key),v.return=m,m=v):(w=ha(y.type,y.key,y.props,null,m.mode,w),w.ref=Gs(m,v,y),w.return=m,m=w)}return o(m);case Hn:e:{for(R=y.key;v!==null;){if(v.key===R)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){r(m,v.sibling),v=n(v,y.children||[]),v.return=m,m=v;break e}else{r(m,v);break}else t(m,v);v=v.sibling}v=Wu(y,m.mode,w),v.return=m,m=v}return o(m);case bi:return R=y._init,S(m,v,R(y._payload),w)}if(no(y))return p(m,v,y,w);if(Hs(y))return _(m,v,y,w);Nl(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(r(m,v.sibling),v=n(v,y),v.return=m,m=v):(r(m,v),v=Hu(y,m.mode,w),v.return=m,m=v),o(m)):r(m,v)}return S}var ps=iy(!0),ny=iy(!1),za=qi(null),Ha=null,Xn=null,op=null;function lp(){op=Xn=Ha=null}function ap(e){var t=za.current;ke(za),e._currentValue=t}function id(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function ss(e,t){Ha=e,op=Xn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bt=!0),e.firstContext=null)}function fr(e){var t=e._currentValue;if(op!==e)if(e={context:e,memoizedValue:t,next:null},Xn===null){if(Ha===null)throw Error(z(308));Xn=e,Ha.dependencies={lanes:0,firstContext:e}}else Xn=Xn.next=e;return t}var un=null;function cp(e){un===null?un=[e]:un.push(e)}function sy(e,t,r,i){var n=t.interleaved;return n===null?(r.next=r,cp(t)):(r.next=n.next,n.next=r),t.interleaved=r,li(e,i)}function li(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ei=!1;function up(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ni(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,he&2){var n=i.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),i.pending=t,li(e,r)}return n=i.interleaved,n===null?(t.next=t,cp(i)):(t.next=n.next,n.next=t),i.interleaved=t,li(e,r)}function sa(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Yf(e,r)}}function s_(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var n=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?n=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?n=s=t:s=s.next=t}else n=s=t;r={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wa(e,t,r,i){var n=e.updateQueue;Ei=!1;var s=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?s=c:o.next=c,o=a;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(s!==null){var h=n.baseState;o=0,u=c=a=null,l=s;do{var d=l.lane,f=l.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,_=l;switch(d=t,f=r,_.tag){case 1:if(p=_.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=_.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Ie({},h,d);break e;case 2:Ei=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=n.effects,d===null?n.effects=[l]:d.push(l))}else f={eventTime:f,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=f,a=h):u=u.next=f,o|=d;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;d=l,l=d.next,d.next=null,n.lastBaseUpdate=d,n.shared.pending=null}}while(1);if(u===null&&(a=h),n.baseState=a,n.firstBaseUpdate=c,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do o|=n.lane,n=n.next;while(n!==t)}else s===null&&(n.shared.lanes=0);wn|=o,e.lanes=o,e.memoizedState=h}}function o_(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],n=i.callback;if(n!==null){if(i.callback=null,i=r,typeof n!="function")throw Error(z(191,n));n.call(i)}}}var al={},jr=qi(al),Ho=qi(al),Wo=qi(al);function hn(e){if(e===al)throw Error(z(174));return e}function hp(e,t){switch(be(Wo,t),be(Ho,e),be(jr,al),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bh(t,e)}ke(jr),be(jr,t)}function ms(){ke(jr),ke(Ho),ke(Wo)}function ly(e){hn(Wo.current);var t=hn(jr.current),r=Bh(t,e.type);t!==r&&(be(Ho,e),be(jr,r))}function dp(e){Ho.current===e&&(ke(jr),ke(Ho))}var Ne=qi(0);function Va(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Iu=[];function fp(){for(var e=0;e<Iu.length;e++)Iu[e]._workInProgressVersionPrimary=null;Iu.length=0}var oa=hi.ReactCurrentDispatcher,Mu=hi.ReactCurrentBatchConfig,Sn=0,Oe=null,Ye=null,it=null,ja=!1,bo=!1,Vo=0,ox=0;function gt(){throw Error(z(321))}function pp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Pr(e[r],t[r]))return!1;return!0}function mp(e,t,r,i,n,s){if(Sn=s,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=e===null||e.memoizedState===null?ux:hx,e=r(i,n),bo){s=0;do{if(bo=!1,Vo=0,25<=s)throw Error(z(301));s+=1,it=Ye=null,t.updateQueue=null,oa.current=dx,e=r(i,n)}while(bo)}if(oa.current=Ua,t=Ye!==null&&Ye.next!==null,Sn=0,it=Ye=Oe=null,ja=!1,t)throw Error(z(300));return e}function _p(){var e=Vo!==0;return Vo=0,e}function $r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Oe.memoizedState=it=e:it=it.next=e,it}function pr(){if(Ye===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=it===null?Oe.memoizedState:it.next;if(t!==null)it=t,Ye=e;else{if(e===null)throw Error(z(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},it===null?Oe.memoizedState=it=e:it=it.next=e}return it}function jo(e,t){return typeof t=="function"?t(e):t}function Bu(e){var t=pr(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var i=Ye,n=i.baseQueue,s=r.pending;if(s!==null){if(n!==null){var o=n.next;n.next=s.next,s.next=o}i.baseQueue=n=s,r.pending=null}if(n!==null){s=n.next,i=i.baseState;var l=o=null,a=null,c=s;do{var u=c.lane;if((Sn&u)===u)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=i):a=a.next=h,Oe.lanes|=u,wn|=u}c=c.next}while(c!==null&&c!==s);a===null?o=i:a.next=l,Pr(i,t.memoizedState)||(Bt=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=a,r.lastRenderedState=i}if(e=r.interleaved,e!==null){n=e;do s=n.lane,Oe.lanes|=s,wn|=s,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $u(e){var t=pr(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var i=r.dispatch,n=r.pending,s=t.memoizedState;if(n!==null){r.pending=null;var o=n=n.next;do s=e(s,o.action),o=o.next;while(o!==n);Pr(s,t.memoizedState)||(Bt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,i]}function ay(){}function cy(e,t){var r=Oe,i=pr(),n=t(),s=!Pr(i.memoizedState,n);if(s&&(i.memoizedState=n,Bt=!0),i=i.queue,gp(dy.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||it!==null&&it.memoizedState.tag&1){if(r.flags|=2048,Uo(9,hy.bind(null,r,i,n,t),void 0,null),lt===null)throw Error(z(349));Sn&30||uy(r,t,n)}return n}function uy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function hy(e,t,r,i){t.value=r,t.getSnapshot=i,fy(t)&&py(e)}function dy(e,t,r){return r(function(){fy(t)&&py(e)})}function fy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Pr(e,r)}catch{return!0}}function py(e){var t=li(e,1);t!==null&&Rr(t,e,1,-1)}function l_(e){var t=$r();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},t.queue=e,e=e.dispatch=cx.bind(null,Oe,e),[t.memoizedState,e]}function Uo(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function my(){return pr().memoizedState}function la(e,t,r,i){var n=$r();Oe.flags|=e,n.memoizedState=Uo(1|t,r,void 0,i===void 0?null:i)}function Dc(e,t,r,i){var n=pr();i=i===void 0?null:i;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,i!==null&&pp(i,o.deps)){n.memoizedState=Uo(t,r,s,i);return}}Oe.flags|=e,n.memoizedState=Uo(1|t,r,s,i)}function a_(e,t){return la(8390656,8,e,t)}function gp(e,t){return Dc(2048,8,e,t)}function _y(e,t){return Dc(4,2,e,t)}function gy(e,t){return Dc(4,4,e,t)}function vy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yy(e,t,r){return r=r!=null?r.concat([e]):null,Dc(4,4,vy.bind(null,t,e),r)}function vp(){}function Sy(e,t){var r=pr();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&pp(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function wy(e,t){var r=pr();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&pp(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function Cy(e,t,r){return Sn&21?(Pr(r,t)||(r=R0(),Oe.lanes|=r,wn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bt=!0),e.memoizedState=r)}function lx(e,t){var r=me;me=r!==0&&4>r?r:4,e(!0);var i=Mu.transition;Mu.transition={};try{e(!1),t()}finally{me=r,Mu.transition=i}}function by(){return pr().memoizedState}function ax(e,t,r){var i=$i(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Ey(e))xy(t,r);else if(r=sy(e,t,r,i),r!==null){var n=Tt();Rr(r,e,i,n),ky(r,t,i)}}function cx(e,t,r){var i=$i(e),n={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ey(e))xy(t,n);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(n.hasEagerState=!0,n.eagerState=l,Pr(l,o)){var a=t.interleaved;a===null?(n.next=n,cp(t)):(n.next=a.next,a.next=n),t.interleaved=n;return}}catch{}finally{}r=sy(e,t,n,i),r!==null&&(n=Tt(),Rr(r,e,i,n),ky(r,t,i))}}function Ey(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function xy(e,t){bo=ja=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ky(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Yf(e,r)}}var Ua={readContext:fr,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},ux={readContext:fr,useCallback:function(e,t){return $r().memoizedState=[e,t===void 0?null:t],e},useContext:fr,useEffect:a_,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,la(4194308,4,vy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return la(4194308,4,e,t)},useInsertionEffect:function(e,t){return la(4,2,e,t)},useMemo:function(e,t){var r=$r();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=$r();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=ax.bind(null,Oe,e),[i.memoizedState,e]},useRef:function(e){var t=$r();return e={current:e},t.memoizedState=e},useState:l_,useDebugValue:vp,useDeferredValue:function(e){return $r().memoizedState=e},useTransition:function(){var e=l_(!1),t=e[0];return e=lx.bind(null,e[1]),$r().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Oe,n=$r();if(Le){if(r===void 0)throw Error(z(407));r=r()}else{if(r=t(),lt===null)throw Error(z(349));Sn&30||uy(i,t,r)}n.memoizedState=r;var s={value:r,getSnapshot:t};return n.queue=s,a_(dy.bind(null,i,s,e),[e]),i.flags|=2048,Uo(9,hy.bind(null,i,s,r,t),void 0,null),r},useId:function(){var e=$r(),t=lt.identifierPrefix;if(Le){var r=ii,i=ri;r=(i&~(1<<32-kr(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ox++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hx={readContext:fr,useCallback:Sy,useContext:fr,useEffect:gp,useImperativeHandle:yy,useInsertionEffect:_y,useLayoutEffect:gy,useMemo:wy,useReducer:Bu,useRef:my,useState:function(){return Bu(jo)},useDebugValue:vp,useDeferredValue:function(e){var t=pr();return Cy(t,Ye.memoizedState,e)},useTransition:function(){var e=Bu(jo)[0],t=pr().memoizedState;return[e,t]},useMutableSource:ay,useSyncExternalStore:cy,useId:by,unstable_isNewReconciler:!1},dx={readContext:fr,useCallback:Sy,useContext:fr,useEffect:gp,useImperativeHandle:yy,useInsertionEffect:_y,useLayoutEffect:gy,useMemo:wy,useReducer:$u,useRef:my,useState:function(){return $u(jo)},useDebugValue:vp,useDeferredValue:function(e){var t=pr();return Ye===null?t.memoizedState=e:Cy(t,Ye.memoizedState,e)},useTransition:function(){var e=$u(jo)[0],t=pr().memoizedState;return[e,t]},useMutableSource:ay,useSyncExternalStore:cy,useId:by,unstable_isNewReconciler:!1};function Sr(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function nd(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:Ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nc={isMounted:function(e){return(e=e._reactInternals)?Tn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Tt(),n=$i(e),s=ni(i,n);s.payload=t,r!=null&&(s.callback=r),t=Mi(e,s,n),t!==null&&(Rr(t,e,n,i),sa(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Tt(),n=$i(e),s=ni(i,n);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Mi(e,s,n),t!==null&&(Rr(t,e,n,i),sa(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Tt(),i=$i(e),n=ni(r,i);n.tag=2,t!=null&&(n.callback=t),t=Mi(e,n,i),t!==null&&(Rr(t,e,i,r),sa(t,e,i))}};function c_(e,t,r,i,n,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,o):t.prototype&&t.prototype.isPureReactComponent?!Bo(r,i)||!Bo(n,s):!0}function Ry(e,t,r){var i=!1,n=Vi,s=t.contextType;return typeof s=="object"&&s!==null?s=fr(s):(n=Ft(t)?vn:Et.current,i=t.contextTypes,s=(i=i!=null)?ds(e,n):Vi),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nc,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),t}function u_(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&Nc.enqueueReplaceState(t,t.state,null)}function sd(e,t,r,i){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},up(e);var s=t.contextType;typeof s=="object"&&s!==null?n.context=fr(s):(s=Ft(t)?vn:Et.current,n.context=ds(e,s)),n.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(nd(e,t,s,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&Nc.enqueueReplaceState(n,n.state,null),Wa(e,r,n,i),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function _s(e,t){try{var r="",i=t;do r+=zb(i),i=i.return;while(i);var n=r}catch(s){n=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:n,digest:null}}function Fu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function od(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fx=typeof WeakMap=="function"?WeakMap:Map;function Py(e,t,r){r=ni(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Ka||(Ka=!0,_d=i),od(e,t)},r}function Ty(e,t,r){r=ni(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var n=t.value;r.payload=function(){return i(n)},r.callback=function(){od(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){od(e,t),typeof i!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function h_(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new fx;var n=new Set;i.set(t,n)}else n=i.get(t),n===void 0&&(n=new Set,i.set(t,n));n.has(r)||(n.add(r),e=Rx.bind(null,e,t,r),t.then(e,e))}function d_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function f_(e,t,r,i,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ni(-1,1),t.tag=2,Mi(r,t,1))),r.lanes|=1),e)}var px=hi.ReactCurrentOwner,Bt=!1;function Rt(e,t,r,i){t.child=e===null?ny(t,null,r,i):ps(t,e.child,r,i)}function p_(e,t,r,i,n){r=r.render;var s=t.ref;return ss(t,n),i=mp(e,t,r,i,s,n),r=_p(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,ai(e,t,n)):(Le&&r&&ip(t),t.flags|=1,Rt(e,t,i,n),t.child)}function m_(e,t,r,i,n){if(e===null){var s=r.type;return typeof s=="function"&&!kp(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Ly(e,t,s,i,n)):(e=ha(r.type,null,i,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&n)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Bo,r(o,i)&&e.ref===t.ref)return ai(e,t,n)}return t.flags|=1,e=Fi(s,i),e.ref=t.ref,e.return=t,t.child=e}function Ly(e,t,r,i,n){if(e!==null){var s=e.memoizedProps;if(Bo(s,i)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=i=s,(e.lanes&n)!==0)e.flags&131072&&(Bt=!0);else return t.lanes=e.lanes,ai(e,t,n)}return ld(e,t,r,i,n)}function Ay(e,t,r){var i=t.pendingProps,n=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Zn,Kt),Kt|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(Zn,Kt),Kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:r,be(Zn,Kt),Kt|=i}else s!==null?(i=s.baseLanes|r,t.memoizedState=null):i=r,be(Zn,Kt),Kt|=i;return Rt(e,t,n,r),t.child}function Dy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ld(e,t,r,i,n){var s=Ft(r)?vn:Et.current;return s=ds(t,s),ss(t,n),r=mp(e,t,r,i,s,n),i=_p(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,ai(e,t,n)):(Le&&i&&ip(t),t.flags|=1,Rt(e,t,r,n),t.child)}function __(e,t,r,i,n){if(Ft(r)){var s=!0;Ba(t)}else s=!1;if(ss(t,n),t.stateNode===null)aa(e,t),Ry(t,r,i),sd(t,r,i,n),i=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=fr(c):(c=Ft(r)?vn:Et.current,c=ds(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||a!==c)&&u_(t,o,i,c),Ei=!1;var d=t.memoizedState;o.state=d,Wa(t,i,o,n),a=t.memoizedState,l!==i||d!==a||$t.current||Ei?(typeof u=="function"&&(nd(t,r,u,i),a=t.memoizedState),(l=Ei||c_(t,r,l,i,d,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=a),o.props=i,o.state=a,o.context=c,i=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,oy(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Sr(t.type,l),o.props=c,h=t.pendingProps,d=o.context,a=r.contextType,typeof a=="object"&&a!==null?a=fr(a):(a=Ft(r)?vn:Et.current,a=ds(t,a));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||d!==a)&&u_(t,o,i,a),Ei=!1,d=t.memoizedState,o.state=d,Wa(t,i,o,n);var p=t.memoizedState;l!==h||d!==p||$t.current||Ei?(typeof f=="function"&&(nd(t,r,f,i),p=t.memoizedState),(c=Ei||c_(t,r,c,i,d,p,a)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=a,i=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return ad(e,t,r,i,s,n)}function ad(e,t,r,i,n,s){Dy(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return n&&t_(t,r,!1),ai(e,t,s);i=t.stateNode,px.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=ps(t,e.child,null,s),t.child=ps(t,null,l,s)):Rt(e,t,l,s),t.memoizedState=i.state,n&&t_(t,r,!0),t.child}function Ny(e){var t=e.stateNode;t.pendingContext?e_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&e_(e,t.context,!1),hp(e,t.containerInfo)}function g_(e,t,r,i,n){return fs(),sp(n),t.flags|=256,Rt(e,t,r,i),t.child}var cd={dehydrated:null,treeContext:null,retryLane:0};function ud(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oy(e,t,r){var i=t.pendingProps,n=Ne.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),be(Ne,n&1),e===null)return rd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Mc(o,i,0,null),e=_n(e,i,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ud(r),t.memoizedState=cd,e):yp(t,o));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return mx(e,t,o,i,l,n,r);if(s){s=i.fallback,o=t.mode,n=e.child,l=n.sibling;var a={mode:"hidden",children:i.children};return!(o&1)&&t.child!==n?(i=t.child,i.childLanes=0,i.pendingProps=a,t.deletions=null):(i=Fi(n,a),i.subtreeFlags=n.subtreeFlags&14680064),l!==null?s=Fi(l,s):(s=_n(s,o,r,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o=o===null?ud(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=cd,i}return s=e.child,e=s.sibling,i=Fi(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function yp(e,t){return t=Mc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ol(e,t,r,i){return i!==null&&sp(i),ps(t,e.child,null,r),e=yp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mx(e,t,r,i,n,s,o){if(r)return t.flags&256?(t.flags&=-257,i=Fu(Error(z(422))),Ol(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,n=t.mode,i=Mc({mode:"visible",children:i.children},n,0,null),s=_n(s,n,o,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&ps(t,e.child,null,o),t.child.memoizedState=ud(o),t.memoizedState=cd,s);if(!(t.mode&1))return Ol(e,t,o,null);if(n.data==="$!"){if(i=n.nextSibling&&n.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(z(419)),i=Fu(s,i,void 0),Ol(e,t,o,i)}if(l=(o&e.childLanes)!==0,Bt||l){if(i=lt,i!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(i.suspendedLanes|o)?0:n,n!==0&&n!==s.retryLane&&(s.retryLane=n,li(e,n),Rr(i,e,n,-1))}return xp(),i=Fu(Error(z(421))),Ol(e,t,o,i)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=Px.bind(null,e),n._reactRetry=t,null):(e=s.treeContext,Xt=Ii(n.nextSibling),Qt=t,Le=!0,Cr=null,e!==null&&(lr[ar++]=ri,lr[ar++]=ii,lr[ar++]=yn,ri=e.id,ii=e.overflow,yn=t),t=yp(t,i.children),t.flags|=4096,t)}function v_(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),id(e.return,t,r)}function zu(e,t,r,i,n){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=r,s.tailMode=n)}function Iy(e,t,r){var i=t.pendingProps,n=i.revealOrder,s=i.tail;if(Rt(e,t,i.children,r),i=Ne.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&v_(e,r,t);else if(e.tag===19)v_(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(be(Ne,i),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&Va(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),zu(t,!1,n,r,s);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Va(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}zu(t,!0,r,null,s);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function aa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ai(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,r=Fi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Fi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _x(e,t,r){switch(t.tag){case 3:Ny(t),fs();break;case 5:ly(t);break;case 1:Ft(t.type)&&Ba(t);break;case 4:hp(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,n=t.memoizedProps.value;be(za,i._currentValue),i._currentValue=n;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(be(Ne,Ne.current&1),t.flags|=128,null):r&t.child.childLanes?Oy(e,t,r):(be(Ne,Ne.current&1),e=ai(e,t,r),e!==null?e.sibling:null);be(Ne,Ne.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return Iy(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),be(Ne,Ne.current),i)break;return null;case 22:case 23:return t.lanes=0,Ay(e,t,r)}return ai(e,t,r)}var My,hd,By,$y;My=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hd=function(){};By=function(e,t,r,i){var n=e.memoizedProps;if(n!==i){e=t.stateNode,hn(jr.current);var s=null;switch(r){case"input":n=Nh(e,n),i=Nh(e,i),s=[];break;case"select":n=Ie({},n,{value:void 0}),i=Ie({},i,{value:void 0}),s=[];break;case"textarea":n=Mh(e,n),i=Mh(e,i),s=[];break;default:typeof n.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Ia)}$h(r,i);var o;r=null;for(c in n)if(!i.hasOwnProperty(c)&&n.hasOwnProperty(c)&&n[c]!=null)if(c==="style"){var l=n[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Lo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var a=i[c];if(l=n!=null?n[c]:void 0,i.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(r||(r={}),r[o]=a[o])}else r||(s||(s=[]),s.push(c,r)),r=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Lo.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&Ee("scroll",e),s||l===a||(s=[])):(s=s||[]).push(c,a))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};$y=function(e,t,r,i){r!==i&&(t.flags|=4)};function Ks(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags&14680064,i|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function gx(e,t,r){var i=t.pendingProps;switch(np(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return Ft(t.type)&&Ma(),vt(t),null;case 3:return i=t.stateNode,ms(),ke($t),ke(Et),fp(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Dl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cr!==null&&(yd(Cr),Cr=null))),hd(e,t),vt(t),null;case 5:dp(t);var n=hn(Wo.current);if(r=t.type,e!==null&&t.stateNode!=null)By(e,t,r,i,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(z(166));return vt(t),null}if(e=hn(jr.current),Dl(t)){i=t.stateNode,r=t.type;var s=t.memoizedProps;switch(i[zr]=t,i[zo]=s,e=(t.mode&1)!==0,r){case"dialog":Ee("cancel",i),Ee("close",i);break;case"iframe":case"object":case"embed":Ee("load",i);break;case"video":case"audio":for(n=0;n<oo.length;n++)Ee(oo[n],i);break;case"source":Ee("error",i);break;case"img":case"image":case"link":Ee("error",i),Ee("load",i);break;case"details":Ee("toggle",i);break;case"input":Rm(i,s),Ee("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ee("invalid",i);break;case"textarea":Tm(i,s),Ee("invalid",i)}$h(r,s),n=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&Al(i.textContent,l,e),n=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Al(i.textContent,l,e),n=["children",""+l]):Lo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ee("scroll",i)}switch(r){case"input":bl(i),Pm(i,s,!0);break;case"textarea":bl(i),Lm(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Ia)}i=n,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=d0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(r,{is:i.is}):(e=o.createElement(r),r==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,r),e[zr]=t,e[zo]=i,My(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fh(r,i),r){case"dialog":Ee("cancel",e),Ee("close",e),n=i;break;case"iframe":case"object":case"embed":Ee("load",e),n=i;break;case"video":case"audio":for(n=0;n<oo.length;n++)Ee(oo[n],e);n=i;break;case"source":Ee("error",e),n=i;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),n=i;break;case"details":Ee("toggle",e),n=i;break;case"input":Rm(e,i),n=Nh(e,i),Ee("invalid",e);break;case"option":n=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},n=Ie({},i,{value:void 0}),Ee("invalid",e);break;case"textarea":Tm(e,i),n=Mh(e,i),Ee("invalid",e);break;default:n=i}$h(r,n),l=n;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?m0(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&f0(e,a)):s==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&Ao(e,a):typeof a=="number"&&Ao(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Lo.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Ee("scroll",e):a!=null&&Vf(e,s,a,o))}switch(r){case"input":bl(e),Pm(e,i,!1);break;case"textarea":bl(e),Lm(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Wi(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?ts(e,!!i.multiple,s,!1):i.defaultValue!=null&&ts(e,!!i.multiple,i.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Ia)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vt(t),null;case 6:if(e&&t.stateNode!=null)$y(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(z(166));if(r=hn(Wo.current),hn(jr.current),Dl(t)){if(i=t.stateNode,r=t.memoizedProps,i[zr]=t,(s=i.nodeValue!==r)&&(e=Qt,e!==null))switch(e.tag){case 3:Al(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Al(i.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[zr]=t,t.stateNode=i}return vt(t),null;case 13:if(ke(Ne),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&Xt!==null&&t.mode&1&&!(t.flags&128))ry(),fs(),t.flags|=98560,s=!1;else if(s=Dl(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(z(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[zr]=t}else fs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vt(t),s=!1}else Cr!==null&&(yd(Cr),Cr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?Qe===0&&(Qe=3):xp())),t.updateQueue!==null&&(t.flags|=4),vt(t),null);case 4:return ms(),hd(e,t),e===null&&$o(t.stateNode.containerInfo),vt(t),null;case 10:return ap(t.type._context),vt(t),null;case 17:return Ft(t.type)&&Ma(),vt(t),null;case 19:if(ke(Ne),s=t.memoizedState,s===null)return vt(t),null;if(i=(t.flags&128)!==0,o=s.rendering,o===null)if(i)Ks(s,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Va(e),o!==null){for(t.flags|=128,Ks(s,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)s=r,e=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return be(Ne,Ne.current&1|2),t.child}e=e.sibling}s.tail!==null&&He()>gs&&(t.flags|=128,i=!0,Ks(s,!1),t.lanes=4194304)}else{if(!i)if(e=Va(o),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ks(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Le)return vt(t),null}else 2*He()-s.renderingStartTime>gs&&r!==1073741824&&(t.flags|=128,i=!0,Ks(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=He(),t.sibling=null,r=Ne.current,be(Ne,i?r&1|2:r&1),t):(vt(t),null);case 22:case 23:return Ep(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Kt&1073741824&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function vx(e,t){switch(np(t),t.tag){case 1:return Ft(t.type)&&Ma(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ms(),ke($t),ke(Et),fp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dp(t),null;case 13:if(ke(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Ne),null;case 4:return ms(),null;case 10:return ap(t.type._context),null;case 22:case 23:return Ep(),null;case 24:return null;default:return null}}var Il=!1,Ct=!1,yx=typeof WeakSet=="function"?WeakSet:Set,G=null;function Qn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){$e(e,t,i)}else r.current=null}function dd(e,t,r){try{r()}catch(i){$e(e,t,i)}}var y_=!1;function Sx(e,t){if(Yh=Da,e=V0(),rp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var n=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,a=-1,c=0,u=0,h=e,d=null;t:for(;;){for(var f;h!==r||n!==0&&h.nodeType!==3||(l=o+n),h!==s||i!==0&&h.nodeType!==3||(a=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===e)break t;if(d===r&&++c===n&&(l=o),d===s&&++u===i&&(a=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}r=l===-1||a===-1?null:{start:l,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xh={focusedElem:e,selectionRange:r},Da=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var _=p.memoizedProps,S=p.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?_:Sr(t.type,_),S);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(w){$e(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return p=y_,y_=!1,p}function Eo(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var n=i=i.next;do{if((n.tag&e)===e){var s=n.destroy;n.destroy=void 0,s!==void 0&&dd(t,r,s)}n=n.next}while(n!==i)}}function Oc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function fd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Fy(e){var t=e.alternate;t!==null&&(e.alternate=null,Fy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zr],delete t[zo],delete t[Jh],delete t[rx],delete t[ix])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zy(e){return e.tag===5||e.tag===3||e.tag===4}function S_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pd(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ia));else if(i!==4&&(e=e.child,e!==null))for(pd(e,t,r),e=e.sibling;e!==null;)pd(e,t,r),e=e.sibling}function md(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(md(e,t,r),e=e.sibling;e!==null;)md(e,t,r),e=e.sibling}var ht=null,wr=!1;function _i(e,t,r){for(r=r.child;r!==null;)Hy(e,t,r),r=r.sibling}function Hy(e,t,r){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(kc,r)}catch{}switch(r.tag){case 5:Ct||Qn(r,t);case 6:var i=ht,n=wr;ht=null,_i(e,t,r),ht=i,wr=n,ht!==null&&(wr?(e=ht,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ht.removeChild(r.stateNode));break;case 18:ht!==null&&(wr?(e=ht,r=r.stateNode,e.nodeType===8?Nu(e.parentNode,r):e.nodeType===1&&Nu(e,r),Io(e)):Nu(ht,r.stateNode));break;case 4:i=ht,n=wr,ht=r.stateNode.containerInfo,wr=!0,_i(e,t,r),ht=i,wr=n;break;case 0:case 11:case 14:case 15:if(!Ct&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){n=i=i.next;do{var s=n,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dd(r,t,o),n=n.next}while(n!==i)}_i(e,t,r);break;case 1:if(!Ct&&(Qn(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(l){$e(r,t,l)}_i(e,t,r);break;case 21:_i(e,t,r);break;case 22:r.mode&1?(Ct=(i=Ct)||r.memoizedState!==null,_i(e,t,r),Ct=i):_i(e,t,r);break;default:_i(e,t,r)}}function w_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new yx),t.forEach(function(i){var n=Tx.bind(null,e,i);r.has(i)||(r.add(i),i.then(n,n))})}}function _r(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var n=r[i];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ht=l.stateNode,wr=!1;break e;case 3:ht=l.stateNode.containerInfo,wr=!0;break e;case 4:ht=l.stateNode.containerInfo,wr=!0;break e}l=l.return}if(ht===null)throw Error(z(160));Hy(s,o,n),ht=null,wr=!1;var a=n.alternate;a!==null&&(a.return=null),n.return=null}catch(c){$e(n,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wy(t,e),t=t.sibling}function Wy(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_r(t,e),Dr(e),i&4){try{Eo(3,e,e.return),Oc(3,e)}catch(_){$e(e,e.return,_)}try{Eo(5,e,e.return)}catch(_){$e(e,e.return,_)}}break;case 1:_r(t,e),Dr(e),i&512&&r!==null&&Qn(r,r.return);break;case 5:if(_r(t,e),Dr(e),i&512&&r!==null&&Qn(r,r.return),e.flags&32){var n=e.stateNode;try{Ao(n,"")}catch(_){$e(e,e.return,_)}}if(i&4&&(n=e.stateNode,n!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&u0(n,s),Fh(l,o);var c=Fh(l,s);for(o=0;o<a.length;o+=2){var u=a[o],h=a[o+1];u==="style"?m0(n,h):u==="dangerouslySetInnerHTML"?f0(n,h):u==="children"?Ao(n,h):Vf(n,u,h,c)}switch(l){case"input":Oh(n,s);break;case"textarea":h0(n,s);break;case"select":var d=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ts(n,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?ts(n,!!s.multiple,s.defaultValue,!0):ts(n,!!s.multiple,s.multiple?[]:"",!1))}n[zo]=s}catch(_){$e(e,e.return,_)}}break;case 6:if(_r(t,e),Dr(e),i&4){if(e.stateNode===null)throw Error(z(162));n=e.stateNode,s=e.memoizedProps;try{n.nodeValue=s}catch(_){$e(e,e.return,_)}}break;case 3:if(_r(t,e),Dr(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Io(t.containerInfo)}catch(_){$e(e,e.return,_)}break;case 4:_r(t,e),Dr(e);break;case 13:_r(t,e),Dr(e),n=e.child,n.flags&8192&&(s=n.memoizedState!==null,n.stateNode.isHidden=s,!s||n.alternate!==null&&n.alternate.memoizedState!==null||(Cp=He())),i&4&&w_(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ct=(c=Ct)||u,_r(t,e),Ct=c):_r(t,e),Dr(e),i&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(G=e,u=e.child;u!==null;){for(h=G=u;G!==null;){switch(d=G,f=d.child,d.tag){case 0:case 11:case 14:case 15:Eo(4,d,d.return);break;case 1:Qn(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){i=d,r=d.return;try{t=i,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(_){$e(i,r,_)}}break;case 5:Qn(d,d.return);break;case 22:if(d.memoizedState!==null){b_(h);continue}}f!==null?(f.return=d,G=f):b_(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{n=h.stateNode,c?(s=n.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=p0("display",o))}catch(_){$e(e,e.return,_)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){$e(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_r(t,e),Dr(e),i&4&&w_(e);break;case 21:break;default:_r(t,e),Dr(e)}}function Dr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(zy(r)){var i=r;break e}r=r.return}throw Error(z(160))}switch(i.tag){case 5:var n=i.stateNode;i.flags&32&&(Ao(n,""),i.flags&=-33);var s=S_(e);md(e,s,n);break;case 3:case 4:var o=i.stateNode.containerInfo,l=S_(e);pd(e,l,o);break;default:throw Error(z(161))}}catch(a){$e(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wx(e,t,r){G=e,Vy(e)}function Vy(e,t,r){for(var i=(e.mode&1)!==0;G!==null;){var n=G,s=n.child;if(n.tag===22&&i){var o=n.memoizedState!==null||Il;if(!o){var l=n.alternate,a=l!==null&&l.memoizedState!==null||Ct;l=Il;var c=Ct;if(Il=o,(Ct=a)&&!c)for(G=n;G!==null;)o=G,a=o.child,o.tag===22&&o.memoizedState!==null?E_(n):a!==null?(a.return=o,G=a):E_(n);for(;s!==null;)G=s,Vy(s),s=s.sibling;G=n,Il=l,Ct=c}C_(e)}else n.subtreeFlags&8772&&s!==null?(s.return=n,G=s):C_(e)}}function C_(e){for(;G!==null;){var t=G;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||Oc(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Ct)if(r===null)i.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:Sr(t.type,r.memoizedProps);i.componentDidUpdate(n,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&o_(t,s,i);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}o_(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Io(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ct||t.flags&512&&fd(t)}catch(d){$e(t,t.return,d)}}if(t===e){G=null;break}if(r=t.sibling,r!==null){r.return=t.return,G=r;break}G=t.return}}function b_(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var r=t.sibling;if(r!==null){r.return=t.return,G=r;break}G=t.return}}function E_(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Oc(4,t)}catch(a){$e(t,r,a)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var n=t.return;try{i.componentDidMount()}catch(a){$e(t,n,a)}}var s=t.return;try{fd(t)}catch(a){$e(t,s,a)}break;case 5:var o=t.return;try{fd(t)}catch(a){$e(t,o,a)}}}catch(a){$e(t,t.return,a)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var Cx=Math.ceil,Ga=hi.ReactCurrentDispatcher,Sp=hi.ReactCurrentOwner,hr=hi.ReactCurrentBatchConfig,he=0,lt=null,Ge=null,pt=0,Kt=0,Zn=qi(0),Qe=0,Go=null,wn=0,Ic=0,wp=0,xo=null,Mt=null,Cp=0,gs=1/0,ei=null,Ka=!1,_d=null,Bi=null,Ml=!1,Ti=null,qa=0,ko=0,gd=null,ca=-1,ua=0;function Tt(){return he&6?He():ca!==-1?ca:ca=He()}function $i(e){return e.mode&1?he&2&&pt!==0?pt&-pt:sx.transition!==null?(ua===0&&(ua=R0()),ua):(e=me,e!==0||(e=window.event,e=e===void 0?16:O0(e.type)),e):1}function Rr(e,t,r,i){if(50<ko)throw ko=0,gd=null,Error(z(185));sl(e,r,i),(!(he&2)||e!==lt)&&(e===lt&&(!(he&2)&&(Ic|=r),Qe===4&&Ri(e,pt)),zt(e,i),r===1&&he===0&&!(t.mode&1)&&(gs=He()+500,Ac&&Yi()))}function zt(e,t){var r=e.callbackNode;sE(e,t);var i=Aa(e,e===lt?pt:0);if(i===0)r!==null&&Nm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Nm(r),t===1)e.tag===0?nx(x_.bind(null,e)):J0(x_.bind(null,e)),ex(function(){!(he&6)&&Yi()}),r=null;else{switch(P0(i)){case 1:r=qf;break;case 4:r=x0;break;case 16:r=La;break;case 536870912:r=k0;break;default:r=La}r=Qy(r,jy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function jy(e,t){if(ca=-1,ua=0,he&6)throw Error(z(327));var r=e.callbackNode;if(os()&&e.callbackNode!==r)return null;var i=Aa(e,e===lt?pt:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Ya(e,i);else{t=i;var n=he;he|=2;var s=Gy();(lt!==e||pt!==t)&&(ei=null,gs=He()+500,mn(e,t));do try{xx();break}catch(l){Uy(e,l)}while(1);lp(),Ga.current=s,he=n,Ge!==null?t=0:(lt=null,pt=0,t=Qe)}if(t!==0){if(t===2&&(n=jh(e),n!==0&&(i=n,t=vd(e,n))),t===1)throw r=Go,mn(e,0),Ri(e,i),zt(e,He()),r;if(t===6)Ri(e,i);else{if(n=e.current.alternate,!(i&30)&&!bx(n)&&(t=Ya(e,i),t===2&&(s=jh(e),s!==0&&(i=s,t=vd(e,s))),t===1))throw r=Go,mn(e,0),Ri(e,i),zt(e,He()),r;switch(e.finishedWork=n,e.finishedLanes=i,t){case 0:case 1:throw Error(z(345));case 2:on(e,Mt,ei);break;case 3:if(Ri(e,i),(i&130023424)===i&&(t=Cp+500-He(),10<t)){if(Aa(e,0)!==0)break;if(n=e.suspendedLanes,(n&i)!==i){Tt(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Zh(on.bind(null,e,Mt,ei),t);break}on(e,Mt,ei);break;case 4:if(Ri(e,i),(i&4194240)===i)break;for(t=e.eventTimes,n=-1;0<i;){var o=31-kr(i);s=1<<o,o=t[o],o>n&&(n=o),i&=~s}if(i=n,i=He()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Cx(i/1960))-i,10<i){e.timeoutHandle=Zh(on.bind(null,e,Mt,ei),i);break}on(e,Mt,ei);break;case 5:on(e,Mt,ei);break;default:throw Error(z(329))}}}return zt(e,He()),e.callbackNode===r?jy.bind(null,e):null}function vd(e,t){var r=xo;return e.current.memoizedState.isDehydrated&&(mn(e,t).flags|=256),e=Ya(e,t),e!==2&&(t=Mt,Mt=r,t!==null&&yd(t)),e}function yd(e){Mt===null?Mt=e:Mt.push.apply(Mt,e)}function bx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var n=r[i],s=n.getSnapshot;n=n.value;try{if(!Pr(s(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ri(e,t){for(t&=~wp,t&=~Ic,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-kr(t),i=1<<r;e[r]=-1,t&=~i}}function x_(e){if(he&6)throw Error(z(327));os();var t=Aa(e,0);if(!(t&1))return zt(e,He()),null;var r=Ya(e,t);if(e.tag!==0&&r===2){var i=jh(e);i!==0&&(t=i,r=vd(e,i))}if(r===1)throw r=Go,mn(e,0),Ri(e,t),zt(e,He()),r;if(r===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,on(e,Mt,ei),zt(e,He()),null}function bp(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(gs=He()+500,Ac&&Yi())}}function Cn(e){Ti!==null&&Ti.tag===0&&!(he&6)&&os();var t=he;he|=1;var r=hr.transition,i=me;try{if(hr.transition=null,me=1,e)return e()}finally{me=i,hr.transition=r,he=t,!(he&6)&&Yi()}}function Ep(){Kt=Zn.current,ke(Zn)}function mn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,JE(r)),Ge!==null)for(r=Ge.return;r!==null;){var i=r;switch(np(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ma();break;case 3:ms(),ke($t),ke(Et),fp();break;case 5:dp(i);break;case 4:ms();break;case 13:ke(Ne);break;case 19:ke(Ne);break;case 10:ap(i.type._context);break;case 22:case 23:Ep()}r=r.return}if(lt=e,Ge=e=Fi(e.current,null),pt=Kt=t,Qe=0,Go=null,wp=Ic=wn=0,Mt=xo=null,un!==null){for(t=0;t<un.length;t++)if(r=un[t],i=r.interleaved,i!==null){r.interleaved=null;var n=i.next,s=r.pending;if(s!==null){var o=s.next;s.next=n,i.next=o}r.pending=i}un=null}return e}function Uy(e,t){do{var r=Ge;try{if(lp(),oa.current=Ua,ja){for(var i=Oe.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}ja=!1}if(Sn=0,it=Ye=Oe=null,bo=!1,Vo=0,Sp.current=null,r===null||r.return===null){Qe=1,Go=t,Ge=null;break}e:{var s=e,o=r.return,l=r,a=t;if(t=pt,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=d_(o);if(f!==null){f.flags&=-257,f_(f,o,l,s,t),f.mode&1&&h_(s,c,t),t=f,a=c;var p=t.updateQueue;if(p===null){var _=new Set;_.add(a),t.updateQueue=_}else p.add(a);break e}else{if(!(t&1)){h_(s,c,t),xp();break e}a=Error(z(426))}}else if(Le&&l.mode&1){var S=d_(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),f_(S,o,l,s,t),sp(_s(a,l));break e}}s=a=_s(a,l),Qe!==4&&(Qe=2),xo===null?xo=[s]:xo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=Py(s,a,t);s_(s,m);break e;case 1:l=a;var v=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Bi===null||!Bi.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=Ty(s,l,t);s_(s,w);break e}}s=s.return}while(s!==null)}qy(r)}catch(b){t=b,Ge===r&&r!==null&&(Ge=r=r.return);continue}break}while(1)}function Gy(){var e=Ga.current;return Ga.current=Ua,e===null?Ua:e}function xp(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),lt===null||!(wn&268435455)&&!(Ic&268435455)||Ri(lt,pt)}function Ya(e,t){var r=he;he|=2;var i=Gy();(lt!==e||pt!==t)&&(ei=null,mn(e,t));do try{Ex();break}catch(n){Uy(e,n)}while(1);if(lp(),he=r,Ga.current=i,Ge!==null)throw Error(z(261));return lt=null,pt=0,Qe}function Ex(){for(;Ge!==null;)Ky(Ge)}function xx(){for(;Ge!==null&&!Xb();)Ky(Ge)}function Ky(e){var t=Xy(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?qy(e):Ge=t,Sp.current=null}function qy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=vx(r,t),r!==null){r.flags&=32767,Ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,Ge=null;return}}else if(r=gx(r,t,Kt),r!==null){Ge=r;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);Qe===0&&(Qe=5)}function on(e,t,r){var i=me,n=hr.transition;try{hr.transition=null,me=1,kx(e,t,r,i)}finally{hr.transition=n,me=i}return null}function kx(e,t,r,i){do os();while(Ti!==null);if(he&6)throw Error(z(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(oE(e,s),e===lt&&(Ge=lt=null,pt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ml||(Ml=!0,Qy(La,function(){return os(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=hr.transition,hr.transition=null;var o=me;me=1;var l=he;he|=4,Sp.current=null,Sx(e,r),Wy(r,e),GE(Xh),Da=!!Yh,Xh=Yh=null,e.current=r,wx(r),Qb(),he=l,me=o,hr.transition=s}else e.current=r;if(Ml&&(Ml=!1,Ti=e,qa=n),s=e.pendingLanes,s===0&&(Bi=null),eE(r.stateNode),zt(e,He()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],i(n.value,{componentStack:n.stack,digest:n.digest});if(Ka)throw Ka=!1,e=_d,_d=null,e;return qa&1&&e.tag!==0&&os(),s=e.pendingLanes,s&1?e===gd?ko++:(ko=0,gd=e):ko=0,Yi(),null}function os(){if(Ti!==null){var e=P0(qa),t=hr.transition,r=me;try{if(hr.transition=null,me=16>e?16:e,Ti===null)var i=!1;else{if(e=Ti,Ti=null,qa=0,he&6)throw Error(z(331));var n=he;for(he|=4,G=e.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(G=c;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:Eo(8,u,s)}var h=u.child;if(h!==null)h.return=u,G=h;else for(;G!==null;){u=G;var d=u.sibling,f=u.return;if(Fy(u),u===c){G=null;break}if(d!==null){d.return=f,G=d;break}G=f}}}var p=s.alternate;if(p!==null){var _=p.child;if(_!==null){p.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Eo(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,G=m;break e}G=s.return}}var v=e.current;for(G=v;G!==null;){o=G;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,G=y;else e:for(o=v;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Oc(9,l)}}catch(b){$e(l,l.return,b)}if(l===o){G=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,G=w;break e}G=l.return}}if(he=n,Yi(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(kc,e)}catch{}i=!0}return i}finally{me=r,hr.transition=t}}return!1}function k_(e,t,r){t=_s(r,t),t=Py(e,t,1),e=Mi(e,t,1),t=Tt(),e!==null&&(sl(e,1,t),zt(e,t))}function $e(e,t,r){if(e.tag===3)k_(e,e,r);else for(;t!==null;){if(t.tag===3){k_(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Bi===null||!Bi.has(i))){e=_s(r,e),e=Ty(t,e,1),t=Mi(t,e,1),e=Tt(),t!==null&&(sl(t,1,e),zt(t,e));break}}t=t.return}}function Rx(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=Tt(),e.pingedLanes|=e.suspendedLanes&r,lt===e&&(pt&r)===r&&(Qe===4||Qe===3&&(pt&130023424)===pt&&500>He()-Cp?mn(e,0):wp|=r),zt(e,t)}function Yy(e,t){t===0&&(e.mode&1?(t=kl,kl<<=1,!(kl&130023424)&&(kl=4194304)):t=1);var r=Tt();e=li(e,t),e!==null&&(sl(e,t,r),zt(e,r))}function Px(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Yy(e,r)}function Tx(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(z(314))}i!==null&&i.delete(t),Yy(e,r)}var Xy;Xy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$t.current)Bt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Bt=!1,_x(e,t,r);Bt=!!(e.flags&131072)}else Bt=!1,Le&&t.flags&1048576&&ey(t,Fa,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;aa(e,t),e=t.pendingProps;var n=ds(t,Et.current);ss(t,r),n=mp(null,t,i,e,n,r);var s=_p();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ft(i)?(s=!0,Ba(t)):s=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,up(t),n.updater=Nc,t.stateNode=n,n._reactInternals=t,sd(t,i,e,r),t=ad(null,t,i,!0,s,r)):(t.tag=0,Le&&s&&ip(t),Rt(null,t,n,r),t=t.child),t;case 16:i=t.elementType;e:{switch(aa(e,t),e=t.pendingProps,n=i._init,i=n(i._payload),t.type=i,n=t.tag=Ax(i),e=Sr(i,e),n){case 0:t=ld(null,t,i,e,r);break e;case 1:t=__(null,t,i,e,r);break e;case 11:t=p_(null,t,i,e,r);break e;case 14:t=m_(null,t,i,Sr(i.type,e),r);break e}throw Error(z(306,i,""))}return t;case 0:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:Sr(i,n),ld(e,t,i,n,r);case 1:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:Sr(i,n),__(e,t,i,n,r);case 3:e:{if(Ny(t),e===null)throw Error(z(387));i=t.pendingProps,s=t.memoizedState,n=s.element,oy(e,t),Wa(t,i,null,r);var o=t.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){n=_s(Error(z(423)),t),t=g_(e,t,i,r,n);break e}else if(i!==n){n=_s(Error(z(424)),t),t=g_(e,t,i,r,n);break e}else for(Xt=Ii(t.stateNode.containerInfo.firstChild),Qt=t,Le=!0,Cr=null,r=ny(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fs(),i===n){t=ai(e,t,r);break e}Rt(e,t,i,r)}t=t.child}return t;case 5:return ly(t),e===null&&rd(t),i=t.type,n=t.pendingProps,s=e!==null?e.memoizedProps:null,o=n.children,Qh(i,n)?o=null:s!==null&&Qh(i,s)&&(t.flags|=32),Dy(e,t),Rt(e,t,o,r),t.child;case 6:return e===null&&rd(t),null;case 13:return Oy(e,t,r);case 4:return hp(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ps(t,null,i,r):Rt(e,t,i,r),t.child;case 11:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:Sr(i,n),p_(e,t,i,n,r);case 7:return Rt(e,t,t.pendingProps,r),t.child;case 8:return Rt(e,t,t.pendingProps.children,r),t.child;case 12:return Rt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,n=t.pendingProps,s=t.memoizedProps,o=n.value,be(za,i._currentValue),i._currentValue=o,s!==null)if(Pr(s.value,o)){if(s.children===n.children&&!$t.current){t=ai(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(s.tag===1){a=ni(-1,r&-r),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?a.next=a:(a.next=u.next,u.next=a),c.pending=a}}s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),id(s.return,r,t),l.lanes|=r;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),id(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Rt(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,i=t.pendingProps.children,ss(t,r),n=fr(n),i=i(n),t.flags|=1,Rt(e,t,i,r),t.child;case 14:return i=t.type,n=Sr(i,t.pendingProps),n=Sr(i.type,n),m_(e,t,i,n,r);case 15:return Ly(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:Sr(i,n),aa(e,t),t.tag=1,Ft(i)?(e=!0,Ba(t)):e=!1,ss(t,r),Ry(t,i,n),sd(t,i,n,r),ad(null,t,i,!0,e,r);case 19:return Iy(e,t,r);case 22:return Ay(e,t,r)}throw Error(z(156,t.tag))};function Qy(e,t){return E0(e,t)}function Lx(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(e,t,r,i){return new Lx(e,t,r,i)}function kp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ax(e){if(typeof e=="function")return kp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Uf)return 11;if(e===Gf)return 14}return 2}function Fi(e,t){var r=e.alternate;return r===null?(r=cr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ha(e,t,r,i,n,s){var o=2;if(i=e,typeof e=="function")kp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wn:return _n(r.children,n,s,t);case jf:o=8,n|=8;break;case Th:return e=cr(12,r,t,n|2),e.elementType=Th,e.lanes=s,e;case Lh:return e=cr(13,r,t,n),e.elementType=Lh,e.lanes=s,e;case Ah:return e=cr(19,r,t,n),e.elementType=Ah,e.lanes=s,e;case l0:return Mc(r,n,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case s0:o=10;break e;case o0:o=9;break e;case Uf:o=11;break e;case Gf:o=14;break e;case bi:o=16,i=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=cr(o,r,t,n),t.elementType=e,t.type=i,t.lanes=s,t}function _n(e,t,r,i){return e=cr(7,e,i,t),e.lanes=r,e}function Mc(e,t,r,i){return e=cr(22,e,i,t),e.elementType=l0,e.lanes=r,e.stateNode={isHidden:!1},e}function Hu(e,t,r){return e=cr(6,e,null,t),e.lanes=r,e}function Wu(e,t,r){return t=cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dx(e,t,r,i,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cu(0),this.expirationTimes=Cu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cu(0),this.identifierPrefix=i,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Rp(e,t,r,i,n,s,o,l,a){return e=new Dx(e,t,r,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=cr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},up(s),e}function Nx(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hn,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Zy(e){if(!e)return Vi;e=e._reactInternals;e:{if(Tn(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var r=e.type;if(Ft(r))return Z0(e,r,t)}return t}function Jy(e,t,r,i,n,s,o,l,a){return e=Rp(r,i,!0,e,n,s,o,l,a),e.context=Zy(null),r=e.current,i=Tt(),n=$i(r),s=ni(i,n),s.callback=t??null,Mi(r,s,n),e.current.lanes=n,sl(e,n,i),zt(e,i),e}function Bc(e,t,r,i){var n=t.current,s=Tt(),o=$i(n);return r=Zy(r),t.context===null?t.context=r:t.pendingContext=r,t=ni(s,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Mi(n,t,o),e!==null&&(Rr(e,n,o,s),sa(e,n,o)),o}function Xa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function R_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Pp(e,t){R_(e,t),(e=e.alternate)&&R_(e,t)}function Ox(){return null}var eS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tp(e){this._internalRoot=e}$c.prototype.render=Tp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Bc(e,t,null,null)};$c.prototype.unmount=Tp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){Bc(null,e,null,null)}),t[oi]=null}};function $c(e){this._internalRoot=e}$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=A0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ki.length&&t!==0&&t<ki[r].priority;r++);ki.splice(r,0,e),r===0&&N0(e)}};function Lp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function P_(){}function Ix(e,t,r,i,n){if(n){if(typeof i=="function"){var s=i;i=function(){var c=Xa(o);s.call(c)}}var o=Jy(t,i,e,0,null,!1,!1,"",P_);return e._reactRootContainer=o,e[oi]=o.current,$o(e.nodeType===8?e.parentNode:e),Cn(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof i=="function"){var l=i;i=function(){var c=Xa(a);l.call(c)}}var a=Rp(e,0,!1,null,null,!1,!1,"",P_);return e._reactRootContainer=a,e[oi]=a.current,$o(e.nodeType===8?e.parentNode:e),Cn(function(){Bc(t,a,r,i)}),a}function zc(e,t,r,i,n){var s=r._reactRootContainer;if(s){var o=s;if(typeof n=="function"){var l=n;n=function(){var a=Xa(o);l.call(a)}}Bc(t,o,e,n)}else o=Ix(r,t,e,n,i);return Xa(o)}T0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=so(t.pendingLanes);r!==0&&(Yf(t,r|1),zt(t,He()),!(he&6)&&(gs=He()+500,Yi()))}break;case 13:Cn(function(){var i=li(e,1);if(i!==null){var n=Tt();Rr(i,e,1,n)}}),Pp(e,1)}};Xf=function(e){if(e.tag===13){var t=li(e,134217728);if(t!==null){var r=Tt();Rr(t,e,134217728,r)}Pp(e,134217728)}};L0=function(e){if(e.tag===13){var t=$i(e),r=li(e,t);if(r!==null){var i=Tt();Rr(r,e,t,i)}Pp(e,t)}};A0=function(){return me};D0=function(e,t){var r=me;try{return me=e,t()}finally{me=r}};Hh=function(e,t,r){switch(t){case"input":if(Oh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var n=Lc(i);if(!n)throw Error(z(90));c0(i),Oh(i,n)}}}break;case"textarea":h0(e,r);break;case"select":t=r.value,t!=null&&ts(e,!!r.multiple,t,!1)}};v0=bp;y0=Cn;var Mx={usingClientEntryPoint:!1,Events:[ll,Gn,Lc,_0,g0,bp]},qs={findFiberByHostInstance:cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bx={bundleType:qs.bundleType,version:qs.version,rendererPackageName:qs.rendererPackageName,rendererConfig:qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=C0(e),e===null?null:e.stateNode},findFiberByHostInstance:qs.findFiberByHostInstance||Ox,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bl.isDisabled&&Bl.supportsFiber)try{kc=Bl.inject(Bx),Vr=Bl}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mx;er.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lp(t))throw Error(z(200));return Nx(e,t,null,r)};er.createRoot=function(e,t){if(!Lp(e))throw Error(z(299));var r=!1,i="",n=eS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=Rp(e,1,!1,null,null,r,!1,i,n),e[oi]=t.current,$o(e.nodeType===8?e.parentNode:e),new Tp(t)};er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=C0(t),e=e===null?null:e.stateNode,e};er.flushSync=function(e){return Cn(e)};er.hydrate=function(e,t,r){if(!Fc(t))throw Error(z(200));return zc(null,e,t,!0,r)};er.hydrateRoot=function(e,t,r){if(!Lp(e))throw Error(z(405));var i=r!=null&&r.hydratedSources||null,n=!1,s="",o=eS;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Jy(t,null,e,1,r??null,n,!1,s,o),e[oi]=t.current,$o(e),i)for(e=0;e<i.length;e++)r=i[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new $c(t)};er.render=function(e,t,r){if(!Fc(t))throw Error(z(200));return zc(null,e,t,!1,r)};er.unmountComponentAtNode=function(e){if(!Fc(e))throw Error(z(40));return e._reactRootContainer?(Cn(function(){zc(null,null,e,!1,function(){e._reactRootContainer=null,e[oi]=null})}),!0):!1};er.unstable_batchedUpdates=bp;er.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Fc(r))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return zc(e,t,r,!1,i)};er.version="18.3.1-next-f1338f8080-20240426";function tS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tS)}catch(e){console.error(e)}}tS(),t0.exports=er;var Ps=t0.exports;const $x=Mf(Ps);var T_=Ps;Rh.createRoot=T_.createRoot,Rh.hydrateRoot=T_.hydrateRoot;/**
 * Copyright (c) 2014-2024 The xterm.js authors. All rights reserved.
 * @license MIT
 *
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * @license MIT
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 */var Fx=2,zx=1,Hx=class{activate(t){this._terminal=t}dispose(){}fit(){let t=this.proposeDimensions();if(!t||!this._terminal||isNaN(t.cols)||isNaN(t.rows))return;let r=this._terminal._core;(this._terminal.rows!==t.rows||this._terminal.cols!==t.cols)&&(r._renderService.clear(),this._terminal.resize(t.cols,t.rows))}proposeDimensions(){var d;if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;let t=this._terminal._core._renderService.dimensions;if(t.css.cell.width===0||t.css.cell.height===0)return;let r=this._terminal.options.scrollback===0?0:((d=this._terminal.options.overviewRuler)==null?void 0:d.width)||14,i=window.getComputedStyle(this._terminal.element.parentElement),n=parseInt(i.getPropertyValue("height")),s=Math.max(0,parseInt(i.getPropertyValue("width"))),o=window.getComputedStyle(this._terminal.element),l={top:parseInt(o.getPropertyValue("padding-top")),bottom:parseInt(o.getPropertyValue("padding-bottom")),right:parseInt(o.getPropertyValue("padding-right")),left:parseInt(o.getPropertyValue("padding-left"))},a=l.top+l.bottom,c=l.right+l.left,u=n-a,h=s-c-r;return{cols:Math.max(Fx,Math.floor(h/t.css.cell.width)),rows:Math.max(zx,Math.floor(u/t.css.cell.height))}}};/**
 * Copyright (c) 2014-2024 The xterm.js authors. All rights reserved.
 * @license MIT
 *
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * @license MIT
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 */var rS=Object.defineProperty,Wx=Object.getOwnPropertyDescriptor,Vx=(e,t)=>{for(var r in t)rS(e,r,{get:t[r],enumerable:!0})},Fe=(e,t,r,i)=>{for(var n=i>1?void 0:i?Wx(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(n=(i?o(t,r,n):o(n))||n);return i&&n&&rS(t,r,n),n},U=(e,t)=>(r,i)=>t(r,i,e),L_="Terminal input",Sd={get:()=>L_,set:e=>L_=e},A_="Too much output to announce, navigate to rows manually to read",wd={get:()=>A_,set:e=>A_=e};function jx(e){return e.replace(/\r?\n/g,"\r")}function Ux(e,t){return t?"\x1B[200~"+e+"\x1B[201~":e}function Gx(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()}function Kx(e,t,r,i){if(e.stopPropagation(),e.clipboardData){let n=e.clipboardData.getData("text/plain");iS(n,t,r,i)}}function iS(e,t,r,i){e=jx(e),e=Ux(e,r.decPrivateModes.bracketedPasteMode&&i.rawOptions.ignoreBracketedPasteMode!==!0),r.triggerDataEvent(e,!0),t.value=""}function nS(e,t,r){let i=r.getBoundingClientRect(),n=e.clientX-i.left-10,s=e.clientY-i.top-10;t.style.width="20px",t.style.height="20px",t.style.left=`${n}px`,t.style.top=`${s}px`,t.style.zIndex="1000",t.focus()}function D_(e,t,r,i,n){nS(e,t,r),n&&i.rightClickSelect(e),t.value=i.selectionText,t.select()}function xi(e){return e>65535?(e-=65536,String.fromCharCode((e>>10)+55296)+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)}function Hc(e,t=0,r=e.length){let i="";for(let n=t;n<r;++n){let s=e[n];s>65535?(s-=65536,i+=String.fromCharCode((s>>10)+55296)+String.fromCharCode(s%1024+56320)):i+=String.fromCharCode(s)}return i}var qx=class{constructor(){this._interim=0}clear(){this._interim=0}decode(e,t){let r=e.length;if(!r)return 0;let i=0,n=0;if(this._interim){let s=e.charCodeAt(n++);56320<=s&&s<=57343?t[i++]=(this._interim-55296)*1024+s-56320+65536:(t[i++]=this._interim,t[i++]=s),this._interim=0}for(let s=n;s<r;++s){let o=e.charCodeAt(s);if(55296<=o&&o<=56319){if(++s>=r)return this._interim=o,i;let l=e.charCodeAt(s);56320<=l&&l<=57343?t[i++]=(o-55296)*1024+l-56320+65536:(t[i++]=o,t[i++]=l);continue}o!==65279&&(t[i++]=o)}return i}},Yx=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(t,r){let i=t.length;if(!i)return 0;let n=0,s,o,l,a,c=0,u=0;if(this.interim[0]){let f=!1,p=this.interim[0];p&=(p&224)===192?31:(p&240)===224?15:7;let _=0,S;for(;(S=this.interim[++_]&63)&&_<4;)p<<=6,p|=S;let m=(this.interim[0]&224)===192?2:(this.interim[0]&240)===224?3:4,v=m-_;for(;u<v;){if(u>=i)return 0;if(S=t[u++],(S&192)!==128){u--,f=!0;break}else this.interim[_++]=S,p<<=6,p|=S&63}f||(m===2?p<128?u--:r[n++]=p:m===3?p<2048||p>=55296&&p<=57343||p===65279||(r[n++]=p):p<65536||p>1114111||(r[n++]=p)),this.interim.fill(0)}let h=i-4,d=u;for(;d<i;){for(;d<h&&!((s=t[d])&128)&&!((o=t[d+1])&128)&&!((l=t[d+2])&128)&&!((a=t[d+3])&128);)r[n++]=s,r[n++]=o,r[n++]=l,r[n++]=a,d+=4;if(s=t[d++],s<128)r[n++]=s;else if((s&224)===192){if(d>=i)return this.interim[0]=s,n;if(o=t[d++],(o&192)!==128){d--;continue}if(c=(s&31)<<6|o&63,c<128){d--;continue}r[n++]=c}else if((s&240)===224){if(d>=i)return this.interim[0]=s,n;if(o=t[d++],(o&192)!==128){d--;continue}if(d>=i)return this.interim[0]=s,this.interim[1]=o,n;if(l=t[d++],(l&192)!==128){d--;continue}if(c=(s&15)<<12|(o&63)<<6|l&63,c<2048||c>=55296&&c<=57343||c===65279)continue;r[n++]=c}else if((s&248)===240){if(d>=i)return this.interim[0]=s,n;if(o=t[d++],(o&192)!==128){d--;continue}if(d>=i)return this.interim[0]=s,this.interim[1]=o,n;if(l=t[d++],(l&192)!==128){d--;continue}if(d>=i)return this.interim[0]=s,this.interim[1]=o,this.interim[2]=l,n;if(a=t[d++],(a&192)!==128){d--;continue}if(c=(s&7)<<18|(o&63)<<12|(l&63)<<6|a&63,c<65536||c>1114111)continue;r[n++]=c}}return n}},sS="",Li=" ",cl=class oS{constructor(){this.fg=0,this.bg=0,this.extended=new Qa}static toColorRGB(t){return[t>>>16&255,t>>>8&255,t&255]}static fromColorRGB(t){return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255}clone(){let t=new oS;return t.fg=this.fg,t.bg=this.bg,t.extended=this.extended.clone(),t}isInverse(){return this.fg&67108864}isBold(){return this.fg&134217728}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:this.fg&268435456}isBlink(){return this.fg&536870912}isInvisible(){return this.fg&1073741824}isItalic(){return this.bg&67108864}isDim(){return this.bg&134217728}isStrikethrough(){return this.fg&2147483648}isProtected(){return this.bg&536870912}isOverline(){return this.bg&1073741824}getFgColorMode(){return this.fg&50331648}getBgColorMode(){return this.bg&50331648}isFgRGB(){return(this.fg&50331648)===50331648}isBgRGB(){return(this.bg&50331648)===50331648}isFgPalette(){return(this.fg&50331648)===16777216||(this.fg&50331648)===33554432}isBgPalette(){return(this.bg&50331648)===16777216||(this.bg&50331648)===33554432}isFgDefault(){return(this.fg&50331648)===0}isBgDefault(){return(this.bg&50331648)===0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(this.fg&50331648){case 16777216:case 33554432:return this.fg&255;case 50331648:return this.fg&16777215;default:return-1}}getBgColor(){switch(this.bg&50331648){case 16777216:case 33554432:return this.bg&255;case 50331648:return this.bg&16777215;default:return-1}}hasExtendedAttrs(){return this.bg&268435456}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(this.bg&268435456&&~this.extended.underlineColor)switch(this.extended.underlineColor&50331648){case 16777216:case 33554432:return this.extended.underlineColor&255;case 50331648:return this.extended.underlineColor&16777215;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return this.bg&268435456&&~this.extended.underlineColor?this.extended.underlineColor&50331648:this.getFgColorMode()}isUnderlineColorRGB(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===50331648:this.isFgRGB()}isUnderlineColorPalette(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===16777216||(this.extended.underlineColor&50331648)===33554432:this.isFgPalette()}isUnderlineColorDefault(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===0:this.isFgDefault()}getUnderlineStyle(){return this.fg&268435456?this.bg&268435456?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}},Qa=class lS{constructor(t=0,r=0){this._ext=0,this._urlId=0,this._ext=t,this._urlId=r}get ext(){return this._urlId?this._ext&-469762049|this.underlineStyle<<26:this._ext}set ext(t){this._ext=t}get underlineStyle(){return this._urlId?5:(this._ext&469762048)>>26}set underlineStyle(t){this._ext&=-469762049,this._ext|=t<<26&469762048}get underlineColor(){return this._ext&67108863}set underlineColor(t){this._ext&=-67108864,this._ext|=t&67108863}get urlId(){return this._urlId}set urlId(t){this._urlId=t}get underlineVariantOffset(){let t=(this._ext&3758096384)>>29;return t<0?t^4294967288:t}set underlineVariantOffset(t){this._ext&=536870911,this._ext|=t<<29&3758096384}clone(){return new lS(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}},dr=class aS extends cl{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new Qa,this.combinedData=""}static fromCharData(t){let r=new aS;return r.setFromCharData(t),r}isCombined(){return this.content&2097152}getWidth(){return this.content>>22}getChars(){return this.content&2097152?this.combinedData:this.content&2097151?xi(this.content&2097151):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):this.content&2097151}setFromCharData(t){this.fg=t[0],this.bg=0;let r=!1;if(t[1].length>2)r=!0;else if(t[1].length===2){let i=t[1].charCodeAt(0);if(55296<=i&&i<=56319){let n=t[1].charCodeAt(1);56320<=n&&n<=57343?this.content=(i-55296)*1024+n-56320+65536|t[2]<<22:r=!0}else r=!0}else this.content=t[1].charCodeAt(0)|t[2]<<22;r&&(this.combinedData=t[1],this.content=2097152|t[2]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},N_="di$target",Cd="di$dependencies",Vu=new Map;function Xx(e){return e[Cd]||[]}function at(e){if(Vu.has(e))return Vu.get(e);let t=function(r,i,n){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Qx(t,r,n)};return t._id=e,Vu.set(e,t),t}function Qx(e,t,r){t[N_]===t?t[Cd].push({id:e,index:r}):(t[Cd]=[{id:e,index:r}],t[N_]=t)}var Dt=at("BufferService"),cS=at("CoreMouseService"),Ts=at("CoreService"),Zx=at("CharsetService"),Ap=at("InstantiationService"),uS=at("LogService"),Nt=at("OptionsService"),hS=at("OscLinkService"),Jx=at("UnicodeService"),ul=at("DecorationService"),bd=class{constructor(e,t,r){this._bufferService=e,this._optionsService=t,this._oscLinkService=r}provideLinks(e,t){var u;let r=this._bufferService.buffer.lines.get(e-1);if(!r){t(void 0);return}let i=[],n=this._optionsService.rawOptions.linkHandler,s=new dr,o=r.getTrimmedLength(),l=-1,a=-1,c=!1;for(let h=0;h<o;h++)if(!(a===-1&&!r.hasContent(h))){if(r.loadCell(h,s),s.hasExtendedAttrs()&&s.extended.urlId)if(a===-1){a=h,l=s.extended.urlId;continue}else c=s.extended.urlId!==l;else a!==-1&&(c=!0);if(c||a!==-1&&h===o-1){let d=(u=this._oscLinkService.getLinkData(l))==null?void 0:u.uri;if(d){let f={start:{x:a+1,y:e},end:{x:h+(!c&&h===o-1?1:0),y:e}},p=!1;if(!(n!=null&&n.allowNonHttpProtocols))try{let _=new URL(d);["http:","https:"].includes(_.protocol)||(p=!0)}catch{p=!0}p||i.push({text:d,range:f,activate:(_,S)=>n?n.activate(_,S,f):ek(_,S),hover:(_,S)=>{var m;return(m=n==null?void 0:n.hover)==null?void 0:m.call(n,_,S,f)},leave:(_,S)=>{var m;return(m=n==null?void 0:n.leave)==null?void 0:m.call(n,_,S,f)}})}c=!1,s.hasExtendedAttrs()&&s.extended.urlId?(a=h,l=s.extended.urlId):(a=-1,l=-1)}}t(i)}};bd=Fe([U(0,Dt),U(1,Nt),U(2,hS)],bd);function ek(e,t){if(confirm(`Do you want to navigate to ${t}?

WARNING: This link could potentially be dangerous`)){let r=window.open();if(r){try{r.opener=null}catch{}r.location.href=t}else console.warn("Opening link blocked as opener could not be cleared")}}var Wc=at("CharSizeService"),di=at("CoreBrowserService"),Dp=at("MouseService"),fi=at("RenderService"),tk=at("SelectionService"),dS=at("CharacterJoinerService"),Ls=at("ThemeService"),fS=at("LinkProviderService"),rk=class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?O_.isErrorNoTelemetry(e)?new O_(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(t=>{t(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},ik=new rk;function da(e){nk(e)||ik.onUnexpectedError(e)}var Ed="Canceled";function nk(e){return e instanceof sk?!0:e instanceof Error&&e.name===Ed&&e.message===Ed}var sk=class extends Error{constructor(){super(Ed),this.name=this.message}};function ok(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}var O_=class xd extends Error{constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof xd)return t;let r=new xd;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},kd=class pS extends Error{constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,pS.prototype)}};function Wt(e,t=0){return e[e.length-(1+t)]}var lk;(e=>{function t(s){return s<0}e.isLessThan=t;function r(s){return s<=0}e.isLessThanOrEqual=r;function i(s){return s>0}e.isGreaterThan=i;function n(s){return s===0}e.isNeitherLessOrGreaterThan=n,e.greaterThan=1,e.lessThan=-1,e.neitherLessOrGreaterThan=0})(lk||(lk={}));function ak(e,t){let r=this,i=!1,n;return function(){if(i)return n;if(i=!0,t)try{n=e.apply(r,arguments)}finally{t()}else n=e.apply(r,arguments);return n}}var mS;(e=>{function t(w){return w&&typeof w=="object"&&typeof w[Symbol.iterator]=="function"}e.is=t;let r=Object.freeze([]);function i(){return r}e.empty=i;function*n(w){yield w}e.single=n;function s(w){return t(w)?w:n(w)}e.wrap=s;function o(w){return w||r}e.from=o;function*l(w){for(let b=w.length-1;b>=0;b--)yield w[b]}e.reverse=l;function a(w){return!w||w[Symbol.iterator]().next().done===!0}e.isEmpty=a;function c(w){return w[Symbol.iterator]().next().value}e.first=c;function u(w,b){let R=0;for(let x of w)if(b(x,R++))return!0;return!1}e.some=u;function h(w,b){for(let R of w)if(b(R))return R}e.find=h;function*d(w,b){for(let R of w)b(R)&&(yield R)}e.filter=d;function*f(w,b){let R=0;for(let x of w)yield b(x,R++)}e.map=f;function*p(w,b){let R=0;for(let x of w)yield*b(x,R++)}e.flatMap=p;function*_(...w){for(let b of w)yield*b}e.concat=_;function S(w,b,R){let x=R;for(let L of w)x=b(x,L);return x}e.reduce=S;function*m(w,b,R=w.length){for(b<0&&(b+=w.length),R<0?R+=w.length:R>w.length&&(R=w.length);b<R;b++)yield w[b]}e.slice=m;function v(w,b=Number.POSITIVE_INFINITY){let R=[];if(b===0)return[R,w];let x=w[Symbol.iterator]();for(let L=0;L<b;L++){let T=x.next();if(T.done)return[R,e.empty()];R.push(T.value)}return[R,{[Symbol.iterator](){return x}}]}e.consume=v;async function y(w){let b=[];for await(let R of w)b.push(R);return Promise.resolve(b)}e.asyncToArray=y})(mS||(mS={}));function bn(e){if(mS.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(i){t.push(i)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}function ck(...e){return Me(()=>bn(e))}function Me(e){return{dispose:ak(()=>{e()})}}var _S=class gS{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{bn(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?gS.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),void 0)}};_S.DISABLE_DISPOSED_WARNING=!1;var zi=_S,ne=class{constructor(){this._store=new zi,this._store}dispose(){this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}};ne.None=Object.freeze({dispose(){}});var vs=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||((t=this._value)==null||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,(e=this._value)==null||e.dispose(),this._value=void 0}clearAndLeak(){let e=this._value;return this._value=void 0,e}},ur=typeof window=="object"?window:globalThis,Rd=class Pd{constructor(t){this.element=t,this.next=Pd.Undefined,this.prev=Pd.Undefined}};Rd.Undefined=new Rd(void 0);var Ae=Rd,I_=class{constructor(){this._first=Ae.Undefined,this._last=Ae.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===Ae.Undefined}clear(){let e=this._first;for(;e!==Ae.Undefined;){let t=e.next;e.prev=Ae.Undefined,e.next=Ae.Undefined,e=t}this._first=Ae.Undefined,this._last=Ae.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let r=new Ae(e);if(this._first===Ae.Undefined)this._first=r,this._last=r;else if(t){let n=this._last;this._last=r,r.prev=n,n.next=r}else{let n=this._first;this._first=r,r.next=n,n.prev=r}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(r))}}shift(){if(this._first!==Ae.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Ae.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==Ae.Undefined&&e.next!==Ae.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Ae.Undefined&&e.next===Ae.Undefined?(this._first=Ae.Undefined,this._last=Ae.Undefined):e.next===Ae.Undefined?(this._last=this._last.prev,this._last.next=Ae.Undefined):e.prev===Ae.Undefined&&(this._first=this._first.next,this._first.prev=Ae.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Ae.Undefined;)yield e.element,e=e.next}},uk=globalThis.performance&&typeof globalThis.performance.now=="function",hk=class vS{static create(t){return new vS(t)}constructor(t){this._now=uk&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}},ft;(e=>{e.None=()=>ne.None;function t(A,P){return h(A,()=>{},0,void 0,!0,void 0,P)}e.defer=t;function r(A){return(P,O=null,$)=>{let I=!1,V;return V=A(k=>{if(!I)return V?V.dispose():I=!0,P.call(O,k)},null,$),I&&V.dispose(),V}}e.once=r;function i(A,P,O){return c(($,I=null,V)=>A(k=>$.call(I,P(k)),null,V),O)}e.map=i;function n(A,P,O){return c(($,I=null,V)=>A(k=>{P(k),$.call(I,k)},null,V),O)}e.forEach=n;function s(A,P,O){return c(($,I=null,V)=>A(k=>P(k)&&$.call(I,k),null,V),O)}e.filter=s;function o(A){return A}e.signal=o;function l(...A){return(P,O=null,$)=>{let I=ck(...A.map(V=>V(k=>P.call(O,k))));return u(I,$)}}e.any=l;function a(A,P,O,$){let I=O;return i(A,V=>(I=P(I,V),I),$)}e.reduce=a;function c(A,P){let O,$={onWillAddFirstListener(){O=A(I.fire,I)},onDidRemoveLastListener(){O==null||O.dispose()}},I=new W($);return P==null||P.add(I),I.event}function u(A,P){return P instanceof Array?P.push(A):P&&P.add(A),A}function h(A,P,O=100,$=!1,I=!1,V,k){let F,j,J,se=0,Se,ce={leakWarningThreshold:V,onWillAddFirstListener(){F=A(pe=>{se++,j=P(j,pe),$&&!J&&(Re.fire(j),j=void 0),Se=()=>{let q=j;j=void 0,J=void 0,(!$||se>1)&&Re.fire(q),se=0},typeof O=="number"?(clearTimeout(J),J=setTimeout(Se,O)):J===void 0&&(J=0,queueMicrotask(Se))})},onWillRemoveListener(){I&&se>0&&(Se==null||Se())},onDidRemoveLastListener(){Se=void 0,F.dispose()}},Re=new W(ce);return k==null||k.add(Re),Re.event}e.debounce=h;function d(A,P=0,O){return e.debounce(A,($,I)=>$?($.push(I),$):[I],P,void 0,!0,void 0,O)}e.accumulate=d;function f(A,P=($,I)=>$===I,O){let $=!0,I;return s(A,V=>{let k=$||!P(V,I);return $=!1,I=V,k},O)}e.latch=f;function p(A,P,O){return[e.filter(A,P,O),e.filter(A,$=>!P($),O)]}e.split=p;function _(A,P=!1,O=[],$){let I=O.slice(),V=A(j=>{I?I.push(j):F.fire(j)});$&&$.add(V);let k=()=>{I==null||I.forEach(j=>F.fire(j)),I=null},F=new W({onWillAddFirstListener(){V||(V=A(j=>F.fire(j)),$&&$.add(V))},onDidAddFirstListener(){I&&(P?setTimeout(k):k())},onDidRemoveLastListener(){V&&V.dispose(),V=null}});return $&&$.add(F),F.event}e.buffer=_;function S(A,P){return(O,$,I)=>{let V=P(new v);return A(function(k){let F=V.evaluate(k);F!==m&&O.call($,F)},void 0,I)}}e.chain=S;let m=Symbol("HaltChainable");class v{constructor(){this.steps=[]}map(P){return this.steps.push(P),this}forEach(P){return this.steps.push(O=>(P(O),O)),this}filter(P){return this.steps.push(O=>P(O)?O:m),this}reduce(P,O){let $=O;return this.steps.push(I=>($=P($,I),$)),this}latch(P=(O,$)=>O===$){let O=!0,$;return this.steps.push(I=>{let V=O||!P(I,$);return O=!1,$=I,V?I:m}),this}evaluate(P){for(let O of this.steps)if(P=O(P),P===m)break;return P}}function y(A,P,O=$=>$){let $=(...F)=>k.fire(O(...F)),I=()=>A.on(P,$),V=()=>A.removeListener(P,$),k=new W({onWillAddFirstListener:I,onDidRemoveLastListener:V});return k.event}e.fromNodeEventEmitter=y;function w(A,P,O=$=>$){let $=(...F)=>k.fire(O(...F)),I=()=>A.addEventListener(P,$),V=()=>A.removeEventListener(P,$),k=new W({onWillAddFirstListener:I,onDidRemoveLastListener:V});return k.event}e.fromDOMEventEmitter=w;function b(A){return new Promise(P=>r(A)(P))}e.toPromise=b;function R(A){let P=new W;return A.then(O=>{P.fire(O)},()=>{P.fire(void 0)}).finally(()=>{P.dispose()}),P.event}e.fromPromise=R;function x(A,P){return A(O=>P.fire(O))}e.forward=x;function L(A,P,O){return P(O),A($=>P($))}e.runAndSubscribe=L;class T{constructor(P,O){this._observable=P,this._counter=0,this._hasChanged=!1;let $={onWillAddFirstListener:()=>{P.addObserver(this)},onDidRemoveLastListener:()=>{P.removeObserver(this)}};this.emitter=new W($),O&&O.add(this.emitter)}beginUpdate(P){this._counter++}handlePossibleChange(P){}handleChange(P,O){this._hasChanged=!0}endUpdate(P){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function N(A,P){return new T(A,P).emitter.event}e.fromObservable=N;function D(A){return(P,O,$)=>{let I=0,V=!1,k={beginUpdate(){I++},endUpdate(){I--,I===0&&(A.reportChanges(),V&&(V=!1,P.call(O)))},handlePossibleChange(){},handleChange(){V=!0}};A.addObserver(k),A.reportChanges();let F={dispose(){A.removeObserver(k)}};return $ instanceof zi?$.add(F):Array.isArray($)&&$.push(F),F}}e.fromObservableLight=D})(ft||(ft={}));var Td=class Ld{constructor(t){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${t}_${Ld._idPool++}`,Ld.all.add(this)}start(t){this._stopWatch=new hk,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}};Td.all=new Set,Td._idPool=0;var dk=Td,fk=-1,yS=class SS{constructor(t,r,i=(SS._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t,this.threshold=r,this.name=i,this._warnCountdown=0}dispose(){var t;(t=this._stacks)==null||t.clear()}check(t,r){let i=this.threshold;if(i<=0||r<i)return;this._stacks||(this._stacks=new Map);let n=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,n+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=i*.5;let[s,o]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${o}):`;console.warn(l),console.warn(s);let a=new _k(l,s);this._errorHandler(a)}return()=>{let s=this._stacks.get(t.value)||0;this._stacks.set(t.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[i,n]of this._stacks)(!t||r<n)&&(t=[i,n],r=n);return t}};yS._idPool=1;var pk=yS,mk=class wS{constructor(t){this.value=t}static create(){let t=new Error;return new wS(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},_k=class extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}},gk=class extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}},vk=0,ju=class{constructor(e){this.value=e,this.id=vk++}},yk=2,Sk,W=class{constructor(t){var r,i,n,s;this._size=0,this._options=t,this._leakageMon=(r=this._options)!=null&&r.leakWarningThreshold?new pk((t==null?void 0:t.onListenerError)??da,((i=this._options)==null?void 0:i.leakWarningThreshold)??fk):void 0,this._perfMon=(n=this._options)!=null&&n._profName?new dk(this._options._profName):void 0,this._deliveryQueue=(s=this._options)==null?void 0:s.deliveryQueue}dispose(){var t,r,i,n;this._disposed||(this._disposed=!0,((t=this._deliveryQueue)==null?void 0:t.current)===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),(i=(r=this._options)==null?void 0:r.onDidRemoveLastListener)==null||i.call(r),(n=this._leakageMon)==null||n.dispose())}get event(){return this._event??(this._event=(t,r,i)=>{var l,a,c,u,h;if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let d=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(d);let f=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],p=new gk(`${d}. HINT: Stack shows most frequent listener (${f[1]}-times)`,f[0]);return(((l=this._options)==null?void 0:l.onListenerError)||da)(p),ne.None}if(this._disposed)return ne.None;r&&(t=t.bind(r));let n=new ju(t),s;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(n.stack=mk.create(),s=this._leakageMon.check(n.stack,this._size+1)),this._listeners?this._listeners instanceof ju?(this._deliveryQueue??(this._deliveryQueue=new wk),this._listeners=[this._listeners,n]):this._listeners.push(n):((c=(a=this._options)==null?void 0:a.onWillAddFirstListener)==null||c.call(a,this),this._listeners=n,(h=(u=this._options)==null?void 0:u.onDidAddFirstListener)==null||h.call(u,this)),this._size++;let o=Me(()=>{s==null||s(),this._removeListener(n)});return i instanceof zi?i.add(o):Array.isArray(i)&&i.push(o),o}),this._event}_removeListener(t){var s,o,l,a;if((o=(s=this._options)==null?void 0:s.onWillRemoveListener)==null||o.call(s,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(a=(l=this._options)==null?void 0:l.onDidRemoveLastListener)==null||a.call(l,this),this._size=0;return}let r=this._listeners,i=r.indexOf(t);if(i===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[i]=void 0;let n=this._deliveryQueue.current===this;if(this._size*yk<=r.length){let c=0;for(let u=0;u<r.length;u++)r[u]?r[c++]=r[u]:n&&(this._deliveryQueue.end--,c<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=c}}_deliver(t,r){var n;if(!t)return;let i=((n=this._options)==null?void 0:n.onListenerError)||da;if(!i){t.value(r);return}try{t.value(r)}catch(s){i(s)}}_deliverQueue(t){let r=t.current._listeners;for(;t.i<t.end;)this._deliver(r[t.i++],t.value);t.reset()}fire(t){var r,i,n,s;if((r=this._deliveryQueue)!=null&&r.current&&(this._deliverQueue(this._deliveryQueue),(i=this._perfMon)==null||i.stop()),(n=this._perfMon)==null||n.start(this._size),this._listeners)if(this._listeners instanceof ju)this._deliver(this._listeners,t);else{let o=this._deliveryQueue;o.enqueue(this,t,this._listeners.length),this._deliverQueue(o)}(s=this._perfMon)==null||s.stop()}hasListeners(){return this._size>0}},wk=class{constructor(){this.i=-1,this.end=0}enqueue(e,t,r){this.i=0,this.end=r,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}},Ad=class{constructor(){this.mapWindowIdToZoomLevel=new Map,this._onDidChangeZoomLevel=new W,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this.mapWindowIdToZoomFactor=new Map,this._onDidChangeFullscreen=new W,this.onDidChangeFullscreen=this._onDidChangeFullscreen.event,this.mapWindowIdToFullScreen=new Map}getZoomLevel(t){return this.mapWindowIdToZoomLevel.get(this.getWindowId(t))??0}setZoomLevel(t,r){if(this.getZoomLevel(r)===t)return;let i=this.getWindowId(r);this.mapWindowIdToZoomLevel.set(i,t),this._onDidChangeZoomLevel.fire(i)}getZoomFactor(t){return this.mapWindowIdToZoomFactor.get(this.getWindowId(t))??1}setZoomFactor(t,r){this.mapWindowIdToZoomFactor.set(this.getWindowId(r),t)}setFullscreen(t,r){if(this.isFullscreen(r)===t)return;let i=this.getWindowId(r);this.mapWindowIdToFullScreen.set(i,t),this._onDidChangeFullscreen.fire(i)}isFullscreen(t){return!!this.mapWindowIdToFullScreen.get(this.getWindowId(t))}getWindowId(t){return t.vscodeWindowId}};Ad.INSTANCE=new Ad;var Np=Ad;function Ck(e,t,r){typeof t=="string"&&(t=e.matchMedia(t)),t.addEventListener("change",r)}Np.INSTANCE.onDidChangeZoomLevel;function bk(e){return Np.INSTANCE.getZoomFactor(e)}Np.INSTANCE.onDidChangeFullscreen;var As=typeof navigator=="object"?navigator.userAgent:"",Dd=As.indexOf("Firefox")>=0,fa=As.indexOf("AppleWebKit")>=0,Op=As.indexOf("Chrome")>=0,CS=!Op&&As.indexOf("Safari")>=0;As.indexOf("Electron/")>=0;As.indexOf("Android")>=0;var pa=!1;if(typeof ur.matchMedia=="function"){let e=ur.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),t=ur.matchMedia("(display-mode: fullscreen)");pa=e.matches,Ck(ur,e,({matches:r})=>{pa&&t.matches||(pa=r)})}function Ek(){return pa}var Jn="en",Nd=!1,Od=!1,ma=!1,bS=!1,$l,_a=Jn,M_=Jn,xk,gr,gn=globalThis,dt,zv;typeof gn.vscode<"u"&&typeof gn.vscode.process<"u"?dt=gn.vscode.process:typeof process<"u"&&typeof((zv=process==null?void 0:process.versions)==null?void 0:zv.node)=="string"&&(dt=process);var Hv,kk=typeof((Hv=dt==null?void 0:dt.versions)==null?void 0:Hv.electron)=="string",Rk=kk&&(dt==null?void 0:dt.type)==="renderer",Wv;if(typeof dt=="object"){Nd=dt.platform==="win32",Od=dt.platform==="darwin",ma=dt.platform==="linux",ma&&dt.env.SNAP&&dt.env.SNAP_REVISION,dt.env.CI||dt.env.BUILD_ARTIFACTSTAGINGDIRECTORY,$l=Jn,_a=Jn;let e=dt.env.VSCODE_NLS_CONFIG;if(e)try{let t=JSON.parse(e);$l=t.userLocale,M_=t.osLocale,_a=t.resolvedLanguage||Jn,xk=(Wv=t.languagePack)==null?void 0:Wv.translationsConfigFile}catch{}bS=!0}else typeof navigator=="object"&&!Rk?(gr=navigator.userAgent,Nd=gr.indexOf("Windows")>=0,Od=gr.indexOf("Macintosh")>=0,(gr.indexOf("Macintosh")>=0||gr.indexOf("iPad")>=0||gr.indexOf("iPhone")>=0)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0,ma=gr.indexOf("Linux")>=0,(gr==null?void 0:gr.indexOf("Mobi"))>=0,_a=globalThis._VSCODE_NLS_LANGUAGE||Jn,$l=navigator.language.toLowerCase(),M_=$l):console.error("Unable to resolve platform.");var ES=Nd,Ur=Od,Pk=ma,Uu=bS,Kr=gr,gi=_a,Tk;(e=>{function t(){return gi}e.value=t;function r(){return gi.length===2?gi==="en":gi.length>=3?gi[0]==="e"&&gi[1]==="n"&&gi[2]==="-":!1}e.isDefaultVariant=r;function i(){return gi==="en"}e.isDefault=i})(Tk||(Tk={}));var Lk=typeof gn.postMessage=="function"&&!gn.importScripts;(()=>{if(Lk){let e=[];gn.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let i=0,n=e.length;i<n;i++){let s=e[i];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(i,1),s.callback();return}}});let t=0;return r=>{let i=++t;e.push({id:i,callback:r}),gn.postMessage({vscodeScheduleAsyncWork:i},"*")}}return e=>setTimeout(e)})();var Ak=!!(Kr&&Kr.indexOf("Chrome")>=0);Kr&&Kr.indexOf("Firefox")>=0;!Ak&&Kr&&Kr.indexOf("Safari")>=0;Kr&&Kr.indexOf("Edg/")>=0;Kr&&Kr.indexOf("Android")>=0;var vi=typeof navigator=="object"?navigator:{};Uu||document.queryCommandSupported&&document.queryCommandSupported("copy")||vi&&vi.clipboard&&vi.clipboard.writeText,Uu||vi&&vi.clipboard&&vi.clipboard.readText,Uu||Ek()||vi.keyboard,"ontouchstart"in ur||vi.maxTouchPoints>0,ur.PointerEvent&&("ontouchstart"in ur||navigator.maxTouchPoints>0);var Ip=class{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}},Gu=new Ip,B_=new Ip,$_=new Ip,Dk=new Array(230),xS;(e=>{function t(l){return Gu.keyCodeToStr(l)}e.toString=t;function r(l){return Gu.strToKeyCode(l)}e.fromString=r;function i(l){return B_.keyCodeToStr(l)}e.toUserSettingsUS=i;function n(l){return $_.keyCodeToStr(l)}e.toUserSettingsGeneral=n;function s(l){return B_.strToKeyCode(l)||$_.strToKeyCode(l)}e.fromUserSettings=s;function o(l){if(l>=98&&l<=113)return null;switch(l){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Gu.keyCodeToStr(l)}e.toElectronAccelerator=o})(xS||(xS={}));var Nk=class kS{constructor(t,r,i,n,s){this.ctrlKey=t,this.shiftKey=r,this.altKey=i,this.metaKey=n,this.keyCode=s}equals(t){return t instanceof kS&&this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode}getHashCode(){let t=this.ctrlKey?"1":"0",r=this.shiftKey?"1":"0",i=this.altKey?"1":"0",n=this.metaKey?"1":"0";return`K${t}${r}${i}${n}${this.keyCode}`}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toKeybinding(){return new Ok([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}},Ok=class{constructor(e){if(e.length===0)throw ok("chords");this.chords=e}getHashCode(){let e="";for(let t=0,r=this.chords.length;t<r;t++)t!==0&&(e+=";"),e+=this.chords[t].getHashCode();return e}equals(e){if(e===null||this.chords.length!==e.chords.length)return!1;for(let t=0;t<this.chords.length;t++)if(!this.chords[t].equals(e.chords[t]))return!1;return!0}};function Ik(e){if(e.charCode){let r=String.fromCharCode(e.charCode).toUpperCase();return xS.fromString(r)}let t=e.keyCode;if(t===3)return 7;if(Dd)switch(t){case 59:return 85;case 60:if(Pk)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(Ur)return 57;break}else if(fa&&(Ur&&t===93||!Ur&&t===92))return 57;return Dk[t]||0}var Mk=Ur?256:2048,Bk=512,$k=1024,Fk=Ur?2048:256,Id=class{constructor(e){var r;this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=(r=t.getModifierState)==null?void 0:r.call(t,"AltGraph"),this.keyCode=Ik(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=Mk),this.altKey&&(t|=Bk),this.shiftKey&&(t|=$k),this.metaKey&&(t|=Fk),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new Nk(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}},F_=new WeakMap;function zk(e){if(!e.parent||e.parent===e)return null;try{let t=e.location,r=e.parent.location;if(t.origin!=="null"&&r.origin!=="null"&&t.origin!==r.origin)return null}catch{return null}return e.parent}var Hk=class{static getSameOriginWindowChain(e){let t=F_.get(e);if(!t){t=[],F_.set(e,t);let r=e,i;do i=zk(r),i?t.push({window:new WeakRef(r),iframeElement:r.frameElement||null}):t.push({window:new WeakRef(r),iframeElement:null}),r=i;while(r)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let r=0,i=0,n=this.getSameOriginWindowChain(e);for(let s of n){let o=s.window.deref();if(r+=(o==null?void 0:o.scrollY)??0,i+=(o==null?void 0:o.scrollX)??0,o===t||!s.iframeElement)break;let l=s.iframeElement.getBoundingClientRect();r+=l.top,i+=l.left}return{top:r,left:i}}},lo=class{constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);let r=Hk.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=r.left,this.posy-=r.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}},z_=class{constructor(e,t=0,r=0){var n;this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=r,this.deltaX=t;let i=!1;if(Op){let s=navigator.userAgent.match(/Chrome\/(\d+)/);i=(s?parseInt(s[1]):123)<=122}if(e){let s=e,o=e,l=((n=e.view)==null?void 0:n.devicePixelRatio)||1;if(typeof s.wheelDeltaY<"u")i?this.deltaY=s.wheelDeltaY/(120*l):this.deltaY=s.wheelDeltaY/120;else if(typeof o.VERTICAL_AXIS<"u"&&o.axis===o.VERTICAL_AXIS)this.deltaY=-o.detail/3;else if(e.type==="wheel"){let a=e;a.deltaMode===a.DOM_DELTA_LINE?Dd&&!Ur?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof s.wheelDeltaX<"u")CS&&ES?this.deltaX=-(s.wheelDeltaX/120):i?this.deltaX=s.wheelDeltaX/(120*l):this.deltaX=s.wheelDeltaX/120;else if(typeof o.HORIZONTAL_AXIS<"u"&&o.axis===o.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){let a=e;a.deltaMode===a.DOM_DELTA_LINE?Dd&&!Ur?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(i?this.deltaY=e.wheelDelta/(120*l):this.deltaY=e.wheelDelta/120)}}preventDefault(){var e;(e=this.browserEvent)==null||e.preventDefault()}stopPropagation(){var e;(e=this.browserEvent)==null||e.stopPropagation()}},RS=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),Wk;(e=>{function t(r){return r===e.None||r===e.Cancelled||r instanceof Vk?!0:!r||typeof r!="object"?!1:typeof r.isCancellationRequested=="boolean"&&typeof r.onCancellationRequested=="function"}e.isCancellationToken=t,e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ft.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:RS})})(Wk||(Wk={}));var Vk=class{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?RS:(this._emitter||(this._emitter=new W),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},Mp=class{constructor(e,t){this._isDisposed=!1,this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){if(this._isDisposed)throw new kd("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){if(this._isDisposed)throw new kd("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}},jk=class{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){var e;(e=this.disposable)==null||e.dispose(),this.disposable=void 0}cancelAndSet(e,t,r=globalThis){if(this.isDisposed)throw new kd("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();let i=r.setInterval(()=>{e()},t);this.disposable=Me(()=>{r.clearInterval(i),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}},Uk;(e=>{async function t(i){let n,s=await Promise.all(i.map(o=>o.then(l=>l,l=>{n||(n=l)})));if(typeof n<"u")throw n;return s}e.settled=t;function r(i){return new Promise(async(n,s)=>{try{await i(n,s)}catch(o){s(o)}})}e.withAsyncBody=r})(Uk||(Uk={}));var H_=class nr{static fromArray(t){return new nr(r=>{r.emitMany(t)})}static fromPromise(t){return new nr(async r=>{r.emitMany(await t)})}static fromPromises(t){return new nr(async r=>{await Promise.all(t.map(async i=>r.emitOne(await i)))})}static merge(t){return new nr(async r=>{await Promise.all(t.map(async i=>{for await(let n of i)r.emitOne(n)}))})}constructor(t,r){this._state=0,this._results=[],this._error=null,this._onReturn=r,this._onStateChanged=new W,queueMicrotask(async()=>{let i={emitOne:n=>this.emitOne(n),emitMany:n=>this.emitMany(n),reject:n=>this.reject(n)};try{await Promise.resolve(t(i)),this.resolve()}catch(n){this.reject(n)}finally{i.emitOne=void 0,i.emitMany=void 0,i.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};await ft.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>{var r;return(r=this._onReturn)==null||r.call(this),{done:!0,value:void 0}}}}static map(t,r){return new nr(async i=>{for await(let n of t)i.emitOne(r(n))})}map(t){return nr.map(this,t)}static filter(t,r){return new nr(async i=>{for await(let n of t)r(n)&&i.emitOne(n)})}filter(t){return nr.filter(this,t)}static coalesce(t){return nr.filter(t,r=>!!r)}coalesce(){return nr.coalesce(this)}static async toPromise(t){let r=[];for await(let i of t)r.push(i);return r}toPromise(){return nr.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}};H_.EMPTY=H_.fromArray([]);var{registerWindow:D3,getWindow:Er,getDocument:N3,getWindows:O3,getWindowsCount:I3,getWindowId:Gk,getWindowById:M3,hasWindow:B3,onDidRegisterWindow:Kk,onWillUnregisterWindow:$3,onDidUnregisterWindow:F3}=function(){let e=new Map,t={window:ur,disposables:new zi};e.set(ur.vscodeWindowId,t);let r=new W,i=new W,n=new W;function s(o,l){return(typeof o=="number"?e.get(o):void 0)??(l?t:void 0)}return{onDidRegisterWindow:r.event,onWillUnregisterWindow:n.event,onDidUnregisterWindow:i.event,registerWindow(o){if(e.has(o.vscodeWindowId))return ne.None;let l=new zi,a={window:o,disposables:l.add(new zi)};return e.set(o.vscodeWindowId,a),l.add(Me(()=>{e.delete(o.vscodeWindowId),i.fire(o)})),l.add(X(o,rt.BEFORE_UNLOAD,()=>{n.fire(o)})),r.fire(a),l},getWindows(){return e.values()},getWindowsCount(){return e.size},getWindowId(o){return o.vscodeWindowId},hasWindow(o){return e.has(o)},getWindowById:s,getWindow(o){var c;let l=o;if((c=l==null?void 0:l.ownerDocument)!=null&&c.defaultView)return l.ownerDocument.defaultView.window;let a=o;return a!=null&&a.view?a.view.window:ur},getDocument(o){return Er(o).document}}}(),qk=class{constructor(e,t,r,i){this._node=e,this._type=t,this._handler=r,this._options=i||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};function X(e,t,r,i){return new qk(e,t,r,i)}function Yk(e,t){return function(r){return t(new lo(e,r))}}function Xk(e){return function(t){return e(new Id(t))}}var W_=function(e,t,r,i){let n=r;return t==="click"||t==="mousedown"||t==="contextmenu"?n=Yk(Er(e),r):(t==="keydown"||t==="keypress"||t==="keyup")&&(n=Xk(r)),X(e,t,n,i)},Bp,Qk=class extends jk{constructor(e){super(),this.defaultTarget=e&&Er(e)}cancelAndSet(e,t,r){return super.cancelAndSet(e,t,r??this.defaultTarget)}},V_=class{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){da(e)}}static sort(e,t){return t.priority-e.priority}};(function(){let e=new Map,t=new Map,r=new Map,i=new Map,n=s=>{r.set(s,!1);let o=e.get(s)??[];for(t.set(s,o),e.set(s,[]),i.set(s,!0);o.length>0;)o.sort(V_.sort),o.shift().execute();i.set(s,!1)};Bp=(s,o,l=0)=>{let a=Gk(s),c=new V_(o,l),u=e.get(a);return u||(u=[],e.set(a,u)),u.push(c),r.get(a)||(r.set(a,!0),s.requestAnimationFrame(()=>n(a))),c}})();function Zk(e){let t=e.getBoundingClientRect(),r=Er(e);return{left:t.left+r.scrollX,top:t.top+r.scrollY,width:t.width,height:t.height}}var rt={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:fa?"webkitAnimationStart":"animationstart",ANIMATION_END:fa?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:fa?"webkitAnimationIteration":"animationiteration"},Jk=class{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingTop="",this._paddingLeft="",this._paddingBottom="",this._paddingRight="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){let t=Ot(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){let t=Ot(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){let t=Ot(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){let t=Ot(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){let t=Ot(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){let t=Ot(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){let t=Ot(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingTop(e){let t=Ot(e);this._paddingTop!==t&&(this._paddingTop=t,this.domNode.style.paddingTop=this._paddingTop)}setPaddingLeft(e){let t=Ot(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setPaddingBottom(e){let t=Ot(e);this._paddingBottom!==t&&(this._paddingBottom=t,this.domNode.style.paddingBottom=this._paddingBottom)}setPaddingRight(e){let t=Ot(e);this._paddingRight!==t&&(this._paddingRight=t,this.domNode.style.paddingRight=this._paddingRight)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){let t=Ot(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){let t=Ot(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){let t=Ot(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}};function Ot(e){return typeof e=="number"?`${e}px`:e}function Ro(e){return new Jk(e)}var PS=class{constructor(){this._hooks=new zi,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;let r=this._onStopCallback;this._onStopCallback=null,e&&r&&r(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,r,i,n){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=i,this._onStopCallback=n;let s=e;try{e.setPointerCapture(t),this._hooks.add(Me(()=>{try{e.releasePointerCapture(t)}catch{}}))}catch{s=Er(e)}this._hooks.add(X(s,rt.POINTER_MOVE,o=>{if(o.buttons!==r){this.stopMonitoring(!0);return}o.preventDefault(),this._pointerMoveCallback(o)})),this._hooks.add(X(s,rt.POINTER_UP,o=>this.stopMonitoring(!0)))}};function e2(e,t,r){let i=null,n=null;if(typeof r.value=="function"?(i="value",n=r.value,n.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof r.get=="function"&&(i="get",n=r.get),!n)throw new Error("not supported");let s=`$memoize$${t}`;r[i]=function(...o){return this.hasOwnProperty(s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:n.apply(this,o)}),this[s]}}var Ir;(e=>(e.Tap="-xterm-gesturetap",e.Change="-xterm-gesturechange",e.Start="-xterm-gesturestart",e.End="-xterm-gesturesend",e.Contextmenu="-xterm-gesturecontextmenu"))(Ir||(Ir={}));var ao=class St extends ne{constructor(){super(),this.dispatched=!1,this.targets=new I_,this.ignoreTargets=new I_,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(ft.runAndSubscribe(Kk,({window:t,disposables:r})=>{r.add(X(t.document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),r.add(X(t.document,"touchend",i=>this.onTouchEnd(t,i))),r.add(X(t.document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))},{window:ur,disposables:this._store}))}static addTarget(t){if(!St.isTouchDevice())return ne.None;St.INSTANCE||(St.INSTANCE=new St);let r=St.INSTANCE.targets.push(t);return Me(r)}static ignoreTarget(t){if(!St.isTouchDevice())return ne.None;St.INSTANCE||(St.INSTANCE=new St);let r=St.INSTANCE.ignoreTargets.push(t);return Me(r)}static isTouchDevice(){return"ontouchstart"in ur||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(t){let r=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=t.targetTouches.length;i<n;i++){let s=t.targetTouches.item(i);this.activeTouches[s.identifier]={id:s.identifier,initialTarget:s.target,initialTimeStamp:r,initialPageX:s.pageX,initialPageY:s.pageY,rollingTimestamps:[r],rollingPageX:[s.pageX],rollingPageY:[s.pageY]};let o=this.newGestureEvent(Ir.Start,s.target);o.pageX=s.pageX,o.pageY=s.pageY,this.dispatchEvent(o)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}onTouchEnd(t,r){let i=Date.now(),n=Object.keys(this.activeTouches).length;for(let s=0,o=r.changedTouches.length;s<o;s++){let l=r.changedTouches.item(s);if(!this.activeTouches.hasOwnProperty(String(l.identifier))){console.warn("move of an UNKNOWN touch",l);continue}let a=this.activeTouches[l.identifier],c=Date.now()-a.initialTimeStamp;if(c<St.HOLD_DELAY&&Math.abs(a.initialPageX-Wt(a.rollingPageX))<30&&Math.abs(a.initialPageY-Wt(a.rollingPageY))<30){let u=this.newGestureEvent(Ir.Tap,a.initialTarget);u.pageX=Wt(a.rollingPageX),u.pageY=Wt(a.rollingPageY),this.dispatchEvent(u)}else if(c>=St.HOLD_DELAY&&Math.abs(a.initialPageX-Wt(a.rollingPageX))<30&&Math.abs(a.initialPageY-Wt(a.rollingPageY))<30){let u=this.newGestureEvent(Ir.Contextmenu,a.initialTarget);u.pageX=Wt(a.rollingPageX),u.pageY=Wt(a.rollingPageY),this.dispatchEvent(u)}else if(n===1){let u=Wt(a.rollingPageX),h=Wt(a.rollingPageY),d=Wt(a.rollingTimestamps)-a.rollingTimestamps[0],f=u-a.rollingPageX[0],p=h-a.rollingPageY[0],_=[...this.targets].filter(S=>a.initialTarget instanceof Node&&S.contains(a.initialTarget));this.inertia(t,_,i,Math.abs(f)/d,f>0?1:-1,u,Math.abs(p)/d,p>0?1:-1,h)}this.dispatchEvent(this.newGestureEvent(Ir.End,a.initialTarget)),delete this.activeTouches[l.identifier]}this.dispatched&&(r.preventDefault(),r.stopPropagation(),this.dispatched=!1)}newGestureEvent(t,r){let i=document.createEvent("CustomEvent");return i.initEvent(t,!1,!0),i.initialTarget=r,i.tapCount=0,i}dispatchEvent(t){if(t.type===Ir.Tap){let r=new Date().getTime(),i=0;r-this._lastSetTapCountTime>St.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=r,t.tapCount=i}else(t.type===Ir.Change||t.type===Ir.Contextmenu)&&(this._lastSetTapCountTime=0);if(t.initialTarget instanceof Node){for(let i of this.ignoreTargets)if(i.contains(t.initialTarget))return;let r=[];for(let i of this.targets)if(i.contains(t.initialTarget)){let n=0,s=t.initialTarget;for(;s&&s!==i;)n++,s=s.parentElement;r.push([n,i])}r.sort((i,n)=>i[0]-n[0]);for(let[i,n]of r)n.dispatchEvent(t),this.dispatched=!0}}inertia(t,r,i,n,s,o,l,a,c){this.handle=Bp(t,()=>{let u=Date.now(),h=u-i,d=0,f=0,p=!0;n+=St.SCROLL_FRICTION*h,l+=St.SCROLL_FRICTION*h,n>0&&(p=!1,d=s*n*h),l>0&&(p=!1,f=a*l*h);let _=this.newGestureEvent(Ir.Change);_.translationX=d,_.translationY=f,r.forEach(S=>S.dispatchEvent(_)),p||this.inertia(t,r,u,n,s,o+d,l,a,c+f)})}onTouchMove(t){let r=Date.now();for(let i=0,n=t.changedTouches.length;i<n;i++){let s=t.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("end of an UNKNOWN touch",s);continue}let o=this.activeTouches[s.identifier],l=this.newGestureEvent(Ir.Change,o.initialTarget);l.translationX=s.pageX-Wt(o.rollingPageX),l.translationY=s.pageY-Wt(o.rollingPageY),l.pageX=s.pageX,l.pageY=s.pageY,this.dispatchEvent(l),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(s.pageX),o.rollingPageY.push(s.pageY),o.rollingTimestamps.push(r)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}};ao.SCROLL_FRICTION=-.005,ao.HOLD_DELAY=700,ao.CLEAR_TAP_COUNT_TIME=400,Fe([e2],ao,"isTouchDevice",1);var t2=ao,$p=class extends ne{onclick(e,t){this._register(X(e,rt.CLICK,r=>t(new lo(Er(e),r))))}onmousedown(e,t){this._register(X(e,rt.MOUSE_DOWN,r=>t(new lo(Er(e),r))))}onmouseover(e,t){this._register(X(e,rt.MOUSE_OVER,r=>t(new lo(Er(e),r))))}onmouseleave(e,t){this._register(X(e,rt.MOUSE_LEAVE,r=>t(new lo(Er(e),r))))}onkeydown(e,t){this._register(X(e,rt.KEY_DOWN,r=>t(new Id(r))))}onkeyup(e,t){this._register(X(e,rt.KEY_UP,r=>t(new Id(r))))}oninput(e,t){this._register(X(e,rt.INPUT,t))}onblur(e,t){this._register(X(e,rt.BLUR,t))}onfocus(e,t){this._register(X(e,rt.FOCUS,t))}onchange(e,t){this._register(X(e,rt.CHANGE,t))}ignoreGesture(e){return t2.ignoreTarget(e)}},j_=11,r2=class extends $p{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.style.position="absolute",this.domNode.style.width=j_+"px",this.domNode.style.height=j_+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new PS),this._register(W_(this.bgDomNode,rt.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(W_(this.domNode,rt.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new Qk),this._pointerdownScheduleRepeatTimer=this._register(new Mp)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,Er(e))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,r=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}},i2=class Md{constructor(t,r,i,n,s,o,l){this._forceIntegerValues=t,this._scrollStateBrand=void 0,this._forceIntegerValues&&(r=r|0,i=i|0,n=n|0,s=s|0,o=o|0,l=l|0),this.rawScrollLeft=n,this.rawScrollTop=l,r<0&&(r=0),n+r>i&&(n=i-r),n<0&&(n=0),s<0&&(s=0),l+s>o&&(l=o-s),l<0&&(l=0),this.width=r,this.scrollWidth=i,this.scrollLeft=n,this.height=s,this.scrollHeight=o,this.scrollTop=l}equals(t){return this.rawScrollLeft===t.rawScrollLeft&&this.rawScrollTop===t.rawScrollTop&&this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop}withScrollDimensions(t,r){return new Md(this._forceIntegerValues,typeof t.width<"u"?t.width:this.width,typeof t.scrollWidth<"u"?t.scrollWidth:this.scrollWidth,r?this.rawScrollLeft:this.scrollLeft,typeof t.height<"u"?t.height:this.height,typeof t.scrollHeight<"u"?t.scrollHeight:this.scrollHeight,r?this.rawScrollTop:this.scrollTop)}withScrollPosition(t){return new Md(this._forceIntegerValues,this.width,this.scrollWidth,typeof t.scrollLeft<"u"?t.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof t.scrollTop<"u"?t.scrollTop:this.rawScrollTop)}createScrollEvent(t,r){let i=this.width!==t.width,n=this.scrollWidth!==t.scrollWidth,s=this.scrollLeft!==t.scrollLeft,o=this.height!==t.height,l=this.scrollHeight!==t.scrollHeight,a=this.scrollTop!==t.scrollTop;return{inSmoothScrolling:r,oldWidth:t.width,oldScrollWidth:t.scrollWidth,oldScrollLeft:t.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:t.height,oldScrollHeight:t.scrollHeight,oldScrollTop:t.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:n,scrollLeftChanged:s,heightChanged:o,scrollHeightChanged:l,scrollTopChanged:a}}},n2=class extends ne{constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new W),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new i2(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){var i;let r=this._state.withScrollDimensions(e,t);this._setState(r,!!this._smoothScrolling),(i=this._smoothScrolling)==null||i.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){let t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};let r=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===r.scrollLeft&&this._smoothScrolling.to.scrollTop===r.scrollTop)return;let i;t?i=new G_(this._smoothScrolling.from,r,this._smoothScrolling.startTime,this._smoothScrolling.duration):i=this._smoothScrolling.combine(this._state,r,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=i}else{let r=this._state.withScrollPosition(e);this._smoothScrolling=G_.start(this._state,r,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;let e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){let r=this._state;r.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(r,t)))}},U_=class{constructor(e,t,r){this.scrollLeft=e,this.scrollTop=t,this.isDone=r}};function Ku(e,t){let r=t-e;return function(i){return e+r*l2(i)}}function s2(e,t,r){return function(i){return i<r?e(i/r):t((i-r)/(1-r))}}var G_=class Bd{constructor(t,r,i,n){this.from=t,this.to=r,this.duration=n,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(t,r,i){if(Math.abs(t-r)>2.5*i){let n,s;return t<r?(n=t+.75*i,s=r-.75*i):(n=t-.75*i,s=r+.75*i),s2(Ku(t,n),Ku(s,r),.33)}return Ku(t,r)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(t){this.to=t.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(t){let r=(t-this.startTime)/this.duration;if(r<1){let i=this.scrollLeft(r),n=this.scrollTop(r);return new U_(i,n,!1)}return new U_(this.to.scrollLeft,this.to.scrollTop,!0)}combine(t,r,i){return Bd.start(t,r,i)}static start(t,r,i){i=i+10;let n=Date.now()-10;return new Bd(t,r,n,i)}};function o2(e){return Math.pow(e,3)}function l2(e){return 1-o2(1-e)}var a2=class extends ne{constructor(e,t,r){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=r,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new Mp)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){let e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var e;(e=this._domNode)==null||e.setClassName(this._visibleClassName)},0))}_hide(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(t=this._domNode)==null||t.setClassName(this._invisibleClassName+(e?" fade":"")))}},c2=140,TS=class extends $p{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new a2(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new PS),this._shouldRender=!0,this.domNode=Ro(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(X(this.domNode.domNode,rt.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){let t=this._register(new r2(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,r,i){this.slider=Ro(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof r=="number"&&this.slider.setWidth(r),typeof i=="number"&&this.slider.setHeight(i),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(X(this.slider.domNode,rt.POINTER_DOWN,n=>{n.button===0&&(n.preventDefault(),this._sliderPointerDown(n))})),this.onclick(this.slider.domNode,n=>{n.leftButton&&n.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){let t=this.domNode.domNode.getClientRects()[0].top,r=t+this._scrollbarState.getSliderPosition(),i=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),n=this._sliderPointerPosition(e);r<=n&&n<=i?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,r;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,r=e.offsetY;else{let n=Zk(this.domNode.domNode);t=e.pageX-n.left,r=e.pageY-n.top}let i=this._pointerDownRelativePosition(t,r);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(i):this._scrollbarState.getDesiredScrollPositionFromOffset(i)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=this._sliderPointerPosition(e),r=this._sliderOrthogonalPointerPosition(e),i=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,n=>{let s=this._sliderOrthogonalPointerPosition(n),o=Math.abs(s-r);if(ES&&o>c2){this._setDesiredScrollPositionNow(i.getScrollPosition());return}let l=this._sliderPointerPosition(n)-t;this._setDesiredScrollPositionNow(i.getDesiredScrollPositionFromDelta(l))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){let t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}},LS=class $d{constructor(t,r,i,n,s,o){this._scrollbarSize=Math.round(r),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(t),this._visibleSize=n,this._scrollSize=s,this._scrollPosition=o,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new $d(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(t){let r=Math.round(t);return this._visibleSize!==r?(this._visibleSize=r,this._refreshComputedValues(),!0):!1}setScrollSize(t){let r=Math.round(t);return this._scrollSize!==r?(this._scrollSize=r,this._refreshComputedValues(),!0):!1}setScrollPosition(t){let r=Math.round(t);return this._scrollPosition!==r?(this._scrollPosition=r,this._refreshComputedValues(),!0):!1}setScrollbarSize(t){this._scrollbarSize=Math.round(t)}setOppositeScrollbarSize(t){this._oppositeScrollbarSize=Math.round(t)}static _computeValues(t,r,i,n,s){let o=Math.max(0,i-t),l=Math.max(0,o-2*r),a=n>0&&n>i;if(!a)return{computedAvailableSize:Math.round(o),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:0,computedSliderPosition:0};let c=Math.round(Math.max(20,Math.floor(i*l/n))),u=(l-c)/(n-i),h=s*u;return{computedAvailableSize:Math.round(o),computedIsNeeded:a,computedSliderSize:Math.round(c),computedSliderRatio:u,computedSliderPosition:Math.round(h)}}_refreshComputedValues(){let t=$d._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=t.computedAvailableSize,this._computedIsNeeded=t.computedIsNeeded,this._computedSliderSize=t.computedSliderSize,this._computedSliderRatio=t.computedSliderRatio,this._computedSliderPosition=t.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(t){if(!this._computedIsNeeded)return 0;let r=t-this._arrowSize-this._computedSliderSize/2;return Math.round(r/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(t){if(!this._computedIsNeeded)return 0;let r=t-this._arrowSize,i=this._scrollPosition;return r<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(t){if(!this._computedIsNeeded)return 0;let r=this._computedSliderPosition+t;return Math.round(r/this._computedSliderRatio)}},u2=class extends TS{constructor(e,t,r){let i=e.getScrollDimensions(),n=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:r,scrollbarState:new LS(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,i.width,i.scrollWidth,n.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows)throw new Error("horizontalHasArrows is not supported in xterm.js");this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}},h2=class extends TS{constructor(e,t,r){let i=e.getScrollDimensions(),n=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:r,scrollbarState:new LS(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,i.height,i.scrollHeight,n.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows)throw new Error("horizontalHasArrows is not supported in xterm.js");this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}},d2=500,K_=50,f2=class{constructor(e,t,r){this.timestamp=e,this.deltaX=t,this.deltaY=r,this.score=0}},Fd=class{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let t=1,r=0,i=1,n=this._rear;do{let s=n===this._front?t:Math.pow(2,-i);if(t-=s,r+=this._memory[n].score*s,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}while(!0);return r<=.5}acceptStandardWheelEvent(t){if(Op){let r=Er(t.browserEvent),i=bk(r);this.accept(Date.now(),t.deltaX*i,t.deltaY*i)}else this.accept(Date.now(),t.deltaX,t.deltaY)}accept(t,r,i){let n=null,s=new f2(t,r,i);this._front===-1&&this._rear===-1?(this._memory[0]=s,this._front=0,this._rear=0):(n=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=s),s.score=this._computeScore(s,n)}_computeScore(t,r){if(Math.abs(t.deltaX)>0&&Math.abs(t.deltaY)>0)return 1;let i=.5;if((!this._isAlmostInt(t.deltaX)||!this._isAlmostInt(t.deltaY))&&(i+=.25),r){let n=Math.abs(t.deltaX),s=Math.abs(t.deltaY),o=Math.abs(r.deltaX),l=Math.abs(r.deltaY),a=Math.max(Math.min(n,o),1),c=Math.max(Math.min(s,l),1),u=Math.max(n,o),h=Math.max(s,l);u%a===0&&h%c===0&&(i-=.5)}return Math.min(Math.max(i,0),1)}_isAlmostInt(t){return Math.abs(Math.round(t)-t)<.01}};Fd.INSTANCE=new Fd;var p2=Fd,m2=class extends $p{constructor(e,t,r){super(),this._onScroll=this._register(new W),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new W),this.onWillScroll=this._onWillScroll.event,this._options=g2(t),this._scrollable=r,this._register(this._scrollable.onScroll(n=>{this._onWillScroll.fire(n),this._onDidScroll(n),this._onScroll.fire(n)}));let i={onMouseWheel:n=>this._onMouseWheel(n),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new h2(this._scrollable,this._options,i)),this._horizontalScrollbar=this._register(new u2(this._scrollable,this._options,i)),this._domNode=document.createElement("div"),this._domNode.className="xterm-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Ro(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Ro(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Ro(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,n=>this._onMouseOver(n)),this.onmouseleave(this._listenOnDomNode,n=>this._onMouseLeave(n)),this._hideTimeout=this._register(new Mp),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=bn(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,Ur&&(this._options.className+=" mac"),this._domNode.className="xterm-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}setRevealOnScroll(e){this._revealOnScroll=e}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new z_(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=bn(this._mouseWheelToDispose),e)){let t=r=>{this._onMouseWheel(new z_(r))};this._mouseWheelToDispose.push(X(this._listenOnDomNode,rt.MOUSE_WHEEL,t,{passive:!1}))}}_onMouseWheel(e){var n;if((n=e.browserEvent)!=null&&n.defaultPrevented)return;let t=p2.INSTANCE;t.acceptStandardWheelEvent(e);let r=!1;if(e.deltaY||e.deltaX){let s=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&o+s===0?o=s=0:Math.abs(s)>=Math.abs(o)?o=0:s=0),this._options.flipAxes&&([s,o]=[o,s]);let l=!Ur&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||l)&&!o&&(o=s,s=0),e.browserEvent&&e.browserEvent.altKey&&(o=o*this._options.fastScrollSensitivity,s=s*this._options.fastScrollSensitivity);let a=this._scrollable.getFutureScrollPosition(),c={};if(s){let u=K_*s,h=a.scrollTop-(u<0?Math.floor(u):Math.ceil(u));this._verticalScrollbar.writeScrollPosition(c,h)}if(o){let u=K_*o,h=a.scrollLeft-(u<0?Math.floor(u):Math.ceil(u));this._horizontalScrollbar.writeScrollPosition(c,h)}c=this._scrollable.validateScrollPosition(c),(a.scrollLeft!==c.scrollLeft||a.scrollTop!==c.scrollTop)&&(this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(c):this._scrollable.setScrollPositionNow(c),r=!0)}let i=r;!i&&this._options.alwaysConsumeMouseWheel&&(i=!0),!i&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(i=!0),i&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){let e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,r=e.scrollLeft>0,i=r?" left":"",n=t?" top":"",s=r||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${i}`),this._topShadowDomNode.setClassName(`shadow${n}`),this._topLeftShadowDomNode.setClassName(`shadow${s}${n}${i}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),d2)}},_2=class extends m2{constructor(e,t,r){super(e,t,r)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}};function g2(e){let t={lazyRender:typeof e.lazyRender<"u"?e.lazyRender:!1,className:typeof e.className<"u"?e.className:"",useShadows:typeof e.useShadows<"u"?e.useShadows:!0,handleMouseWheel:typeof e.handleMouseWheel<"u"?e.handleMouseWheel:!0,flipAxes:typeof e.flipAxes<"u"?e.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof e.consumeMouseWheelIfScrollbarIsNeeded<"u"?e.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof e.alwaysConsumeMouseWheel<"u"?e.alwaysConsumeMouseWheel:!1,scrollYToX:typeof e.scrollYToX<"u"?e.scrollYToX:!1,mouseWheelScrollSensitivity:typeof e.mouseWheelScrollSensitivity<"u"?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof e.fastScrollSensitivity<"u"?e.fastScrollSensitivity:5,scrollPredominantAxis:typeof e.scrollPredominantAxis<"u"?e.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof e.mouseWheelSmoothScroll<"u"?e.mouseWheelSmoothScroll:!0,arrowSize:typeof e.arrowSize<"u"?e.arrowSize:11,listenOnDomNode:typeof e.listenOnDomNode<"u"?e.listenOnDomNode:null,horizontal:typeof e.horizontal<"u"?e.horizontal:1,horizontalScrollbarSize:typeof e.horizontalScrollbarSize<"u"?e.horizontalScrollbarSize:10,horizontalSliderSize:typeof e.horizontalSliderSize<"u"?e.horizontalSliderSize:0,horizontalHasArrows:typeof e.horizontalHasArrows<"u"?e.horizontalHasArrows:!1,vertical:typeof e.vertical<"u"?e.vertical:1,verticalScrollbarSize:typeof e.verticalScrollbarSize<"u"?e.verticalScrollbarSize:10,verticalHasArrows:typeof e.verticalHasArrows<"u"?e.verticalHasArrows:!1,verticalSliderSize:typeof e.verticalSliderSize<"u"?e.verticalSliderSize:0,scrollByPage:typeof e.scrollByPage<"u"?e.scrollByPage:!1};return t.horizontalSliderSize=typeof e.horizontalSliderSize<"u"?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=typeof e.verticalSliderSize<"u"?e.verticalSliderSize:t.verticalScrollbarSize,Ur&&(t.className+=" mac"),t}var zd=class extends ne{constructor(e,t,r,i,n,s,o,l){super(),this._bufferService=r,this._optionsService=o,this._renderService=l,this._onRequestScrollLines=this._register(new W),this.onRequestScrollLines=this._onRequestScrollLines.event,this._isSyncing=!1,this._isHandlingScroll=!1,this._suppressOnScrollHandler=!1;let a=this._register(new n2({forceIntegerValues:!1,smoothScrollDuration:this._optionsService.rawOptions.smoothScrollDuration,scheduleAtNextAnimationFrame:c=>Bp(i.window,c)}));this._register(this._optionsService.onSpecificOptionChange("smoothScrollDuration",()=>{a.setSmoothScrollDuration(this._optionsService.rawOptions.smoothScrollDuration)})),this._scrollableElement=this._register(new _2(t,{vertical:1,horizontal:2,useShadows:!1,mouseWheelSmoothScroll:!0,...this._getChangeOptions()},a)),this._register(this._optionsService.onMultipleOptionChange(["scrollSensitivity","fastScrollSensitivity","overviewRuler"],()=>this._scrollableElement.updateOptions(this._getChangeOptions()))),this._register(n.onProtocolChange(c=>{this._scrollableElement.updateOptions({handleMouseWheel:!(c&16)})})),this._scrollableElement.setScrollDimensions({height:0,scrollHeight:0}),this._register(ft.runAndSubscribe(s.onChangeColors,()=>{this._scrollableElement.getDomNode().style.backgroundColor=s.colors.background.css})),e.appendChild(this._scrollableElement.getDomNode()),this._register(Me(()=>this._scrollableElement.getDomNode().remove())),this._styleElement=i.mainDocument.createElement("style"),t.appendChild(this._styleElement),this._register(Me(()=>this._styleElement.remove())),this._register(ft.runAndSubscribe(s.onChangeColors,()=>{this._styleElement.textContent=[".xterm .xterm-scrollable-element > .scrollbar > .slider {",`  background: ${s.colors.scrollbarSliderBackground.css};`,"}",".xterm .xterm-scrollable-element > .scrollbar > .slider:hover {",`  background: ${s.colors.scrollbarSliderHoverBackground.css};`,"}",".xterm .xterm-scrollable-element > .scrollbar > .slider.active {",`  background: ${s.colors.scrollbarSliderActiveBackground.css};`,"}"].join(`
`)})),this._register(this._bufferService.onResize(()=>this.queueSync())),this._register(this._bufferService.buffers.onBufferActivate(()=>this.queueSync())),this._register(this._bufferService.onScroll(()=>this._sync())),this._register(this._scrollableElement.onScroll(c=>this._handleScroll(c)))}scrollLines(e){let t=this._scrollableElement.getScrollPosition();this._scrollableElement.setScrollPosition({reuseAnimation:!0,scrollTop:t.scrollTop+e*this._renderService.dimensions.css.cell.height})}scrollToLine(e,t){t&&(this._latestYDisp=e),this._scrollableElement.setScrollPosition({reuseAnimation:!t,scrollTop:e*this._renderService.dimensions.css.cell.height})}_getChangeOptions(){var e;return{mouseWheelScrollSensitivity:this._optionsService.rawOptions.scrollSensitivity,fastScrollSensitivity:this._optionsService.rawOptions.fastScrollSensitivity,verticalScrollbarSize:((e=this._optionsService.rawOptions.overviewRuler)==null?void 0:e.width)||14}}queueSync(e){e!==void 0&&(this._latestYDisp=e),this._queuedAnimationFrame===void 0&&(this._queuedAnimationFrame=this._renderService.addRefreshCallback(()=>{this._queuedAnimationFrame=void 0,this._sync(this._latestYDisp)}))}_sync(e=this._bufferService.buffer.ydisp){!this._renderService||this._isSyncing||(this._isSyncing=!0,this._suppressOnScrollHandler=!0,this._scrollableElement.setScrollDimensions({height:this._renderService.dimensions.css.canvas.height,scrollHeight:this._renderService.dimensions.css.cell.height*this._bufferService.buffer.lines.length}),this._suppressOnScrollHandler=!1,e!==this._latestYDisp&&this._scrollableElement.setScrollPosition({scrollTop:e*this._renderService.dimensions.css.cell.height}),this._isSyncing=!1)}_handleScroll(e){if(!this._renderService||this._isHandlingScroll||this._suppressOnScrollHandler)return;this._isHandlingScroll=!0;let t=Math.round(e.scrollTop/this._renderService.dimensions.css.cell.height),r=t-this._bufferService.buffer.ydisp;r!==0&&(this._latestYDisp=t,this._onRequestScrollLines.fire(r)),this._isHandlingScroll=!1}};zd=Fe([U(2,Dt),U(3,di),U(4,cS),U(5,Ls),U(6,Nt),U(7,fi)],zd);var Hd=class extends ne{constructor(e,t,r,i,n){super(),this._screenElement=e,this._bufferService=t,this._coreBrowserService=r,this._decorationService=i,this._renderService=n,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this._register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this._register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this._register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this._register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this._register(this._decorationService.onDecorationRemoved(s=>this._removeDecoration(s))),this._register(Me(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(let e of this._decorationService.decorations)this._renderDecoration(e);this._dimensionsChanged=!1}_renderDecoration(e){this._refreshStyle(e),this._dimensionsChanged&&this._refreshXPosition(e)}_createElement(e){var i;let t=this._coreBrowserService.mainDocument.createElement("div");t.classList.add("xterm-decoration"),t.classList.toggle("xterm-decoration-top-layer",((i=e==null?void 0:e.options)==null?void 0:i.layer)==="top"),t.style.width=`${Math.round((e.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,t.style.height=`${(e.options.height||1)*this._renderService.dimensions.css.cell.height}px`,t.style.top=`${(e.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height}px`,t.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;let r=e.options.x??0;return r&&r>this._bufferService.cols&&(t.style.display="none"),this._refreshXPosition(e,t),t}_refreshStyle(e){let t=e.marker.line-this._bufferService.buffers.active.ydisp;if(t<0||t>=this._bufferService.rows)e.element&&(e.element.style.display="none",e.onRenderEmitter.fire(e.element));else{let r=this._decorationElements.get(e);r||(r=this._createElement(e),e.element=r,this._decorationElements.set(e,r),this._container.appendChild(r),e.onDispose(()=>{this._decorationElements.delete(e),r.remove()})),r.style.display=this._altBufferIsActive?"none":"block",this._altBufferIsActive||(r.style.width=`${Math.round((e.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,r.style.height=`${(e.options.height||1)*this._renderService.dimensions.css.cell.height}px`,r.style.top=`${t*this._renderService.dimensions.css.cell.height}px`,r.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`),e.onRenderEmitter.fire(r)}}_refreshXPosition(e,t=e.element){if(!t)return;let r=e.options.x??0;(e.options.anchor||"left")==="right"?t.style.right=r?`${r*this._renderService.dimensions.css.cell.width}px`:"":t.style.left=r?`${r*this._renderService.dimensions.css.cell.width}px`:""}_removeDecoration(e){var t;(t=this._decorationElements.get(e))==null||t.remove(),this._decorationElements.delete(e),e.dispose()}};Hd=Fe([U(1,Dt),U(2,di),U(3,ul),U(4,fi)],Hd);var v2=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(e){if(e.options.overviewRulerOptions){for(let t of this._zones)if(t.color===e.options.overviewRulerOptions.color&&t.position===e.options.overviewRulerOptions.position){if(this._lineIntersectsZone(t,e.marker.line))return;if(this._lineAdjacentToZone(t,e.marker.line,e.options.overviewRulerOptions.position)){this._addLineToZone(t,e.marker.line);return}}if(this._zonePoolIndex<this._zonePool.length){this._zonePool[this._zonePoolIndex].color=e.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=e.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=e.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=e.marker.line,this._zones.push(this._zonePool[this._zonePoolIndex++]);return}this._zones.push({color:e.options.overviewRulerOptions.color,position:e.options.overviewRulerOptions.position,startBufferLine:e.marker.line,endBufferLine:e.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(e){this._linePadding=e}_lineIntersectsZone(e,t){return t>=e.startBufferLine&&t<=e.endBufferLine}_lineAdjacentToZone(e,t,r){return t>=e.startBufferLine-this._linePadding[r||"full"]&&t<=e.endBufferLine+this._linePadding[r||"full"]}_addLineToZone(e,t){e.startBufferLine=Math.min(e.startBufferLine,t),e.endBufferLine=Math.max(e.endBufferLine,t)}},Nr={full:0,left:0,center:0,right:0},yi={full:0,left:0,center:0,right:0},Ys={full:0,left:0,center:0,right:0},Za=class extends ne{constructor(e,t,r,i,n,s,o,l){var c;super(),this._viewportElement=e,this._screenElement=t,this._bufferService=r,this._decorationService=i,this._renderService=n,this._optionsService=s,this._themeService=o,this._coreBrowserService=l,this._colorZoneStore=new v2,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(c=this._viewportElement.parentElement)==null||c.insertBefore(this._canvas,this._viewportElement),this._register(Me(()=>{var u;return(u=this._canvas)==null?void 0:u.remove()}));let a=this._canvas.getContext("2d");if(a)this._ctx=a;else throw new Error("Ctx cannot be null");this._register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this._register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0))),this._register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this._register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})),this._register(this._renderService.onRender(()=>{(!this._containerHeight||this._containerHeight!==this._screenElement.clientHeight)&&(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this._register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._register(this._optionsService.onSpecificOptionChange("overviewRuler",()=>this._queueRefresh(!0))),this._register(this._themeService.onChangeColors(()=>this._queueRefresh())),this._queueRefresh(!0)}get _width(){var e;return((e=this._optionsService.options.overviewRuler)==null?void 0:e.width)||0}_refreshDrawConstants(){let e=Math.floor((this._canvas.width-1)/3),t=Math.ceil((this._canvas.width-1)/3);yi.full=this._canvas.width,yi.left=e,yi.center=t,yi.right=e,this._refreshDrawHeightConstants(),Ys.full=1,Ys.left=1,Ys.center=1+yi.left,Ys.right=1+yi.left+yi.center}_refreshDrawHeightConstants(){Nr.full=Math.round(2*this._coreBrowserService.dpr);let e=this._canvas.height/this._bufferService.buffer.lines.length,t=Math.round(Math.max(Math.min(e,12),6)*this._coreBrowserService.dpr);Nr.left=t,Nr.center=t,Nr.right=t}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Nr.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Nr.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Nr.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Nr.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(let t of this._decorationService.decorations)this._colorZoneStore.addDecoration(t);this._ctx.lineWidth=1,this._renderRulerOutline();let e=this._colorZoneStore.zones;for(let t of e)t.position!=="full"&&this._renderColorZone(t);for(let t of e)t.position==="full"&&this._renderColorZone(t);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderRulerOutline(){this._ctx.fillStyle=this._themeService.colors.overviewRulerBorder.css,this._ctx.fillRect(0,0,1,this._canvas.height),this._optionsService.rawOptions.overviewRuler.showTopBorder&&this._ctx.fillRect(1,0,this._canvas.width-1,1),this._optionsService.rawOptions.overviewRuler.showBottomBorder&&this._ctx.fillRect(1,this._canvas.height-1,this._canvas.width-1,this._canvas.height)}_renderColorZone(e){this._ctx.fillStyle=e.color,this._ctx.fillRect(Ys[e.position||"full"],Math.round((this._canvas.height-1)*(e.startBufferLine/this._bufferService.buffers.active.lines.length)-Nr[e.position||"full"]/2),yi[e.position||"full"],Math.round((this._canvas.height-1)*((e.endBufferLine-e.startBufferLine)/this._bufferService.buffers.active.lines.length)+Nr[e.position||"full"]))}_queueRefresh(e,t){this._shouldUpdateDimensions=e||this._shouldUpdateDimensions,this._shouldUpdateAnchor=t||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};Za=Fe([U(2,Dt),U(3,ul),U(4,fi),U(5,Nt),U(6,Ls),U(7,di)],Za);var B;(e=>(e.NUL="\0",e.SOH="",e.STX="",e.ETX="",e.EOT="",e.ENQ="",e.ACK="",e.BEL="\x07",e.BS="\b",e.HT="	",e.LF=`
`,e.VT="\v",e.FF="\f",e.CR="\r",e.SO="",e.SI="",e.DLE="",e.DC1="",e.DC2="",e.DC3="",e.DC4="",e.NAK="",e.SYN="",e.ETB="",e.CAN="",e.EM="",e.SUB="",e.ESC="\x1B",e.FS="",e.GS="",e.RS="",e.US="",e.SP=" ",e.DEL=""))(B||(B={}));var ga;(e=>(e.PAD="",e.HOP="",e.BPH="",e.NBH="",e.IND="",e.NEL="",e.SSA="",e.ESA="",e.HTS="",e.HTJ="",e.VTS="",e.PLD="",e.PLU="",e.RI="",e.SS2="",e.SS3="",e.DCS="",e.PU1="",e.PU2="",e.STS="",e.CCH="",e.MW="",e.SPA="",e.EPA="",e.SOS="",e.SGCI="",e.SCI="",e.CSI="",e.ST="",e.OSC="",e.PM="",e.APC=""))(ga||(ga={}));var AS;(e=>e.ST=`${B.ESC}\\`)(AS||(AS={}));var Wd=class{constructor(e,t,r,i,n,s){this._textarea=e,this._compositionView=t,this._bufferService=r,this._optionsService=i,this._coreService=n,this._renderService=s,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(e){this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(e){if(this._isComposing||this._isSendingComposition){if(e.keyCode===20||e.keyCode===229||e.keyCode===16||e.keyCode===17||e.keyCode===18)return!1;this._finalizeComposition(!1)}return e.keyCode===229?(this._handleAnyTextareaChanges(),!1):!0}_finalizeComposition(e){if(this._compositionView.classList.remove("active"),this._isComposing=!1,e){let t={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){this._isSendingComposition=!1;let r;t.start+=this._dataAlreadySent.length,this._isComposing?r=this._textarea.value.substring(t.start,this._compositionPosition.start):r=this._textarea.value.substring(t.start),r.length>0&&this._coreService.triggerDataEvent(r,!0)}},0)}else{this._isSendingComposition=!1;let t=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(t,!0)}}_handleAnyTextareaChanges(){let e=this._textarea.value;setTimeout(()=>{if(!this._isComposing){let t=this._textarea.value,r=t.replace(e,"");this._dataAlreadySent=r,t.length>e.length?this._coreService.triggerDataEvent(r,!0):t.length<e.length?this._coreService.triggerDataEvent(`${B.DEL}`,!0):t.length===e.length&&t!==e&&this._coreService.triggerDataEvent(t,!0)}},0)}updateCompositionElements(e){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){let t=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),r=this._renderService.dimensions.css.cell.height,i=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,n=t*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=n+"px",this._compositionView.style.top=i+"px",this._compositionView.style.height=r+"px",this._compositionView.style.lineHeight=r+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";let s=this._compositionView.getBoundingClientRect();this._textarea.style.left=n+"px",this._textarea.style.top=i+"px",this._textarea.style.width=Math.max(s.width,1)+"px",this._textarea.style.height=Math.max(s.height,1)+"px",this._textarea.style.lineHeight=s.height+"px"}e||setTimeout(()=>this.updateCompositionElements(!0),0)}}};Wd=Fe([U(2,Dt),U(3,Nt),U(4,Ts),U(5,fi)],Wd);var nt=0,st=0,ot=0,Be=0,q_={css:"#00000000",rgba:0},je;(e=>{function t(n,s,o,l){return l!==void 0?`#${tn(n)}${tn(s)}${tn(o)}${tn(l)}`:`#${tn(n)}${tn(s)}${tn(o)}`}e.toCss=t;function r(n,s,o,l=255){return(n<<24|s<<16|o<<8|l)>>>0}e.toRgba=r;function i(n,s,o,l){return{css:e.toCss(n,s,o,l),rgba:e.toRgba(n,s,o,l)}}e.toColor=i})(je||(je={}));var xe;(e=>{function t(a,c){if(Be=(c.rgba&255)/255,Be===1)return{css:c.css,rgba:c.rgba};let u=c.rgba>>24&255,h=c.rgba>>16&255,d=c.rgba>>8&255,f=a.rgba>>24&255,p=a.rgba>>16&255,_=a.rgba>>8&255;nt=f+Math.round((u-f)*Be),st=p+Math.round((h-p)*Be),ot=_+Math.round((d-_)*Be);let S=je.toCss(nt,st,ot),m=je.toRgba(nt,st,ot);return{css:S,rgba:m}}e.blend=t;function r(a){return(a.rgba&255)===255}e.isOpaque=r;function i(a,c,u){let h=va.ensureContrastRatio(a.rgba,c.rgba,u);if(h)return je.toColor(h>>24&255,h>>16&255,h>>8&255)}e.ensureContrastRatio=i;function n(a){let c=(a.rgba|255)>>>0;return[nt,st,ot]=va.toChannels(c),{css:je.toCss(nt,st,ot),rgba:c}}e.opaque=n;function s(a,c){return Be=Math.round(c*255),[nt,st,ot]=va.toChannels(a.rgba),{css:je.toCss(nt,st,ot,Be),rgba:je.toRgba(nt,st,ot,Be)}}e.opacity=s;function o(a,c){return Be=a.rgba&255,s(a,Be*c/255)}e.multiplyOpacity=o;function l(a){return[a.rgba>>24&255,a.rgba>>16&255,a.rgba>>8&255]}e.toColorRGB=l})(xe||(xe={}));var De;(e=>{let t,r;try{let n=document.createElement("canvas");n.width=1,n.height=1;let s=n.getContext("2d",{willReadFrequently:!0});s&&(t=s,t.globalCompositeOperation="copy",r=t.createLinearGradient(0,0,1,1))}catch{}function i(n){if(n.match(/#[\da-f]{3,8}/i))switch(n.length){case 4:return nt=parseInt(n.slice(1,2).repeat(2),16),st=parseInt(n.slice(2,3).repeat(2),16),ot=parseInt(n.slice(3,4).repeat(2),16),je.toColor(nt,st,ot);case 5:return nt=parseInt(n.slice(1,2).repeat(2),16),st=parseInt(n.slice(2,3).repeat(2),16),ot=parseInt(n.slice(3,4).repeat(2),16),Be=parseInt(n.slice(4,5).repeat(2),16),je.toColor(nt,st,ot,Be);case 7:return{css:n,rgba:(parseInt(n.slice(1),16)<<8|255)>>>0};case 9:return{css:n,rgba:parseInt(n.slice(1),16)>>>0}}let s=n.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(s)return nt=parseInt(s[1]),st=parseInt(s[2]),ot=parseInt(s[3]),Be=Math.round((s[5]===void 0?1:parseFloat(s[5]))*255),je.toColor(nt,st,ot,Be);if(!t||!r)throw new Error("css.toColor: Unsupported css format");if(t.fillStyle=r,t.fillStyle=n,typeof t.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(t.fillRect(0,0,1,1),[nt,st,ot,Be]=t.getImageData(0,0,1,1).data,Be!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:je.toRgba(nt,st,ot,Be),css:n}}e.toColor=i})(De||(De={}));var kt;(e=>{function t(i){return r(i>>16&255,i>>8&255,i&255)}e.relativeLuminance=t;function r(i,n,s){let o=i/255,l=n/255,a=s/255,c=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),u=l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4),h=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4);return c*.2126+u*.7152+h*.0722}e.relativeLuminance2=r})(kt||(kt={}));var va;(e=>{function t(o,l){if(Be=(l&255)/255,Be===1)return l;let a=l>>24&255,c=l>>16&255,u=l>>8&255,h=o>>24&255,d=o>>16&255,f=o>>8&255;return nt=h+Math.round((a-h)*Be),st=d+Math.round((c-d)*Be),ot=f+Math.round((u-f)*Be),je.toRgba(nt,st,ot)}e.blend=t;function r(o,l,a){let c=kt.relativeLuminance(o>>8),u=kt.relativeLuminance(l>>8);if(Zr(c,u)<a){if(u<c){let f=i(o,l,a),p=Zr(c,kt.relativeLuminance(f>>8));if(p<a){let _=n(o,l,a),S=Zr(c,kt.relativeLuminance(_>>8));return p>S?f:_}return f}let h=n(o,l,a),d=Zr(c,kt.relativeLuminance(h>>8));if(d<a){let f=i(o,l,a),p=Zr(c,kt.relativeLuminance(f>>8));return d>p?h:f}return h}}e.ensureContrastRatio=r;function i(o,l,a){let c=o>>24&255,u=o>>16&255,h=o>>8&255,d=l>>24&255,f=l>>16&255,p=l>>8&255,_=Zr(kt.relativeLuminance2(d,f,p),kt.relativeLuminance2(c,u,h));for(;_<a&&(d>0||f>0||p>0);)d-=Math.max(0,Math.ceil(d*.1)),f-=Math.max(0,Math.ceil(f*.1)),p-=Math.max(0,Math.ceil(p*.1)),_=Zr(kt.relativeLuminance2(d,f,p),kt.relativeLuminance2(c,u,h));return(d<<24|f<<16|p<<8|255)>>>0}e.reduceLuminance=i;function n(o,l,a){let c=o>>24&255,u=o>>16&255,h=o>>8&255,d=l>>24&255,f=l>>16&255,p=l>>8&255,_=Zr(kt.relativeLuminance2(d,f,p),kt.relativeLuminance2(c,u,h));for(;_<a&&(d<255||f<255||p<255);)d=Math.min(255,d+Math.ceil((255-d)*.1)),f=Math.min(255,f+Math.ceil((255-f)*.1)),p=Math.min(255,p+Math.ceil((255-p)*.1)),_=Zr(kt.relativeLuminance2(d,f,p),kt.relativeLuminance2(c,u,h));return(d<<24|f<<16|p<<8|255)>>>0}e.increaseLuminance=n;function s(o){return[o>>24&255,o>>16&255,o>>8&255,o&255]}e.toChannels=s})(va||(va={}));function tn(e){let t=e.toString(16);return t.length<2?"0"+t:t}function Zr(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}var y2=class extends cl{constructor(e,t,r){super(),this.content=0,this.combinedData="",this.fg=e.fg,this.bg=e.bg,this.combinedData=t,this._width=r}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(e){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},Ja=class{constructor(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new dr}register(e){let t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id}deregister(e){for(let t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1}getJoinedCharacters(e){if(this._characterJoiners.length===0)return[];let t=this._bufferService.buffer.lines.get(e);if(!t||t.length===0)return[];let r=[],i=t.translateToString(!0),n=0,s=0,o=0,l=t.getFg(0),a=t.getBg(0);for(let c=0;c<t.getTrimmedLength();c++)if(t.loadCell(c,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==l||this._workCell.bg!==a){if(c-n>1){let u=this._getJoinedRanges(i,o,s,t,n);for(let h=0;h<u.length;h++)r.push(u[h])}n=c,o=s,l=this._workCell.fg,a=this._workCell.bg}s+=this._workCell.getChars().length||Li.length}if(this._bufferService.cols-n>1){let c=this._getJoinedRanges(i,o,s,t,n);for(let u=0;u<c.length;u++)r.push(c[u])}return r}_getJoinedRanges(e,t,r,i,n){let s=e.substring(t,r),o=[];try{o=this._characterJoiners[0].handler(s)}catch(l){console.error(l)}for(let l=1;l<this._characterJoiners.length;l++)try{let a=this._characterJoiners[l].handler(s);for(let c=0;c<a.length;c++)Ja._mergeRanges(o,a[c])}catch(a){console.error(a)}return this._stringRangesToCellRanges(o,i,n),o}_stringRangesToCellRanges(e,t,r){let i=0,n=!1,s=0,o=e[i];if(o){for(let l=r;l<this._bufferService.cols;l++){let a=t.getWidth(l),c=t.getString(l).length||Li.length;if(a!==0){if(!n&&o[0]<=s&&(o[0]=l,n=!0),o[1]<=s){if(o[1]=l,o=e[++i],!o)break;o[0]<=s?(o[0]=l,n=!0):n=!1}s+=c}}o&&(o[1]=this._bufferService.cols)}}static _mergeRanges(e,t){let r=!1;for(let i=0;i<e.length;i++){let n=e[i];if(r){if(t[1]<=n[0])return e[i-1][1]=t[1],e;if(t[1]<=n[1])return e[i-1][1]=Math.max(t[1],n[1]),e.splice(i,1),e;e.splice(i,1),i--}else{if(t[1]<=n[0])return e.splice(i,0,t),e;if(t[1]<=n[1])return n[0]=Math.min(t[0],n[0]),e;t[0]<n[1]&&(n[0]=Math.min(t[0],n[0]),r=!0);continue}}return r?e[e.length-1][1]=t[1]:e.push(t),e}};Ja=Fe([U(0,Dt)],Ja);function S2(e){return 57508<=e&&e<=57558}function w2(e){return 9472<=e&&e<=9631}function C2(e){return S2(e)||w2(e)}function b2(){return{css:{canvas:Fl(),cell:Fl()},device:{canvas:Fl(),cell:Fl(),char:{width:0,height:0,left:0,top:0}}}}function Fl(){return{width:0,height:0}}var Vd=class{constructor(e,t,r,i,n,s,o){this._document=e,this._characterJoinerService=t,this._optionsService=r,this._coreBrowserService=i,this._coreService=n,this._decorationService=s,this._themeService=o,this._workCell=new dr,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(e,t,r){this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=r}createRow(e,t,r,i,n,s,o,l,a,c,u){let h=[],d=this._characterJoinerService.getJoinedCharacters(t),f=this._themeService.colors,p=e.getNoBgTrimmedLength();r&&p<s+1&&(p=s+1);let _,S=0,m="",v=0,y=0,w=0,b=0,R=!1,x=0,L=!1,T=0,N=0,D=[],A=c!==-1&&u!==-1;for(let P=0;P<p;P++){e.loadCell(P,this._workCell);let O=this._workCell.getWidth();if(O===0)continue;let $=!1,I=P>=N,V=P,k=this._workCell;if(d.length>0&&P===d[0][0]&&I){let Q=d.shift(),ct=this._isCellInSelection(Q[0],t);for(v=Q[0]+1;v<Q[1];v++)I&&(I=ct===this._isCellInSelection(v,t));I&&(I=!r||s<Q[0]||s>=Q[1]),I?($=!0,k=new y2(this._workCell,e.translateToString(!0,Q[0],Q[1]),Q[1]-Q[0]),V=Q[1]-1,O=k.getWidth()):N=Q[1]}let F=this._isCellInSelection(P,t),j=r&&P===s,J=A&&P>=c&&P<=u,se=!1;this._decorationService.forEachDecorationAtCell(P,t,void 0,Q=>{se=!0});let Se=k.getChars()||Li;if(Se===" "&&(k.isUnderline()||k.isOverline())&&(Se=""),T=O*l-a.get(Se,k.isBold(),k.isItalic()),!_)_=this._document.createElement("span");else if(S&&(F&&L||!F&&!L&&k.bg===y)&&(F&&L&&f.selectionForeground||k.fg===w)&&k.extended.ext===b&&J===R&&T===x&&!j&&!$&&!se&&I){k.isInvisible()?m+=Li:m+=Se,S++;continue}else S&&(_.textContent=m),_=this._document.createElement("span"),S=0,m="";if(y=k.bg,w=k.fg,b=k.extended.ext,R=J,x=T,L=F,$&&s>=P&&s<=V&&(s=P),!this._coreService.isCursorHidden&&j&&this._coreService.isCursorInitialized){if(D.push("xterm-cursor"),this._coreBrowserService.isFocused)o&&D.push("xterm-cursor-blink"),D.push(i==="bar"?"xterm-cursor-bar":i==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(n)switch(n){case"outline":D.push("xterm-cursor-outline");break;case"block":D.push("xterm-cursor-block");break;case"bar":D.push("xterm-cursor-bar");break;case"underline":D.push("xterm-cursor-underline");break}}if(k.isBold()&&D.push("xterm-bold"),k.isItalic()&&D.push("xterm-italic"),k.isDim()&&D.push("xterm-dim"),k.isInvisible()?m=Li:m=k.getChars()||Li,k.isUnderline()&&(D.push(`xterm-underline-${k.extended.underlineStyle}`),m===" "&&(m=""),!k.isUnderlineColorDefault()))if(k.isUnderlineColorRGB())_.style.textDecorationColor=`rgb(${cl.toColorRGB(k.getUnderlineColor()).join(",")})`;else{let Q=k.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&k.isBold()&&Q<8&&(Q+=8),_.style.textDecorationColor=f.ansi[Q].css}k.isOverline()&&(D.push("xterm-overline"),m===" "&&(m="")),k.isStrikethrough()&&D.push("xterm-strikethrough"),J&&(_.style.textDecoration="underline");let ce=k.getFgColor(),Re=k.getFgColorMode(),pe=k.getBgColor(),q=k.getBgColorMode(),de=!!k.isInverse();if(de){let Q=ce;ce=pe,pe=Q;let ct=Re;Re=q,q=ct}let ge,ue,oe=!1;this._decorationService.forEachDecorationAtCell(P,t,void 0,Q=>{Q.options.layer!=="top"&&oe||(Q.backgroundColorRGB&&(q=50331648,pe=Q.backgroundColorRGB.rgba>>8&16777215,ge=Q.backgroundColorRGB),Q.foregroundColorRGB&&(Re=50331648,ce=Q.foregroundColorRGB.rgba>>8&16777215,ue=Q.foregroundColorRGB),oe=Q.options.layer==="top")}),!oe&&F&&(ge=this._coreBrowserService.isFocused?f.selectionBackgroundOpaque:f.selectionInactiveBackgroundOpaque,pe=ge.rgba>>8&16777215,q=50331648,oe=!0,f.selectionForeground&&(Re=50331648,ce=f.selectionForeground.rgba>>8&16777215,ue=f.selectionForeground)),oe&&D.push("xterm-decoration-top");let re;switch(q){case 16777216:case 33554432:re=f.ansi[pe],D.push(`xterm-bg-${pe}`);break;case 50331648:re=je.toColor(pe>>16,pe>>8&255,pe&255),this._addStyle(_,`background-color:#${Y_((pe>>>0).toString(16),"0",6)}`);break;case 0:default:de?(re=f.foreground,D.push("xterm-bg-257")):re=f.background}switch(ge||k.isDim()&&(ge=xe.multiplyOpacity(re,.5)),Re){case 16777216:case 33554432:k.isBold()&&ce<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ce+=8),this._applyMinimumContrast(_,re,f.ansi[ce],k,ge,void 0)||D.push(`xterm-fg-${ce}`);break;case 50331648:let Q=je.toColor(ce>>16&255,ce>>8&255,ce&255);this._applyMinimumContrast(_,re,Q,k,ge,ue)||this._addStyle(_,`color:#${Y_(ce.toString(16),"0",6)}`);break;case 0:default:this._applyMinimumContrast(_,re,f.foreground,k,ge,ue)||de&&D.push("xterm-fg-257")}D.length&&(_.className=D.join(" "),D.length=0),!j&&!$&&!se&&I?S++:_.textContent=m,T!==this.defaultSpacing&&(_.style.letterSpacing=`${T}px`),h.push(_),P=V}return _&&S&&(_.textContent=m),h}_applyMinimumContrast(e,t,r,i,n,s){if(this._optionsService.rawOptions.minimumContrastRatio===1||C2(i.getCode()))return!1;let o=this._getContrastCache(i),l;if(!n&&!s&&(l=o.getColor(t.rgba,r.rgba)),l===void 0){let a=this._optionsService.rawOptions.minimumContrastRatio/(i.isDim()?2:1);l=xe.ensureContrastRatio(n||t,s||r,a),o.setColor((n||t).rgba,(s||r).rgba,l??null)}return l?(this._addStyle(e,`color:${l.css}`),!0):!1}_getContrastCache(e){return e.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(e,t){e.setAttribute("style",`${e.getAttribute("style")||""}${t};`)}_isCellInSelection(e,t){let r=this._selectionStart,i=this._selectionEnd;return!r||!i?!1:this._columnSelectMode?r[0]<=i[0]?e>=r[0]&&t>=r[1]&&e<i[0]&&t<=i[1]:e<r[0]&&t>=r[1]&&e>=i[0]&&t<=i[1]:t>r[1]&&t<i[1]||r[1]===i[1]&&t===r[1]&&e>=r[0]&&e<i[0]||r[1]<i[1]&&t===i[1]&&e<i[0]||r[1]<i[1]&&t===r[1]&&e>=r[0]}};Vd=Fe([U(1,dS),U(2,Nt),U(3,di),U(4,Ts),U(5,ul),U(6,Ls)],Vd);function Y_(e,t,r){for(;e.length<r;)e=t+e;return e}var E2=class{constructor(e,t){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=e.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";let r=e.createElement("span");r.classList.add("xterm-char-measure-element");let i=e.createElement("span");i.classList.add("xterm-char-measure-element"),i.style.fontWeight="bold";let n=e.createElement("span");n.classList.add("xterm-char-measure-element"),n.style.fontStyle="italic";let s=e.createElement("span");s.classList.add("xterm-char-measure-element"),s.style.fontWeight="bold",s.style.fontStyle="italic",this._measureElements=[r,i,n,s],this._container.appendChild(r),this._container.appendChild(i),this._container.appendChild(n),this._container.appendChild(s),t.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(e,t,r,i){e===this._font&&t===this._fontSize&&r===this._weight&&i===this._weightBold||(this._font=e,this._fontSize=t,this._weight=r,this._weightBold=i,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${r}`,this._measureElements[1].style.fontWeight=`${i}`,this._measureElements[2].style.fontWeight=`${r}`,this._measureElements[3].style.fontWeight=`${i}`,this.clear())}get(e,t,r){let i=0;if(!t&&!r&&e.length===1&&(i=e.charCodeAt(0))<256){if(this._flat[i]!==-9999)return this._flat[i];let o=this._measure(e,0);return o>0&&(this._flat[i]=o),o}let n=e;t&&(n+="B"),r&&(n+="I");let s=this._holey.get(n);if(s===void 0){let o=0;t&&(o|=1),r&&(o|=2),s=this._measure(e,o),s>0&&this._holey.set(n,s)}return s}_measure(e,t){let r=this._measureElements[t];return r.textContent=e.repeat(32),r.offsetWidth/32}},x2=class{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(e,t,r,i=!1){if(this.selectionStart=t,this.selectionEnd=r,!t||!r||t[0]===r[0]&&t[1]===r[1]){this.clear();return}let n=e.buffers.active.ydisp,s=t[1]-n,o=r[1]-n,l=Math.max(s,0),a=Math.min(o,e.rows-1);if(l>=e.rows||a<0){this.clear();return}this.hasSelection=!0,this.columnSelectMode=i,this.viewportStartRow=s,this.viewportEndRow=o,this.viewportCappedStartRow=l,this.viewportCappedEndRow=a,this.startCol=t[0],this.endCol=r[0]}isCellSelected(e,t,r){return this.hasSelection?(r-=e.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?t>=this.startCol&&r>=this.viewportCappedStartRow&&t<this.endCol&&r<=this.viewportCappedEndRow:t<this.startCol&&r>=this.viewportCappedStartRow&&t>=this.endCol&&r<=this.viewportCappedEndRow:r>this.viewportStartRow&&r<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&r===this.viewportStartRow&&t>=this.startCol&&t<this.endCol||this.viewportStartRow<this.viewportEndRow&&r===this.viewportEndRow&&t<this.endCol||this.viewportStartRow<this.viewportEndRow&&r===this.viewportStartRow&&t>=this.startCol):!1}};function k2(){return new x2}var qu="xterm-dom-renderer-owner-",ir="xterm-rows",zl="xterm-fg-",X_="xterm-bg-",Xs="xterm-focus",Hl="xterm-selection",R2=1,jd=class extends ne{constructor(e,t,r,i,n,s,o,l,a,c,u,h,d,f){super(),this._terminal=e,this._document=t,this._element=r,this._screenElement=i,this._viewportElement=n,this._helperContainer=s,this._linkifier2=o,this._charSizeService=a,this._optionsService=c,this._bufferService=u,this._coreService=h,this._coreBrowserService=d,this._themeService=f,this._terminalClass=R2++,this._rowElements=[],this._selectionRenderModel=k2(),this.onRequestRedraw=this._register(new W).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(ir),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(Hl),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=b2(),this._updateDimensions(),this._register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this._register(this._themeService.onChangeColors(p=>this._injectCss(p))),this._injectCss(this._themeService.colors),this._rowFactory=l.createInstance(Vd,document),this._element.classList.add(qu+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this._register(this._linkifier2.onShowLinkUnderline(p=>this._handleLinkHover(p))),this._register(this._linkifier2.onHideLinkUnderline(p=>this._handleLinkLeave(p))),this._register(Me(()=>{this._element.classList.remove(qu+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new E2(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){let e=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*e,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*e),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/e),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/e),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(let r of this._rowElements)r.style.width=`${this.dimensions.css.canvas.width}px`,r.style.height=`${this.dimensions.css.cell.height}px`,r.style.lineHeight=`${this.dimensions.css.cell.height}px`,r.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));let t=`${this._terminalSelector} .${ir} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=t,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(e){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let t=`${this._terminalSelector} .${ir} { pointer-events: none; color: ${e.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;t+=`${this._terminalSelector} .${ir} .xterm-dim { color: ${xe.multiplyOpacity(e.foreground,.5).css};}`,t+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;let r=`blink_underline_${this._terminalClass}`,i=`blink_bar_${this._terminalClass}`,n=`blink_block_${this._terminalClass}`;t+=`@keyframes ${r} { 50% {  border-bottom-style: hidden; }}`,t+=`@keyframes ${i} { 50% {  box-shadow: none; }}`,t+=`@keyframes ${n} { 0% {  background-color: ${e.cursor.css};  color: ${e.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${e.cursor.css}; }}`,t+=`${this._terminalSelector} .${ir}.${Xs} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${r} 1s step-end infinite;}${this._terminalSelector} .${ir}.${Xs} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${i} 1s step-end infinite;}${this._terminalSelector} .${ir}.${Xs} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${n} 1s step-end infinite;}${this._terminalSelector} .${ir} .xterm-cursor.xterm-cursor-block { background-color: ${e.cursor.css}; color: ${e.cursorAccent.css};}${this._terminalSelector} .${ir} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${e.cursor.css} !important; color: ${e.cursorAccent.css} !important;}${this._terminalSelector} .${ir} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${e.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${ir} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${e.cursor.css} inset;}${this._terminalSelector} .${ir} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${e.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,t+=`${this._terminalSelector} .${Hl} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${Hl} div { position: absolute; background-color: ${e.selectionBackgroundOpaque.css};}${this._terminalSelector} .${Hl} div { position: absolute; background-color: ${e.selectionInactiveBackgroundOpaque.css};}`;for(let[s,o]of e.ansi.entries())t+=`${this._terminalSelector} .${zl}${s} { color: ${o.css}; }${this._terminalSelector} .${zl}${s}.xterm-dim { color: ${xe.multiplyOpacity(o,.5).css}; }${this._terminalSelector} .${X_}${s} { background-color: ${o.css}; }`;t+=`${this._terminalSelector} .${zl}257 { color: ${xe.opaque(e.background).css}; }${this._terminalSelector} .${zl}257.xterm-dim { color: ${xe.multiplyOpacity(xe.opaque(e.background),.5).css}; }${this._terminalSelector} .${X_}257 { background-color: ${e.foreground.css}; }`,this._themeStyleElement.textContent=t}_setDefaultSpacing(){let e=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${e}px`,this._rowFactory.defaultSpacing=e}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(e,t){for(let r=this._rowElements.length;r<=t;r++){let i=this._document.createElement("div");this._rowContainer.appendChild(i),this._rowElements.push(i)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(e,t){this._refreshRowElements(e,t),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(Xs),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(Xs),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(e,t,r){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(e,t,r),this.renderRows(0,this._bufferService.rows-1),!e||!t||(this._selectionRenderModel.update(this._terminal,e,t,r),!this._selectionRenderModel.hasSelection))return;let i=this._selectionRenderModel.viewportStartRow,n=this._selectionRenderModel.viewportEndRow,s=this._selectionRenderModel.viewportCappedStartRow,o=this._selectionRenderModel.viewportCappedEndRow,l=this._document.createDocumentFragment();if(r){let a=e[0]>t[0];l.appendChild(this._createSelectionElement(s,a?t[0]:e[0],a?e[0]:t[0],o-s+1))}else{let a=i===s?e[0]:0,c=s===n?t[0]:this._bufferService.cols;l.appendChild(this._createSelectionElement(s,a,c));let u=o-s-1;if(l.appendChild(this._createSelectionElement(s+1,0,this._bufferService.cols,u)),s!==o){let h=n===o?t[0]:this._bufferService.cols;l.appendChild(this._createSelectionElement(o,0,h))}}this._selectionContainer.appendChild(l)}_createSelectionElement(e,t,r,i=1){let n=this._document.createElement("div"),s=t*this.dimensions.css.cell.width,o=this.dimensions.css.cell.width*(r-t);return s+o>this.dimensions.css.canvas.width&&(o=this.dimensions.css.canvas.width-s),n.style.height=`${i*this.dimensions.css.cell.height}px`,n.style.top=`${e*this.dimensions.css.cell.height}px`,n.style.left=`${s}px`,n.style.width=`${o}px`,n}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(let e of this._rowElements)e.replaceChildren()}renderRows(e,t){let r=this._bufferService.buffer,i=r.ybase+r.y,n=Math.min(r.x,this._bufferService.cols-1),s=this._coreService.decPrivateModes.cursorBlink??this._optionsService.rawOptions.cursorBlink,o=this._coreService.decPrivateModes.cursorStyle??this._optionsService.rawOptions.cursorStyle,l=this._optionsService.rawOptions.cursorInactiveStyle;for(let a=e;a<=t;a++){let c=a+r.ydisp,u=this._rowElements[a],h=r.lines.get(c);if(!u||!h)break;u.replaceChildren(...this._rowFactory.createRow(h,c,c===i,o,l,n,s,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${qu}${this._terminalClass}`}_handleLinkHover(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)}_handleLinkLeave(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)}_setCellUnderline(e,t,r,i,n,s){r<0&&(e=0),i<0&&(t=0);let o=this._bufferService.rows-1;r=Math.max(Math.min(r,o),0),i=Math.max(Math.min(i,o),0),n=Math.min(n,this._bufferService.cols);let l=this._bufferService.buffer,a=l.ybase+l.y,c=Math.min(l.x,n-1),u=this._optionsService.rawOptions.cursorBlink,h=this._optionsService.rawOptions.cursorStyle,d=this._optionsService.rawOptions.cursorInactiveStyle;for(let f=r;f<=i;++f){let p=f+l.ydisp,_=this._rowElements[f],S=l.lines.get(p);if(!_||!S)break;_.replaceChildren(...this._rowFactory.createRow(S,p,p===a,h,d,c,u,this.dimensions.css.cell.width,this._widthCache,s?f===r?e:0:-1,s?(f===i?t:n)-1:-1))}}};jd=Fe([U(7,Ap),U(8,Wc),U(9,Nt),U(10,Dt),U(11,Ts),U(12,di),U(13,Ls)],jd);var Ud=class extends ne{constructor(e,t,r){super(),this._optionsService=r,this.width=0,this.height=0,this._onCharSizeChange=this._register(new W),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this._register(new T2(this._optionsService))}catch{this._measureStrategy=this._register(new P2(e,t,this._optionsService))}this._register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){let e=this._measureStrategy.measure();(e.width!==this.width||e.height!==this.height)&&(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())}};Ud=Fe([U(2,Nt)],Ud);var DS=class extends ne{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(e,t){e!==void 0&&e>0&&t!==void 0&&t>0&&(this._result.width=e,this._result.height=t)}},P2=class extends DS{constructor(e,t,r){super(),this._document=e,this._parentElement=t,this._optionsService=r,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}},T2=class extends DS{constructor(e){super(),this._optionsService=e,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");let t=this._ctx.measureText("W");if(!("width"in t&&"fontBoundingBoxAscent"in t&&"fontBoundingBoxDescent"in t))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;let e=this._ctx.measureText("W");return this._validateAndSet(e.width,e.fontBoundingBoxAscent+e.fontBoundingBoxDescent),this._result}},L2=class extends ne{constructor(e,t,r){super(),this._textarea=e,this._window=t,this.mainDocument=r,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=this._register(new A2(this._window)),this._onDprChange=this._register(new W),this.onDprChange=this._onDprChange.event,this._onWindowChange=this._register(new W),this.onWindowChange=this._onWindowChange.event,this._register(this.onWindowChange(i=>this._screenDprMonitor.setWindow(i))),this._register(ft.forward(this._screenDprMonitor.onDprChange,this._onDprChange)),this._register(X(this._textarea,"focus",()=>this._isFocused=!0)),this._register(X(this._textarea,"blur",()=>this._isFocused=!1))}get window(){return this._window}set window(e){this._window!==e&&(this._window=e,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}},A2=class extends ne{constructor(e){super(),this._parentWindow=e,this._windowResizeListener=this._register(new vs),this._onDprChange=this._register(new W),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this._register(Me(()=>this.clearListener()))}setWindow(e){this._parentWindow=e,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=X(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var e;this._outerListener&&((e=this._resolutionMediaMatchList)==null||e.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){!this._resolutionMediaMatchList||!this._outerListener||(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}},D2=class extends ne{constructor(){super(),this.linkProviders=[],this._register(Me(()=>this.linkProviders.length=0))}registerLinkProvider(e){return this.linkProviders.push(e),{dispose:()=>{let t=this.linkProviders.indexOf(e);t!==-1&&this.linkProviders.splice(t,1)}}}};function Fp(e,t,r){let i=r.getBoundingClientRect(),n=e.getComputedStyle(r),s=parseInt(n.getPropertyValue("padding-left")),o=parseInt(n.getPropertyValue("padding-top"));return[t.clientX-i.left-s,t.clientY-i.top-o]}function N2(e,t,r,i,n,s,o,l,a){if(!s)return;let c=Fp(e,t,r);if(c)return c[0]=Math.ceil((c[0]+(a?o/2:0))/o),c[1]=Math.ceil(c[1]/l),c[0]=Math.min(Math.max(c[0],1),i+(a?1:0)),c[1]=Math.min(Math.max(c[1],1),n),c}var Gd=class{constructor(e,t){this._renderService=e,this._charSizeService=t}getCoords(e,t,r,i,n){return N2(window,e,t,r,i,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,n)}getMouseReportCoords(e,t){let r=Fp(window,e,t);if(this._charSizeService.hasValidSize)return r[0]=Math.min(Math.max(r[0],0),this._renderService.dimensions.css.canvas.width-1),r[1]=Math.min(Math.max(r[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(r[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(r[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(r[0]),y:Math.floor(r[1])}}};Gd=Fe([U(0,fi),U(1,Wc)],Gd);var O2=class{constructor(e,t){this._renderCallback=e,this._coreBrowserService=t,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(e){return this._refreshCallbacks.push(e),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(e,t,r){this._rowCount=r,e=e!==void 0?e:0,t=t!==void 0?t:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,e):e,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,t):t,!this._animationFrame&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0){this._runRefreshCallbacks();return}let e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(let e of this._refreshCallbacks)e(0);this._refreshCallbacks=[]}},NS={};Vx(NS,{getSafariVersion:()=>M2,isChromeOS:()=>BS,isFirefox:()=>OS,isIpad:()=>B2,isIphone:()=>$2,isLegacyEdge:()=>I2,isLinux:()=>zp,isMac:()=>ec,isNode:()=>Vc,isSafari:()=>IS,isWindows:()=>MS});var Vc=typeof process<"u"&&"title"in process,hl=Vc?"node":navigator.userAgent,dl=Vc?"node":navigator.platform,OS=hl.includes("Firefox"),I2=hl.includes("Edge"),IS=/^((?!chrome|android).)*safari/i.test(hl);function M2(){if(!IS)return 0;let e=hl.match(/Version\/(\d+)/);return e===null||e.length<2?0:parseInt(e[1])}var ec=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(dl),B2=dl==="iPad",$2=dl==="iPhone",MS=["Windows","Win16","Win32","WinCE"].includes(dl),zp=dl.indexOf("Linux")>=0,BS=/\bCrOS\b/.test(hl),$S=class{constructor(){this._tasks=[],this._i=0}enqueue(e){this._tasks.push(e),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(e){this._idleCallback=void 0;let t=0,r=0,i=e.timeRemaining(),n=0;for(;this._i<this._tasks.length;){if(t=Date.now(),this._tasks[this._i]()||this._i++,t=Math.max(1,Date.now()-t),r=Math.max(t,r),n=e.timeRemaining(),r*1.5>n){i-t<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(i-t))}ms`),this._start();return}i=n}this.clear()}},F2=class extends $S{_requestCallback(e){return setTimeout(()=>e(this._createDeadline(16)))}_cancelCallback(e){clearTimeout(e)}_createDeadline(e){let t=Date.now()+e;return{timeRemaining:()=>Math.max(0,t-Date.now())}}},z2=class extends $S{_requestCallback(e){return requestIdleCallback(e)}_cancelCallback(e){cancelIdleCallback(e)}},tc=!Vc&&"requestIdleCallback"in window?z2:F2,H2=class{constructor(){this._queue=new tc}set(e){this._queue.clear(),this._queue.enqueue(e)}flush(){this._queue.flush()}},Kd=class extends ne{constructor(e,t,r,i,n,s,o,l){super(),this._rowCount=e,this._charSizeService=i,this._renderer=this._register(new vs),this._pausedResizeTask=new H2,this._observerDisposable=this._register(new vs),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this._register(new W),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this._register(new W),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this._register(new W),this.onRender=this._onRender.event,this._onRefreshRequest=this._register(new W),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new O2((a,c)=>this._renderRows(a,c),o),this._register(this._renderDebouncer),this._register(o.onDprChange(()=>this.handleDevicePixelRatioChange())),this._register(s.onResize(()=>this._fullRefresh())),this._register(s.buffers.onBufferActivate(()=>{var a;return(a=this._renderer.value)==null?void 0:a.clear()})),this._register(r.onOptionChange(()=>this._handleOptionsChanged())),this._register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this._register(n.onDecorationRegistered(()=>this._fullRefresh())),this._register(n.onDecorationRemoved(()=>this._fullRefresh())),this._register(r.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(s.cols,s.rows),this._fullRefresh()})),this._register(r.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(s.buffer.y,s.buffer.y,!0))),this._register(l.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(o.window,t),this._register(o.onWindowChange(a=>this._registerIntersectionObserver(a,t)))}get dimensions(){return this._renderer.value.dimensions}_registerIntersectionObserver(e,t){if("IntersectionObserver"in e){let r=new e.IntersectionObserver(i=>this._handleIntersectionChange(i[i.length-1]),{threshold:0});r.observe(t),this._observerDisposable.value=Me(()=>r.disconnect())}}_handleIntersectionChange(e){this._isPaused=e.isIntersecting===void 0?e.intersectionRatio===0:!e.isIntersecting,!this._isPaused&&!this._charSizeService.hasValidSize&&this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(e,t,r=!1){if(this._isPaused){this._needsFullRefresh=!0;return}r||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount)}_renderRows(e,t){this._renderer.value&&(e=Math.min(e,this._rowCount-1),t=Math.min(t,this._rowCount-1),this._renderer.value.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:e,end:t}),this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0)}resize(e,t){this._rowCount=t,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(e){this._renderer.value=e,this._renderer.value&&(this._renderer.value.onRequestRedraw(t=>this.refreshRows(t.start,t.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(e){return this._renderDebouncer.addRefreshCallback(e)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var e,t;this._renderer.value&&((t=(e=this._renderer.value).clearTextureAtlas)==null||t.call(e),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(e,t){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>{var r;return(r=this._renderer.value)==null?void 0:r.handleResize(e,t)}):this._renderer.value.handleResize(e,t),this._fullRefresh())}handleCharSizeChanged(){var e;(e=this._renderer.value)==null||e.handleCharSizeChanged()}handleBlur(){var e;(e=this._renderer.value)==null||e.handleBlur()}handleFocus(){var e;(e=this._renderer.value)==null||e.handleFocus()}handleSelectionChanged(e,t,r){var i;this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=r,(i=this._renderer.value)==null||i.handleSelectionChanged(e,t,r)}handleCursorMove(){var e;(e=this._renderer.value)==null||e.handleCursorMove()}clear(){var e;(e=this._renderer.value)==null||e.clear()}};Kd=Fe([U(2,Nt),U(3,Wc),U(4,ul),U(5,Dt),U(6,di),U(7,Ls)],Kd);function W2(e,t,r,i){let n=r.buffer.x,s=r.buffer.y;if(!r.buffer.hasScrollback)return U2(n,s,e,t,r,i)+jc(s,t,r,i)+G2(n,s,e,t,r,i);let o;if(s===t)return o=n>e?"D":"C",qo(Math.abs(n-e),Ko(o,i));o=s>t?"D":"C";let l=Math.abs(s-t),a=j2(s>t?e:n,r)+(l-1)*r.cols+1+V2(s>t?n:e);return qo(a,Ko(o,i))}function V2(e,t){return e-1}function j2(e,t){return t.cols-e}function U2(e,t,r,i,n,s){return jc(t,i,n,s).length===0?"":qo(zS(e,t,e,t-En(t,n),!1,n).length,Ko("D",s))}function jc(e,t,r,i){let n=e-En(e,r),s=t-En(t,r),o=Math.abs(n-s)-K2(e,t,r);return qo(o,Ko(FS(e,t),i))}function G2(e,t,r,i,n,s){let o;jc(t,i,n,s).length>0?o=i-En(i,n):o=t;let l=i,a=q2(e,t,r,i,n,s);return qo(zS(e,o,r,l,a==="C",n).length,Ko(a,s))}function K2(e,t,r){var o;let i=0,n=e-En(e,r),s=t-En(t,r);for(let l=0;l<Math.abs(n-s);l++){let a=FS(e,t)==="A"?-1:1;(o=r.buffer.lines.get(n+a*l))!=null&&o.isWrapped&&i++}return i}function En(e,t){let r=0,i=t.buffer.lines.get(e),n=i==null?void 0:i.isWrapped;for(;n&&e>=0&&e<t.rows;)r++,i=t.buffer.lines.get(--e),n=i==null?void 0:i.isWrapped;return r}function q2(e,t,r,i,n,s){let o;return jc(r,i,n,s).length>0?o=i-En(i,n):o=t,e<r&&o<=i||e>=r&&o<i?"C":"D"}function FS(e,t){return e>t?"A":"B"}function zS(e,t,r,i,n,s){let o=e,l=t,a="";for(;(o!==r||l!==i)&&l>=0&&l<s.buffer.lines.length;)o+=n?1:-1,n&&o>s.cols-1?(a+=s.buffer.translateBufferLineToString(l,!1,e,o),o=0,e=0,l++):!n&&o<0&&(a+=s.buffer.translateBufferLineToString(l,!1,0,e+1),o=s.cols-1,e=o,l--);return a+s.buffer.translateBufferLineToString(l,!1,e,o)}function Ko(e,t){let r=t?"O":"[";return B.ESC+r+e}function qo(e,t){e=Math.floor(e);let r="";for(let i=0;i<e;i++)r+=t;return r}var Y2=class{constructor(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:!this.selectionEnd||!this.selectionStart?this.selectionStart:this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){let e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?e%this._bufferService.cols===0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)-1]:[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){let e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[Math.max(e,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){let e=this.selectionStart,t=this.selectionEnd;return!e||!t?!1:e[1]>t[1]||e[1]===t[1]&&e[0]>t[0]}handleTrim(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}};function Q_(e,t){if(e.start.y>e.end.y)throw new Error(`Buffer range end (${e.end.x}, ${e.end.y}) cannot be before start (${e.start.x}, ${e.start.y})`);return t*(e.end.y-e.start.y)+(e.end.x-e.start.x+1)}var Yu=50,X2=15,Q2=50,Z2=500,J2="",eR=new RegExp(J2,"g"),qd=class extends ne{constructor(e,t,r,i,n,s,o,l,a){super(),this._element=e,this._screenElement=t,this._linkifier=r,this._bufferService=i,this._coreService=n,this._mouseService=s,this._optionsService=o,this._renderService=l,this._coreBrowserService=a,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new dr,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this._register(new W),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this._register(new W),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this._register(new W),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this._register(new W),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=c=>this._handleMouseMove(c),this._mouseUpListener=c=>this._handleMouseUp(c),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(c=>this._handleTrim(c)),this._register(this._bufferService.buffers.onBufferActivate(c=>this._handleBufferActivate(c))),this.enable(),this._model=new Y2(this._bufferService),this._activeSelectionMode=0,this._register(Me(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!e||!t?!1:e[0]!==t[0]||e[1]!==t[1]}get selectionText(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";let r=this._bufferService.buffer,i=[];if(this._activeSelectionMode===3){if(e[0]===t[0])return"";let n=e[0]<t[0]?e[0]:t[0],s=e[0]<t[0]?t[0]:e[0];for(let o=e[1];o<=t[1];o++){let l=r.translateBufferLineToString(o,!0,n,s);i.push(l)}}else{let n=e[1]===t[1]?t[0]:void 0;i.push(r.translateBufferLineToString(e[1],!0,e[0],n));for(let s=e[1]+1;s<=t[1]-1;s++){let o=r.lines.get(s),l=r.translateBufferLineToString(s,!0);o!=null&&o.isWrapped?i[i.length-1]+=l:i.push(l)}if(e[1]!==t[1]){let s=r.lines.get(t[1]),o=r.translateBufferLineToString(t[1],!0,0,t[0]);s&&s.isWrapped?i[i.length-1]+=o:i.push(o)}}return i.map(n=>n.replace(eR," ")).join(MS?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(e){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),zp&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(e){let t=this._getMouseBufferCoords(e),r=this._model.finalSelectionStart,i=this._model.finalSelectionEnd;return!r||!i||!t?!1:this._areCoordsInSelection(t,r,i)}isCellInSelection(e,t){let r=this._model.finalSelectionStart,i=this._model.finalSelectionEnd;return!r||!i?!1:this._areCoordsInSelection([e,t],r,i)}_areCoordsInSelection(e,t,r){return e[1]>t[1]&&e[1]<r[1]||t[1]===r[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<r[0]||t[1]<r[1]&&e[1]===r[1]&&e[0]<r[0]||t[1]<r[1]&&e[1]===t[1]&&e[0]>=t[0]}_selectWordAtCursor(e,t){var n,s;let r=(s=(n=this._linkifier.currentLink)==null?void 0:n.link)==null?void 0:s.range;if(r)return this._model.selectionStart=[r.start.x-1,r.start.y-1],this._model.selectionStartLength=Q_(r,this._bufferService.cols),this._model.selectionEnd=void 0,!0;let i=this._getMouseBufferCoords(e);return i?(this._selectWordAt(i,t),this._model.selectionEnd=void 0,!0):!1}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()}_handleTrim(e){this._model.handleTrim(e)&&this.refresh()}_getMouseBufferCoords(e){let t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t}_getMouseEventScrollAmount(e){let t=Fp(this._coreBrowserService.window,e,this._screenElement)[1],r=this._renderService.dimensions.css.canvas.height;return t>=0&&t<=r?0:(t>r&&(t-=r),t=Math.min(Math.max(t,-Yu),Yu),t/=Yu,t/Math.abs(t)+Math.round(t*(X2-1)))}shouldForceSelection(e){return ec?e.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:e.shiftKey}handleMouseDown(e){if(this._mouseDownTimeStamp=e.timeStamp,!(e.button===2&&this.hasSelection)&&e.button===0){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._handleIncrementalClick(e):e.detail===1?this._handleSingleClick(e):e.detail===2?this._handleDoubleClick(e):e.detail===3&&this._handleTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),Q2)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))}_handleSingleClick(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),!this._model.selectionStart)return;this._model.selectionEnd=void 0;let t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&t.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(e){this._selectWordAtCursor(e,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(e){let t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))}shouldColumnSelect(e){return e.altKey&&!(ec&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(e){if(e.stopImmediatePropagation(),!this._model.selectionStart)return;let t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),!this._model.selectionEnd){this.refresh(!0);return}this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));let r=this._bufferService.buffer;if(this._model.selectionEnd[1]<r.lines.length){let i=r.lines.get(this._model.selectionEnd[1]);i&&i.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}(!t||t[0]!==this._model.selectionEnd[0]||t[1]!==this._model.selectionEnd[1])&&this.refresh(!0)}_dragScroll(){if(!(!this._model.selectionEnd||!this._model.selectionStart)&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});let e=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}}_handleMouseUp(e){let t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<Z2&&e.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){let r=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(r&&r[0]!==void 0&&r[1]!==void 0){let i=W2(r[0]-1,r[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(i,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd,r=!!e&&!!t&&(e[0]!==t[0]||e[1]!==t[1]);if(!r){this._oldHasSelection&&this._fireOnSelectionChange(e,t,r);return}!e||!t||(!this._oldSelectionStart||!this._oldSelectionEnd||e[0]!==this._oldSelectionStart[0]||e[1]!==this._oldSelectionStart[1]||t[0]!==this._oldSelectionEnd[0]||t[1]!==this._oldSelectionEnd[1])&&this._fireOnSelectionChange(e,t,r)}_fireOnSelectionChange(e,t,r){this._oldSelectionStart=e,this._oldSelectionEnd=t,this._oldHasSelection=r,this._onSelectionChange.fire()}_handleBufferActivate(e){this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim(t=>this._handleTrim(t))}_convertViewportColToCharacterIndex(e,t){let r=t;for(let i=0;t>=i;i++){let n=e.loadCell(i,this._workCell).getChars().length;this._workCell.getWidth()===0?r--:n>1&&t!==i&&(r+=n-1)}return r}setSelection(e,t,r){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=r,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(e){this._isClickInSelection(e)||(this._selectWordAtCursor(e,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(e,t,r=!0,i=!0){if(e[0]>=this._bufferService.cols)return;let n=this._bufferService.buffer,s=n.lines.get(e[1]);if(!s)return;let o=n.translateBufferLineToString(e[1],!1),l=this._convertViewportColToCharacterIndex(s,e[0]),a=l,c=e[0]-l,u=0,h=0,d=0,f=0;if(o.charAt(l)===" "){for(;l>0&&o.charAt(l-1)===" ";)l--;for(;a<o.length&&o.charAt(a+1)===" ";)a++}else{let S=e[0],m=e[0];s.getWidth(S)===0&&(u++,S--),s.getWidth(m)===2&&(h++,m++);let v=s.getString(m).length;for(v>1&&(f+=v-1,a+=v-1);S>0&&l>0&&!this._isCharWordSeparator(s.loadCell(S-1,this._workCell));){s.loadCell(S-1,this._workCell);let y=this._workCell.getChars().length;this._workCell.getWidth()===0?(u++,S--):y>1&&(d+=y-1,l-=y-1),l--,S--}for(;m<s.length&&a+1<o.length&&!this._isCharWordSeparator(s.loadCell(m+1,this._workCell));){s.loadCell(m+1,this._workCell);let y=this._workCell.getChars().length;this._workCell.getWidth()===2?(h++,m++):y>1&&(f+=y-1,a+=y-1),a++,m++}}a++;let p=l+c-u+d,_=Math.min(this._bufferService.cols,a-l+u+h-d-f);if(!(!t&&o.slice(l,a).trim()==="")){if(r&&p===0&&s.getCodePoint(0)!==32){let S=n.lines.get(e[1]-1);if(S&&s.isWrapped&&S.getCodePoint(this._bufferService.cols-1)!==32){let m=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(m){let v=this._bufferService.cols-m.start;p-=v,_+=v}}}if(i&&p+_===this._bufferService.cols&&s.getCodePoint(this._bufferService.cols-1)!==32){let S=n.lines.get(e[1]+1);if(S!=null&&S.isWrapped&&S.getCodePoint(0)!==32){let m=this._getWordAt([0,e[1]+1],!1,!1,!0);m&&(_+=m.length)}}return{start:p,length:_}}}_selectWordAt(e,t){let r=this._getWordAt(e,t);if(r){for(;r.start<0;)r.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[r.start,e[1]],this._model.selectionStartLength=r.length}}_selectToWordAt(e){let t=this._getWordAt(e,!0);if(t){let r=e[1];for(;t.start<0;)t.start+=this._bufferService.cols,r--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,r++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,r]}}_isCharWordSeparator(e){return e.getWidth()===0?!1:this._optionsService.rawOptions.wordSeparator.indexOf(e.getChars())>=0}_selectLineAt(e){let t=this._bufferService.buffer.getWrappedRangeForLine(e),r={start:{x:0,y:t.first},end:{x:this._bufferService.cols-1,y:t.last}};this._model.selectionStart=[0,t.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=Q_(r,this._bufferService.cols)}};qd=Fe([U(3,Dt),U(4,Ts),U(5,Dp),U(6,Nt),U(7,fi),U(8,di)],qd);var Z_=class{constructor(){this._data={}}set(e,t,r){this._data[e]||(this._data[e]={}),this._data[e][t]=r}get(e,t){return this._data[e]?this._data[e][t]:void 0}clear(){this._data={}}},J_=class{constructor(){this._color=new Z_,this._css=new Z_}setCss(e,t,r){this._css.set(e,t,r)}getCss(e,t){return this._css.get(e,t)}setColor(e,t,r){this._color.set(e,t,r)}getColor(e,t){return this._color.get(e,t)}clear(){this._color.clear(),this._css.clear()}},Ke=Object.freeze((()=>{let e=[De.toColor("#2e3436"),De.toColor("#cc0000"),De.toColor("#4e9a06"),De.toColor("#c4a000"),De.toColor("#3465a4"),De.toColor("#75507b"),De.toColor("#06989a"),De.toColor("#d3d7cf"),De.toColor("#555753"),De.toColor("#ef2929"),De.toColor("#8ae234"),De.toColor("#fce94f"),De.toColor("#729fcf"),De.toColor("#ad7fa8"),De.toColor("#34e2e2"),De.toColor("#eeeeec")],t=[0,95,135,175,215,255];for(let r=0;r<216;r++){let i=t[r/36%6|0],n=t[r/6%6|0],s=t[r%6];e.push({css:je.toCss(i,n,s),rgba:je.toRgba(i,n,s)})}for(let r=0;r<24;r++){let i=8+r*10;e.push({css:je.toCss(i,i,i),rgba:je.toRgba(i,i,i)})}return e})()),ln=De.toColor("#ffffff"),co=De.toColor("#000000"),eg=De.toColor("#ffffff"),tg=co,Qs={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117},tR=ln,Yd=class extends ne{constructor(e){super(),this._optionsService=e,this._contrastCache=new J_,this._halfContrastCache=new J_,this._onChangeColors=this._register(new W),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:ln,background:co,cursor:eg,cursorAccent:tg,selectionForeground:void 0,selectionBackgroundTransparent:Qs,selectionBackgroundOpaque:xe.blend(co,Qs),selectionInactiveBackgroundTransparent:Qs,selectionInactiveBackgroundOpaque:xe.blend(co,Qs),scrollbarSliderBackground:xe.opacity(ln,.2),scrollbarSliderHoverBackground:xe.opacity(ln,.4),scrollbarSliderActiveBackground:xe.opacity(ln,.5),overviewRulerBorder:ln,ansi:Ke.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this._register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this._register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(e={}){let t=this._colors;if(t.foreground=ve(e.foreground,ln),t.background=ve(e.background,co),t.cursor=xe.blend(t.background,ve(e.cursor,eg)),t.cursorAccent=xe.blend(t.background,ve(e.cursorAccent,tg)),t.selectionBackgroundTransparent=ve(e.selectionBackground,Qs),t.selectionBackgroundOpaque=xe.blend(t.background,t.selectionBackgroundTransparent),t.selectionInactiveBackgroundTransparent=ve(e.selectionInactiveBackground,t.selectionBackgroundTransparent),t.selectionInactiveBackgroundOpaque=xe.blend(t.background,t.selectionInactiveBackgroundTransparent),t.selectionForeground=e.selectionForeground?ve(e.selectionForeground,q_):void 0,t.selectionForeground===q_&&(t.selectionForeground=void 0),xe.isOpaque(t.selectionBackgroundTransparent)&&(t.selectionBackgroundTransparent=xe.opacity(t.selectionBackgroundTransparent,.3)),xe.isOpaque(t.selectionInactiveBackgroundTransparent)&&(t.selectionInactiveBackgroundTransparent=xe.opacity(t.selectionInactiveBackgroundTransparent,.3)),t.scrollbarSliderBackground=ve(e.scrollbarSliderBackground,xe.opacity(t.foreground,.2)),t.scrollbarSliderHoverBackground=ve(e.scrollbarSliderHoverBackground,xe.opacity(t.foreground,.4)),t.scrollbarSliderActiveBackground=ve(e.scrollbarSliderActiveBackground,xe.opacity(t.foreground,.5)),t.overviewRulerBorder=ve(e.overviewRulerBorder,tR),t.ansi=Ke.slice(),t.ansi[0]=ve(e.black,Ke[0]),t.ansi[1]=ve(e.red,Ke[1]),t.ansi[2]=ve(e.green,Ke[2]),t.ansi[3]=ve(e.yellow,Ke[3]),t.ansi[4]=ve(e.blue,Ke[4]),t.ansi[5]=ve(e.magenta,Ke[5]),t.ansi[6]=ve(e.cyan,Ke[6]),t.ansi[7]=ve(e.white,Ke[7]),t.ansi[8]=ve(e.brightBlack,Ke[8]),t.ansi[9]=ve(e.brightRed,Ke[9]),t.ansi[10]=ve(e.brightGreen,Ke[10]),t.ansi[11]=ve(e.brightYellow,Ke[11]),t.ansi[12]=ve(e.brightBlue,Ke[12]),t.ansi[13]=ve(e.brightMagenta,Ke[13]),t.ansi[14]=ve(e.brightCyan,Ke[14]),t.ansi[15]=ve(e.brightWhite,Ke[15]),e.extendedAnsi){let r=Math.min(t.ansi.length-16,e.extendedAnsi.length);for(let i=0;i<r;i++)t.ansi[i+16]=ve(e.extendedAnsi[i],Ke[i+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(e){this._restoreColor(e),this._onChangeColors.fire(this.colors)}_restoreColor(e){if(e===void 0){for(let t=0;t<this._restoreColors.ansi.length;++t)this._colors.ansi[t]=this._restoreColors.ansi[t];return}switch(e){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[e]=this._restoreColors.ansi[e]}}modifyColors(e){e(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};Yd=Fe([U(0,Nt)],Yd);function ve(e,t){if(e!==void 0)try{return De.toColor(e)}catch{}return t}var rR=class{constructor(...e){this._entries=new Map;for(let[t,r]of e)this.set(t,r)}set(e,t){let r=this._entries.get(e);return this._entries.set(e,t),r}forEach(e){for(let[t,r]of this._entries.entries())e(t,r)}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}},iR=class{constructor(){this._services=new rR,this._services.set(Ap,this)}setService(e,t){this._services.set(e,t)}getService(e){return this._services.get(e)}createInstance(e,...t){let r=Xx(e).sort((s,o)=>s.index-o.index),i=[];for(let s of r){let o=this._services.get(s.id);if(!o)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${s.id._id}.`);i.push(o)}let n=r.length>0?r[0].index:t.length;if(t.length!==n)throw new Error(`[createInstance] First service dependency of ${e.name} at position ${n+1} conflicts with ${t.length} static arguments`);return new e(...t,...i)}},nR={trace:0,debug:1,info:2,warn:3,error:4,off:5},sR="xterm.js: ",Xd=class extends ne{constructor(e){super(),this._optionsService=e,this._logLevel=5,this._updateLogLevel(),this._register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}get logLevel(){return this._logLevel}_updateLogLevel(){this._logLevel=nR[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(e){for(let t=0;t<e.length;t++)typeof e[t]=="function"&&(e[t]=e[t]())}_log(e,t,r){this._evalLazyOptionalParams(r),e.call(console,(this._optionsService.options.logger?"":sR)+t,...r)}trace(e,...t){var r;this._logLevel<=0&&this._log(((r=this._optionsService.options.logger)==null?void 0:r.trace.bind(this._optionsService.options.logger))??console.log,e,t)}debug(e,...t){var r;this._logLevel<=1&&this._log(((r=this._optionsService.options.logger)==null?void 0:r.debug.bind(this._optionsService.options.logger))??console.log,e,t)}info(e,...t){var r;this._logLevel<=2&&this._log(((r=this._optionsService.options.logger)==null?void 0:r.info.bind(this._optionsService.options.logger))??console.info,e,t)}warn(e,...t){var r;this._logLevel<=3&&this._log(((r=this._optionsService.options.logger)==null?void 0:r.warn.bind(this._optionsService.options.logger))??console.warn,e,t)}error(e,...t){var r;this._logLevel<=4&&this._log(((r=this._optionsService.options.logger)==null?void 0:r.error.bind(this._optionsService.options.logger))??console.error,e,t)}};Xd=Fe([U(0,Nt)],Xd);var rg=class extends ne{constructor(e){super(),this._maxLength=e,this.onDeleteEmitter=this._register(new W),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this._register(new W),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this._register(new W),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(e){if(this._maxLength===e)return;let t=new Array(e);for(let r=0;r<Math.min(e,this.length);r++)t[r]=this._array[this._getCyclicIndex(r)];this._array=t,this._maxLength=e,this._startIndex=0}get length(){return this._length}set length(e){if(e>this._length)for(let t=this._length;t<e;t++)this._array[t]=void 0;this._length=e}get(e){return this._array[this._getCyclicIndex(e)]}set(e,t){this._array[this._getCyclicIndex(e)]=t}push(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(e,t,...r){if(t){for(let i=e;i<this._length-t;i++)this._array[this._getCyclicIndex(i)]=this._array[this._getCyclicIndex(i+t)];this._length-=t,this.onDeleteEmitter.fire({index:e,amount:t})}for(let i=this._length-1;i>=e;i--)this._array[this._getCyclicIndex(i+r.length)]=this._array[this._getCyclicIndex(i)];for(let i=0;i<r.length;i++)this._array[this._getCyclicIndex(e+i)]=r[i];if(r.length&&this.onInsertEmitter.fire({index:e,amount:r.length}),this._length+r.length>this._maxLength){let i=this._length+r.length-this._maxLength;this._startIndex+=i,this._length=this._maxLength,this.onTrimEmitter.fire(i)}else this._length+=r.length}trimStart(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)}shiftElements(e,t,r){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+r<0)throw new Error("Cannot shift elements in list beyond index 0");if(r>0){for(let n=t-1;n>=0;n--)this.set(e+n+r,this.get(e+n));let i=e+t+r-this._length;if(i>0)for(this._length+=i;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let i=0;i<t;i++)this.set(e+i+r,this.get(e+i))}}_getCyclicIndex(e){return(this._startIndex+e)%this._maxLength}},ie=3,Ve=Object.freeze(new cl),Wl=0,Xu=2,uo=class HS{constructor(t,r,i=!1){this.isWrapped=i,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(t*ie);let n=r||dr.fromCharData([0,sS,1,0]);for(let s=0;s<t;++s)this.setCell(s,n);this.length=t}get(t){let r=this._data[t*ie+0],i=r&2097151;return[this._data[t*ie+1],r&2097152?this._combined[t]:i?xi(i):"",r>>22,r&2097152?this._combined[t].charCodeAt(this._combined[t].length-1):i]}set(t,r){this._data[t*ie+1]=r[0],r[1].length>1?(this._combined[t]=r[1],this._data[t*ie+0]=t|2097152|r[2]<<22):this._data[t*ie+0]=r[1].charCodeAt(0)|r[2]<<22}getWidth(t){return this._data[t*ie+0]>>22}hasWidth(t){return this._data[t*ie+0]&12582912}getFg(t){return this._data[t*ie+1]}getBg(t){return this._data[t*ie+2]}hasContent(t){return this._data[t*ie+0]&4194303}getCodePoint(t){let r=this._data[t*ie+0];return r&2097152?this._combined[t].charCodeAt(this._combined[t].length-1):r&2097151}isCombined(t){return this._data[t*ie+0]&2097152}getString(t){let r=this._data[t*ie+0];return r&2097152?this._combined[t]:r&2097151?xi(r&2097151):""}isProtected(t){return this._data[t*ie+2]&536870912}loadCell(t,r){return Wl=t*ie,r.content=this._data[Wl+0],r.fg=this._data[Wl+1],r.bg=this._data[Wl+2],r.content&2097152&&(r.combinedData=this._combined[t]),r.bg&268435456&&(r.extended=this._extendedAttrs[t]),r}setCell(t,r){r.content&2097152&&(this._combined[t]=r.combinedData),r.bg&268435456&&(this._extendedAttrs[t]=r.extended),this._data[t*ie+0]=r.content,this._data[t*ie+1]=r.fg,this._data[t*ie+2]=r.bg}setCellFromCodepoint(t,r,i,n){n.bg&268435456&&(this._extendedAttrs[t]=n.extended),this._data[t*ie+0]=r|i<<22,this._data[t*ie+1]=n.fg,this._data[t*ie+2]=n.bg}addCodepointToCell(t,r,i){let n=this._data[t*ie+0];n&2097152?this._combined[t]+=xi(r):n&2097151?(this._combined[t]=xi(n&2097151)+xi(r),n&=-2097152,n|=2097152):n=r|1<<22,i&&(n&=-12582913,n|=i<<22),this._data[t*ie+0]=n}insertCells(t,r,i){if(t%=this.length,t&&this.getWidth(t-1)===2&&this.setCellFromCodepoint(t-1,0,1,i),r<this.length-t){let n=new dr;for(let s=this.length-t-r-1;s>=0;--s)this.setCell(t+r+s,this.loadCell(t+s,n));for(let s=0;s<r;++s)this.setCell(t+s,i)}else for(let n=t;n<this.length;++n)this.setCell(n,i);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,i)}deleteCells(t,r,i){if(t%=this.length,r<this.length-t){let n=new dr;for(let s=0;s<this.length-t-r;++s)this.setCell(t+s,this.loadCell(t+r+s,n));for(let s=this.length-r;s<this.length;++s)this.setCell(s,i)}else for(let n=t;n<this.length;++n)this.setCell(n,i);t&&this.getWidth(t-1)===2&&this.setCellFromCodepoint(t-1,0,1,i),this.getWidth(t)===0&&!this.hasContent(t)&&this.setCellFromCodepoint(t,0,1,i)}replaceCells(t,r,i,n=!1){if(n){for(t&&this.getWidth(t-1)===2&&!this.isProtected(t-1)&&this.setCellFromCodepoint(t-1,0,1,i),r<this.length&&this.getWidth(r-1)===2&&!this.isProtected(r)&&this.setCellFromCodepoint(r,0,1,i);t<r&&t<this.length;)this.isProtected(t)||this.setCell(t,i),t++;return}for(t&&this.getWidth(t-1)===2&&this.setCellFromCodepoint(t-1,0,1,i),r<this.length&&this.getWidth(r-1)===2&&this.setCellFromCodepoint(r,0,1,i);t<r&&t<this.length;)this.setCell(t++,i)}resize(t,r){if(t===this.length)return this._data.length*4*Xu<this._data.buffer.byteLength;let i=t*ie;if(t>this.length){if(this._data.buffer.byteLength>=i*4)this._data=new Uint32Array(this._data.buffer,0,i);else{let n=new Uint32Array(i);n.set(this._data),this._data=n}for(let n=this.length;n<t;++n)this.setCell(n,r)}else{this._data=this._data.subarray(0,i);let n=Object.keys(this._combined);for(let o=0;o<n.length;o++){let l=parseInt(n[o],10);l>=t&&delete this._combined[l]}let s=Object.keys(this._extendedAttrs);for(let o=0;o<s.length;o++){let l=parseInt(s[o],10);l>=t&&delete this._extendedAttrs[l]}}return this.length=t,i*4*Xu<this._data.buffer.byteLength}cleanupMemory(){if(this._data.length*4*Xu<this._data.buffer.byteLength){let t=new Uint32Array(this._data.length);return t.set(this._data),this._data=t,1}return 0}fill(t,r=!1){if(r){for(let i=0;i<this.length;++i)this.isProtected(i)||this.setCell(i,t);return}this._combined={},this._extendedAttrs={};for(let i=0;i<this.length;++i)this.setCell(i,t)}copyFrom(t){this.length!==t.length?this._data=new Uint32Array(t._data):this._data.set(t._data),this.length=t.length,this._combined={};for(let r in t._combined)this._combined[r]=t._combined[r];this._extendedAttrs={};for(let r in t._extendedAttrs)this._extendedAttrs[r]=t._extendedAttrs[r];this.isWrapped=t.isWrapped}clone(){let t=new HS(0);t._data=new Uint32Array(this._data),t.length=this.length;for(let r in this._combined)t._combined[r]=this._combined[r];for(let r in this._extendedAttrs)t._extendedAttrs[r]=this._extendedAttrs[r];return t.isWrapped=this.isWrapped,t}getTrimmedLength(){for(let t=this.length-1;t>=0;--t)if(this._data[t*ie+0]&4194303)return t+(this._data[t*ie+0]>>22);return 0}getNoBgTrimmedLength(){for(let t=this.length-1;t>=0;--t)if(this._data[t*ie+0]&4194303||this._data[t*ie+2]&50331648)return t+(this._data[t*ie+0]>>22);return 0}copyCellsFrom(t,r,i,n,s){let o=t._data;if(s)for(let a=n-1;a>=0;a--){for(let c=0;c<ie;c++)this._data[(i+a)*ie+c]=o[(r+a)*ie+c];o[(r+a)*ie+2]&268435456&&(this._extendedAttrs[i+a]=t._extendedAttrs[r+a])}else for(let a=0;a<n;a++){for(let c=0;c<ie;c++)this._data[(i+a)*ie+c]=o[(r+a)*ie+c];o[(r+a)*ie+2]&268435456&&(this._extendedAttrs[i+a]=t._extendedAttrs[r+a])}let l=Object.keys(t._combined);for(let a=0;a<l.length;a++){let c=parseInt(l[a],10);c>=r&&(this._combined[c-r+i]=t._combined[c])}}translateToString(t,r,i,n){r=r??0,i=i??this.length,t&&(i=Math.min(i,this.getTrimmedLength())),n&&(n.length=0);let s="";for(;r<i;){let o=this._data[r*ie+0],l=o&2097151,a=o&2097152?this._combined[r]:l?xi(l):Li;if(s+=a,n)for(let c=0;c<a.length;++c)n.push(r);r+=o>>22||1}return n&&n.push(r),s}};function oR(e,t,r,i,n,s){let o=[];for(let l=0;l<e.length-1;l++){let a=l,c=e.get(++a);if(!c.isWrapped)continue;let u=[e.get(l)];for(;a<e.length&&c.isWrapped;)u.push(c),c=e.get(++a);if(!s&&i>=l&&i<a){l+=u.length-1;continue}let h=0,d=Yo(u,h,t),f=1,p=0;for(;f<u.length;){let S=Yo(u,f,t),m=S-p,v=r-d,y=Math.min(m,v);u[h].copyCellsFrom(u[f],p,d,y,!1),d+=y,d===r&&(h++,d=0),p+=y,p===S&&(f++,p=0),d===0&&h!==0&&u[h-1].getWidth(r-1)===2&&(u[h].copyCellsFrom(u[h-1],r-1,d++,1,!1),u[h-1].setCell(r-1,n))}u[h].replaceCells(d,r,n);let _=0;for(let S=u.length-1;S>0&&(S>h||u[S].getTrimmedLength()===0);S--)_++;_>0&&(o.push(l+u.length-_),o.push(_)),l+=u.length-1}return o}function lR(e,t){let r=[],i=0,n=t[i],s=0;for(let o=0;o<e.length;o++)if(n===o){let l=t[++i];e.onDeleteEmitter.fire({index:o-s,amount:l}),o+=l-1,s+=l,n=t[++i]}else r.push(o);return{layout:r,countRemoved:s}}function aR(e,t){let r=[];for(let i=0;i<t.length;i++)r.push(e.get(t[i]));for(let i=0;i<r.length;i++)e.set(i,r[i]);e.length=t.length}function cR(e,t,r){let i=[],n=e.map((a,c)=>Yo(e,c,t)).reduce((a,c)=>a+c),s=0,o=0,l=0;for(;l<n;){if(n-l<r){i.push(n-l);break}s+=r;let a=Yo(e,o,t);s>a&&(s-=a,o++);let c=e[o].getWidth(s-1)===2;c&&s--;let u=c?r-1:r;i.push(u),l+=u}return i}function Yo(e,t,r){if(t===e.length-1)return e[t].getTrimmedLength();let i=!e[t].hasContent(r-1)&&e[t].getWidth(r-1)===1,n=e[t+1].getWidth(0)===2;return i&&n?r-1:r}var WS=class VS{constructor(t){this.line=t,this.isDisposed=!1,this._disposables=[],this._id=VS._nextId++,this._onDispose=this.register(new W),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),bn(this._disposables),this._disposables.length=0)}register(t){return this._disposables.push(t),t}};WS._nextId=1;var uR=WS,Ze={},an=Ze.B;Ze[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""};Ze.A={"#":""};Ze.B=void 0;Ze[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""};Ze.C=Ze[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};Ze.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""};Ze.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};Ze.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""};Ze.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""};Ze.E=Ze[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};Ze.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""};Ze.H=Ze[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};Ze["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""};var ig=4294967295,ng=class{constructor(e,t,r){this._hasScrollback=e,this._optionsService=t,this._bufferService=r,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=Ve.clone(),this.savedCharset=an,this.markers=[],this._nullCell=dr.fromCharData([0,sS,1,0]),this._whitespaceCell=dr.fromCharData([0,Li,1,32]),this._isClearing=!1,this._memoryCleanupQueue=new tc,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new rg(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new Qa),this._nullCell}getWhitespaceCell(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new Qa),this._whitespaceCell}getBlankLine(e,t){return new uo(this._bufferService.cols,this.getNullCell(e),t)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){let e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows}_getCorrectBufferLength(e){if(!this._hasScrollback)return e;let t=e+this._optionsService.rawOptions.scrollback;return t>ig?ig:t}fillViewportRows(e){if(this.lines.length===0){e===void 0&&(e=Ve);let t=this._rows;for(;t--;)this.lines.push(this.getBlankLine(e))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new rg(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(e,t){let r=this.getNullCell(Ve),i=0,n=this._getCorrectBufferLength(t);if(n>this.lines.maxLength&&(this.lines.maxLength=n),this.lines.length>0){if(this._cols<e)for(let o=0;o<this.lines.length;o++)i+=+this.lines.get(o).resize(e,r);let s=0;if(this._rows<t)for(let o=this._rows;o<t;o++)this.lines.length<t+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new uo(e,r)):this.ybase>0&&this.lines.length<=this.ybase+this.y+s+1?(this.ybase--,s++,this.ydisp>0&&this.ydisp--):this.lines.push(new uo(e,r)));else for(let o=this._rows;o>t;o--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(n<this.lines.maxLength){let o=this.lines.length-n;o>0&&(this.lines.trimStart(o),this.ybase=Math.max(this.ybase-o,0),this.ydisp=Math.max(this.ydisp-o,0),this.savedY=Math.max(this.savedY-o,0)),this.lines.maxLength=n}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),s&&(this.y+=s),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(let s=0;s<this.lines.length;s++)i+=+this.lines.get(s).resize(e,r);this._cols=e,this._rows=t,this._memoryCleanupQueue.clear(),i>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let e=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,e=!1);let t=0;for(;this._memoryCleanupPosition<this.lines.length;)if(t+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),t>100)return!0;return e}get _isReflowEnabled(){let e=this._optionsService.rawOptions.windowsPty;return e&&e.buildNumber?this._hasScrollback&&e.backend==="conpty"&&e.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))}_reflowLarger(e,t){let r=this._optionsService.rawOptions.reflowCursorLine,i=oR(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(Ve),r);if(i.length>0){let n=lR(this.lines,i);aR(this.lines,n.layout),this._reflowLargerAdjustViewport(e,t,n.countRemoved)}}_reflowLargerAdjustViewport(e,t,r){let i=this.getNullCell(Ve),n=r;for(;n-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new uo(e,i))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-r,0)}_reflowSmaller(e,t){let r=this._optionsService.rawOptions.reflowCursorLine,i=this.getNullCell(Ve),n=[],s=0;for(let o=this.lines.length-1;o>=0;o--){let l=this.lines.get(o);if(!l||!l.isWrapped&&l.getTrimmedLength()<=e)continue;let a=[l];for(;l.isWrapped&&o>0;)l=this.lines.get(--o),a.unshift(l);if(!r){let y=this.ybase+this.y;if(y>=o&&y<o+a.length)continue}let c=a[a.length-1].getTrimmedLength(),u=cR(a,this._cols,e),h=u.length-a.length,d;this.ybase===0&&this.y!==this.lines.length-1?d=Math.max(0,this.y-this.lines.maxLength+h):d=Math.max(0,this.lines.length-this.lines.maxLength+h);let f=[];for(let y=0;y<h;y++){let w=this.getBlankLine(Ve,!0);f.push(w)}f.length>0&&(n.push({start:o+a.length+s,newLines:f}),s+=f.length),a.push(...f);let p=u.length-1,_=u[p];_===0&&(p--,_=u[p]);let S=a.length-h-1,m=c;for(;S>=0;){let y=Math.min(m,_);if(a[p]===void 0)break;if(a[p].copyCellsFrom(a[S],m-y,_-y,y,!0),_-=y,_===0&&(p--,_=u[p]),m-=y,m===0){S--;let w=Math.max(S,0);m=Yo(a,w,this._cols)}}for(let y=0;y<a.length;y++)u[y]<e&&a[y].setCell(u[y],i);let v=h-d;for(;v-- >0;)this.ybase===0?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+s)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+h,this.ybase+t-1)}if(n.length>0){let o=[],l=[];for(let _=0;_<this.lines.length;_++)l.push(this.lines.get(_));let a=this.lines.length,c=a-1,u=0,h=n[u];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+s);let d=0;for(let _=Math.min(this.lines.maxLength-1,a+s-1);_>=0;_--)if(h&&h.start>c+d){for(let S=h.newLines.length-1;S>=0;S--)this.lines.set(_--,h.newLines[S]);_++,o.push({index:c+1,amount:h.newLines.length}),d+=h.newLines.length,h=n[++u]}else this.lines.set(_,l[c--]);let f=0;for(let _=o.length-1;_>=0;_--)o[_].index+=f,this.lines.onInsertEmitter.fire(o[_]),f+=o[_].amount;let p=Math.max(0,a+s-this.lines.maxLength);p>0&&this.lines.onTrimEmitter.fire(p)}}translateBufferLineToString(e,t,r=0,i){let n=this.lines.get(e);return n?n.translateToString(t,r,i):""}getWrappedRangeForLine(e){let t=e,r=e;for(;t>0&&this.lines.get(t).isWrapped;)t--;for(;r+1<this.lines.length&&this.lines.get(r+1).isWrapped;)r++;return{first:t,last:r}}setupTabStops(e){for(e!=null?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.rawOptions.tabStopWidth)this.tabs[e]=!0}prevStop(e){for(e==null&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e}nextStop(e){for(e==null&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e}clearMarkers(e){this._isClearing=!0;for(let t=0;t<this.markers.length;t++)this.markers[t].line===e&&(this.markers[t].dispose(),this.markers.splice(t--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let e=0;e<this.markers.length;e++)this.markers[e].dispose();this.markers.length=0,this._isClearing=!1}addMarker(e){let t=new uR(e);return this.markers.push(t),t.register(this.lines.onTrim(r=>{t.line-=r,t.line<0&&t.dispose()})),t.register(this.lines.onInsert(r=>{t.line>=r.index&&(t.line+=r.amount)})),t.register(this.lines.onDelete(r=>{t.line>=r.index&&t.line<r.index+r.amount&&t.dispose(),t.line>r.index&&(t.line-=r.amount)})),t.register(t.onDispose(()=>this._removeMarker(t))),t}_removeMarker(e){this._isClearing||this.markers.splice(this.markers.indexOf(e),1)}},hR=class extends ne{constructor(e,t){super(),this._optionsService=e,this._bufferService=t,this._onBufferActivate=this._register(new W),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this._register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this._register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new ng(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new ng(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(e,t){this._normal.resize(e,t),this._alt.resize(e,t),this.setupTabStops(e)}setupTabStops(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)}},jS=2,US=1,Qd=class extends ne{constructor(e){super(),this.isUserScrolling=!1,this._onResize=this._register(new W),this.onResize=this._onResize.event,this._onScroll=this._register(new W),this.onScroll=this._onScroll.event,this.cols=Math.max(e.rawOptions.cols||0,jS),this.rows=Math.max(e.rawOptions.rows||0,US),this.buffers=this._register(new hR(e,this)),this._register(this.buffers.onBufferActivate(t=>{this._onScroll.fire(t.activeBuffer.ydisp)}))}get buffer(){return this.buffers.active}resize(e,t){this.cols=e,this.rows=t,this.buffers.resize(e,t),this._onResize.fire({cols:e,rows:t})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(e,t=!1){let r=this.buffer,i;i=this._cachedBlankLine,(!i||i.length!==this.cols||i.getFg(0)!==e.fg||i.getBg(0)!==e.bg)&&(i=r.getBlankLine(e,t),this._cachedBlankLine=i),i.isWrapped=t;let n=r.ybase+r.scrollTop,s=r.ybase+r.scrollBottom;if(r.scrollTop===0){let o=r.lines.isFull;s===r.lines.length-1?o?r.lines.recycle().copyFrom(i):r.lines.push(i.clone()):r.lines.splice(s+1,0,i.clone()),o?this.isUserScrolling&&(r.ydisp=Math.max(r.ydisp-1,0)):(r.ybase++,this.isUserScrolling||r.ydisp++)}else{let o=s-n+1;r.lines.shiftElements(n+1,o-1,-1),r.lines.set(s,i.clone())}this.isUserScrolling||(r.ydisp=r.ybase),this._onScroll.fire(r.ydisp)}scrollLines(e,t){let r=this.buffer;if(e<0){if(r.ydisp===0)return;this.isUserScrolling=!0}else e+r.ydisp>=r.ybase&&(this.isUserScrolling=!1);let i=r.ydisp;r.ydisp=Math.max(Math.min(r.ydisp+e,r.ybase),0),i!==r.ydisp&&(t||this._onScroll.fire(r.ydisp))}};Qd=Fe([U(0,Nt)],Qd);var Nn={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnEraseInDisplay:!1,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},reflowCursorLine:!1,rescaleOverlappingGlyphs:!1,rightClickSelectsWord:ec,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRuler:{}},dR=["normal","bold","100","200","300","400","500","600","700","800","900"],fR=class extends ne{constructor(e){super(),this._onOptionChange=this._register(new W),this.onOptionChange=this._onOptionChange.event;let t={...Nn};for(let r in e)if(r in t)try{let i=e[r];t[r]=this._sanitizeAndValidateOption(r,i)}catch(i){console.error(i)}this.rawOptions=t,this.options={...t},this._setupOptions(),this._register(Me(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(e,t){return this.onOptionChange(r=>{r===e&&t(this.rawOptions[e])})}onMultipleOptionChange(e,t){return this.onOptionChange(r=>{e.indexOf(r)!==-1&&t()})}_setupOptions(){let e=r=>{if(!(r in Nn))throw new Error(`No option with key "${r}"`);return this.rawOptions[r]},t=(r,i)=>{if(!(r in Nn))throw new Error(`No option with key "${r}"`);i=this._sanitizeAndValidateOption(r,i),this.rawOptions[r]!==i&&(this.rawOptions[r]=i,this._onOptionChange.fire(r))};for(let r in this.rawOptions){let i={get:e.bind(this,r),set:t.bind(this,r)};Object.defineProperty(this.options,r,i)}}_sanitizeAndValidateOption(e,t){switch(e){case"cursorStyle":if(t||(t=Nn[e]),!pR(t))throw new Error(`"${t}" is not a valid value for ${e}`);break;case"wordSeparator":t||(t=Nn[e]);break;case"fontWeight":case"fontWeightBold":if(typeof t=="number"&&1<=t&&t<=1e3)break;t=dR.includes(t)?t:Nn[e];break;case"cursorWidth":t=Math.floor(t);case"lineHeight":case"tabStopWidth":if(t<1)throw new Error(`${e} cannot be less than 1, value: ${t}`);break;case"minimumContrastRatio":t=Math.max(1,Math.min(21,Math.round(t*10)/10));break;case"scrollback":if(t=Math.min(t,4294967295),t<0)throw new Error(`${e} cannot be less than 0, value: ${t}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(t<=0)throw new Error(`${e} cannot be less than or equal to 0, value: ${t}`);break;case"rows":case"cols":if(!t&&t!==0)throw new Error(`${e} must be numeric, value: ${t}`);break;case"windowsPty":t=t??{};break}return t}};function pR(e){return e==="block"||e==="underline"||e==="bar"}function ho(e,t=5){if(typeof e!="object")return e;let r=Array.isArray(e)?[]:{};for(let i in e)r[i]=t<=1?e[i]:e[i]&&ho(e[i],t-1);return r}var sg=Object.freeze({insertMode:!1}),og=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,cursorBlink:void 0,cursorStyle:void 0,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),Zd=class extends ne{constructor(t,r,i){super(),this._bufferService=t,this._logService=r,this._optionsService=i,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this._register(new W),this.onData=this._onData.event,this._onUserInput=this._register(new W),this.onUserInput=this._onUserInput.event,this._onBinary=this._register(new W),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this._register(new W),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=ho(sg),this.decPrivateModes=ho(og)}reset(){this.modes=ho(sg),this.decPrivateModes=ho(og)}triggerDataEvent(t,r=!1){if(this._optionsService.rawOptions.disableStdin)return;let i=this._bufferService.buffer;r&&this._optionsService.rawOptions.scrollOnUserInput&&i.ybase!==i.ydisp&&this._onRequestScrollToBottom.fire(),r&&this._onUserInput.fire(),this._logService.debug(`sending data "${t}"`,()=>t.split("").map(n=>n.charCodeAt(0))),this._onData.fire(t)}triggerBinaryEvent(t){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${t}"`,()=>t.split("").map(r=>r.charCodeAt(0))),this._onBinary.fire(t))}};Zd=Fe([U(0,Dt),U(1,uS),U(2,Nt)],Zd);var lg={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:e=>e.button===4||e.action!==1?!1:(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)},VT200:{events:19,restrict:e=>e.action!==32},DRAG:{events:23,restrict:e=>!(e.action===32&&e.button===3)},ANY:{events:31,restrict:e=>!0}};function Qu(e,t){let r=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return e.button===4?(r|=64,r|=e.action):(r|=e.button&3,e.button&4&&(r|=64),e.button&8&&(r|=128),e.action===32?r|=32:e.action===0&&!t&&(r|=3)),r}var Zu=String.fromCharCode,ag={DEFAULT:e=>{let t=[Qu(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":`\x1B[M${Zu(t[0])}${Zu(t[1])}${Zu(t[2])}`},SGR:e=>{let t=e.action===0&&e.button!==4?"m":"M";return`\x1B[<${Qu(e,!0)};${e.col};${e.row}${t}`},SGR_PIXELS:e=>{let t=e.action===0&&e.button!==4?"m":"M";return`\x1B[<${Qu(e,!0)};${e.x};${e.y}${t}`}},Jd=class extends ne{constructor(e,t,r){super(),this._bufferService=e,this._coreService=t,this._optionsService=r,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._wheelPartialScroll=0,this._onProtocolChange=this._register(new W),this.onProtocolChange=this._onProtocolChange.event;for(let i of Object.keys(lg))this.addProtocol(i,lg[i]);for(let i of Object.keys(ag))this.addEncoding(i,ag[i]);this.reset()}addProtocol(e,t){this._protocols[e]=t}addEncoding(e,t){this._encodings[e]=t}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(e){if(!this._protocols[e])throw new Error(`unknown protocol "${e}"`);this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(e){if(!this._encodings[e])throw new Error(`unknown encoding "${e}"`);this._activeEncoding=e}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null,this._wheelPartialScroll=0}consumeWheelEvent(e,t,r){if(e.deltaY===0||e.shiftKey||t===void 0||r===void 0)return 0;let i=t/r,n=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(n/=i+0,Math.abs(e.deltaY)<50&&(n*=.3),this._wheelPartialScroll+=n,n=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(n*=this._bufferService.rows),n}_applyScrollModifier(e,t){return t.altKey||t.ctrlKey||t.shiftKey?e*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:e*this._optionsService.rawOptions.scrollSensitivity}triggerMouseEvent(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows||e.button===4&&e.action===32||e.button===3&&e.action!==32||e.button!==4&&(e.action===2||e.action===3)||(e.col++,e.row++,e.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,e,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(e))return!1;let t=this._encodings[this._activeEncoding](e);return t&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0}explainEvents(e){return{down:!!(e&1),up:!!(e&2),drag:!!(e&4),move:!!(e&8),wheel:!!(e&16)}}_equalEvents(e,t,r){if(r){if(e.x!==t.x||e.y!==t.y)return!1}else if(e.col!==t.col||e.row!==t.row)return!1;return!(e.button!==t.button||e.action!==t.action||e.ctrl!==t.ctrl||e.alt!==t.alt||e.shift!==t.shift)}};Jd=Fe([U(0,Dt),U(1,Ts),U(2,Nt)],Jd);var Ju=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],mR=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],qe;function _R(e,t){let r=0,i=t.length-1,n;if(e<t[0][0]||e>t[i][1])return!1;for(;i>=r;)if(n=r+i>>1,e>t[n][1])r=n+1;else if(e<t[n][0])i=n-1;else return!0;return!1}var gR=class{constructor(){if(this.version="6",!qe){qe=new Uint8Array(65536),qe.fill(1),qe[0]=0,qe.fill(0,1,32),qe.fill(0,127,160),qe.fill(2,4352,4448),qe[9001]=2,qe[9002]=2,qe.fill(2,11904,42192),qe[12351]=1,qe.fill(2,44032,55204),qe.fill(2,63744,64256),qe.fill(2,65040,65050),qe.fill(2,65072,65136),qe.fill(2,65280,65377),qe.fill(2,65504,65511);for(let e=0;e<Ju.length;++e)qe.fill(0,Ju[e][0],Ju[e][1]+1)}}wcwidth(e){return e<32?0:e<127?1:e<65536?qe[e]:_R(e,mR)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1}charProperties(e,t){let r=this.wcwidth(e),i=r===0&&t!==0;if(i){let n=dn.extractWidth(t);n===0?i=!1:n>r&&(r=n)}return dn.createPropertyValue(0,r,i)}},dn=class ya{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new W,this.onChange=this._onChange.event;let t=new gR;this.register(t),this._active=t.version,this._activeProvider=t}static extractShouldJoin(t){return(t&1)!==0}static extractWidth(t){return t>>1&3}static extractCharKind(t){return t>>3}static createPropertyValue(t,r,i=!1){return(t&16777215)<<3|(r&3)<<1|(i?1:0)}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(t){if(!this._providers[t])throw new Error(`unknown Unicode version "${t}"`);this._active=t,this._activeProvider=this._providers[t],this._onChange.fire(t)}register(t){this._providers[t.version]=t}wcwidth(t){return this._activeProvider.wcwidth(t)}getStringCellWidth(t){let r=0,i=0,n=t.length;for(let s=0;s<n;++s){let o=t.charCodeAt(s);if(55296<=o&&o<=56319){if(++s>=n)return r+this.wcwidth(o);let c=t.charCodeAt(s);56320<=c&&c<=57343?o=(o-55296)*1024+c-56320+65536:r+=this.wcwidth(c)}let l=this.charProperties(o,i),a=ya.extractWidth(l);ya.extractShouldJoin(l)&&(a-=ya.extractWidth(i)),r+=a,i=l}return r}charProperties(t,r){return this._activeProvider.charProperties(t,r)}},vR=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(e){this.glevel=e,this.charset=this._charsets[e]}setgCharset(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)}};function cg(e){var i;let t=(i=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1))==null?void 0:i.get(e.cols-1),r=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);r&&t&&(r.isWrapped=t[3]!==0&&t[3]!==32)}var Zs=2147483647,yR=256,GS=class ef{constructor(t=32,r=32){if(this.maxLength=t,this.maxSubParamsLength=r,r>yR)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(t),this.length=0,this._subParams=new Int32Array(r),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(t),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(t){let r=new ef;if(!t.length)return r;for(let i=Array.isArray(t[0])?1:0;i<t.length;++i){let n=t[i];if(Array.isArray(n))for(let s=0;s<n.length;++s)r.addSubParam(n[s]);else r.addParam(n)}return r}clone(){let t=new ef(this.maxLength,this.maxSubParamsLength);return t.params.set(this.params),t.length=this.length,t._subParams.set(this._subParams),t._subParamsLength=this._subParamsLength,t._subParamsIdx.set(this._subParamsIdx),t._rejectDigits=this._rejectDigits,t._rejectSubDigits=this._rejectSubDigits,t._digitIsSub=this._digitIsSub,t}toArray(){let t=[];for(let r=0;r<this.length;++r){t.push(this.params[r]);let i=this._subParamsIdx[r]>>8,n=this._subParamsIdx[r]&255;n-i>0&&t.push(Array.prototype.slice.call(this._subParams,i,n))}return t}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(t){if(this._digitIsSub=!1,this.length>=this.maxLength){this._rejectDigits=!0;return}if(t<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=t>Zs?Zs:t}addSubParam(t){if(this._digitIsSub=!0,!!this.length){if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength){this._rejectSubDigits=!0;return}if(t<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=t>Zs?Zs:t,this._subParamsIdx[this.length-1]++}}hasSubParams(t){return(this._subParamsIdx[t]&255)-(this._subParamsIdx[t]>>8)>0}getSubParams(t){let r=this._subParamsIdx[t]>>8,i=this._subParamsIdx[t]&255;return i-r>0?this._subParams.subarray(r,i):null}getSubParamsAll(){let t={};for(let r=0;r<this.length;++r){let i=this._subParamsIdx[r]>>8,n=this._subParamsIdx[r]&255;n-i>0&&(t[r]=this._subParams.slice(i,n))}return t}addDigit(t){let r;if(this._rejectDigits||!(r=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;let i=this._digitIsSub?this._subParams:this.params,n=i[r-1];i[r-1]=~n?Math.min(n*10+t,Zs):t}},Js=[],SR=class{constructor(){this._state=0,this._active=Js,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(e,t){this._handlers[e]===void 0&&(this._handlers[e]=[]);let r=this._handlers[e];return r.push(t),{dispose:()=>{let i=r.indexOf(t);i!==-1&&r.splice(i,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=Js}reset(){if(this._state===2)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].end(!1);this._stack.paused=!1,this._active=Js,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||Js,!this._active.length)this._handlerFb(this._id,"START");else for(let e=this._active.length-1;e>=0;e--)this._active[e].start()}_put(e,t,r){if(!this._active.length)this._handlerFb(this._id,"PUT",Hc(e,t,r));else for(let i=this._active.length-1;i>=0;i--)this._active[i].put(e,t,r)}start(){this.reset(),this._state=1}put(e,t,r){if(this._state!==3){if(this._state===1)for(;t<r;){let i=e[t++];if(i===59){this._state=2,this._start();break}if(i<48||57<i){this._state=3;return}this._id===-1&&(this._id=0),this._id=this._id*10+i-48}this._state===2&&r-t>0&&this._put(e,t,r)}}end(e,t=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),!this._active.length)this._handlerFb(this._id,"END",e);else{let r=!1,i=this._active.length-1,n=!1;if(this._stack.paused&&(i=this._stack.loopPosition-1,r=t,n=this._stack.fallThrough,this._stack.paused=!1),!n&&r===!1){for(;i>=0&&(r=this._active[i].end(e),r!==!0);i--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!1,r;i--}for(;i>=0;i--)if(r=this._active[i].end(!1),r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!0,r}this._active=Js,this._id=-1,this._state=0}}},Vt=class{constructor(e){this._handler=e,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(e,t,r){this._hitLimit||(this._data+=Hc(e,t,r),this._data.length>1e7&&(this._data="",this._hitLimit=!0))}end(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data),t instanceof Promise))return t.then(r=>(this._data="",this._hitLimit=!1,r));return this._data="",this._hitLimit=!1,t}},eo=[],wR=class{constructor(){this._handlers=Object.create(null),this._active=eo,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=eo}registerHandler(e,t){this._handlers[e]===void 0&&(this._handlers[e]=[]);let r=this._handlers[e];return r.push(t),{dispose:()=>{let i=r.indexOf(t);i!==-1&&r.splice(i,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}reset(){if(this._active.length)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].unhook(!1);this._stack.paused=!1,this._active=eo,this._ident=0}hook(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||eo,!this._active.length)this._handlerFb(this._ident,"HOOK",t);else for(let r=this._active.length-1;r>=0;r--)this._active[r].hook(t)}put(e,t,r){if(!this._active.length)this._handlerFb(this._ident,"PUT",Hc(e,t,r));else for(let i=this._active.length-1;i>=0;i--)this._active[i].put(e,t,r)}unhook(e,t=!0){if(!this._active.length)this._handlerFb(this._ident,"UNHOOK",e);else{let r=!1,i=this._active.length-1,n=!1;if(this._stack.paused&&(i=this._stack.loopPosition-1,r=t,n=this._stack.fallThrough,this._stack.paused=!1),!n&&r===!1){for(;i>=0&&(r=this._active[i].unhook(e),r!==!0);i--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!1,r;i--}for(;i>=0;i--)if(r=this._active[i].unhook(!1),r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!0,r}this._active=eo,this._ident=0}},fo=new GS;fo.addParam(0);var ug=class{constructor(e){this._handler=e,this._data="",this._params=fo,this._hitLimit=!1}hook(e){this._params=e.length>1||e.params[0]?e.clone():fo,this._data="",this._hitLimit=!1}put(e,t,r){this._hitLimit||(this._data+=Hc(e,t,r),this._data.length>1e7&&(this._data="",this._hitLimit=!0))}unhook(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data,this._params),t instanceof Promise))return t.then(r=>(this._params=fo,this._data="",this._hitLimit=!1,r));return this._params=fo,this._data="",this._hitLimit=!1,t}},CR=class{constructor(e){this.table=new Uint8Array(e)}setDefault(e,t){this.table.fill(e<<4|t)}add(e,t,r,i){this.table[t<<8|e]=r<<4|i}addMany(e,t,r,i){for(let n=0;n<e.length;n++)this.table[t<<8|e[n]]=r<<4|i}},or=160,bR=function(){let e=new CR(4095),t=Array.apply(null,Array(256)).map((l,a)=>a),r=(l,a)=>t.slice(l,a),i=r(32,127),n=r(0,24);n.push(25),n.push.apply(n,r(28,32));let s=r(0,14),o;e.setDefault(1,0),e.addMany(i,0,2,0);for(o in s)e.addMany([24,26,153,154],o,3,0),e.addMany(r(128,144),o,3,0),e.addMany(r(144,152),o,3,0),e.add(156,o,0,0),e.add(27,o,11,1),e.add(157,o,4,8),e.addMany([152,158,159],o,0,7),e.add(155,o,11,3),e.add(144,o,11,9);return e.addMany(n,0,3,0),e.addMany(n,1,3,1),e.add(127,1,0,1),e.addMany(n,8,0,8),e.addMany(n,3,3,3),e.add(127,3,0,3),e.addMany(n,4,3,4),e.add(127,4,0,4),e.addMany(n,6,3,6),e.addMany(n,5,3,5),e.add(127,5,0,5),e.addMany(n,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(i,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(r(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(i,7,0,7),e.addMany(n,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(r(64,127),3,7,0),e.addMany(r(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(r(48,60),4,8,4),e.addMany(r(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(r(32,64),6,0,6),e.add(127,6,0,6),e.addMany(r(64,127),6,0,0),e.addMany(r(32,48),3,9,5),e.addMany(r(32,48),5,9,5),e.addMany(r(48,64),5,0,6),e.addMany(r(64,127),5,7,0),e.addMany(r(32,48),4,9,5),e.addMany(r(32,48),1,9,2),e.addMany(r(32,48),2,9,2),e.addMany(r(48,127),2,10,0),e.addMany(r(48,80),1,10,0),e.addMany(r(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(r(96,127),1,10,0),e.add(80,1,11,9),e.addMany(n,9,0,9),e.add(127,9,0,9),e.addMany(r(28,32),9,0,9),e.addMany(r(32,48),9,9,12),e.addMany(r(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(n,11,0,11),e.addMany(r(32,128),11,0,11),e.addMany(r(28,32),11,0,11),e.addMany(n,10,0,10),e.add(127,10,0,10),e.addMany(r(28,32),10,0,10),e.addMany(r(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(r(32,48),10,9,12),e.addMany(n,12,0,12),e.add(127,12,0,12),e.addMany(r(28,32),12,0,12),e.addMany(r(32,48),12,9,12),e.addMany(r(48,64),12,0,11),e.addMany(r(64,127),12,12,13),e.addMany(r(64,127),10,12,13),e.addMany(r(64,127),9,12,13),e.addMany(n,13,13,13),e.addMany(i,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(or,0,2,0),e.add(or,8,5,8),e.add(or,6,0,6),e.add(or,11,0,11),e.add(or,13,13,13),e}(),ER=class extends ne{constructor(e=bR){super(),this._transitions=e,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new GS,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(t,r,i)=>{},this._executeHandlerFb=t=>{},this._csiHandlerFb=(t,r)=>{},this._escHandlerFb=t=>{},this._errorHandlerFb=t=>t,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this._register(Me(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this._register(new SR),this._dcsParser=this._register(new wR),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(e,t=[64,126]){let r=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if(r=e.prefix.charCodeAt(0),r&&60>r||r>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let n=0;n<e.intermediates.length;++n){let s=e.intermediates.charCodeAt(n);if(32>s||s>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");r<<=8,r|=s}}if(e.final.length!==1)throw new Error("final must be a single byte");let i=e.final.charCodeAt(0);if(t[0]>i||i>t[1])throw new Error(`final must be in range ${t[0]} .. ${t[1]}`);return r<<=8,r|=i,r}identToString(e){let t=[];for(;e;)t.push(String.fromCharCode(e&255)),e>>=8;return t.reverse().join("")}setPrintHandler(e){this._printHandler=e}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(e,t){let r=this._identifier(e,[48,126]);this._escHandlers[r]===void 0&&(this._escHandlers[r]=[]);let i=this._escHandlers[r];return i.push(t),{dispose:()=>{let n=i.indexOf(t);n!==-1&&i.splice(n,1)}}}clearEscHandler(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]}setEscHandlerFallback(e){this._escHandlerFb=e}setExecuteHandler(e,t){this._executeHandlers[e.charCodeAt(0)]=t}clearExecuteHandler(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]}setExecuteHandlerFallback(e){this._executeHandlerFb=e}registerCsiHandler(e,t){let r=this._identifier(e);this._csiHandlers[r]===void 0&&(this._csiHandlers[r]=[]);let i=this._csiHandlers[r];return i.push(t),{dispose:()=>{let n=i.indexOf(t);n!==-1&&i.splice(n,1)}}}clearCsiHandler(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]}setCsiHandlerFallback(e){this._csiHandlerFb=e}registerDcsHandler(e,t){return this._dcsParser.registerHandler(this._identifier(e),t)}clearDcsHandler(e){this._dcsParser.clearHandler(this._identifier(e))}setDcsHandlerFallback(e){this._dcsParser.setHandlerFallback(e)}registerOscHandler(e,t){return this._oscParser.registerHandler(e,t)}clearOscHandler(e){this._oscParser.clearHandler(e)}setOscHandlerFallback(e){this._oscParser.setHandlerFallback(e)}setErrorHandler(e){this._errorHandler=e}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(e,t,r,i,n){this._parseStack.state=e,this._parseStack.handlers=t,this._parseStack.handlerPos=r,this._parseStack.transition=i,this._parseStack.chunkPos=n}parse(e,t,r){let i=0,n=0,s=0,o;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,s=this._parseStack.chunkPos+1;else{if(r===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");let l=this._parseStack.handlers,a=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(r===!1&&a>-1){for(;a>=0&&(o=l[a](this._params),o!==!0);a--)if(o instanceof Promise)return this._parseStack.handlerPos=a,o}this._parseStack.handlers=[];break;case 4:if(r===!1&&a>-1){for(;a>=0&&(o=l[a](),o!==!0);a--)if(o instanceof Promise)return this._parseStack.handlerPos=a,o}this._parseStack.handlers=[];break;case 6:if(i=e[this._parseStack.chunkPos],o=this._dcsParser.unhook(i!==24&&i!==26,r),o)return o;i===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(i=e[this._parseStack.chunkPos],o=this._oscParser.end(i!==24&&i!==26,r),o)return o;i===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break}this._parseStack.state=0,s=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=this._parseStack.transition&15}for(let l=s;l<t;++l){switch(i=e[l],n=this._transitions.table[this.currentState<<8|(i<160?i:or)],n>>4){case 2:for(let d=l+1;;++d){if(d>=t||(i=e[d])<32||i>126&&i<or){this._printHandler(e,l,d),l=d-1;break}if(++d>=t||(i=e[d])<32||i>126&&i<or){this._printHandler(e,l,d),l=d-1;break}if(++d>=t||(i=e[d])<32||i>126&&i<or){this._printHandler(e,l,d),l=d-1;break}if(++d>=t||(i=e[d])<32||i>126&&i<or){this._printHandler(e,l,d),l=d-1;break}}break;case 3:this._executeHandlers[i]?this._executeHandlers[i]():this._executeHandlerFb(i),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:l,code:i,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:let a=this._csiHandlers[this._collect<<8|i],c=a?a.length-1:-1;for(;c>=0&&(o=a[c](this._params),o!==!0);c--)if(o instanceof Promise)return this._preserveStack(3,a,c,n,l),o;c<0&&this._csiHandlerFb(this._collect<<8|i,this._params),this.precedingJoinState=0;break;case 8:do switch(i){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(i-48)}while(++l<t&&(i=e[l])>47&&i<60);l--;break;case 9:this._collect<<=8,this._collect|=i;break;case 10:let u=this._escHandlers[this._collect<<8|i],h=u?u.length-1:-1;for(;h>=0&&(o=u[h](),o!==!0);h--)if(o instanceof Promise)return this._preserveStack(4,u,h,n,l),o;h<0&&this._escHandlerFb(this._collect<<8|i),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|i,this._params);break;case 13:for(let d=l+1;;++d)if(d>=t||(i=e[d])===24||i===26||i===27||i>127&&i<or){this._dcsParser.put(e,l,d),l=d-1;break}break;case 14:if(o=this._dcsParser.unhook(i!==24&&i!==26),o)return this._preserveStack(6,[],0,n,l),o;i===27&&(n|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let d=l+1;;d++)if(d>=t||(i=e[d])<32||i>127&&i<or){this._oscParser.put(e,l,d),l=d-1;break}break;case 6:if(o=this._oscParser.end(i!==24&&i!==26),o)return this._preserveStack(5,[],0,n,l),o;i===27&&(n|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break}this.currentState=n&15}}},xR=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,kR=/^[\da-f]+$/;function hg(e){if(!e)return;let t=e.toLowerCase();if(t.indexOf("rgb:")===0){t=t.slice(4);let r=xR.exec(t);if(r){let i=r[1]?15:r[4]?255:r[7]?4095:65535;return[Math.round(parseInt(r[1]||r[4]||r[7]||r[10],16)/i*255),Math.round(parseInt(r[2]||r[5]||r[8]||r[11],16)/i*255),Math.round(parseInt(r[3]||r[6]||r[9]||r[12],16)/i*255)]}}else if(t.indexOf("#")===0&&(t=t.slice(1),kR.exec(t)&&[3,6,9,12].includes(t.length))){let r=t.length/3,i=[0,0,0];for(let n=0;n<3;++n){let s=parseInt(t.slice(r*n,r*n+r),16);i[n]=r===1?s<<4:r===2?s:r===3?s>>4:s>>8}return i}}function eh(e,t){let r=e.toString(16),i=r.length<2?"0"+r:r;switch(t){case 4:return r[0];case 8:return i;case 12:return(i+i).slice(0,3);default:return i+i}}function RR(e,t=16){let[r,i,n]=e;return`rgb:${eh(r,t)}/${eh(i,t)}/${eh(n,t)}`}var PR={"(":0,")":1,"*":2,"+":3,"-":1,".":2},Si=131072,dg=10;function fg(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}var pg=5e3,mg=0,TR=class extends ne{constructor(e,t,r,i,n,s,o,l,a=new ER){super(),this._bufferService=e,this._charsetService=t,this._coreService=r,this._logService=i,this._optionsService=n,this._oscLinkService=s,this._coreMouseService=o,this._unicodeService=l,this._parser=a,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new qx,this._utf8Decoder=new Yx,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=Ve.clone(),this._eraseAttrDataInternal=Ve.clone(),this._onRequestBell=this._register(new W),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this._register(new W),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this._register(new W),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this._register(new W),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this._register(new W),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this._register(new W),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this._register(new W),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this._register(new W),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this._register(new W),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this._register(new W),this.onLineFeed=this._onLineFeed.event,this._onScroll=this._register(new W),this.onScroll=this._onScroll.event,this._onTitleChange=this._register(new W),this.onTitleChange=this._onTitleChange.event,this._onColor=this._register(new W),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this._register(this._parser),this._dirtyRowTracker=new tf(this._bufferService),this._activeBuffer=this._bufferService.buffer,this._register(this._bufferService.buffers.onBufferActivate(c=>this._activeBuffer=c.activeBuffer)),this._parser.setCsiHandlerFallback((c,u)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(c),params:u.toArray()})}),this._parser.setEscHandlerFallback(c=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(c)})}),this._parser.setExecuteHandlerFallback(c=>{this._logService.debug("Unknown EXECUTE code: ",{code:c})}),this._parser.setOscHandlerFallback((c,u,h)=>{this._logService.debug("Unknown OSC code: ",{identifier:c,action:u,data:h})}),this._parser.setDcsHandlerFallback((c,u,h)=>{u==="HOOK"&&(h=h.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(c),action:u,payload:h})}),this._parser.setPrintHandler((c,u,h)=>this.print(c,u,h)),this._parser.registerCsiHandler({final:"@"},c=>this.insertChars(c)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},c=>this.scrollLeft(c)),this._parser.registerCsiHandler({final:"A"},c=>this.cursorUp(c)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},c=>this.scrollRight(c)),this._parser.registerCsiHandler({final:"B"},c=>this.cursorDown(c)),this._parser.registerCsiHandler({final:"C"},c=>this.cursorForward(c)),this._parser.registerCsiHandler({final:"D"},c=>this.cursorBackward(c)),this._parser.registerCsiHandler({final:"E"},c=>this.cursorNextLine(c)),this._parser.registerCsiHandler({final:"F"},c=>this.cursorPrecedingLine(c)),this._parser.registerCsiHandler({final:"G"},c=>this.cursorCharAbsolute(c)),this._parser.registerCsiHandler({final:"H"},c=>this.cursorPosition(c)),this._parser.registerCsiHandler({final:"I"},c=>this.cursorForwardTab(c)),this._parser.registerCsiHandler({final:"J"},c=>this.eraseInDisplay(c,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},c=>this.eraseInDisplay(c,!0)),this._parser.registerCsiHandler({final:"K"},c=>this.eraseInLine(c,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},c=>this.eraseInLine(c,!0)),this._parser.registerCsiHandler({final:"L"},c=>this.insertLines(c)),this._parser.registerCsiHandler({final:"M"},c=>this.deleteLines(c)),this._parser.registerCsiHandler({final:"P"},c=>this.deleteChars(c)),this._parser.registerCsiHandler({final:"S"},c=>this.scrollUp(c)),this._parser.registerCsiHandler({final:"T"},c=>this.scrollDown(c)),this._parser.registerCsiHandler({final:"X"},c=>this.eraseChars(c)),this._parser.registerCsiHandler({final:"Z"},c=>this.cursorBackwardTab(c)),this._parser.registerCsiHandler({final:"`"},c=>this.charPosAbsolute(c)),this._parser.registerCsiHandler({final:"a"},c=>this.hPositionRelative(c)),this._parser.registerCsiHandler({final:"b"},c=>this.repeatPrecedingCharacter(c)),this._parser.registerCsiHandler({final:"c"},c=>this.sendDeviceAttributesPrimary(c)),this._parser.registerCsiHandler({prefix:">",final:"c"},c=>this.sendDeviceAttributesSecondary(c)),this._parser.registerCsiHandler({final:"d"},c=>this.linePosAbsolute(c)),this._parser.registerCsiHandler({final:"e"},c=>this.vPositionRelative(c)),this._parser.registerCsiHandler({final:"f"},c=>this.hVPosition(c)),this._parser.registerCsiHandler({final:"g"},c=>this.tabClear(c)),this._parser.registerCsiHandler({final:"h"},c=>this.setMode(c)),this._parser.registerCsiHandler({prefix:"?",final:"h"},c=>this.setModePrivate(c)),this._parser.registerCsiHandler({final:"l"},c=>this.resetMode(c)),this._parser.registerCsiHandler({prefix:"?",final:"l"},c=>this.resetModePrivate(c)),this._parser.registerCsiHandler({final:"m"},c=>this.charAttributes(c)),this._parser.registerCsiHandler({final:"n"},c=>this.deviceStatus(c)),this._parser.registerCsiHandler({prefix:"?",final:"n"},c=>this.deviceStatusPrivate(c)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},c=>this.softReset(c)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},c=>this.setCursorStyle(c)),this._parser.registerCsiHandler({final:"r"},c=>this.setScrollRegion(c)),this._parser.registerCsiHandler({final:"s"},c=>this.saveCursor(c)),this._parser.registerCsiHandler({final:"t"},c=>this.windowOptions(c)),this._parser.registerCsiHandler({final:"u"},c=>this.restoreCursor(c)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},c=>this.insertColumns(c)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},c=>this.deleteColumns(c)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},c=>this.selectProtected(c)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},c=>this.requestMode(c,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},c=>this.requestMode(c,!1)),this._parser.setExecuteHandler(B.BEL,()=>this.bell()),this._parser.setExecuteHandler(B.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(B.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(B.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(B.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(B.BS,()=>this.backspace()),this._parser.setExecuteHandler(B.HT,()=>this.tab()),this._parser.setExecuteHandler(B.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(B.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(ga.IND,()=>this.index()),this._parser.setExecuteHandler(ga.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(ga.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new Vt(c=>(this.setTitle(c),this.setIconName(c),!0))),this._parser.registerOscHandler(1,new Vt(c=>this.setIconName(c))),this._parser.registerOscHandler(2,new Vt(c=>this.setTitle(c))),this._parser.registerOscHandler(4,new Vt(c=>this.setOrReportIndexedColor(c))),this._parser.registerOscHandler(8,new Vt(c=>this.setHyperlink(c))),this._parser.registerOscHandler(10,new Vt(c=>this.setOrReportFgColor(c))),this._parser.registerOscHandler(11,new Vt(c=>this.setOrReportBgColor(c))),this._parser.registerOscHandler(12,new Vt(c=>this.setOrReportCursorColor(c))),this._parser.registerOscHandler(104,new Vt(c=>this.restoreIndexedColor(c))),this._parser.registerOscHandler(110,new Vt(c=>this.restoreFgColor(c))),this._parser.registerOscHandler(111,new Vt(c=>this.restoreBgColor(c))),this._parser.registerOscHandler(112,new Vt(c=>this.restoreCursorColor(c))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(let c in Ze)this._parser.registerEscHandler({intermediates:"(",final:c},()=>this.selectCharset("("+c)),this._parser.registerEscHandler({intermediates:")",final:c},()=>this.selectCharset(")"+c)),this._parser.registerEscHandler({intermediates:"*",final:c},()=>this.selectCharset("*"+c)),this._parser.registerEscHandler({intermediates:"+",final:c},()=>this.selectCharset("+"+c)),this._parser.registerEscHandler({intermediates:"-",final:c},()=>this.selectCharset("-"+c)),this._parser.registerEscHandler({intermediates:".",final:c},()=>this.selectCharset("."+c)),this._parser.registerEscHandler({intermediates:"/",final:c},()=>this.selectCharset("/"+c));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(c=>(this._logService.error("Parsing error: ",c),c)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new ug((c,u)=>this.requestStatusString(c,u)))}getAttrData(){return this._curAttrData}_preserveStack(e,t,r,i){this._parseStack.paused=!0,this._parseStack.cursorStartX=e,this._parseStack.cursorStartY=t,this._parseStack.decodedLength=r,this._parseStack.position=i}_logSlowResolvingAsync(e){this._logService.logLevel<=3&&Promise.race([e,new Promise((t,r)=>setTimeout(()=>r("#SLOW_TIMEOUT"),pg))]).catch(t=>{if(t!=="#SLOW_TIMEOUT")throw t;console.warn(`async parser handler taking longer than ${pg} ms`)})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(e,t){let r,i=this._activeBuffer.x,n=this._activeBuffer.y,s=0,o=this._parseStack.paused;if(o){if(r=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,t))return this._logSlowResolvingAsync(r),r;i=this._parseStack.cursorStartX,n=this._parseStack.cursorStartY,this._parseStack.paused=!1,e.length>Si&&(s=this._parseStack.position+Si)}if(this._logService.logLevel<=1&&this._logService.debug(`parsing data${typeof e=="string"?` "${e}"`:` "${Array.prototype.map.call(e,c=>String.fromCharCode(c)).join("")}"`}`,typeof e=="string"?e.split("").map(c=>c.charCodeAt(0)):e),this._parseBuffer.length<e.length&&this._parseBuffer.length<Si&&(this._parseBuffer=new Uint32Array(Math.min(e.length,Si))),o||this._dirtyRowTracker.clearRange(),e.length>Si)for(let c=s;c<e.length;c+=Si){let u=c+Si<e.length?c+Si:e.length,h=typeof e=="string"?this._stringDecoder.decode(e.substring(c,u),this._parseBuffer):this._utf8Decoder.decode(e.subarray(c,u),this._parseBuffer);if(r=this._parser.parse(this._parseBuffer,h))return this._preserveStack(i,n,h,c),this._logSlowResolvingAsync(r),r}else if(!o){let c=typeof e=="string"?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer);if(r=this._parser.parse(this._parseBuffer,c))return this._preserveStack(i,n,c,0),this._logSlowResolvingAsync(r),r}(this._activeBuffer.x!==i||this._activeBuffer.y!==n)&&this._onCursorMove.fire();let l=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),a=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);a<this._bufferService.rows&&this._onRequestRefreshRows.fire({start:Math.min(a,this._bufferService.rows-1),end:Math.min(l,this._bufferService.rows-1)})}print(e,t,r){let i,n,s=this._charsetService.charset,o=this._optionsService.rawOptions.screenReaderMode,l=this._bufferService.cols,a=this._coreService.decPrivateModes.wraparound,c=this._coreService.modes.insertMode,u=this._curAttrData,h=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&r-t>0&&h.getWidth(this._activeBuffer.x-1)===2&&h.setCellFromCodepoint(this._activeBuffer.x-1,0,1,u);let d=this._parser.precedingJoinState;for(let f=t;f<r;++f){if(i=e[f],i<127&&s){let m=s[String.fromCharCode(i)];m&&(i=m.charCodeAt(0))}let p=this._unicodeService.charProperties(i,d);n=dn.extractWidth(p);let _=dn.extractShouldJoin(p),S=_?dn.extractWidth(d):0;if(d=p,o&&this._onA11yChar.fire(xi(i)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+n-S>l){if(a){let m=h,v=this._activeBuffer.x-S;for(this._activeBuffer.x=S,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),h=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),S>0&&h instanceof uo&&h.copyCellsFrom(m,v,0,S,!1);v<l;)m.setCellFromCodepoint(v++,0,1,u)}else if(this._activeBuffer.x=l-1,n===2)continue}if(_&&this._activeBuffer.x){let m=h.getWidth(this._activeBuffer.x-1)?1:2;h.addCodepointToCell(this._activeBuffer.x-m,i,n);for(let v=n-S;--v>=0;)h.setCellFromCodepoint(this._activeBuffer.x++,0,0,u);continue}if(c&&(h.insertCells(this._activeBuffer.x,n-S,this._activeBuffer.getNullCell(u)),h.getWidth(l-1)===2&&h.setCellFromCodepoint(l-1,0,1,u)),h.setCellFromCodepoint(this._activeBuffer.x++,i,n,u),n>0)for(;--n;)h.setCellFromCodepoint(this._activeBuffer.x++,0,0,u)}this._parser.precedingJoinState=d,this._activeBuffer.x<l&&r-t>0&&h.getWidth(this._activeBuffer.x)===0&&!h.hasContent(this._activeBuffer.x)&&h.setCellFromCodepoint(this._activeBuffer.x,0,1,u),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(e,t){return e.final==="t"&&!e.prefix&&!e.intermediates?this._parser.registerCsiHandler(e,r=>fg(r.params[0],this._optionsService.rawOptions.windowOptions)?t(r):!0):this._parser.registerCsiHandler(e,t)}registerDcsHandler(e,t){return this._parser.registerDcsHandler(e,new ug(t))}registerEscHandler(e,t){return this._parser.registerEscHandler(e,t)}registerOscHandler(e,t){return this._parser.registerOscHandler(e,new Vt(t))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var e;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&e.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);t.hasWidth(this._activeBuffer.x)&&!t.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let e=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-e),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(e=this._bufferService.cols-1){this._activeBuffer.x=Math.min(e,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(e,t){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=e,this._activeBuffer.y=this._activeBuffer.scrollTop+t):(this._activeBuffer.x=e,this._activeBuffer.y=t),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(e,t){this._restrictCursor(),this._setCursor(this._activeBuffer.x+e,this._activeBuffer.y+t)}cursorUp(e){let t=this._activeBuffer.y-this._activeBuffer.scrollTop;return t>=0?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1)),!0}cursorDown(e){let t=this._activeBuffer.scrollBottom-this._activeBuffer.y;return t>=0?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1),!0}cursorForward(e){return this._moveCursor(e.params[0]||1,0),!0}cursorBackward(e){return this._moveCursor(-(e.params[0]||1),0),!0}cursorNextLine(e){return this.cursorDown(e),this._activeBuffer.x=0,!0}cursorPrecedingLine(e){return this.cursorUp(e),this._activeBuffer.x=0,!0}cursorCharAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(e){return this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1),!0}charPosAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(e){return this._moveCursor(e.params[0]||1,0),!0}linePosAbsolute(e){return this._setCursor(this._activeBuffer.x,(e.params[0]||1)-1),!0}vPositionRelative(e){return this._moveCursor(0,e.params[0]||1),!0}hVPosition(e){return this.cursorPosition(e),!0}tabClear(e){let t=e.params[0];return t===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:t===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(e){let t=e.params[0];return t===1&&(this._curAttrData.bg|=536870912),(t===2||t===0)&&(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(e,t,r,i=!1,n=!1){let s=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);s.replaceCells(t,r,this._activeBuffer.getNullCell(this._eraseAttrData()),n),i&&(s.isWrapped=!1)}_resetBufferLine(e,t=!1){let r=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);r&&(r.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),t),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+e),r.isWrapped=!1)}eraseInDisplay(e,t=!1){var i;this._restrictCursor(this._bufferService.cols);let r;switch(e.params[0]){case 0:for(r=this._activeBuffer.y,this._dirtyRowTracker.markDirty(r),this._eraseInBufferLine(r++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,t);r<this._bufferService.rows;r++)this._resetBufferLine(r,t);this._dirtyRowTracker.markDirty(r);break;case 1:for(r=this._activeBuffer.y,this._dirtyRowTracker.markDirty(r),this._eraseInBufferLine(r,0,this._activeBuffer.x+1,!0,t),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(r+1).isWrapped=!1);r--;)this._resetBufferLine(r,t);this._dirtyRowTracker.markDirty(0);break;case 2:if(this._optionsService.rawOptions.scrollOnEraseInDisplay){for(r=this._bufferService.rows,this._dirtyRowTracker.markRangeDirty(0,r-1);r--&&!((i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r))!=null&&i.getTrimmedLength()););for(;r>=0;r--)this._bufferService.scroll(this._eraseAttrData())}else{for(r=this._bufferService.rows,this._dirtyRowTracker.markDirty(r-1);r--;)this._resetBufferLine(r,t);this._dirtyRowTracker.markDirty(0)}break;case 3:let n=this._activeBuffer.lines.length-this._bufferService.rows;n>0&&(this._activeBuffer.lines.trimStart(n),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-n,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-n,0),this._onScroll.fire(0));break}return!0}eraseInLine(e,t=!1){switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,t);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,t);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,t);break}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let r=this._activeBuffer.ybase+this._activeBuffer.y,i=this._bufferService.rows-1-this._activeBuffer.scrollBottom,n=this._bufferService.rows-1+this._activeBuffer.ybase-i+1;for(;t--;)this._activeBuffer.lines.splice(n-1,1),this._activeBuffer.lines.splice(r,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let r=this._activeBuffer.ybase+this._activeBuffer.y,i;for(i=this._bufferService.rows-1-this._activeBuffer.scrollBottom,i=this._bufferService.rows-1+this._activeBuffer.ybase-i;t--;)this._activeBuffer.lines.splice(r,1),this._activeBuffer.lines.splice(i,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.insertCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.deleteCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(Ve));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){let i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.deleteCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData())),i.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){let i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.insertCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData())),i.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){let i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.insertCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData())),i.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){let i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.deleteCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData())),i.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(e.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(e){let t=this._parser.precedingJoinState;if(!t)return!0;let r=e.params[0]||1,i=dn.extractWidth(t),n=this._activeBuffer.x-i,s=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(n),o=new Uint32Array(s.length*r),l=0;for(let c=0;c<s.length;){let u=s.codePointAt(c)||0;o[l++]=u,c+=u>65535?2:1}let a=l;for(let c=1;c<r;++c)o.copyWithin(a,0,l),a+=l;return this.print(o,0,a),!0}sendDeviceAttributesPrimary(e){return e.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(B.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(B.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(e){return e.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(B.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(B.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(B.ESC+"[>83;40003;0c")),!0}_is(e){return(this._optionsService.rawOptions.termName+"").indexOf(e)===0}setMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0;break}return!0}setModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,an),this._charsetService.setgCharset(1,an),this._charsetService.setgCharset(2,an),this._charsetService.setgCharset(3,an);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(void 0),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0;break}return!0}resetMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1;break}return!0}resetModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),e.params[t]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(void 0),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1;break}return!0}requestMode(e,t){let r;(_=>(_[_.NOT_RECOGNIZED=0]="NOT_RECOGNIZED",_[_.SET=1]="SET",_[_.RESET=2]="RESET",_[_.PERMANENTLY_SET=3]="PERMANENTLY_SET",_[_.PERMANENTLY_RESET=4]="PERMANENTLY_RESET"))(r||(r={}));let i=this._coreService.decPrivateModes,{activeProtocol:n,activeEncoding:s}=this._coreMouseService,o=this._coreService,{buffers:l,cols:a}=this._bufferService,{active:c,alt:u}=l,h=this._optionsService.rawOptions,d=(_,S)=>(o.triggerDataEvent(`${B.ESC}[${t?"":"?"}${_};${S}$y`),!0),f=_=>_?1:2,p=e.params[0];return t?p===2?d(p,4):p===4?d(p,f(o.modes.insertMode)):p===12?d(p,3):p===20?d(p,f(h.convertEol)):d(p,0):p===1?d(p,f(i.applicationCursorKeys)):p===3?d(p,h.windowOptions.setWinLines?a===80?2:a===132?1:0:0):p===6?d(p,f(i.origin)):p===7?d(p,f(i.wraparound)):p===8?d(p,3):p===9?d(p,f(n==="X10")):p===12?d(p,f(h.cursorBlink)):p===25?d(p,f(!o.isCursorHidden)):p===45?d(p,f(i.reverseWraparound)):p===66?d(p,f(i.applicationKeypad)):p===67?d(p,4):p===1e3?d(p,f(n==="VT200")):p===1002?d(p,f(n==="DRAG")):p===1003?d(p,f(n==="ANY")):p===1004?d(p,f(i.sendFocus)):p===1005?d(p,4):p===1006?d(p,f(s==="SGR")):p===1015?d(p,4):p===1016?d(p,f(s==="SGR_PIXELS")):p===1048?d(p,1):p===47||p===1047||p===1049?d(p,f(c===u)):p===2004?d(p,f(i.bracketedPasteMode)):d(p,0)}_updateAttrColor(e,t,r,i,n){return t===2?(e|=50331648,e&=-16777216,e|=cl.fromColorRGB([r,i,n])):t===5&&(e&=-50331904,e|=33554432|r&255),e}_extractColor(e,t,r){let i=[0,0,-1,0,0,0],n=0,s=0;do{if(i[s+n]=e.params[t+s],e.hasSubParams(t+s)){let o=e.getSubParams(t+s),l=0;do i[1]===5&&(n=1),i[s+l+1+n]=o[l];while(++l<o.length&&l+s+1+n<i.length);break}if(i[1]===5&&s+n>=2||i[1]===2&&s+n>=5)break;i[1]&&(n=1)}while(++s+t<e.length&&s+n<i.length);for(let o=2;o<i.length;++o)i[o]===-1&&(i[o]=0);switch(i[0]){case 38:r.fg=this._updateAttrColor(r.fg,i[1],i[3],i[4],i[5]);break;case 48:r.bg=this._updateAttrColor(r.bg,i[1],i[3],i[4],i[5]);break;case 58:r.extended=r.extended.clone(),r.extended.underlineColor=this._updateAttrColor(r.extended.underlineColor,i[1],i[3],i[4],i[5])}return s}_processUnderline(e,t){t.extended=t.extended.clone(),(!~e||e>5)&&(e=1),t.extended.underlineStyle=e,t.fg|=268435456,e===0&&(t.fg&=-268435457),t.updateExtended()}_processSGR0(e){e.fg=Ve.fg,e.bg=Ve.bg,e.extended=e.extended.clone(),e.extended.underlineStyle=0,e.extended.underlineColor&=-67108864,e.updateExtended()}charAttributes(e){if(e.length===1&&e.params[0]===0)return this._processSGR0(this._curAttrData),!0;let t=e.length,r,i=this._curAttrData;for(let n=0;n<t;n++)r=e.params[n],r>=30&&r<=37?(i.fg&=-50331904,i.fg|=16777216|r-30):r>=40&&r<=47?(i.bg&=-50331904,i.bg|=16777216|r-40):r>=90&&r<=97?(i.fg&=-50331904,i.fg|=16777216|r-90|8):r>=100&&r<=107?(i.bg&=-50331904,i.bg|=16777216|r-100|8):r===0?this._processSGR0(i):r===1?i.fg|=134217728:r===3?i.bg|=67108864:r===4?(i.fg|=268435456,this._processUnderline(e.hasSubParams(n)?e.getSubParams(n)[0]:1,i)):r===5?i.fg|=536870912:r===7?i.fg|=67108864:r===8?i.fg|=1073741824:r===9?i.fg|=2147483648:r===2?i.bg|=134217728:r===21?this._processUnderline(2,i):r===22?(i.fg&=-134217729,i.bg&=-134217729):r===23?i.bg&=-67108865:r===24?(i.fg&=-268435457,this._processUnderline(0,i)):r===25?i.fg&=-536870913:r===27?i.fg&=-67108865:r===28?i.fg&=-1073741825:r===29?i.fg&=2147483647:r===39?(i.fg&=-67108864,i.fg|=Ve.fg&16777215):r===49?(i.bg&=-67108864,i.bg|=Ve.bg&16777215):r===38||r===48||r===58?n+=this._extractColor(e,n,i):r===53?i.bg|=1073741824:r===55?i.bg&=-1073741825:r===59?(i.extended=i.extended.clone(),i.extended.underlineColor=-1,i.updateExtended()):r===100?(i.fg&=-67108864,i.fg|=Ve.fg&16777215,i.bg&=-67108864,i.bg|=Ve.bg&16777215):this._logService.debug("Unknown SGR attribute: %d.",r);return!0}deviceStatus(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(`${B.ESC}[0n`);break;case 6:let t=this._activeBuffer.y+1,r=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${B.ESC}[${t};${r}R`);break}return!0}deviceStatusPrivate(e){switch(e.params[0]){case 6:let t=this._activeBuffer.y+1,r=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${B.ESC}[?${t};${r}R`);break}return!0}softReset(e){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=Ve.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(e){let t=e.length===0?1:e.params[0];if(t===0)this._coreService.decPrivateModes.cursorStyle=void 0,this._coreService.decPrivateModes.cursorBlink=void 0;else{switch(t){case 1:case 2:this._coreService.decPrivateModes.cursorStyle="block";break;case 3:case 4:this._coreService.decPrivateModes.cursorStyle="underline";break;case 5:case 6:this._coreService.decPrivateModes.cursorStyle="bar";break}let r=t%2===1;this._coreService.decPrivateModes.cursorBlink=r}return!0}setScrollRegion(e){let t=e.params[0]||1,r;return(e.length<2||(r=e.params[1])>this._bufferService.rows||r===0)&&(r=this._bufferService.rows),r>t&&(this._activeBuffer.scrollTop=t-1,this._activeBuffer.scrollBottom=r-1,this._setCursor(0,0)),!0}windowOptions(e){if(!fg(e.params[0],this._optionsService.rawOptions.windowOptions))return!0;let t=e.length>1?e.params[1]:0;switch(e.params[0]){case 14:t!==2&&this._onRequestWindowsOptionsReport.fire(0);break;case 16:this._onRequestWindowsOptionsReport.fire(1);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${B.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:(t===0||t===2)&&(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>dg&&this._windowTitleStack.shift()),(t===0||t===1)&&(this._iconNameStack.push(this._iconName),this._iconNameStack.length>dg&&this._iconNameStack.shift());break;case 23:(t===0||t===2)&&this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),(t===0||t===1)&&this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop());break}return!0}saveCursor(e){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(e){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(e){return this._windowTitle=e,this._onTitleChange.fire(e),!0}setIconName(e){return this._iconName=e,!0}setOrReportIndexedColor(e){let t=[],r=e.split(";");for(;r.length>1;){let i=r.shift(),n=r.shift();if(/^\d+$/.exec(i)){let s=parseInt(i);if(_g(s))if(n==="?")t.push({type:0,index:s});else{let o=hg(n);o&&t.push({type:1,index:s,color:o})}}}return t.length&&this._onColor.fire(t),!0}setHyperlink(e){let t=e.indexOf(";");if(t===-1)return!0;let r=e.slice(0,t).trim(),i=e.slice(t+1);return i?this._createHyperlink(r,i):r.trim()?!1:this._finishHyperlink()}_createHyperlink(e,t){this._getCurrentLinkId()&&this._finishHyperlink();let r=e.split(":"),i,n=r.findIndex(s=>s.startsWith("id="));return n!==-1&&(i=r[n].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:i,uri:t}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(e,t){let r=e.split(";");for(let i=0;i<r.length&&!(t>=this._specialColors.length);++i,++t)if(r[i]==="?")this._onColor.fire([{type:0,index:this._specialColors[t]}]);else{let n=hg(r[i]);n&&this._onColor.fire([{type:1,index:this._specialColors[t],color:n}])}return!0}setOrReportFgColor(e){return this._setOrReportSpecialColor(e,0)}setOrReportBgColor(e){return this._setOrReportSpecialColor(e,1)}setOrReportCursorColor(e){return this._setOrReportSpecialColor(e,2)}restoreIndexedColor(e){if(!e)return this._onColor.fire([{type:2}]),!0;let t=[],r=e.split(";");for(let i=0;i<r.length;++i)if(/^\d+$/.exec(r[i])){let n=parseInt(r[i]);_g(n)&&t.push({type:2,index:n})}return t.length&&this._onColor.fire(t),!0}restoreFgColor(e){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(e){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(e){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,an),!0}selectCharset(e){return e.length!==2?(this.selectDefaultCharset(),!0):(e[0]==="/"||this._charsetService.setgCharset(PR[e[0]],Ze[e[1]]||an),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){let e=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,e,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=Ve.clone(),this._eraseAttrDataInternal=Ve.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=this._curAttrData.bg&67108863,this._eraseAttrDataInternal}setgLevel(e){return this._charsetService.setgLevel(e),!0}screenAlignmentPattern(){let e=new dr;e.content=1<<22|69,e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg,this._setCursor(0,0);for(let t=0;t<this._bufferService.rows;++t){let r=this._activeBuffer.ybase+this._activeBuffer.y+t,i=this._activeBuffer.lines.get(r);i&&(i.fill(e),i.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(e,t){let r=o=>(this._coreService.triggerDataEvent(`${B.ESC}${o}${B.ESC}\\`),!0),i=this._bufferService.buffer,n=this._optionsService.rawOptions;return r(e==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:e==='"p'?'P1$r61;1"p':e==="r"?`P1$r${i.scrollTop+1};${i.scrollBottom+1}r`:e==="m"?"P1$r0m":e===" q"?`P1$r${{block:2,underline:4,bar:6}[n.cursorStyle]-(n.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(e,t){this._dirtyRowTracker.markRangeDirty(e,t)}},tf=class{constructor(e){this._bufferService=e,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(e){e<this.start?this.start=e:e>this.end&&(this.end=e)}markRangeDirty(e,t){e>t&&(mg=e,e=t,t=mg),e<this.start&&(this.start=e),t>this.end&&(this.end=t)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};tf=Fe([U(0,Dt)],tf);function _g(e){return 0<=e&&e<256}var LR=5e7,gg=12,AR=50,DR=class extends ne{constructor(e){super(),this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this._register(new W),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(e,t){if(t!==void 0&&this._syncCalls>t){this._syncCalls=0;return}if(this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;this._isSyncWriting=!0;let r;for(;r=this._writeBuffer.shift();){this._action(r);let i=this._callbacks.shift();i&&i()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(e,t){if(this._pendingData>LR)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput){this._didUserInput=!1,this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t),this._innerWrite();return}setTimeout(()=>this._innerWrite())}this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)}_innerWrite(e=0,t=!0){let r=e||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){let i=this._writeBuffer[this._bufferOffset],n=this._action(i,t);if(n){let o=l=>Date.now()-r>=gg?setTimeout(()=>this._innerWrite(0,l)):this._innerWrite(r,l);n.catch(l=>(queueMicrotask(()=>{throw l}),Promise.resolve(!1))).then(o);return}let s=this._callbacks[this._bufferOffset];if(s&&s(),this._bufferOffset++,this._pendingData-=i.length,Date.now()-r>=gg)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>AR&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}},rf=class{constructor(e){this._bufferService=e,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(e){let t=this._bufferService.buffer;if(e.id===void 0){let l=t.addMarker(t.ybase+t.y),a={data:e,id:this._nextId++,lines:[l]};return l.onDispose(()=>this._removeMarkerFromLink(a,l)),this._dataByLinkId.set(a.id,a),a.id}let r=e,i=this._getEntryIdKey(r),n=this._entriesWithId.get(i);if(n)return this.addLineToLink(n.id,t.ybase+t.y),n.id;let s=t.addMarker(t.ybase+t.y),o={id:this._nextId++,key:this._getEntryIdKey(r),data:r,lines:[s]};return s.onDispose(()=>this._removeMarkerFromLink(o,s)),this._entriesWithId.set(o.key,o),this._dataByLinkId.set(o.id,o),o.id}addLineToLink(e,t){let r=this._dataByLinkId.get(e);if(r&&r.lines.every(i=>i.line!==t)){let i=this._bufferService.buffer.addMarker(t);r.lines.push(i),i.onDispose(()=>this._removeMarkerFromLink(r,i))}}getLinkData(e){var t;return(t=this._dataByLinkId.get(e))==null?void 0:t.data}_getEntryIdKey(e){return`${e.id};;${e.uri}`}_removeMarkerFromLink(e,t){let r=e.lines.indexOf(t);r!==-1&&(e.lines.splice(r,1),e.lines.length===0&&(e.data.id!==void 0&&this._entriesWithId.delete(e.key),this._dataByLinkId.delete(e.id)))}};rf=Fe([U(0,Dt)],rf);var vg=!1,NR=class extends ne{constructor(e){super(),this._windowsWrappingHeuristics=this._register(new vs),this._onBinary=this._register(new W),this.onBinary=this._onBinary.event,this._onData=this._register(new W),this.onData=this._onData.event,this._onLineFeed=this._register(new W),this.onLineFeed=this._onLineFeed.event,this._onResize=this._register(new W),this.onResize=this._onResize.event,this._onWriteParsed=this._register(new W),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this._register(new W),this._instantiationService=new iR,this.optionsService=this._register(new fR(e)),this._instantiationService.setService(Nt,this.optionsService),this._bufferService=this._register(this._instantiationService.createInstance(Qd)),this._instantiationService.setService(Dt,this._bufferService),this._logService=this._register(this._instantiationService.createInstance(Xd)),this._instantiationService.setService(uS,this._logService),this.coreService=this._register(this._instantiationService.createInstance(Zd)),this._instantiationService.setService(Ts,this.coreService),this.coreMouseService=this._register(this._instantiationService.createInstance(Jd)),this._instantiationService.setService(cS,this.coreMouseService),this.unicodeService=this._register(this._instantiationService.createInstance(dn)),this._instantiationService.setService(Jx,this.unicodeService),this._charsetService=this._instantiationService.createInstance(vR),this._instantiationService.setService(Zx,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(rf),this._instantiationService.setService(hS,this._oscLinkService),this._inputHandler=this._register(new TR(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this._register(ft.forward(this._inputHandler.onLineFeed,this._onLineFeed)),this._register(this._inputHandler),this._register(ft.forward(this._bufferService.onResize,this._onResize)),this._register(ft.forward(this.coreService.onData,this._onData)),this._register(ft.forward(this.coreService.onBinary,this._onBinary)),this._register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom(!0))),this._register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this._register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this._register(this._bufferService.onScroll(()=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this._register(new DR((t,r)=>this._inputHandler.parse(t,r))),this._register(ft.forward(this._writeBuffer.onWriteParsed,this._onWriteParsed))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this._register(new W),this._onScroll.event(e=>{var t;(t=this._onScrollApi)==null||t.fire(e.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(e){for(let t in e)this.optionsService.options[t]=e[t]}write(e,t){this._writeBuffer.write(e,t)}writeSync(e,t){this._logService.logLevel<=3&&!vg&&(this._logService.warn("writeSync is unreliable and will be removed soon."),vg=!0),this._writeBuffer.writeSync(e,t)}input(e,t=!0){this.coreService.triggerDataEvent(e,t)}resize(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,jS),t=Math.max(t,US),this._bufferService.resize(e,t))}scroll(e,t=!1){this._bufferService.scroll(e,t)}scrollLines(e,t){this._bufferService.scrollLines(e,t)}scrollPages(e){this.scrollLines(e*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(e){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(e){let t=e-this._bufferService.buffer.ydisp;t!==0&&this.scrollLines(t)}registerEscHandler(e,t){return this._inputHandler.registerEscHandler(e,t)}registerDcsHandler(e,t){return this._inputHandler.registerDcsHandler(e,t)}registerCsiHandler(e,t){return this._inputHandler.registerCsiHandler(e,t)}registerOscHandler(e,t){return this._inputHandler.registerOscHandler(e,t)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let e=!1,t=this.optionsService.rawOptions.windowsPty;t&&t.buildNumber!==void 0&&t.buildNumber!==void 0?e=t.backend==="conpty"&&t.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(e=!0),e?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){let e=[];e.push(this.onLineFeed(cg.bind(null,this._bufferService))),e.push(this.registerCsiHandler({final:"H"},()=>(cg(this._bufferService),!1))),this._windowsWrappingHeuristics.value=Me(()=>{for(let t of e)t.dispose()})}}},OR={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};function IR(e,t,r,i){var o;let n={type:0,cancel:!1,key:void 0},s=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:e.key==="UIKeyInputUpArrow"?t?n.key=B.ESC+"OA":n.key=B.ESC+"[A":e.key==="UIKeyInputLeftArrow"?t?n.key=B.ESC+"OD":n.key=B.ESC+"[D":e.key==="UIKeyInputRightArrow"?t?n.key=B.ESC+"OC":n.key=B.ESC+"[C":e.key==="UIKeyInputDownArrow"&&(t?n.key=B.ESC+"OB":n.key=B.ESC+"[B");break;case 8:n.key=e.ctrlKey?"\b":B.DEL,e.altKey&&(n.key=B.ESC+n.key);break;case 9:if(e.shiftKey){n.key=B.ESC+"[Z";break}n.key=B.HT,n.cancel=!0;break;case 13:n.key=e.altKey?B.ESC+B.CR:B.CR,n.cancel=!0;break;case 27:n.key=B.ESC,e.altKey&&(n.key=B.ESC+B.ESC),n.cancel=!0;break;case 37:if(e.metaKey)break;s?n.key=B.ESC+"[1;"+(s+1)+"D":t?n.key=B.ESC+"OD":n.key=B.ESC+"[D";break;case 39:if(e.metaKey)break;s?n.key=B.ESC+"[1;"+(s+1)+"C":t?n.key=B.ESC+"OC":n.key=B.ESC+"[C";break;case 38:if(e.metaKey)break;s?n.key=B.ESC+"[1;"+(s+1)+"A":t?n.key=B.ESC+"OA":n.key=B.ESC+"[A";break;case 40:if(e.metaKey)break;s?n.key=B.ESC+"[1;"+(s+1)+"B":t?n.key=B.ESC+"OB":n.key=B.ESC+"[B";break;case 45:!e.shiftKey&&!e.ctrlKey&&(n.key=B.ESC+"[2~");break;case 46:s?n.key=B.ESC+"[3;"+(s+1)+"~":n.key=B.ESC+"[3~";break;case 36:s?n.key=B.ESC+"[1;"+(s+1)+"H":t?n.key=B.ESC+"OH":n.key=B.ESC+"[H";break;case 35:s?n.key=B.ESC+"[1;"+(s+1)+"F":t?n.key=B.ESC+"OF":n.key=B.ESC+"[F";break;case 33:e.shiftKey?n.type=2:e.ctrlKey?n.key=B.ESC+"[5;"+(s+1)+"~":n.key=B.ESC+"[5~";break;case 34:e.shiftKey?n.type=3:e.ctrlKey?n.key=B.ESC+"[6;"+(s+1)+"~":n.key=B.ESC+"[6~";break;case 112:s?n.key=B.ESC+"[1;"+(s+1)+"P":n.key=B.ESC+"OP";break;case 113:s?n.key=B.ESC+"[1;"+(s+1)+"Q":n.key=B.ESC+"OQ";break;case 114:s?n.key=B.ESC+"[1;"+(s+1)+"R":n.key=B.ESC+"OR";break;case 115:s?n.key=B.ESC+"[1;"+(s+1)+"S":n.key=B.ESC+"OS";break;case 116:s?n.key=B.ESC+"[15;"+(s+1)+"~":n.key=B.ESC+"[15~";break;case 117:s?n.key=B.ESC+"[17;"+(s+1)+"~":n.key=B.ESC+"[17~";break;case 118:s?n.key=B.ESC+"[18;"+(s+1)+"~":n.key=B.ESC+"[18~";break;case 119:s?n.key=B.ESC+"[19;"+(s+1)+"~":n.key=B.ESC+"[19~";break;case 120:s?n.key=B.ESC+"[20;"+(s+1)+"~":n.key=B.ESC+"[20~";break;case 121:s?n.key=B.ESC+"[21;"+(s+1)+"~":n.key=B.ESC+"[21~";break;case 122:s?n.key=B.ESC+"[23;"+(s+1)+"~":n.key=B.ESC+"[23~";break;case 123:s?n.key=B.ESC+"[24;"+(s+1)+"~":n.key=B.ESC+"[24~";break;default:if(e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey)e.keyCode>=65&&e.keyCode<=90?n.key=String.fromCharCode(e.keyCode-64):e.keyCode===32?n.key=B.NUL:e.keyCode>=51&&e.keyCode<=55?n.key=String.fromCharCode(e.keyCode-51+27):e.keyCode===56?n.key=B.DEL:e.keyCode===219?n.key=B.ESC:e.keyCode===220?n.key=B.FS:e.keyCode===221&&(n.key=B.GS);else if((!r||i)&&e.altKey&&!e.metaKey){let l=(o=OR[e.keyCode])==null?void 0:o[e.shiftKey?1:0];if(l)n.key=B.ESC+l;else if(e.keyCode>=65&&e.keyCode<=90){let a=e.ctrlKey?e.keyCode-64:e.keyCode+32,c=String.fromCharCode(a);e.shiftKey&&(c=c.toUpperCase()),n.key=B.ESC+c}else if(e.keyCode===32)n.key=B.ESC+(e.ctrlKey?B.NUL:" ");else if(e.key==="Dead"&&e.code.startsWith("Key")){let a=e.code.slice(3,4);e.shiftKey||(a=a.toLowerCase()),n.key=B.ESC+a,n.cancel=!0}}else r&&!e.altKey&&!e.ctrlKey&&!e.shiftKey&&e.metaKey?e.keyCode===65&&(n.type=1):e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&e.key.length===1?n.key=e.key:e.key&&e.ctrlKey&&(e.key==="_"&&(n.key=B.US),e.key==="@"&&(n.key=B.NUL));break}return n}var ze=0,MR=class{constructor(e){this._getKey=e,this._array=[],this._insertedValues=[],this._flushInsertedTask=new tc,this._isFlushingInserted=!1,this._deletedIndices=[],this._flushDeletedTask=new tc,this._isFlushingDeleted=!1}clear(){this._array.length=0,this._insertedValues.length=0,this._flushInsertedTask.clear(),this._isFlushingInserted=!1,this._deletedIndices.length=0,this._flushDeletedTask.clear(),this._isFlushingDeleted=!1}insert(e){this._flushCleanupDeleted(),this._insertedValues.length===0&&this._flushInsertedTask.enqueue(()=>this._flushInserted()),this._insertedValues.push(e)}_flushInserted(){let e=this._insertedValues.sort((n,s)=>this._getKey(n)-this._getKey(s)),t=0,r=0,i=new Array(this._array.length+this._insertedValues.length);for(let n=0;n<i.length;n++)r>=this._array.length||this._getKey(e[t])<=this._getKey(this._array[r])?(i[n]=e[t],t++):i[n]=this._array[r++];this._array=i,this._insertedValues.length=0}_flushCleanupInserted(){!this._isFlushingInserted&&this._insertedValues.length>0&&this._flushInsertedTask.flush()}delete(e){if(this._flushCleanupInserted(),this._array.length===0)return!1;let t=this._getKey(e);if(t===void 0||(ze=this._search(t),ze===-1)||this._getKey(this._array[ze])!==t)return!1;do if(this._array[ze]===e)return this._deletedIndices.length===0&&this._flushDeletedTask.enqueue(()=>this._flushDeleted()),this._deletedIndices.push(ze),!0;while(++ze<this._array.length&&this._getKey(this._array[ze])===t);return!1}_flushDeleted(){this._isFlushingDeleted=!0;let e=this._deletedIndices.sort((n,s)=>n-s),t=0,r=new Array(this._array.length-e.length),i=0;for(let n=0;n<this._array.length;n++)e[t]===n?t++:r[i++]=this._array[n];this._array=r,this._deletedIndices.length=0,this._isFlushingDeleted=!1}_flushCleanupDeleted(){!this._isFlushingDeleted&&this._deletedIndices.length>0&&this._flushDeletedTask.flush()}*getKeyIterator(e){if(this._flushCleanupInserted(),this._flushCleanupDeleted(),this._array.length!==0&&(ze=this._search(e),!(ze<0||ze>=this._array.length)&&this._getKey(this._array[ze])===e))do yield this._array[ze];while(++ze<this._array.length&&this._getKey(this._array[ze])===e)}forEachByKey(e,t){if(this._flushCleanupInserted(),this._flushCleanupDeleted(),this._array.length!==0&&(ze=this._search(e),!(ze<0||ze>=this._array.length)&&this._getKey(this._array[ze])===e))do t(this._array[ze]);while(++ze<this._array.length&&this._getKey(this._array[ze])===e)}values(){return this._flushCleanupInserted(),this._flushCleanupDeleted(),[...this._array].values()}_search(e){let t=0,r=this._array.length-1;for(;r>=t;){let i=t+r>>1,n=this._getKey(this._array[i]);if(n>e)r=i-1;else if(n<e)t=i+1;else{for(;i>0&&this._getKey(this._array[i-1])===e;)i--;return i}}return t}},th=0,yg=0,BR=class extends ne{constructor(){super(),this._decorations=new MR(e=>e==null?void 0:e.marker.line),this._onDecorationRegistered=this._register(new W),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this._register(new W),this.onDecorationRemoved=this._onDecorationRemoved.event,this._register(Me(()=>this.reset()))}get decorations(){return this._decorations.values()}registerDecoration(e){if(e.marker.isDisposed)return;let t=new $R(e);if(t){let r=t.marker.onDispose(()=>t.dispose()),i=t.onDispose(()=>{i.dispose(),t&&(this._decorations.delete(t)&&this._onDecorationRemoved.fire(t),r.dispose())});this._decorations.insert(t),this._onDecorationRegistered.fire(t)}return t}reset(){for(let e of this._decorations.values())e.dispose();this._decorations.clear()}*getDecorationsAtCell(e,t,r){let i=0,n=0;for(let s of this._decorations.getKeyIterator(t))i=s.options.x??0,n=i+(s.options.width??1),e>=i&&e<n&&(!r||(s.options.layer??"bottom")===r)&&(yield s)}forEachDecorationAtCell(e,t,r,i){this._decorations.forEachByKey(t,n=>{th=n.options.x??0,yg=th+(n.options.width??1),e>=th&&e<yg&&(!r||(n.options.layer??"bottom")===r)&&i(n)})}},$R=class extends zi{constructor(e){super(),this.options=e,this.onRenderEmitter=this.add(new W),this.onRender=this.onRenderEmitter.event,this._onDispose=this.add(new W),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=e.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=De.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=De.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}},FR=1e3,zR=class{constructor(e,t=FR){this._renderCallback=e,this._debounceThresholdMS=t,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(e,t,r){this._rowCount=r,e=e!==void 0?e:0,t=t!==void 0?t:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,e):e,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,t):t;let i=Date.now();if(i-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=i,this._innerRefresh();else if(!this._additionalRefreshRequested){let n=i-this._lastRefreshMs,s=this._debounceThresholdMS-n;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},s)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;let e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t)}},Sg=20,rc=class extends ne{constructor(e,t,r,i){super(),this._terminal=e,this._coreBrowserService=r,this._renderService=i,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="";let n=this._coreBrowserService.mainDocument;this._accessibilityContainer=n.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=n.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let s=0;s<this._terminal.rows;s++)this._rowElements[s]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[s]);if(this._topBoundaryFocusListener=s=>this._handleBoundaryFocus(s,0),this._bottomBoundaryFocusListener=s=>this._handleBoundaryFocus(s,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=n.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this._register(new zR(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this._register(this._terminal.onResize(s=>this._handleResize(s.rows))),this._register(this._terminal.onRender(s=>this._refreshRows(s.start,s.end))),this._register(this._terminal.onScroll(()=>this._refreshRows())),this._register(this._terminal.onA11yChar(s=>this._handleChar(s))),this._register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this._register(this._terminal.onA11yTab(s=>this._handleTab(s))),this._register(this._terminal.onKey(s=>this._handleKey(s.key))),this._register(this._terminal.onBlur(()=>this._clearLiveRegion())),this._register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._register(X(n,"selectionchange",()=>this._handleSelectionChange())),this._register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRowsDimensions(),this._refreshRows(),this._register(Me(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(e){for(let t=0;t<e;t++)this._handleChar(" ")}_handleChar(e){this._liveRegionLineCount<Sg+1&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,e===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===Sg+1&&(this._liveRegion.textContent+=wd.get())))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(e){this._clearLiveRegion(),/\p{Control}/u.test(e)||this._charsToConsume.push(e)}_refreshRows(e,t){this._liveRegionDebouncer.refresh(e,t,this._terminal.rows)}_renderRows(e,t){let r=this._terminal.buffer,i=r.lines.length.toString();for(let n=e;n<=t;n++){let s=r.lines.get(r.ydisp+n),o=[],l=(s==null?void 0:s.translateToString(!0,void 0,void 0,o))||"",a=(r.ydisp+n+1).toString(),c=this._rowElements[n];c&&(l.length===0?(c.textContent="",this._rowColumns.set(c,[0,1])):(c.textContent=l,this._rowColumns.set(c,o)),c.setAttribute("aria-posinset",a),c.setAttribute("aria-setsize",i),this._alignRowWidth(c))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(e,t){let r=e.target,i=this._rowElements[t===0?1:this._rowElements.length-2],n=r.getAttribute("aria-posinset"),s=t===0?"1":`${this._terminal.buffer.lines.length}`;if(n===s||e.relatedTarget!==i)return;let o,l;if(t===0?(o=r,l=this._rowElements.pop(),this._rowContainer.removeChild(l)):(o=this._rowElements.shift(),l=r,this._rowContainer.removeChild(o)),o.removeEventListener("focus",this._topBoundaryFocusListener),l.removeEventListener("focus",this._bottomBoundaryFocusListener),t===0){let a=this._createAccessibilityTreeNode();this._rowElements.unshift(a),this._rowContainer.insertAdjacentElement("afterbegin",a)}else{let a=this._createAccessibilityTreeNode();this._rowElements.push(a),this._rowContainer.appendChild(a)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(t===0?-1:1),this._rowElements[t===0?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}_handleSelectionChange(){var l;if(this._rowElements.length===0)return;let e=this._coreBrowserService.mainDocument.getSelection();if(!e)return;if(e.isCollapsed){this._rowContainer.contains(e.anchorNode)&&this._terminal.clearSelection();return}if(!e.anchorNode||!e.focusNode){console.error("anchorNode and/or focusNode are null");return}let t={node:e.anchorNode,offset:e.anchorOffset},r={node:e.focusNode,offset:e.focusOffset};if((t.node.compareDocumentPosition(r.node)&Node.DOCUMENT_POSITION_PRECEDING||t.node===r.node&&t.offset>r.offset)&&([t,r]=[r,t]),t.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(t={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(t.node))return;let i=this._rowElements.slice(-1)[0];if(r.node.compareDocumentPosition(i)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(r={node:i,offset:((l=i.textContent)==null?void 0:l.length)??0}),!this._rowContainer.contains(r.node))return;let n=({node:a,offset:c})=>{let u=a instanceof Text?a.parentNode:a,h=parseInt(u==null?void 0:u.getAttribute("aria-posinset"),10)-1;if(isNaN(h))return console.warn("row is invalid. Race condition?"),null;let d=this._rowColumns.get(u);if(!d)return console.warn("columns is null. Race condition?"),null;let f=c<d.length?d[c]:d.slice(-1)[0]+1;return f>=this._terminal.cols&&(++h,f=0),{row:h,column:f}},s=n(t),o=n(r);if(!(!s||!o)){if(s.row>o.row||s.row===o.row&&s.column>=o.column)throw new Error("invalid range");this._terminal.select(s.column,s.row,(o.row-s.row)*this._terminal.cols-s.column+o.column)}}_handleResize(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){let e=this._coreBrowserService.mainDocument.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){Object.assign(this._accessibilityContainer.style,{width:`${this._renderService.dimensions.css.canvas.width}px`,fontSize:`${this._terminal.options.fontSize}px`}),this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e]),this._alignRowWidth(this._rowElements[e])}}_refreshRowDimensions(e){e.style.height=`${this._renderService.dimensions.css.cell.height}px`}_alignRowWidth(e){var n,s;e.style.transform="";let t=e.getBoundingClientRect().width,r=(s=(n=this._rowColumns.get(e))==null?void 0:n.slice(-1))==null?void 0:s[0];if(!r)return;let i=r*this._renderService.dimensions.css.cell.width;e.style.transform=`scaleX(${i/t})`}};rc=Fe([U(1,Ap),U(2,di),U(3,fi)],rc);var nf=class extends ne{constructor(e,t,r,i,n){super(),this._element=e,this._mouseService=t,this._renderService=r,this._bufferService=i,this._linkProviderService=n,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this._register(new W),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this._register(new W),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this._register(Me(()=>{var s;bn(this._linkCacheDisposables),this._linkCacheDisposables.length=0,this._lastMouseEvent=void 0,(s=this._activeProviderReplies)==null||s.clear()})),this._register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this._register(X(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this._register(X(this._element,"mousemove",this._handleMouseMove.bind(this))),this._register(X(this._element,"mousedown",this._handleMouseDown.bind(this))),this._register(X(this._element,"mouseup",this._handleMouseUp.bind(this)))}get currentLink(){return this._currentLink}_handleMouseMove(e){this._lastMouseEvent=e;let t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(!t)return;this._isMouseOut=!1;let r=e.composedPath();for(let i=0;i<r.length;i++){let n=r[i];if(n.classList.contains("xterm"))break;if(n.classList.contains("xterm-hover"))return}(!this._lastBufferCell||t.x!==this._lastBufferCell.x||t.y!==this._lastBufferCell.y)&&(this._handleHover(t),this._lastBufferCell=t)}_handleHover(e){if(this._activeLine!==e.y||this._wasResized){this._clearCurrentLink(),this._askForLink(e,!1),this._wasResized=!1;return}this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))}_askForLink(e,t){var i,n;(!this._activeProviderReplies||!t)&&((i=this._activeProviderReplies)==null||i.forEach(s=>{s==null||s.forEach(o=>{o.link.dispose&&o.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=e.y);let r=!1;for(let[s,o]of this._linkProviderService.linkProviders.entries())t?(n=this._activeProviderReplies)!=null&&n.get(s)&&(r=this._checkLinkProviderResult(s,e,r)):o.provideLinks(e.y,l=>{var c,u;if(this._isMouseOut)return;let a=l==null?void 0:l.map(h=>({link:h}));(c=this._activeProviderReplies)==null||c.set(s,a),r=this._checkLinkProviderResult(s,e,r),((u=this._activeProviderReplies)==null?void 0:u.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(e.y,this._activeProviderReplies)})}_removeIntersectingLinks(e,t){let r=new Set;for(let i=0;i<t.size;i++){let n=t.get(i);if(n)for(let s=0;s<n.length;s++){let o=n[s],l=o.link.range.start.y<e?0:o.link.range.start.x,a=o.link.range.end.y>e?this._bufferService.cols:o.link.range.end.x;for(let c=l;c<=a;c++){if(r.has(c)){n.splice(s--,1);break}r.add(c)}}}}_checkLinkProviderResult(e,t,r){var s;if(!this._activeProviderReplies)return r;let i=this._activeProviderReplies.get(e),n=!1;for(let o=0;o<e;o++)(!this._activeProviderReplies.has(o)||this._activeProviderReplies.get(o))&&(n=!0);if(!n&&i){let o=i.find(l=>this._linkAtPosition(l.link,t));o&&(r=!0,this._handleNewLink(o))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!r)for(let o=0;o<this._activeProviderReplies.size;o++){let l=(s=this._activeProviderReplies.get(o))==null?void 0:s.find(a=>this._linkAtPosition(a.link,t));if(l){r=!0,this._handleNewLink(l);break}}return r}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(e){if(!this._currentLink)return;let t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._mouseDownLink&&HR(this._mouseDownLink.link,this._currentLink.link)&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}_clearCurrentLink(e,t){!this._currentLink||!this._lastMouseEvent||(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,bn(this._linkCacheDisposables),this._linkCacheDisposables.length=0)}_handleNewLink(e){if(!this._lastMouseEvent)return;let t=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);t&&this._linkAtPosition(e.link,t)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:e.link.decorations===void 0?!0:e.link.decorations.underline,pointerCursor:e.link.decorations===void 0?!0:e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:()=>{var r,i;return(i=(r=this._currentLink)==null?void 0:r.state)==null?void 0:i.decorations.pointerCursor},set:r=>{var i;(i=this._currentLink)!=null&&i.state&&this._currentLink.state.decorations.pointerCursor!==r&&(this._currentLink.state.decorations.pointerCursor=r,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",r))}},underline:{get:()=>{var r,i;return(i=(r=this._currentLink)==null?void 0:r.state)==null?void 0:i.decorations.underline},set:r=>{var i,n,s;(i=this._currentLink)!=null&&i.state&&((s=(n=this._currentLink)==null?void 0:n.state)==null?void 0:s.decorations.underline)!==r&&(this._currentLink.state.decorations.underline=r,this._currentLink.state.isHovered&&this._fireUnderlineEvent(e.link,r))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(r=>{if(!this._currentLink)return;let i=r.start===0?0:r.start+1+this._bufferService.buffer.ydisp,n=this._bufferService.buffer.ydisp+1+r.end;if(this._currentLink.link.range.start.y>=i&&this._currentLink.link.range.end.y<=n&&(this._clearCurrentLink(i,n),this._lastMouseEvent)){let s=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);s&&this._askForLink(s,!1)}})))}_linkHover(e,t,r){var i;(i=this._currentLink)!=null&&i.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(r,t.text)}_fireUnderlineEvent(e,t){let r=e.range,i=this._bufferService.buffer.ydisp,n=this._createLinkUnderlineEvent(r.start.x-1,r.start.y-i-1,r.end.x,r.end.y-i-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(n)}_linkLeave(e,t,r){var i;(i=this._currentLink)!=null&&i.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(r,t.text)}_linkAtPosition(e,t){let r=e.range.start.y*this._bufferService.cols+e.range.start.x,i=e.range.end.y*this._bufferService.cols+e.range.end.x,n=t.y*this._bufferService.cols+t.x;return r<=n&&n<=i}_positionFromMouseEvent(e,t,r){let i=r.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(i)return{x:i[0],y:i[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(e,t,r,i,n){return{x1:e,y1:t,x2:r,y2:i,cols:this._bufferService.cols,fg:n}}};nf=Fe([U(1,Dp),U(2,fi),U(3,Dt),U(4,fS)],nf);function HR(e,t){return e.text===t.text&&e.range.start.x===t.range.start.x&&e.range.start.y===t.range.start.y&&e.range.end.x===t.range.end.x&&e.range.end.y===t.range.end.y}var WR=class extends NR{constructor(e={}){super(e),this._linkifier=this._register(new vs),this.browser=NS,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this._register(new vs),this._onCursorMove=this._register(new W),this.onCursorMove=this._onCursorMove.event,this._onKey=this._register(new W),this.onKey=this._onKey.event,this._onRender=this._register(new W),this.onRender=this._onRender.event,this._onSelectionChange=this._register(new W),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this._register(new W),this.onTitleChange=this._onTitleChange.event,this._onBell=this._register(new W),this.onBell=this._onBell.event,this._onFocus=this._register(new W),this._onBlur=this._register(new W),this._onA11yCharEmitter=this._register(new W),this._onA11yTabEmitter=this._register(new W),this._onWillOpen=this._register(new W),this._setup(),this._decorationService=this._instantiationService.createInstance(BR),this._instantiationService.setService(ul,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(D2),this._instantiationService.setService(fS,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(bd)),this._register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this._register(this._inputHandler.onRequestRefreshRows(t=>this.refresh((t==null?void 0:t.start)??0,(t==null?void 0:t.end)??this.rows-1))),this._register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this._register(this._inputHandler.onRequestReset(()=>this.reset())),this._register(this._inputHandler.onRequestWindowsOptionsReport(t=>this._reportWindowsOptions(t))),this._register(this._inputHandler.onColor(t=>this._handleColorEvent(t))),this._register(ft.forward(this._inputHandler.onCursorMove,this._onCursorMove)),this._register(ft.forward(this._inputHandler.onTitleChange,this._onTitleChange)),this._register(ft.forward(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this._register(ft.forward(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this._register(this._bufferService.onResize(t=>this._afterResize(t.cols,t.rows))),this._register(Me(()=>{var t,r;this._customKeyEventHandler=void 0,(r=(t=this.element)==null?void 0:t.parentNode)==null||r.removeChild(this.element)}))}get linkifier(){return this._linkifier.value}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(e){if(this._themeService)for(let t of e){let r,i="";switch(t.index){case 256:r="foreground",i="10";break;case 257:r="background",i="11";break;case 258:r="cursor",i="12";break;default:r="ansi",i="4;"+t.index}switch(t.type){case 0:let n=xe.toColorRGB(r==="ansi"?this._themeService.colors.ansi[t.index]:this._themeService.colors[r]);this.coreService.triggerDataEvent(`${B.ESC}]${i};${RR(n)}${AS.ST}`);break;case 1:if(r==="ansi")this._themeService.modifyColors(s=>s.ansi[t.index]=je.toColor(...t.color));else{let s=r;this._themeService.modifyColors(o=>o[s]=je.toColor(...t.color))}break;case 2:this._themeService.restoreColor(t.index);break}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(e){e?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(rc,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(e){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(B.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var e;return(e=this.textarea)==null?void 0:e.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(B.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;let e=this.buffer.ybase+this.buffer.y,t=this.buffer.lines.get(e);if(!t)return;let r=Math.min(this.buffer.x,this.cols-1),i=this._renderService.dimensions.css.cell.height,n=t.getWidth(r),s=this._renderService.dimensions.css.cell.width*n,o=this.buffer.y*this._renderService.dimensions.css.cell.height,l=r*this._renderService.dimensions.css.cell.width;this.textarea.style.left=l+"px",this.textarea.style.top=o+"px",this.textarea.style.width=s+"px",this.textarea.style.height=i+"px",this.textarea.style.lineHeight=i+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this._register(X(this.element,"copy",t=>{this.hasSelection()&&Gx(t,this._selectionService)}));let e=t=>Kx(t,this.textarea,this.coreService,this.optionsService);this._register(X(this.textarea,"paste",e)),this._register(X(this.element,"paste",e)),OS?this._register(X(this.element,"mousedown",t=>{t.button===2&&D_(t,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this._register(X(this.element,"contextmenu",t=>{D_(t,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),zp&&this._register(X(this.element,"auxclick",t=>{t.button===1&&nS(t,this.textarea,this.screenElement)}))}_bindKeys(){this._register(X(this.textarea,"keyup",e=>this._keyUp(e),!0)),this._register(X(this.textarea,"keydown",e=>this._keyDown(e),!0)),this._register(X(this.textarea,"keypress",e=>this._keyPress(e),!0)),this._register(X(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this._register(X(this.textarea,"compositionupdate",e=>this._compositionHelper.compositionupdate(e))),this._register(X(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this._register(X(this.textarea,"input",e=>this._inputEvent(e),!0)),this._register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(e){var n;if(!e)throw new Error("Terminal requires a parent element.");if(e.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((n=this.element)==null?void 0:n.ownerDocument.defaultView)&&this._coreBrowserService){this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView);return}this._document=e.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),e.appendChild(this.element);let t=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),t.appendChild(this._viewportElement),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._register(X(this.screenElement,"mousemove",s=>this.updateCursorStyle(s))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),t.appendChild(this.screenElement);let r=this.textarea=this._document.createElement("textarea");this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",Sd.get()),BS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._register(this.optionsService.onSpecificOptionChange("disableStdin",()=>r.readOnly=this.optionsService.rawOptions.disableStdin)),this.textarea.readOnly=this.optionsService.rawOptions.disableStdin,this._coreBrowserService=this._register(this._instantiationService.createInstance(L2,this.textarea,e.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(di,this._coreBrowserService),this._register(X(this.textarea,"focus",s=>this._handleTextAreaFocus(s))),this._register(X(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(Ud,this._document,this._helperContainer),this._instantiationService.setService(Wc,this._charSizeService),this._themeService=this._instantiationService.createInstance(Yd),this._instantiationService.setService(Ls,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(Ja),this._instantiationService.setService(dS,this._characterJoinerService),this._renderService=this._register(this._instantiationService.createInstance(Kd,this.rows,this.screenElement)),this._instantiationService.setService(fi,this._renderService),this._register(this._renderService.onRenderedViewportChange(s=>this._onRender.fire(s))),this.onResize(s=>this._renderService.resize(s.cols,s.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(Wd,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(Gd),this._instantiationService.setService(Dp,this._mouseService);let i=this._linkifier.value=this._register(this._instantiationService.createInstance(nf,this.screenElement));this.element.appendChild(t);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this._register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this._register(this.onBlur(()=>this._renderService.handleBlur())),this._register(this.onFocus(()=>this._renderService.handleFocus())),this._viewport=this._register(this._instantiationService.createInstance(zd,this.element,this.screenElement)),this._register(this._viewport.onRequestScrollLines(s=>{super.scrollLines(s,!1),this.refresh(0,this.rows-1)})),this._selectionService=this._register(this._instantiationService.createInstance(qd,this.element,this.screenElement,i)),this._instantiationService.setService(tk,this._selectionService),this._register(this._selectionService.onRequestScrollLines(s=>this.scrollLines(s.amount,s.suppressScrollEvent))),this._register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this._register(this._selectionService.onRequestRedraw(s=>this._renderService.handleSelectionChanged(s.start,s.end,s.columnSelectMode))),this._register(this._selectionService.onLinuxMouseSelection(s=>{this.textarea.value=s,this.textarea.focus(),this.textarea.select()})),this._register(ft.any(this._onScroll.event,this._inputHandler.onScroll)(()=>{var s;this._selectionService.refresh(),(s=this._viewport)==null||s.queueSync()})),this._register(this._instantiationService.createInstance(Hd,this.screenElement)),this._register(X(this.element,"mousedown",s=>this._selectionService.handleMouseDown(s))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(rc,this)),this._register(this.optionsService.onSpecificOptionChange("screenReaderMode",s=>this._handleScreenReaderModeOptionChange(s))),this.options.overviewRuler.width&&(this._overviewRulerRenderer=this._register(this._instantiationService.createInstance(Za,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRuler",s=>{!this._overviewRulerRenderer&&s&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this._register(this._instantiationService.createInstance(Za,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(jd,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){let e=this,t=this.element;function r(s){var c,u,h,d,f;let o=e._mouseService.getMouseReportCoords(s,e.screenElement);if(!o)return!1;let l,a;switch(s.overrideType||s.type){case"mousemove":a=32,s.buttons===void 0?(l=3,s.button!==void 0&&(l=s.button<3?s.button:3)):l=s.buttons&1?0:s.buttons&4?1:s.buttons&2?2:3;break;case"mouseup":a=0,l=s.button<3?s.button:3;break;case"mousedown":a=1,l=s.button<3?s.button:3;break;case"wheel":if(e._customWheelEventHandler&&e._customWheelEventHandler(s)===!1)return!1;let p=s.deltaY;if(p===0||e.coreMouseService.consumeWheelEvent(s,(d=(h=(u=(c=e._renderService)==null?void 0:c.dimensions)==null?void 0:u.device)==null?void 0:h.cell)==null?void 0:d.height,(f=e._coreBrowserService)==null?void 0:f.dpr)===0)return!1;a=p<0?0:1,l=4;break;default:return!1}return a===void 0||l===void 0||l>4?!1:e.coreMouseService.triggerMouseEvent({col:o.col,row:o.row,x:o.x,y:o.y,button:l,action:a,ctrl:s.ctrlKey,alt:s.altKey,shift:s.shiftKey})}let i={mouseup:null,wheel:null,mousedrag:null,mousemove:null},n={mouseup:s=>(r(s),s.buttons||(this._document.removeEventListener("mouseup",i.mouseup),i.mousedrag&&this._document.removeEventListener("mousemove",i.mousedrag)),this.cancel(s)),wheel:s=>(r(s),this.cancel(s,!0)),mousedrag:s=>{s.buttons&&r(s)},mousemove:s=>{s.buttons||r(s)}};this._register(this.coreMouseService.onProtocolChange(s=>{s?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(s)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),s&8?i.mousemove||(t.addEventListener("mousemove",n.mousemove),i.mousemove=n.mousemove):(t.removeEventListener("mousemove",i.mousemove),i.mousemove=null),s&16?i.wheel||(t.addEventListener("wheel",n.wheel,{passive:!1}),i.wheel=n.wheel):(t.removeEventListener("wheel",i.wheel),i.wheel=null),s&2?i.mouseup||(i.mouseup=n.mouseup):(this._document.removeEventListener("mouseup",i.mouseup),i.mouseup=null),s&4?i.mousedrag||(i.mousedrag=n.mousedrag):(this._document.removeEventListener("mousemove",i.mousedrag),i.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this._register(X(t,"mousedown",s=>{if(s.preventDefault(),this.focus(),!(!this.coreMouseService.areMouseEventsActive||this._selectionService.shouldForceSelection(s)))return r(s),i.mouseup&&this._document.addEventListener("mouseup",i.mouseup),i.mousedrag&&this._document.addEventListener("mousemove",i.mousedrag),this.cancel(s)})),this._register(X(t,"wheel",s=>{var o,l,a,c,u;if(!i.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(s)===!1)return!1;if(!this.buffer.hasScrollback){if(s.deltaY===0||e.coreMouseService.consumeWheelEvent(s,(c=(a=(l=(o=e._renderService)==null?void 0:o.dimensions)==null?void 0:l.device)==null?void 0:a.cell)==null?void 0:c.height,(u=e._coreBrowserService)==null?void 0:u.dpr)===0)return!1;let h=B.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(s.deltaY<0?"A":"B");return this.coreService.triggerDataEvent(h,!0),this.cancel(s,!0)}}},{passive:!1}))}refresh(e,t){var r;(r=this._renderService)==null||r.refreshRows(e,t)}updateCursorStyle(e){var t;(t=this._selectionService)!=null&&t.shouldColumnSelect(e)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(e,t){this._viewport?this._viewport.scrollLines(e):super.scrollLines(e,t),this.refresh(0,this.rows-1)}scrollPages(e){this.scrollLines(e*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(e){e&&this._viewport?this._viewport.scrollToLine(this.buffer.ybase,!0):this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(e){let t=e-this._bufferService.buffer.ydisp;t!==0&&this.scrollLines(t)}paste(e){iS(e,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(e){this._customKeyEventHandler=e}attachCustomWheelEventHandler(e){this._customWheelEventHandler=e}registerLinkProvider(e){return this._linkProviderService.registerLinkProvider(e)}registerCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");let t=this._characterJoinerService.register(e);return this.refresh(0,this.rows-1),t}deregisterCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(e)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(e){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)}registerDecoration(e){return this._decorationService.registerDecoration(e)}hasSelection(){return this._selectionService?this._selectionService.hasSelection:!1}select(e,t,r){this._selectionService.setSelection(e,t,r)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(!(!this._selectionService||!this._selectionService.hasSelection))return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var e;(e=this._selectionService)==null||e.clearSelection()}selectAll(){var e;(e=this._selectionService)==null||e.selectAll()}selectLines(e,t){var r;(r=this._selectionService)==null||r.selectLines(e,t)}_keyDown(e){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(e)===!1)return!1;let t=this.browser.isMac&&this.options.macOptionIsMeta&&e.altKey;if(!t&&!this._compositionHelper.keydown(e))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(!0),!1;!t&&(e.key==="Dead"||e.key==="AltGraph")&&(this._unprocessedDeadKey=!0);let r=IR(e,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),r.type===3||r.type===2){let i=this.rows-1;return this.scrollLines(r.type===2?-i:i),this.cancel(e,!0)}if(r.type===1&&this.selectAll(),this._isThirdLevelShift(this.browser,e)||(r.cancel&&this.cancel(e,!0),!r.key)||e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.key.length===1&&e.key.charCodeAt(0)>=65&&e.key.charCodeAt(0)<=90)return!0;if(this._unprocessedDeadKey)return this._unprocessedDeadKey=!1,!0;if((r.key===B.ETX||r.key===B.CR)&&(this.textarea.value=""),this._onKey.fire({key:r.key,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(r.key,!0),!this.optionsService.rawOptions.screenReaderMode||e.altKey||e.ctrlKey)return this.cancel(e,!0);this._keyDownHandled=!0}_isThirdLevelShift(e,t){let r=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey||e.isWindows&&t.getModifierState("AltGraph");return t.type==="keypress"?r:r&&(!t.keyCode||t.keyCode>47)}_keyUp(e){this._keyDownSeen=!1,!(this._customKeyEventHandler&&this._customKeyEventHandler(e)===!1)&&(VR(e)||this.focus(),this.updateCursorStyle(e),this._keyPressHandled=!1)}_keyPress(e){let t;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(e)===!1)return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(e.which===null||e.which===void 0)t=e.keyCode;else if(e.which!==0&&e.charCode!==0)t=e.which;else return!1;return!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)?!1:(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(t,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,!0)}_inputEvent(e){if(e.data&&e.inputType==="insertText"&&(!e.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;let t=e.data;return this.coreService.triggerDataEvent(t,!0),this.cancel(e),!0}return!1}resize(e,t){if(e===this.cols&&t===this.rows){this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure();return}super.resize(e,t)}_afterResize(e,t){var r;(r=this._charSizeService)==null||r.measure()}clear(){if(!(this.buffer.ybase===0&&this.buffer.y===0)){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(Ve));this._onScroll.fire({position:this.buffer.ydisp}),this.refresh(0,this.rows-1)}}reset(){var t;this.options.rows=this.rows,this.options.cols=this.cols;let e=this._customKeyEventHandler;this._setup(),super.reset(),(t=this._selectionService)==null||t.reset(),this._decorationService.reset(),this._customKeyEventHandler=e,this.refresh(0,this.rows-1)}clearTextureAtlas(){var e;(e=this._renderService)==null||e.clearTextureAtlas()}_reportFocus(){var e;(e=this.element)!=null&&e.classList.contains("focus")?this.coreService.triggerDataEvent(B.ESC+"[I"):this.coreService.triggerDataEvent(B.ESC+"[O")}_reportWindowsOptions(e){if(this._renderService)switch(e){case 0:let t=this._renderService.dimensions.css.canvas.width.toFixed(0),r=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${B.ESC}[4;${r};${t}t`);break;case 1:let i=this._renderService.dimensions.css.cell.width.toFixed(0),n=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${B.ESC}[6;${n};${i}t`);break}}cancel(e,t){if(!(!this.options.cancelEvents&&!t))return e.preventDefault(),e.stopPropagation(),!1}};function VR(e){return e.keyCode===16||e.keyCode===17||e.keyCode===18}var jR=class{constructor(){this._addons=[]}dispose(){for(let e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()}loadAddon(e,t){let r={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(r),t.dispose=()=>this._wrappedAddonDispose(r),t.activate(e)}_wrappedAddonDispose(e){if(e.isDisposed)return;let t=-1;for(let r=0;r<this._addons.length;r++)if(this._addons[r]===e){t=r;break}if(t===-1)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}},UR=class{constructor(e){this._line=e}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new dr)}translateToString(e,t,r){return this._line.translateToString(e,t,r)}},wg=class{constructor(e,t){this._buffer=e,this.type=t}init(e){return this._buffer=e,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(e){let t=this._buffer.lines.get(e);if(t)return new UR(t)}getNullCell(){return new dr}},GR=class extends ne{constructor(e){super(),this._core=e,this._onBufferChange=this._register(new W),this.onBufferChange=this._onBufferChange.event,this._normal=new wg(this._core.buffers.normal,"normal"),this._alternate=new wg(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}},KR=class{constructor(e){this._core=e}registerCsiHandler(e,t){return this._core.registerCsiHandler(e,r=>t(r.toArray()))}addCsiHandler(e,t){return this.registerCsiHandler(e,t)}registerDcsHandler(e,t){return this._core.registerDcsHandler(e,(r,i)=>t(r,i.toArray()))}addDcsHandler(e,t){return this.registerDcsHandler(e,t)}registerEscHandler(e,t){return this._core.registerEscHandler(e,t)}addEscHandler(e,t){return this.registerEscHandler(e,t)}registerOscHandler(e,t){return this._core.registerOscHandler(e,t)}addOscHandler(e,t){return this.registerOscHandler(e,t)}},qR=class{constructor(e){this._core=e}register(e){this._core.unicodeService.register(e)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(e){this._core.unicodeService.activeVersion=e}},YR=["cols","rows"],Or=0,XR=class extends ne{constructor(e){super(),this._core=this._register(new WR(e)),this._addonManager=this._register(new jR),this._publicOptions={...this._core.options};let t=i=>this._core.options[i],r=(i,n)=>{this._checkReadonlyOptions(i),this._core.options[i]=n};for(let i in this._core.options){let n={get:t.bind(this,i),set:r.bind(this,i)};Object.defineProperty(this._publicOptions,i,n)}}_checkReadonlyOptions(e){if(YR.includes(e))throw new Error(`Option "${e}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new KR(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new qR(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this._register(new GR(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){let e=this._core.coreService.decPrivateModes,t="none";switch(this._core.coreMouseService.activeProtocol){case"X10":t="x10";break;case"VT200":t="vt200";break;case"DRAG":t="drag";break;case"ANY":t="any";break}return{applicationCursorKeysMode:e.applicationCursorKeys,applicationKeypadMode:e.applicationKeypad,bracketedPasteMode:e.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:t,originMode:e.origin,reverseWraparoundMode:e.reverseWraparound,sendFocusMode:e.sendFocus,wraparoundMode:e.wraparound}}get options(){return this._publicOptions}set options(e){for(let t in e)this._publicOptions[t]=e[t]}blur(){this._core.blur()}focus(){this._core.focus()}input(e,t=!0){this._core.input(e,t)}resize(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)}open(e){this._core.open(e)}attachCustomKeyEventHandler(e){this._core.attachCustomKeyEventHandler(e)}attachCustomWheelEventHandler(e){this._core.attachCustomWheelEventHandler(e)}registerLinkProvider(e){return this._core.registerLinkProvider(e)}registerCharacterJoiner(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)}deregisterCharacterJoiner(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)}registerMarker(e=0){return this._verifyIntegers(e),this._core.registerMarker(e)}registerDecoration(e){return this._checkProposedApi(),this._verifyPositiveIntegers(e.x??0,e.width??0,e.height??0),this._core.registerDecoration(e)}hasSelection(){return this._core.hasSelection()}select(e,t,r){this._verifyIntegers(e,t,r),this._core.select(e,t,r)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)}dispose(){super.dispose()}scrollLines(e){this._verifyIntegers(e),this._core.scrollLines(e)}scrollPages(e){this._verifyIntegers(e),this._core.scrollPages(e)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(e){this._verifyIntegers(e),this._core.scrollToLine(e)}clear(){this._core.clear()}write(e,t){this._core.write(e,t)}writeln(e,t){this._core.write(e),this._core.write(`\r
`,t)}paste(e){this._core.paste(e)}refresh(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(e){this._addonManager.loadAddon(this,e)}static get strings(){return{get promptLabel(){return Sd.get()},set promptLabel(e){Sd.set(e)},get tooMuchOutput(){return wd.get()},set tooMuchOutput(e){wd.set(e)}}}_verifyIntegers(...e){for(Or of e)if(Or===1/0||isNaN(Or)||Or%1!==0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...e){for(Or of e)if(Or&&(Or===1/0||isNaN(Or)||Or%1!==0||Or<0))throw new Error("This API only accepts positive integers")}};const QR="modulepreload",ZR=function(e){return"/"+e},Cg={},C=function(t,r,i){if(!r||r.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=ZR(s),s in Cg)return;Cg[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!i)for(let u=n.length-1;u>=0;u--){const h=n[u];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":QR,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};let Ue=class extends Error{constructor(t){super(t),this.name="ShikiError"}};function JR(e){return Hp(e)}function Hp(e){return Array.isArray(e)?eP(e):e instanceof RegExp?e:typeof e=="object"?tP(e):e}function eP(e){let t=[];for(let r=0,i=e.length;r<i;r++)t[r]=Hp(e[r]);return t}function tP(e){let t={};for(let r in e)t[r]=Hp(e[r]);return t}function KS(e,...t){return t.forEach(r=>{for(let i in r)e[i]=r[i]}),e}function qS(e){const t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return t===0?e:~t===e.length-1?qS(e.substring(0,e.length-1)):e.substr(~t+1)}var rh=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,Vl=class{static hasCaptures(e){return e===null?!1:(rh.lastIndex=0,rh.test(e))}static replaceCaptures(e,t,r){return e.replace(rh,(i,n,s,o)=>{let l=r[parseInt(n||s,10)];if(l){let a=t.substring(l.start,l.end);for(;a[0]===".";)a=a.substring(1);switch(o){case"downcase":return a.toLowerCase();case"upcase":return a.toUpperCase();default:return a}}else return i})}};function YS(e,t){return e<t?-1:e>t?1:0}function XS(e,t){if(e===null&&t===null)return 0;if(!e)return-1;if(!t)return 1;let r=e.length,i=t.length;if(r===i){for(let n=0;n<r;n++){let s=YS(e[n],t[n]);if(s!==0)return s}return 0}return r-i}function bg(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))}function QS(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var ZS=class{constructor(e){M(this,"cache",new Map);this.fn=e}get(e){if(this.cache.has(e))return this.cache.get(e);const t=this.fn(e);return this.cache.set(e,t),t}},ic=class{constructor(e,t,r){M(this,"_cachedMatchRoot",new ZS(e=>this._root.match(e)));this._colorMap=e,this._defaults=t,this._root=r}static createFromRawTheme(e,t){return this.createFromParsedTheme(nP(e),t)}static createFromParsedTheme(e,t){return oP(e,t)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(e===null)return this._defaults;const t=e.scopeName,i=this._cachedMatchRoot.get(t).find(n=>rP(e.parent,n.parentScopes));return i?new JS(i.fontStyle,i.foreground,i.background):null}},ih=class Sa{constructor(t,r){this.parent=t,this.scopeName=r}static push(t,r){for(const i of r)t=new Sa(t,i);return t}static from(...t){let r=null;for(let i=0;i<t.length;i++)r=new Sa(r,t[i]);return r}push(t){return new Sa(this,t)}getSegments(){let t=this;const r=[];for(;t;)r.push(t.scopeName),t=t.parent;return r.reverse(),r}toString(){return this.getSegments().join(" ")}extends(t){return this===t?!0:this.parent===null?!1:this.parent.extends(t)}getExtensionIfDefined(t){const r=[];let i=this;for(;i&&i!==t;)r.push(i.scopeName),i=i.parent;return i===t?r.reverse():void 0}};function rP(e,t){if(t.length===0)return!0;for(let r=0;r<t.length;r++){let i=t[r],n=!1;if(i===">"){if(r===t.length-1)return!1;i=t[++r],n=!0}for(;e&&!iP(e.scopeName,i);){if(n)return!1;e=e.parent}if(!e)return!1;e=e.parent}return!0}function iP(e,t){return t===e||e.startsWith(t)&&e[t.length]==="."}var JS=class{constructor(e,t,r){this.fontStyle=e,this.foregroundId=t,this.backgroundId=r}};function nP(e){if(!e)return[];if(!e.settings||!Array.isArray(e.settings))return[];let t=e.settings,r=[],i=0;for(let n=0,s=t.length;n<s;n++){let o=t[n];if(!o.settings)continue;let l;if(typeof o.scope=="string"){let h=o.scope;h=h.replace(/^[,]+/,""),h=h.replace(/[,]+$/,""),l=h.split(",")}else Array.isArray(o.scope)?l=o.scope:l=[""];let a=-1;if(typeof o.settings.fontStyle=="string"){a=0;let h=o.settings.fontStyle.split(" ");for(let d=0,f=h.length;d<f;d++)switch(h[d]){case"italic":a=a|1;break;case"bold":a=a|2;break;case"underline":a=a|4;break;case"strikethrough":a=a|8;break}}let c=null;typeof o.settings.foreground=="string"&&bg(o.settings.foreground)&&(c=o.settings.foreground);let u=null;typeof o.settings.background=="string"&&bg(o.settings.background)&&(u=o.settings.background);for(let h=0,d=l.length;h<d;h++){let p=l[h].trim().split(" "),_=p[p.length-1],S=null;p.length>1&&(S=p.slice(0,p.length-1),S.reverse()),r[i++]=new sP(_,S,n,a,c,u)}}return r}var sP=class{constructor(e,t,r,i,n,s){this.scope=e,this.parentScopes=t,this.index=r,this.fontStyle=i,this.foreground=n,this.background=s}},bt=(e=>(e[e.NotSet=-1]="NotSet",e[e.None=0]="None",e[e.Italic=1]="Italic",e[e.Bold=2]="Bold",e[e.Underline=4]="Underline",e[e.Strikethrough=8]="Strikethrough",e))(bt||{});function oP(e,t){e.sort((a,c)=>{let u=YS(a.scope,c.scope);return u!==0||(u=XS(a.parentScopes,c.parentScopes),u!==0)?u:a.index-c.index});let r=0,i="#000000",n="#ffffff";for(;e.length>=1&&e[0].scope==="";){let a=e.shift();a.fontStyle!==-1&&(r=a.fontStyle),a.foreground!==null&&(i=a.foreground),a.background!==null&&(n=a.background)}let s=new lP(t),o=new JS(r,s.getId(i),s.getId(n)),l=new cP(new sf(0,null,-1,0,0),[]);for(let a=0,c=e.length;a<c;a++){let u=e[a];l.insert(0,u.scope,u.parentScopes,u.fontStyle,s.getId(u.foreground),s.getId(u.background))}return new ic(s,o,l)}var lP=class{constructor(e){M(this,"_isFrozen");M(this,"_lastColorId");M(this,"_id2color");M(this,"_color2id");if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(let t=0,r=e.length;t<r;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}getId(e){if(e===null)return 0;e=e.toUpperCase();let t=this._color2id[e];if(t)return t;if(this._isFrozen)throw new Error(`Missing color in color map - ${e}`);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t}getColorMap(){return this._id2color.slice(0)}},aP=Object.freeze([]),sf=class e1{constructor(t,r,i,n,s){M(this,"scopeDepth");M(this,"parentScopes");M(this,"fontStyle");M(this,"foreground");M(this,"background");this.scopeDepth=t,this.parentScopes=r||aP,this.fontStyle=i,this.foreground=n,this.background=s}clone(){return new e1(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(t){let r=[];for(let i=0,n=t.length;i<n;i++)r[i]=t[i].clone();return r}acceptOverwrite(t,r,i,n){this.scopeDepth>t?console.log("how did this happen?"):this.scopeDepth=t,r!==-1&&(this.fontStyle=r),i!==0&&(this.foreground=i),n!==0&&(this.background=n)}},cP=class of{constructor(t,r=[],i={}){M(this,"_rulesWithParentScopes");this._mainRule=t,this._children=i,this._rulesWithParentScopes=r}static _cmpBySpecificity(t,r){if(t.scopeDepth!==r.scopeDepth)return r.scopeDepth-t.scopeDepth;let i=0,n=0;for(;t.parentScopes[i]===">"&&i++,r.parentScopes[n]===">"&&n++,!(i>=t.parentScopes.length||n>=r.parentScopes.length);){const s=r.parentScopes[n].length-t.parentScopes[i].length;if(s!==0)return s;i++,n++}return r.parentScopes.length-t.parentScopes.length}match(t){if(t!==""){let i=t.indexOf("."),n,s;if(i===-1?(n=t,s=""):(n=t.substring(0,i),s=t.substring(i+1)),this._children.hasOwnProperty(n))return this._children[n].match(s)}const r=this._rulesWithParentScopes.concat(this._mainRule);return r.sort(of._cmpBySpecificity),r}insert(t,r,i,n,s,o){if(r===""){this._doInsertHere(t,i,n,s,o);return}let l=r.indexOf("."),a,c;l===-1?(a=r,c=""):(a=r.substring(0,l),c=r.substring(l+1));let u;this._children.hasOwnProperty(a)?u=this._children[a]:(u=new of(this._mainRule.clone(),sf.cloneArr(this._rulesWithParentScopes)),this._children[a]=u),u.insert(t+1,c,i,n,s,o)}_doInsertHere(t,r,i,n,s){if(r===null){this._mainRule.acceptOverwrite(t,i,n,s);return}for(let o=0,l=this._rulesWithParentScopes.length;o<l;o++){let a=this._rulesWithParentScopes[o];if(XS(a.parentScopes,r)===0){a.acceptOverwrite(t,i,n,s);return}}i===-1&&(i=this._mainRule.fontStyle),n===0&&(n=this._mainRule.foreground),s===0&&(s=this._mainRule.background),this._rulesWithParentScopes.push(new sf(t,r,i,n,s))}},ys=class sr{static toBinaryStr(t){return t.toString(2).padStart(32,"0")}static print(t){const r=sr.getLanguageId(t),i=sr.getTokenType(t),n=sr.getFontStyle(t),s=sr.getForeground(t),o=sr.getBackground(t);console.log({languageId:r,tokenType:i,fontStyle:n,foreground:s,background:o})}static getLanguageId(t){return(t&255)>>>0}static getTokenType(t){return(t&768)>>>8}static containsBalancedBrackets(t){return(t&1024)!==0}static getFontStyle(t){return(t&30720)>>>11}static getForeground(t){return(t&16744448)>>>15}static getBackground(t){return(t&4278190080)>>>24}static set(t,r,i,n,s,o,l){let a=sr.getLanguageId(t),c=sr.getTokenType(t),u=sr.containsBalancedBrackets(t)?1:0,h=sr.getFontStyle(t),d=sr.getForeground(t),f=sr.getBackground(t);return r!==0&&(a=r),i!==8&&(c=i),n!==null&&(u=n?1:0),s!==-1&&(h=s),o!==0&&(d=o),l!==0&&(f=l),(a<<0|c<<8|u<<10|h<<11|d<<15|f<<24)>>>0}};function nc(e,t){const r=[],i=uP(e);let n=i.next();for(;n!==null;){let a=0;if(n.length===2&&n.charAt(1)===":"){switch(n.charAt(0)){case"R":a=1;break;case"L":a=-1;break;default:console.log(`Unknown priority ${n} in scope selector`)}n=i.next()}let c=o();if(r.push({matcher:c,priority:a}),n!==",")break;n=i.next()}return r;function s(){if(n==="-"){n=i.next();const a=s();return c=>!!a&&!a(c)}if(n==="("){n=i.next();const a=l();return n===")"&&(n=i.next()),a}if(Eg(n)){const a=[];do a.push(n),n=i.next();while(Eg(n));return c=>t(a,c)}return null}function o(){const a=[];let c=s();for(;c;)a.push(c),c=s();return u=>a.every(h=>h(u))}function l(){const a=[];let c=o();for(;c&&(a.push(c),n==="|"||n===",");){do n=i.next();while(n==="|"||n===",");c=o()}return u=>a.some(h=>h(u))}}function Eg(e){return!!e&&!!e.match(/[\w\.:]+/)}function uP(e){let t=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,r=t.exec(e);return{next:()=>{if(!r)return null;const i=r[0];return r=t.exec(e),i}}}function t1(e){typeof e.dispose=="function"&&e.dispose()}var Xo=class{constructor(e){this.scopeName=e}toKey(){return this.scopeName}},hP=class{constructor(e,t){this.scopeName=e,this.ruleName=t}toKey(){return`${this.scopeName}#${this.ruleName}`}},dP=class{constructor(){M(this,"_references",[]);M(this,"_seenReferenceKeys",new Set);M(this,"visitedRule",new Set)}get references(){return this._references}add(e){const t=e.toKey();this._seenReferenceKeys.has(t)||(this._seenReferenceKeys.add(t),this._references.push(e))}},fP=class{constructor(e,t){M(this,"seenFullScopeRequests",new Set);M(this,"seenPartialScopeRequests",new Set);M(this,"Q");this.repo=e,this.initialScopeName=t,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new Xo(this.initialScopeName)]}processQueue(){const e=this.Q;this.Q=[];const t=new dP;for(const r of e)pP(r,this.initialScopeName,this.repo,t);for(const r of t.references)if(r instanceof Xo){if(this.seenFullScopeRequests.has(r.scopeName))continue;this.seenFullScopeRequests.add(r.scopeName),this.Q.push(r)}else{if(this.seenFullScopeRequests.has(r.scopeName)||this.seenPartialScopeRequests.has(r.toKey()))continue;this.seenPartialScopeRequests.add(r.toKey()),this.Q.push(r)}}};function pP(e,t,r,i){const n=r.lookup(e.scopeName);if(!n){if(e.scopeName===t)throw new Error(`No grammar provided for <${t}>`);return}const s=r.lookup(t);e instanceof Xo?wa({baseGrammar:s,selfGrammar:n},i):lf(e.ruleName,{baseGrammar:s,selfGrammar:n,repository:n.repository},i);const o=r.injections(e.scopeName);if(o)for(const l of o)i.add(new Xo(l))}function lf(e,t,r){if(t.repository&&t.repository[e]){const i=t.repository[e];sc([i],t,r)}}function wa(e,t){e.selfGrammar.patterns&&Array.isArray(e.selfGrammar.patterns)&&sc(e.selfGrammar.patterns,{...e,repository:e.selfGrammar.repository},t),e.selfGrammar.injections&&sc(Object.values(e.selfGrammar.injections),{...e,repository:e.selfGrammar.repository},t)}function sc(e,t,r){for(const i of e){if(r.visitedRule.has(i))continue;r.visitedRule.add(i);const n=i.repository?KS({},t.repository,i.repository):t.repository;Array.isArray(i.patterns)&&sc(i.patterns,{...t,repository:n},r);const s=i.include;if(!s)continue;const o=r1(s);switch(o.kind){case 0:wa({...t,selfGrammar:t.baseGrammar},r);break;case 1:wa(t,r);break;case 2:lf(o.ruleName,{...t,repository:n},r);break;case 3:case 4:const l=o.scopeName===t.selfGrammar.scopeName?t.selfGrammar:o.scopeName===t.baseGrammar.scopeName?t.baseGrammar:void 0;if(l){const a={baseGrammar:t.baseGrammar,selfGrammar:l,repository:n};o.kind===4?lf(o.ruleName,a,r):wa(a,r)}else o.kind===4?r.add(new hP(o.scopeName,o.ruleName)):r.add(new Xo(o.scopeName));break}}}var mP=class{constructor(){M(this,"kind",0)}},_P=class{constructor(){M(this,"kind",1)}},gP=class{constructor(e){M(this,"kind",2);this.ruleName=e}},vP=class{constructor(e){M(this,"kind",3);this.scopeName=e}},yP=class{constructor(e,t){M(this,"kind",4);this.scopeName=e,this.ruleName=t}};function r1(e){if(e==="$base")return new mP;if(e==="$self")return new _P;const t=e.indexOf("#");if(t===-1)return new vP(e);if(t===0)return new gP(e.substring(1));{const r=e.substring(0,t),i=e.substring(t+1);return new yP(r,i)}}var SP=/\\(\d+)/,xg=/\\(\d+)/g,wP=-1,i1=-2;var fl=class{constructor(e,t,r,i){M(this,"$location");M(this,"id");M(this,"_nameIsCapturing");M(this,"_name");M(this,"_contentNameIsCapturing");M(this,"_contentName");this.$location=e,this.id=t,this._name=r||null,this._nameIsCapturing=Vl.hasCaptures(this._name),this._contentName=i||null,this._contentNameIsCapturing=Vl.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${qS(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,t){return!this._nameIsCapturing||this._name===null||e===null||t===null?this._name:Vl.replaceCaptures(this._name,e,t)}getContentName(e,t){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:Vl.replaceCaptures(this._contentName,e,t)}},CP=class extends fl{constructor(t,r,i,n,s){super(t,r,i,n);M(this,"retokenizeCapturedWithRuleId");this.retokenizeCapturedWithRuleId=s}dispose(){}collectPatterns(t,r){throw new Error("Not supported!")}compile(t,r){throw new Error("Not supported!")}compileAG(t,r,i,n){throw new Error("Not supported!")}},bP=class extends fl{constructor(t,r,i,n,s){super(t,r,i,null);M(this,"_match");M(this,"captures");M(this,"_cachedCompiledPatterns");this._match=new Qo(n,this.id),this.captures=s,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,r){r.push(this._match)}compile(t,r){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,r,i,n){return this._getCachedCompiledPatterns(t).compileAG(t,i,n)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Zo,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},kg=class extends fl{constructor(t,r,i,n,s){super(t,r,i,n);M(this,"hasMissingPatterns");M(this,"patterns");M(this,"_cachedCompiledPatterns");this.patterns=s.patterns,this.hasMissingPatterns=s.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,r){for(const i of this.patterns)t.getRule(i).collectPatterns(t,r)}compile(t,r){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,r,i,n){return this._getCachedCompiledPatterns(t).compileAG(t,i,n)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Zo,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},af=class extends fl{constructor(t,r,i,n,s,o,l,a,c,u){super(t,r,i,n);M(this,"_begin");M(this,"beginCaptures");M(this,"_end");M(this,"endHasBackReferences");M(this,"endCaptures");M(this,"applyEndPatternLast");M(this,"hasMissingPatterns");M(this,"patterns");M(this,"_cachedCompiledPatterns");this._begin=new Qo(s,this.id),this.beginCaptures=o,this._end=new Qo(l||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=a,this.applyEndPatternLast=c||!1,this.patterns=u.patterns,this.hasMissingPatterns=u.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,r){return this._end.resolveBackReferences(t,r)}collectPatterns(t,r){r.push(this._begin)}compile(t,r){return this._getCachedCompiledPatterns(t,r).compile(t)}compileAG(t,r,i,n){return this._getCachedCompiledPatterns(t,r).compileAG(t,i,n)}_getCachedCompiledPatterns(t,r){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Zo;for(const i of this.patterns)t.getRule(i).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,r):this._cachedCompiledPatterns.setSource(0,r)),this._cachedCompiledPatterns}},oc=class extends fl{constructor(t,r,i,n,s,o,l,a,c){super(t,r,i,n);M(this,"_begin");M(this,"beginCaptures");M(this,"whileCaptures");M(this,"_while");M(this,"whileHasBackReferences");M(this,"hasMissingPatterns");M(this,"patterns");M(this,"_cachedCompiledPatterns");M(this,"_cachedCompiledWhilePatterns");this._begin=new Qo(s,this.id),this.beginCaptures=o,this.whileCaptures=a,this._while=new Qo(l,i1),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,r){return this._while.resolveBackReferences(t,r)}collectPatterns(t,r){r.push(this._begin)}compile(t,r){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,r,i,n){return this._getCachedCompiledPatterns(t).compileAG(t,i,n)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Zo;for(const r of this.patterns)t.getRule(r).collectPatterns(t,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(t,r){return this._getCachedCompiledWhilePatterns(t,r).compile(t)}compileWhileAG(t,r,i,n){return this._getCachedCompiledWhilePatterns(t,r).compileAG(t,i,n)}_getCachedCompiledWhilePatterns(t,r){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new Zo,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,r||""),this._cachedCompiledWhilePatterns}},n1=class wt{static createCaptureRule(t,r,i,n,s){return t.registerRule(o=>new CP(r,o,i,n,s))}static getCompiledRuleId(t,r,i){return t.id||r.registerRule(n=>{if(t.id=n,t.match)return new bP(t.$vscodeTextmateLocation,t.id,t.name,t.match,wt._compileCaptures(t.captures,r,i));if(typeof t.begin>"u"){t.repository&&(i=KS({},i,t.repository));let s=t.patterns;return typeof s>"u"&&t.include&&(s=[{include:t.include}]),new kg(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,wt._compilePatterns(s,r,i))}return t.while?new oc(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,wt._compileCaptures(t.beginCaptures||t.captures,r,i),t.while,wt._compileCaptures(t.whileCaptures||t.captures,r,i),wt._compilePatterns(t.patterns,r,i)):new af(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,wt._compileCaptures(t.beginCaptures||t.captures,r,i),t.end,wt._compileCaptures(t.endCaptures||t.captures,r,i),t.applyEndPatternLast,wt._compilePatterns(t.patterns,r,i))}),t.id}static _compileCaptures(t,r,i){let n=[];if(t){let s=0;for(const o in t){if(o==="$vscodeTextmateLocation")continue;const l=parseInt(o,10);l>s&&(s=l)}for(let o=0;o<=s;o++)n[o]=null;for(const o in t){if(o==="$vscodeTextmateLocation")continue;const l=parseInt(o,10);let a=0;t[o].patterns&&(a=wt.getCompiledRuleId(t[o],r,i)),n[l]=wt.createCaptureRule(r,t[o].$vscodeTextmateLocation,t[o].name,t[o].contentName,a)}}return n}static _compilePatterns(t,r,i){let n=[];if(t)for(let s=0,o=t.length;s<o;s++){const l=t[s];let a=-1;if(l.include){const c=r1(l.include);switch(c.kind){case 0:case 1:a=wt.getCompiledRuleId(i[l.include],r,i);break;case 2:let u=i[c.ruleName];u&&(a=wt.getCompiledRuleId(u,r,i));break;case 3:case 4:const h=c.scopeName,d=c.kind===4?c.ruleName:null,f=r.getExternalGrammar(h,i);if(f)if(d){let p=f.repository[d];p&&(a=wt.getCompiledRuleId(p,r,f.repository))}else a=wt.getCompiledRuleId(f.repository.$self,r,f.repository);break}}else a=wt.getCompiledRuleId(l,r,i);if(a!==-1){const c=r.getRule(a);let u=!1;if((c instanceof kg||c instanceof af||c instanceof oc)&&c.hasMissingPatterns&&c.patterns.length===0&&(u=!0),u)continue;n.push(a)}}return{patterns:n,hasMissingPatterns:(t?t.length:0)!==n.length}}},Qo=class s1{constructor(t,r){M(this,"source");M(this,"ruleId");M(this,"hasAnchor");M(this,"hasBackReferences");M(this,"_anchorCache");if(t&&typeof t=="string"){const i=t.length;let n=0,s=[],o=!1;for(let l=0;l<i;l++)if(t.charAt(l)==="\\"&&l+1<i){const c=t.charAt(l+1);c==="z"?(s.push(t.substring(n,l)),s.push("$(?!\\n)(?<!\\n)"),n=l+2):(c==="A"||c==="G")&&(o=!0),l++}this.hasAnchor=o,n===0?this.source=t:(s.push(t.substring(n,i)),this.source=s.join(""))}else this.hasAnchor=!1,this.source=t;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=r,typeof this.source=="string"?this.hasBackReferences=SP.test(this.source):this.hasBackReferences=!1}clone(){return new s1(this.source,this.ruleId)}setSource(t){this.source!==t&&(this.source=t,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(t,r){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let i=r.map(n=>t.substring(n.start,n.end));return xg.lastIndex=0,this.source.replace(xg,(n,s)=>QS(i[parseInt(s,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let t=[],r=[],i=[],n=[],s,o,l,a;for(s=0,o=this.source.length;s<o;s++)l=this.source.charAt(s),t[s]=l,r[s]=l,i[s]=l,n[s]=l,l==="\\"&&s+1<o&&(a=this.source.charAt(s+1),a==="A"?(t[s+1]="",r[s+1]="",i[s+1]="A",n[s+1]="A"):a==="G"?(t[s+1]="",r[s+1]="G",i[s+1]="",n[s+1]="G"):(t[s+1]=a,r[s+1]=a,i[s+1]=a,n[s+1]=a),s++);return{A0_G0:t.join(""),A0_G1:r.join(""),A1_G0:i.join(""),A1_G1:n.join("")}}resolveAnchors(t,r){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:t?r?this._anchorCache.A1_G1:this._anchorCache.A1_G0:r?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},Zo=class{constructor(){M(this,"_items");M(this,"_hasAnchors");M(this,"_cached");M(this,"_anchorCache");this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))}compile(e){if(!this._cached){let t=this._items.map(r=>r.source);this._cached=new Rg(e,t,this._items.map(r=>r.ruleId))}return this._cached}compileAG(e,t,r){return this._hasAnchors?t?r?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G0):r?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,t,r){let i=this._items.map(n=>n.resolveAnchors(t,r));return new Rg(e,i,this._items.map(n=>n.ruleId))}},Rg=class{constructor(e,t,r){M(this,"scanner");this.regExps=t,this.rules=r,this.scanner=e.createOnigScanner(t)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const e=[];for(let t=0,r=this.rules.length;t<r;t++)e.push("   - "+this.rules[t]+": "+this.regExps[t]);return e.join(`
`)}findNextMatchSync(e,t,r){const i=this.scanner.findNextMatchSync(e,t,r);return i?{ruleId:this.rules[i.index],captureIndices:i.captureIndices}:null}},nh=class{constructor(e,t){this.languageId=e,this.tokenType=t}},Ai,EP=(Ai=class{constructor(t,r){M(this,"_defaultAttributes");M(this,"_embeddedLanguagesMatcher");M(this,"_getBasicScopeAttributes",new ZS(t=>{const r=this._scopeToLanguage(t),i=this._toStandardTokenType(t);return new nh(r,i)}));this._defaultAttributes=new nh(t,8),this._embeddedLanguagesMatcher=new xP(Object.entries(r||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(t){return t===null?Ai._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(t)}_scopeToLanguage(t){return this._embeddedLanguagesMatcher.match(t)||0}_toStandardTokenType(t){const r=t.match(Ai.STANDARD_TOKEN_TYPE_REGEXP);if(!r)return 8;switch(r[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}},M(Ai,"_NULL_SCOPE_METADATA",new nh(0,0)),M(Ai,"STANDARD_TOKEN_TYPE_REGEXP",/\b(comment|string|regex|meta\.embedded)\b/),Ai),xP=class{constructor(e){M(this,"values");M(this,"scopesRegExp");if(e.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(e);const t=e.map(([r,i])=>QS(r));t.sort(),t.reverse(),this.scopesRegExp=new RegExp(`^((${t.join(")|(")}))($|\\.)`,"")}}match(e){if(!this.scopesRegExp)return;const t=e.match(this.scopesRegExp);if(t)return this.values.get(t[1])}};typeof process<"u"&&process.env.VSCODE_TEXTMATE_DEBUG;var Pg=class{constructor(e,t){this.stack=e,this.stoppedEarly=t}};function o1(e,t,r,i,n,s,o,l){const a=t.content.length;let c=!1,u=-1;if(o){const f=kP(e,t,r,i,n,s);n=f.stack,i=f.linePos,r=f.isFirstLine,u=f.anchorPosition}const h=Date.now();for(;!c;){if(l!==0&&Date.now()-h>l)return new Pg(n,!0);d()}return new Pg(n,!1);function d(){const f=RP(e,t,r,i,n,u);if(!f){s.produce(n,a),c=!0;return}const p=f.captureIndices,_=f.matchedRuleId,S=p&&p.length>0?p[0].end>i:!1;if(_===wP){const m=n.getRule(e);s.produce(n,p[0].start),n=n.withContentNameScopesList(n.nameScopesList),po(e,t,r,n,s,m.endCaptures,p),s.produce(n,p[0].end);const v=n;if(n=n.parent,u=v.getAnchorPos(),!S&&v.getEnterPos()===i){n=v,s.produce(n,a),c=!0;return}}else{const m=e.getRule(_);s.produce(n,p[0].start);const v=n,y=m.getName(t.content,p),w=n.contentNameScopesList.pushAttributed(y,e);if(n=n.push(_,i,u,p[0].end===a,null,w,w),m instanceof af){const b=m;po(e,t,r,n,s,b.beginCaptures,p),s.produce(n,p[0].end),u=p[0].end;const R=b.getContentName(t.content,p),x=w.pushAttributed(R,e);if(n=n.withContentNameScopesList(x),b.endHasBackReferences&&(n=n.withEndRule(b.getEndWithResolvedBackReferences(t.content,p))),!S&&v.hasSameRuleAs(n)){n=n.pop(),s.produce(n,a),c=!0;return}}else if(m instanceof oc){const b=m;po(e,t,r,n,s,b.beginCaptures,p),s.produce(n,p[0].end),u=p[0].end;const R=b.getContentName(t.content,p),x=w.pushAttributed(R,e);if(n=n.withContentNameScopesList(x),b.whileHasBackReferences&&(n=n.withEndRule(b.getWhileWithResolvedBackReferences(t.content,p))),!S&&v.hasSameRuleAs(n)){n=n.pop(),s.produce(n,a),c=!0;return}}else if(po(e,t,r,n,s,m.captures,p),s.produce(n,p[0].end),n=n.pop(),!S){n=n.safePop(),s.produce(n,a),c=!0;return}}p[0].end>i&&(i=p[0].end,r=!1)}}function kP(e,t,r,i,n,s){let o=n.beginRuleCapturedEOL?0:-1;const l=[];for(let a=n;a;a=a.pop()){const c=a.getRule(e);c instanceof oc&&l.push({rule:c,stack:a})}for(let a=l.pop();a;a=l.pop()){const{ruleScanner:c,findOptions:u}=LP(a.rule,e,a.stack.endRule,r,i===o),h=c.findNextMatchSync(t,i,u);if(h){if(h.ruleId!==i1){n=a.stack.pop();break}h.captureIndices&&h.captureIndices.length&&(s.produce(a.stack,h.captureIndices[0].start),po(e,t,r,a.stack,s,a.rule.whileCaptures,h.captureIndices),s.produce(a.stack,h.captureIndices[0].end),o=h.captureIndices[0].end,h.captureIndices[0].end>i&&(i=h.captureIndices[0].end,r=!1))}else{n=a.stack.pop();break}}return{stack:n,linePos:i,anchorPosition:o,isFirstLine:r}}function RP(e,t,r,i,n,s){const o=PP(e,t,r,i,n,s),l=e.getInjections();if(l.length===0)return o;const a=TP(l,e,t,r,i,n,s);if(!a)return o;if(!o)return a;const c=o.captureIndices[0].start,u=a.captureIndices[0].start;return u<c||a.priorityMatch&&u===c?a:o}function PP(e,t,r,i,n,s){const o=n.getRule(e),{ruleScanner:l,findOptions:a}=l1(o,e,n.endRule,r,i===s),c=l.findNextMatchSync(t,i,a);return c?{captureIndices:c.captureIndices,matchedRuleId:c.ruleId}:null}function TP(e,t,r,i,n,s,o){let l=Number.MAX_VALUE,a=null,c,u=0;const h=s.contentNameScopesList.getScopeNames();for(let d=0,f=e.length;d<f;d++){const p=e[d];if(!p.matcher(h))continue;const _=t.getRule(p.ruleId),{ruleScanner:S,findOptions:m}=l1(_,t,null,i,n===o),v=S.findNextMatchSync(r,n,m);if(!v)continue;const y=v.captureIndices[0].start;if(!(y>=l)&&(l=y,a=v.captureIndices,c=v.ruleId,u=p.priority,l===n))break}return a?{priorityMatch:u===-1,captureIndices:a,matchedRuleId:c}:null}function l1(e,t,r,i,n){return{ruleScanner:e.compileAG(t,r,i,n),findOptions:0}}function LP(e,t,r,i,n){return{ruleScanner:e.compileWhileAG(t,r,i,n),findOptions:0}}function po(e,t,r,i,n,s,o){if(s.length===0)return;const l=t.content,a=Math.min(s.length,o.length),c=[],u=o[0].end;for(let h=0;h<a;h++){const d=s[h];if(d===null)continue;const f=o[h];if(f.length===0)continue;if(f.start>u)break;for(;c.length>0&&c[c.length-1].endPos<=f.start;)n.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?n.produceFromScopes(c[c.length-1].scopes,f.start):n.produce(i,f.start),d.retokenizeCapturedWithRuleId){const _=d.getName(l,o),S=i.contentNameScopesList.pushAttributed(_,e),m=d.getContentName(l,o),v=S.pushAttributed(m,e),y=i.push(d.retokenizeCapturedWithRuleId,f.start,-1,!1,null,S,v),w=e.createOnigString(l.substring(0,f.end));o1(e,w,r&&f.start===0,f.start,y,n,!1,0),t1(w);continue}const p=d.getName(l,o);if(p!==null){const S=(c.length>0?c[c.length-1].scopes:i.contentNameScopesList).pushAttributed(p,e);c.push(new AP(S,f.end))}}for(;c.length>0;)n.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}var AP=class{constructor(e,t){M(this,"scopes");M(this,"endPos");this.scopes=e,this.endPos=t}};function DP(e,t,r,i,n,s,o,l){return new OP(e,t,r,i,n,s,o,l)}function Tg(e,t,r,i,n){const s=nc(t,lc),o=n1.getCompiledRuleId(r,i,n.repository);for(const l of s)e.push({debugSelector:t,matcher:l.matcher,ruleId:o,grammar:n,priority:l.priority})}function lc(e,t){if(t.length<e.length)return!1;let r=0;return e.every(i=>{for(let n=r;n<t.length;n++)if(NP(t[n],i))return r=n+1,!0;return!1})}function NP(e,t){if(!e)return!1;if(e===t)return!0;const r=t.length;return e.length>r&&e.substr(0,r)===t&&e[r]==="."}var OP=class{constructor(e,t,r,i,n,s,o,l){M(this,"_rootId");M(this,"_lastRuleId");M(this,"_ruleId2desc");M(this,"_includedGrammars");M(this,"_grammarRepository");M(this,"_grammar");M(this,"_injections");M(this,"_basicScopeAttributesProvider");M(this,"_tokenTypeMatchers");if(this._rootScopeName=e,this.balancedBracketSelectors=s,this._onigLib=l,this._basicScopeAttributesProvider=new EP(r,i),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=o,this._grammar=Lg(t,null),this._injections=null,this._tokenTypeMatchers=[],n)for(const a of Object.keys(n)){const c=nc(a,lc);for(const u of c)this._tokenTypeMatchers.push({matcher:u.matcher,type:n[a]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const e of this._ruleId2desc)e&&e.dispose()}createOnigScanner(e){return this._onigLib.createOnigScanner(e)}createOnigString(e){return this._onigLib.createOnigString(e)}getMetadataForScope(e){return this._basicScopeAttributesProvider.getBasicScopeAttributes(e)}_collectInjections(){const e={lookup:n=>n===this._rootScopeName?this._grammar:this.getExternalGrammar(n),injections:n=>this._grammarRepository.injections(n)},t=[],r=this._rootScopeName,i=e.lookup(r);if(i){const n=i.injections;if(n)for(let o in n)Tg(t,o,n[o],this,i);const s=this._grammarRepository.injections(r);s&&s.forEach(o=>{const l=this.getExternalGrammar(o);if(l){const a=l.injectionSelector;a&&Tg(t,a,l,this,l)}})}return t.sort((n,s)=>n.priority-s.priority),t}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(e){const t=++this._lastRuleId,r=e(t);return this._ruleId2desc[t]=r,r}getRule(e){return this._ruleId2desc[e]}getExternalGrammar(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){const r=this._grammarRepository.lookup(e);if(r)return this._includedGrammars[e]=Lg(r,t&&t.$base),this._includedGrammars[e]}}tokenizeLine(e,t,r=0){const i=this._tokenize(e,t,!1,r);return{tokens:i.lineTokens.getResult(i.ruleStack,i.lineLength),ruleStack:i.ruleStack,stoppedEarly:i.stoppedEarly}}tokenizeLine2(e,t,r=0){const i=this._tokenize(e,t,!0,r);return{tokens:i.lineTokens.getBinaryResult(i.ruleStack,i.lineLength),ruleStack:i.ruleStack,stoppedEarly:i.stoppedEarly}}_tokenize(e,t,r,i){this._rootId===-1&&(this._rootId=n1.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let n;if(!t||t===cf.NULL){n=!0;const c=this._basicScopeAttributesProvider.getDefaultAttributes(),u=this.themeProvider.getDefaults(),h=ys.set(0,c.languageId,c.tokenType,null,u.fontStyle,u.foregroundId,u.backgroundId),d=this.getRule(this._rootId).getName(null,null);let f;d?f=Po.createRootAndLookUpScopeName(d,h,this):f=Po.createRoot("unknown",h),t=new cf(null,this._rootId,-1,-1,!1,null,f,f)}else n=!1,t.reset();e=e+`
`;const s=this.createOnigString(e),o=s.content.length,l=new MP(r,e,this._tokenTypeMatchers,this.balancedBracketSelectors),a=o1(this,s,n,0,t,l,!0,i);return t1(s),{lineLength:o,lineTokens:l,ruleStack:a.stack,stoppedEarly:a.stoppedEarly}}};function Lg(e,t){return e=JR(e),e.repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}var Po=class Mr{constructor(t,r,i){this.parent=t,this.scopePath=r,this.tokenAttributes=i}static fromExtension(t,r){let i=t,n=(t==null?void 0:t.scopePath)??null;for(const s of r)n=ih.push(n,s.scopeNames),i=new Mr(i,n,s.encodedTokenAttributes);return i}static createRoot(t,r){return new Mr(null,new ih(null,t),r)}static createRootAndLookUpScopeName(t,r,i){const n=i.getMetadataForScope(t),s=new ih(null,t),o=i.themeProvider.themeMatch(s),l=Mr.mergeAttributes(r,n,o);return new Mr(null,s,l)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(t){return Mr.equals(this,t)}static equals(t,r){do{if(t===r||!t&&!r)return!0;if(!t||!r||t.scopeName!==r.scopeName||t.tokenAttributes!==r.tokenAttributes)return!1;t=t.parent,r=r.parent}while(!0)}static mergeAttributes(t,r,i){let n=-1,s=0,o=0;return i!==null&&(n=i.fontStyle,s=i.foregroundId,o=i.backgroundId),ys.set(t,r.languageId,r.tokenType,null,n,s,o)}pushAttributed(t,r){if(t===null)return this;if(t.indexOf(" ")===-1)return Mr._pushAttributed(this,t,r);const i=t.split(/ /g);let n=this;for(const s of i)n=Mr._pushAttributed(n,s,r);return n}static _pushAttributed(t,r,i){const n=i.getMetadataForScope(r),s=t.scopePath.push(r),o=i.themeProvider.themeMatch(s),l=Mr.mergeAttributes(t.tokenAttributes,n,o);return new Mr(t,s,l)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(t){var n;const r=[];let i=this;for(;i&&i!==t;)r.push({encodedTokenAttributes:i.tokenAttributes,scopeNames:i.scopePath.getExtensionIfDefined(((n=i.parent)==null?void 0:n.scopePath)??null)}),i=i.parent;return i===t?r.reverse():void 0}},br,cf=(br=class{constructor(t,r,i,n,s,o,l,a){M(this,"_stackElementBrand");M(this,"_enterPos");M(this,"_anchorPos");M(this,"depth");this.parent=t,this.ruleId=r,this.beginRuleCapturedEOL=s,this.endRule=o,this.nameScopesList=l,this.contentNameScopesList=a,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=i,this._anchorPos=n}equals(t){return t===null?!1:br._equals(this,t)}static _equals(t,r){return t===r?!0:this._structuralEquals(t,r)?Po.equals(t.contentNameScopesList,r.contentNameScopesList):!1}static _structuralEquals(t,r){do{if(t===r||!t&&!r)return!0;if(!t||!r||t.depth!==r.depth||t.ruleId!==r.ruleId||t.endRule!==r.endRule)return!1;t=t.parent,r=r.parent}while(!0)}clone(){return this}static _reset(t){for(;t;)t._enterPos=-1,t._anchorPos=-1,t=t.parent}reset(){br._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(t,r,i,n,s,o,l){return new br(this,t,r,i,n,s,o,l)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(t){return t.getRule(this.ruleId)}toString(){const t=[];return this._writeString(t,0),"["+t.join(",")+"]"}_writeString(t,r){var i,n;return this.parent&&(r=this.parent._writeString(t,r)),t[r++]=`(${this.ruleId}, ${(i=this.nameScopesList)==null?void 0:i.toString()}, ${(n=this.contentNameScopesList)==null?void 0:n.toString()})`,r}withContentNameScopesList(t){return this.contentNameScopesList===t?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,t)}withEndRule(t){return this.endRule===t?this:new br(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(t){let r=this;for(;r&&r._enterPos===t._enterPos;){if(r.ruleId===t.ruleId)return!0;r=r.parent}return!1}toStateStackFrame(){var t,r,i;return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((r=this.nameScopesList)==null?void 0:r.getExtensionIfDefined(((t=this.parent)==null?void 0:t.nameScopesList)??null))??[],contentNameScopesList:((i=this.contentNameScopesList)==null?void 0:i.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(t,r){const i=Po.fromExtension((t==null?void 0:t.nameScopesList)??null,r.nameScopesList);return new br(t,r.ruleId,r.enterPos??-1,r.anchorPos??-1,r.beginRuleCapturedEOL,r.endRule,i,Po.fromExtension(i,r.contentNameScopesList))}},M(br,"NULL",new br(null,0,0,0,!1,null,null,null)),br),IP=class{constructor(e,t){M(this,"balancedBracketScopes");M(this,"unbalancedBracketScopes");M(this,"allowAny",!1);this.balancedBracketScopes=e.flatMap(r=>r==="*"?(this.allowAny=!0,[]):nc(r,lc).map(i=>i.matcher)),this.unbalancedBracketScopes=t.flatMap(r=>nc(r,lc).map(i=>i.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(e){for(const t of this.unbalancedBracketScopes)if(t(e))return!1;for(const t of this.balancedBracketScopes)if(t(e))return!0;return this.allowAny}},MP=class{constructor(e,t,r,i){M(this,"_emitBinaryTokens");M(this,"_lineText");M(this,"_tokens");M(this,"_binaryTokens");M(this,"_lastTokenEndIndex");M(this,"_tokenTypeOverrides");this.balancedBracketSelectors=i,this._emitBinaryTokens=e,this._tokenTypeOverrides=r,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(e,t){this.produceFromScopes(e.contentNameScopesList,t)}produceFromScopes(e,t){var i;if(this._lastTokenEndIndex>=t)return;if(this._emitBinaryTokens){let n=(e==null?void 0:e.tokenAttributes)??0,s=!1;if((i=this.balancedBracketSelectors)!=null&&i.matchesAlways&&(s=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const o=(e==null?void 0:e.getScopeNames())??[];for(const l of this._tokenTypeOverrides)l.matcher(o)&&(n=ys.set(n,0,l.type,null,-1,0,0));this.balancedBracketSelectors&&(s=this.balancedBracketSelectors.match(o))}if(s&&(n=ys.set(n,0,8,s,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===n){this._lastTokenEndIndex=t;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(n),this._lastTokenEndIndex=t;return}const r=(e==null?void 0:e.getScopeNames())??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:r}),this._lastTokenEndIndex=t}getResult(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);const r=new Uint32Array(this._binaryTokens.length);for(let i=0,n=this._binaryTokens.length;i<n;i++)r[i]=this._binaryTokens[i];return r}},BP=class{constructor(e,t){M(this,"_grammars",new Map);M(this,"_rawGrammars",new Map);M(this,"_injectionGrammars",new Map);M(this,"_theme");this._onigLib=t,this._theme=e}dispose(){for(const e of this._grammars.values())e.dispose()}setTheme(e){this._theme=e}getColorMap(){return this._theme.getColorMap()}addGrammar(e,t){this._rawGrammars.set(e.scopeName,e),t&&this._injectionGrammars.set(e.scopeName,t)}lookup(e){return this._rawGrammars.get(e)}injections(e){return this._injectionGrammars.get(e)}getDefaults(){return this._theme.getDefaults()}themeMatch(e){return this._theme.match(e)}grammarForScopeName(e,t,r,i,n){if(!this._grammars.has(e)){let s=this._rawGrammars.get(e);if(!s)return null;this._grammars.set(e,DP(e,s,t,r,i,n,this,this._onigLib))}return this._grammars.get(e)}},$P=class{constructor(t){M(this,"_options");M(this,"_syncRegistry");M(this,"_ensureGrammarCache");this._options=t,this._syncRegistry=new BP(ic.createFromRawTheme(t.theme,t.colorMap),t.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(t,r){this._syncRegistry.setTheme(ic.createFromRawTheme(t,r))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(t,r,i){return this.loadGrammarWithConfiguration(t,r,{embeddedLanguages:i})}loadGrammarWithConfiguration(t,r,i){return this._loadGrammar(t,r,i.embeddedLanguages,i.tokenTypes,new IP(i.balancedBracketSelectors||[],i.unbalancedBracketSelectors||[]))}loadGrammar(t){return this._loadGrammar(t,0,null,null,null)}_loadGrammar(t,r,i,n,s){const o=new fP(this._syncRegistry,t);for(;o.Q.length>0;)o.Q.map(l=>this._loadSingleGrammar(l.scopeName)),o.processQueue();return this._grammarForScopeName(t,r,i,n,s)}_loadSingleGrammar(t){this._ensureGrammarCache.has(t)||(this._doLoadSingleGrammar(t),this._ensureGrammarCache.set(t,!0))}_doLoadSingleGrammar(t){const r=this._options.loadGrammar(t);if(r){const i=typeof this._options.getInjections=="function"?this._options.getInjections(t):void 0;this._syncRegistry.addGrammar(r,i)}}addGrammar(t,r=[],i=0,n=null){return this._syncRegistry.addGrammar(t,r),this._grammarForScopeName(t.scopeName,i,n)}_grammarForScopeName(t,r=0,i=null,n=null,s=null){return this._syncRegistry.grammarForScopeName(t,r,i,n,s)}},uf=cf.NULL;const FP=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class pl{constructor(t,r,i){this.normal=r,this.property=t,i&&(this.space=i)}}pl.prototype.normal={};pl.prototype.property={};pl.prototype.space=void 0;function a1(e,t){const r={},i={};for(const n of e)Object.assign(r,n.property),Object.assign(i,n.normal);return new pl(r,i,t)}function hf(e){return e.toLowerCase()}class Ht{constructor(t,r){this.attribute=r,this.property=t}}Ht.prototype.attribute="";Ht.prototype.booleanish=!1;Ht.prototype.boolean=!1;Ht.prototype.commaOrSpaceSeparated=!1;Ht.prototype.commaSeparated=!1;Ht.prototype.defined=!1;Ht.prototype.mustUseProperty=!1;Ht.prototype.number=!1;Ht.prototype.overloadedBoolean=!1;Ht.prototype.property="";Ht.prototype.spaceSeparated=!1;Ht.prototype.space=void 0;let zP=0;const ee=Ln(),We=Ln(),df=Ln(),H=Ln(),Ce=Ln(),ls=Ln(),jt=Ln();function Ln(){return 2**++zP}const ff=Object.freeze(Object.defineProperty({__proto__:null,boolean:ee,booleanish:We,commaOrSpaceSeparated:jt,commaSeparated:ls,number:H,overloadedBoolean:df,spaceSeparated:Ce},Symbol.toStringTag,{value:"Module"})),sh=Object.keys(ff);class Wp extends Ht{constructor(t,r,i,n){let s=-1;if(super(t,r),Ag(this,"space",n),typeof i=="number")for(;++s<sh.length;){const o=sh[s];Ag(this,sh[s],(i&ff[o])===ff[o])}}}Wp.prototype.defined=!0;function Ag(e,t,r){r&&(e[t]=r)}function Ds(e){const t={},r={};for(const[i,n]of Object.entries(e.properties)){const s=new Wp(i,e.transform(e.attributes||{},i),n,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),t[i]=s,r[hf(i)]=i,r[hf(s.attribute)]=i}return new pl(t,r,e.space)}const c1=Ds({properties:{ariaActiveDescendant:null,ariaAtomic:We,ariaAutoComplete:null,ariaBusy:We,ariaChecked:We,ariaColCount:H,ariaColIndex:H,ariaColSpan:H,ariaControls:Ce,ariaCurrent:null,ariaDescribedBy:Ce,ariaDetails:null,ariaDisabled:We,ariaDropEffect:Ce,ariaErrorMessage:null,ariaExpanded:We,ariaFlowTo:Ce,ariaGrabbed:We,ariaHasPopup:null,ariaHidden:We,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ce,ariaLevel:H,ariaLive:null,ariaModal:We,ariaMultiLine:We,ariaMultiSelectable:We,ariaOrientation:null,ariaOwns:Ce,ariaPlaceholder:null,ariaPosInSet:H,ariaPressed:We,ariaReadOnly:We,ariaRelevant:null,ariaRequired:We,ariaRoleDescription:Ce,ariaRowCount:H,ariaRowIndex:H,ariaRowSpan:H,ariaSelected:We,ariaSetSize:H,ariaSort:null,ariaValueMax:H,ariaValueMin:H,ariaValueNow:H,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function u1(e,t){return t in e?e[t]:t}function h1(e,t){return u1(e,t.toLowerCase())}const HP=Ds({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ls,acceptCharset:Ce,accessKey:Ce,action:null,allow:null,allowFullScreen:ee,allowPaymentRequest:ee,allowUserMedia:ee,alt:null,as:null,async:ee,autoCapitalize:null,autoComplete:Ce,autoFocus:ee,autoPlay:ee,blocking:Ce,capture:null,charSet:null,checked:ee,cite:null,className:Ce,cols:H,colSpan:null,content:null,contentEditable:We,controls:ee,controlsList:Ce,coords:H|ls,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ee,defer:ee,dir:null,dirName:null,disabled:ee,download:df,draggable:We,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ee,formTarget:null,headers:Ce,height:H,hidden:df,high:H,href:null,hrefLang:null,htmlFor:Ce,httpEquiv:Ce,id:null,imageSizes:null,imageSrcSet:null,inert:ee,inputMode:null,integrity:null,is:null,isMap:ee,itemId:null,itemProp:Ce,itemRef:Ce,itemScope:ee,itemType:Ce,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ee,low:H,manifest:null,max:null,maxLength:H,media:null,method:null,min:null,minLength:H,multiple:ee,muted:ee,name:null,nonce:null,noModule:ee,noValidate:ee,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ee,optimum:H,pattern:null,ping:Ce,placeholder:null,playsInline:ee,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ee,referrerPolicy:null,rel:Ce,required:ee,reversed:ee,rows:H,rowSpan:H,sandbox:Ce,scope:null,scoped:ee,seamless:ee,selected:ee,shadowRootClonable:ee,shadowRootDelegatesFocus:ee,shadowRootMode:null,shape:null,size:H,sizes:null,slot:null,span:H,spellCheck:We,src:null,srcDoc:null,srcLang:null,srcSet:null,start:H,step:null,style:null,tabIndex:H,target:null,title:null,translate:null,type:null,typeMustMatch:ee,useMap:null,value:We,width:H,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ce,axis:null,background:null,bgColor:null,border:H,borderColor:null,bottomMargin:H,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ee,declare:ee,event:null,face:null,frame:null,frameBorder:null,hSpace:H,leftMargin:H,link:null,longDesc:null,lowSrc:null,marginHeight:H,marginWidth:H,noResize:ee,noHref:ee,noShade:ee,noWrap:ee,object:null,profile:null,prompt:null,rev:null,rightMargin:H,rules:null,scheme:null,scrolling:We,standby:null,summary:null,text:null,topMargin:H,valueType:null,version:null,vAlign:null,vLink:null,vSpace:H,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ee,disableRemotePlayback:ee,prefix:null,property:null,results:H,security:null,unselectable:null},space:"html",transform:h1}),WP=Ds({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:jt,accentHeight:H,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:H,amplitude:H,arabicForm:null,ascent:H,attributeName:null,attributeType:null,azimuth:H,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:H,by:null,calcMode:null,capHeight:H,className:Ce,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:H,diffuseConstant:H,direction:null,display:null,dur:null,divisor:H,dominantBaseline:null,download:ee,dx:null,dy:null,edgeMode:null,editable:null,elevation:H,enableBackground:null,end:null,event:null,exponent:H,externalResourcesRequired:null,fill:null,fillOpacity:H,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ls,g2:ls,glyphName:ls,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:H,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:H,horizOriginX:H,horizOriginY:H,id:null,ideographic:H,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:H,k:H,k1:H,k2:H,k3:H,k4:H,kernelMatrix:jt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:H,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:H,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:H,overlineThickness:H,paintOrder:null,panose1:null,path:null,pathLength:H,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ce,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:H,pointsAtY:H,pointsAtZ:H,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:jt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:jt,rev:jt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:jt,requiredFeatures:jt,requiredFonts:jt,requiredFormats:jt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:H,specularExponent:H,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:H,strikethroughThickness:H,string:null,stroke:null,strokeDashArray:jt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:H,strokeOpacity:H,strokeWidth:null,style:null,surfaceScale:H,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:jt,tabIndex:H,tableValues:null,target:null,targetX:H,targetY:H,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:jt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:H,underlineThickness:H,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:H,values:null,vAlphabetic:H,vMathematical:H,vectorEffect:null,vHanging:H,vIdeographic:H,version:null,vertAdvY:H,vertOriginX:H,vertOriginY:H,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:H,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:u1}),d1=Ds({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),f1=Ds({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:h1}),p1=Ds({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),VP=/[A-Z]/g,Dg=/-[a-z]/g,jP=/^data[-\w.:]+$/i;function UP(e,t){const r=hf(t);let i=t,n=Ht;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&jP.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Dg,KP);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Dg.test(s)){let o=s.replace(VP,GP);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}n=Wp}return new n(i,t)}function GP(e){return"-"+e.toLowerCase()}function KP(e){return e.charAt(1).toUpperCase()}const qP=a1([c1,HP,d1,f1,p1],"html"),m1=a1([c1,WP,d1,f1,p1],"svg"),Ng={}.hasOwnProperty;function YP(e,t){const r=t||{};function i(n,...s){let o=i.invalid;const l=i.handlers;if(n&&Ng.call(n,e)){const a=String(n[e]);o=Ng.call(l,a)?l[a]:i.unknown}if(o)return o.call(this,n,...s)}return i.handlers=r.handlers||{},i.invalid=r.invalid,i.unknown=r.unknown,i}const XP=/["&'<>`]/g,QP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ZP=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,JP=/[|\\{}()[\]^$+*?.]/g,Og=new WeakMap;function eT(e,t){if(e=e.replace(t.subset?tT(t.subset):XP,i),t.subset||t.escapeOnly)return e;return e.replace(QP,r).replace(ZP,i);function r(n,s,o){return t.format((n.charCodeAt(0)-55296)*1024+n.charCodeAt(1)-56320+65536,o.charCodeAt(s+2),t)}function i(n,s,o){return t.format(n.charCodeAt(0),o.charCodeAt(s+1),t)}}function tT(e){let t=Og.get(e);return t||(t=rT(e),Og.set(e,t)),t}function rT(e){const t=[];let r=-1;for(;++r<e.length;)t.push(e[r].replace(JP,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const iT=/[\dA-Fa-f]/;function nT(e,t,r){const i="&#x"+e.toString(16).toUpperCase();return r&&t&&!iT.test(String.fromCharCode(t))?i:i+";"}const sT=/\d/;function oT(e,t,r){const i="&#"+String(e);return r&&t&&!sT.test(String.fromCharCode(t))?i:i+";"}const lT=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],oh={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},aT=["cent","copy","divide","gt","lt","not","para","times"],_1={}.hasOwnProperty,pf={};let jl;for(jl in oh)_1.call(oh,jl)&&(pf[oh[jl]]=jl);const cT=/[^\dA-Za-z]/;function uT(e,t,r,i){const n=String.fromCharCode(e);if(_1.call(pf,n)){const s=pf[n],o="&"+s;return r&&lT.includes(s)&&!aT.includes(s)&&(!i||t&&t!==61&&cT.test(String.fromCharCode(t)))?o:o+";"}return""}function hT(e,t,r){let i=nT(e,t,r.omitOptionalSemicolons),n;if((r.useNamedReferences||r.useShortestReferences)&&(n=uT(e,t,r.omitOptionalSemicolons,r.attribute)),(r.useShortestReferences||!n)&&r.useShortestReferences){const s=oT(e,t,r.omitOptionalSemicolons);s.length<i.length&&(i=s)}return n&&(!r.useShortestReferences||n.length<i.length)?n:i}function as(e,t){return eT(e,Object.assign({format:hT},t))}const dT=/^>|^->|<!--|-->|--!>|<!-$/g,fT=[">"],pT=["<",">"];function mT(e,t,r,i){return i.settings.bogusComments?"<?"+as(e.value,Object.assign({},i.settings.characterReferences,{subset:fT}))+">":"<!--"+e.value.replace(dT,n)+"-->";function n(s){return as(s,Object.assign({},i.settings.characterReferences,{subset:pT}))}}function _T(e,t,r,i){return"<!"+(i.settings.upperDoctype?"DOCTYPE":"doctype")+(i.settings.tightDoctype?"":" ")+"html>"}function Ig(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let i=0,n=r.indexOf(t);for(;n!==-1;)i++,n=r.indexOf(t,n+t.length);return i}function gT(e,t){const r=t||{};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}function vT(e){return e.join(" ").trim()}const yT=/[ \t\n\f\r]/g;function Vp(e){return typeof e=="object"?e.type==="text"?Mg(e.value):!1:Mg(e)}function Mg(e){return e.replace(yT,"")===""}const Je=v1(1),g1=v1(-1),ST=[];function v1(e){return t;function t(r,i,n){const s=r?r.children:ST;let o=(i||0)+e,l=s[o];if(!n)for(;l&&Vp(l);)o+=e,l=s[o];return l}}const wT={}.hasOwnProperty;function y1(e){return t;function t(r,i,n){return wT.call(e,r.tagName)&&e[r.tagName](r,i,n)}}const jp=y1({body:bT,caption:lh,colgroup:lh,dd:RT,dt:kT,head:lh,html:CT,li:xT,optgroup:PT,option:TT,p:ET,rp:Bg,rt:Bg,tbody:AT,td:$g,tfoot:DT,th:$g,thead:LT,tr:NT});function lh(e,t,r){const i=Je(r,t,!0);return!i||i.type!=="comment"&&!(i.type==="text"&&Vp(i.value.charAt(0)))}function CT(e,t,r){const i=Je(r,t);return!i||i.type!=="comment"}function bT(e,t,r){const i=Je(r,t);return!i||i.type!=="comment"}function ET(e,t,r){const i=Je(r,t);return i?i.type==="element"&&(i.tagName==="address"||i.tagName==="article"||i.tagName==="aside"||i.tagName==="blockquote"||i.tagName==="details"||i.tagName==="div"||i.tagName==="dl"||i.tagName==="fieldset"||i.tagName==="figcaption"||i.tagName==="figure"||i.tagName==="footer"||i.tagName==="form"||i.tagName==="h1"||i.tagName==="h2"||i.tagName==="h3"||i.tagName==="h4"||i.tagName==="h5"||i.tagName==="h6"||i.tagName==="header"||i.tagName==="hgroup"||i.tagName==="hr"||i.tagName==="main"||i.tagName==="menu"||i.tagName==="nav"||i.tagName==="ol"||i.tagName==="p"||i.tagName==="pre"||i.tagName==="section"||i.tagName==="table"||i.tagName==="ul"):!r||!(r.type==="element"&&(r.tagName==="a"||r.tagName==="audio"||r.tagName==="del"||r.tagName==="ins"||r.tagName==="map"||r.tagName==="noscript"||r.tagName==="video"))}function xT(e,t,r){const i=Je(r,t);return!i||i.type==="element"&&i.tagName==="li"}function kT(e,t,r){const i=Je(r,t);return!!(i&&i.type==="element"&&(i.tagName==="dt"||i.tagName==="dd"))}function RT(e,t,r){const i=Je(r,t);return!i||i.type==="element"&&(i.tagName==="dt"||i.tagName==="dd")}function Bg(e,t,r){const i=Je(r,t);return!i||i.type==="element"&&(i.tagName==="rp"||i.tagName==="rt")}function PT(e,t,r){const i=Je(r,t);return!i||i.type==="element"&&i.tagName==="optgroup"}function TT(e,t,r){const i=Je(r,t);return!i||i.type==="element"&&(i.tagName==="option"||i.tagName==="optgroup")}function LT(e,t,r){const i=Je(r,t);return!!(i&&i.type==="element"&&(i.tagName==="tbody"||i.tagName==="tfoot"))}function AT(e,t,r){const i=Je(r,t);return!i||i.type==="element"&&(i.tagName==="tbody"||i.tagName==="tfoot")}function DT(e,t,r){return!Je(r,t)}function NT(e,t,r){const i=Je(r,t);return!i||i.type==="element"&&i.tagName==="tr"}function $g(e,t,r){const i=Je(r,t);return!i||i.type==="element"&&(i.tagName==="td"||i.tagName==="th")}const OT=y1({body:BT,colgroup:$T,head:MT,html:IT,tbody:FT});function IT(e){const t=Je(e,-1);return!t||t.type!=="comment"}function MT(e){const t=new Set;for(const i of e.children)if(i.type==="element"&&(i.tagName==="base"||i.tagName==="title")){if(t.has(i.tagName))return!1;t.add(i.tagName)}const r=e.children[0];return!r||r.type==="element"}function BT(e){const t=Je(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&Vp(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function $T(e,t,r){const i=g1(r,t),n=Je(e,-1,!0);return r&&i&&i.type==="element"&&i.tagName==="colgroup"&&jp(i,r.children.indexOf(i),r)?!1:!!(n&&n.type==="element"&&n.tagName==="col")}function FT(e,t,r){const i=g1(r,t),n=Je(e,-1);return r&&i&&i.type==="element"&&(i.tagName==="thead"||i.tagName==="tbody")&&jp(i,r.children.indexOf(i),r)?!1:!!(n&&n.type==="element"&&n.tagName==="tr")}const Ul={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function zT(e,t,r,i){const n=i.schema,s=n.space==="svg"?!1:i.settings.omitOptionalTags;let o=n.space==="svg"?i.settings.closeEmptyElements:i.settings.voids.includes(e.tagName.toLowerCase());const l=[];let a;n.space==="html"&&e.tagName==="svg"&&(i.schema=m1);const c=HT(i,e.properties),u=i.all(n.space==="html"&&e.tagName==="template"?e.content:e);return i.schema=n,u&&(o=!1),(c||!s||!OT(e,t,r))&&(l.push("<",e.tagName,c?" "+c:""),o&&(n.space==="svg"||i.settings.closeSelfClosing)&&(a=c.charAt(c.length-1),(!i.settings.tightSelfClosing||a==="/"||a&&a!=='"'&&a!=="'")&&l.push(" "),l.push("/")),l.push(">")),l.push(u),!o&&(!s||!jp(e,t,r))&&l.push("</"+e.tagName+">"),l.join("")}function HT(e,t){const r=[];let i=-1,n;if(t){for(n in t)if(t[n]!==null&&t[n]!==void 0){const s=WT(e,n,t[n]);s&&r.push(s)}}for(;++i<r.length;){const s=e.settings.tightAttributes?r[i].charAt(r[i].length-1):void 0;i!==r.length-1&&s!=='"'&&s!=="'"&&(r[i]+=" ")}return r.join("")}function WT(e,t,r){const i=UP(e.schema,t),n=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,s=e.settings.allowDangerousCharacters?0:1;let o=e.quote,l;if(i.overloadedBoolean&&(r===i.attribute||r==="")?r=!0:(i.boolean||i.overloadedBoolean)&&(typeof r!="string"||r===i.attribute||r==="")&&(r=!!r),r==null||r===!1||typeof r=="number"&&Number.isNaN(r))return"";const a=as(i.attribute,Object.assign({},e.settings.characterReferences,{subset:Ul.name[n][s]}));return r===!0||(r=Array.isArray(r)?(i.commaSeparated?gT:vT)(r,{padLeft:!e.settings.tightCommaSeparatedLists}):String(r),e.settings.collapseEmptyAttributes&&!r)?a:(e.settings.preferUnquoted&&(l=as(r,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:Ul.unquoted[n][s]}))),l!==r&&(e.settings.quoteSmart&&Ig(r,o)>Ig(r,e.alternative)&&(o=e.alternative),l=o+as(r,Object.assign({},e.settings.characterReferences,{subset:(o==="'"?Ul.single:Ul.double)[n][s],attribute:!0}))+o),a+(l&&"="+l))}const VT=["<","&"];function S1(e,t,r,i){return r&&r.type==="element"&&(r.tagName==="script"||r.tagName==="style")?e.value:as(e.value,Object.assign({},i.settings.characterReferences,{subset:VT}))}function jT(e,t,r,i){return i.settings.allowDangerousHtml?e.value:S1(e,t,r,i)}function UT(e,t,r,i){return i.all(e)}const GT=YP("type",{invalid:KT,unknown:qT,handlers:{comment:mT,doctype:_T,element:zT,raw:jT,root:UT,text:S1}});function KT(e){throw new Error("Expected node, not `"+e+"`")}function qT(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const YT={},XT={},QT=[];function ZT(e,t){const r=t||YT,i=r.quote||'"',n=i==='"'?"'":'"';if(i!=='"'&&i!=="'")throw new Error("Invalid quote `"+i+"`, expected `'` or `\"`");return{one:JT,all:eL,settings:{omitOptionalTags:r.omitOptionalTags||!1,allowParseErrors:r.allowParseErrors||!1,allowDangerousCharacters:r.allowDangerousCharacters||!1,quoteSmart:r.quoteSmart||!1,preferUnquoted:r.preferUnquoted||!1,tightAttributes:r.tightAttributes||!1,upperDoctype:r.upperDoctype||!1,tightDoctype:r.tightDoctype||!1,bogusComments:r.bogusComments||!1,tightCommaSeparatedLists:r.tightCommaSeparatedLists||!1,tightSelfClosing:r.tightSelfClosing||!1,collapseEmptyAttributes:r.collapseEmptyAttributes||!1,allowDangerousHtml:r.allowDangerousHtml||!1,voids:r.voids||FP,characterReferences:r.characterReferences||XT,closeSelfClosing:r.closeSelfClosing||!1,closeEmptyElements:r.closeEmptyElements||!1},schema:r.space==="svg"?m1:qP,quote:i,alternative:n}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function JT(e,t,r){return GT(e,t,r,this)}function eL(e){const t=[],r=e&&e.children||QT;let i=-1;for(;++i<r.length;)t[i]=this.one(r[i],i,e);return t.join("")}function ac(e,t){const r=typeof e=="string"?{}:{...e.colorReplacements},i=typeof e=="string"?e:e.name;for(const[n,s]of Object.entries((t==null?void 0:t.colorReplacements)||{}))typeof s=="string"?r[n]=s:n===i&&Object.assign(r,s);return r}function Hi(e,t){return e&&((t==null?void 0:t[e==null?void 0:e.toLowerCase()])||e)}function tL(e){return Array.isArray(e)?e:[e]}async function w1(e){return Promise.resolve(typeof e=="function"?e():e).then(t=>t.default||t)}function Up(e){return!e||["plaintext","txt","text","plain"].includes(e)}function C1(e){return e==="ansi"||Up(e)}function Gp(e){return e==="none"}function b1(e){return Gp(e)}function E1(e,t){var i;if(!t)return e;e.properties||(e.properties={}),(i=e.properties).class||(i.class=[]),typeof e.properties.class=="string"&&(e.properties.class=e.properties.class.split(/\s+/g)),Array.isArray(e.properties.class)||(e.properties.class=[]);const r=Array.isArray(t)?t:t.split(/\s+/g);for(const n of r)n&&!e.properties.class.includes(n)&&e.properties.class.push(n);return e}function Uc(e,t=!1){var s;const r=e.split(/(\r?\n)/g);let i=0;const n=[];for(let o=0;o<r.length;o+=2){const l=t?r[o]+(r[o+1]||""):r[o];n.push([l,i]),i+=r[o].length,i+=((s=r[o+1])==null?void 0:s.length)||0}return n}function rL(e){const t=Uc(e,!0).map(([n])=>n);function r(n){if(n===e.length)return{line:t.length-1,character:t[t.length-1].length};let s=n,o=0;for(const l of t){if(s<l.length)break;s-=l.length,o++}return{line:o,character:s}}function i(n,s){let o=0;for(let l=0;l<n;l++)o+=t[l].length;return o+=s,o}return{lines:t,indexToPos:r,posToIndex:i}}const Kp="light-dark()",iL=["color","background-color"];function nL(e,t){let r=0;const i=[];for(const n of t)n>r&&i.push({...e,content:e.content.slice(r,n),offset:e.offset+r}),r=n;return r<e.content.length&&i.push({...e,content:e.content.slice(r),offset:e.offset+r}),i}function sL(e,t){const r=Array.from(t instanceof Set?t:new Set(t)).sort((i,n)=>i-n);return r.length?e.map(i=>i.flatMap(n=>{const s=r.filter(o=>n.offset<o&&o<n.offset+n.content.length).map(o=>o-n.offset).sort((o,l)=>o-l);return s.length?nL(n,s):n})):e}function oL(e,t,r,i,n="css-vars"){const s={content:e.content,explanation:e.explanation,offset:e.offset},o=t.map(u=>cc(e.variants[u])),l=new Set(o.flatMap(u=>Object.keys(u))),a={},c=(u,h)=>{const d=h==="color"?"":h==="background-color"?"-bg":`-${h}`;return r+t[u]+(h==="color"?"":d)};return o.forEach((u,h)=>{for(const d of l){const f=u[d]||"inherit";if(h===0&&i&&iL.includes(d))if(i===Kp&&o.length>1){const p=t.findIndex(v=>v==="light"),_=t.findIndex(v=>v==="dark");if(p===-1||_===-1)throw new Ue('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const S=o[p][d]||"inherit",m=o[_][d]||"inherit";a[d]=`light-dark(${S}, ${m})`,n==="css-vars"&&(a[c(h,d)]=f)}else a[d]=f;else n==="css-vars"&&(a[c(h,d)]=f)}}),s.htmlStyle=a,s}function cc(e){const t={};if(e.color&&(t.color=e.color),e.bgColor&&(t["background-color"]=e.bgColor),e.fontStyle){e.fontStyle&bt.Italic&&(t["font-style"]="italic"),e.fontStyle&bt.Bold&&(t["font-weight"]="bold");const r=[];e.fontStyle&bt.Underline&&r.push("underline"),e.fontStyle&bt.Strikethrough&&r.push("line-through"),r.length&&(t["text-decoration"]=r.join(" "))}return t}function mf(e){return typeof e=="string"?e:Object.entries(e).map(([t,r])=>`${t}:${r}`).join(";")}const x1=new WeakMap;function Gc(e,t){x1.set(e,t)}function Jo(e){return x1.get(e)}class Ns{constructor(...t){M(this,"_stacks",{});M(this,"lang");if(t.length===2){const[r,i]=t;this.lang=i,this._stacks=r}else{const[r,i,n]=t;this.lang=i,this._stacks={[n]:r}}}get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(t,r){return new Ns(Object.fromEntries(tL(r).map(i=>[i,uf])),t)}getInternalStack(t=this.theme){return this._stacks[t]}getScopes(t=this.theme){return lL(this._stacks[t])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function lL(e){const t=[],r=new Set;function i(n){var o;if(r.has(n))return;r.add(n);const s=(o=n==null?void 0:n.nameScopesList)==null?void 0:o.scopeName;s&&t.push(s),n.parent&&i(n.parent)}return i(e),t}function aL(e,t){if(!(e instanceof Ns))throw new Ue("Invalid grammar state");return e.getInternalStack(t)}function cL(){const e=new WeakMap;function t(r){if(!e.has(r.meta)){let i=function(o){if(typeof o=="number"){if(o<0||o>r.source.length)throw new Ue(`Invalid decoration offset: ${o}. Code length: ${r.source.length}`);return{...n.indexToPos(o),offset:o}}else{const l=n.lines[o.line];if(l===void 0)throw new Ue(`Invalid decoration position ${JSON.stringify(o)}. Lines length: ${n.lines.length}`);let a=o.character;if(a<0&&(a=l.length+a),a<0||a>l.length)throw new Ue(`Invalid decoration position ${JSON.stringify(o)}. Line ${o.line} length: ${l.length}`);return{...o,character:a,offset:n.posToIndex(o.line,a)}}};const n=rL(r.source),s=(r.options.decorations||[]).map(o=>({...o,start:i(o.start),end:i(o.end)}));uL(s),e.set(r.meta,{decorations:s,converter:n,source:r.source})}return e.get(r.meta)}return{name:"shiki:decorations",tokens(r){var o;if(!((o=this.options.decorations)!=null&&o.length))return;const n=t(this).decorations.flatMap(l=>[l.start.offset,l.end.offset]);return sL(r,n)},code(r){var u;if(!((u=this.options.decorations)!=null&&u.length))return;const i=t(this),n=Array.from(r.children).filter(h=>h.type==="element"&&h.tagName==="span");if(n.length!==i.converter.lines.length)throw new Ue(`Number of lines in code element (${n.length}) does not match the number of lines in the source (${i.converter.lines.length}). Failed to apply decorations.`);function s(h,d,f,p){const _=n[h];let S="",m=-1,v=-1;if(d===0&&(m=0),f===0&&(v=0),f===Number.POSITIVE_INFINITY&&(v=_.children.length),m===-1||v===-1)for(let w=0;w<_.children.length;w++)S+=k1(_.children[w]),m===-1&&S.length===d&&(m=w+1),v===-1&&S.length===f&&(v=w+1);if(m===-1)throw new Ue(`Failed to find start index for decoration ${JSON.stringify(p.start)}`);if(v===-1)throw new Ue(`Failed to find end index for decoration ${JSON.stringify(p.end)}`);const y=_.children.slice(m,v);if(!p.alwaysWrap&&y.length===_.children.length)l(_,p,"line");else if(!p.alwaysWrap&&y.length===1&&y[0].type==="element")l(y[0],p,"token");else{const w={type:"element",tagName:"span",properties:{},children:y};l(w,p,"wrapper"),_.children.splice(m,y.length,w)}}function o(h,d){n[h]=l(n[h],d,"line")}function l(h,d,f){var S;const p=d.properties||{},_=d.transform||(m=>m);return h.tagName=d.tagName||"span",h.properties={...h.properties,...p,class:h.properties.class},(S=d.properties)!=null&&S.class&&E1(h,d.properties.class),h=_(h,f)||h,h}const a=[],c=i.decorations.sort((h,d)=>d.start.offset-h.start.offset||h.end.offset-d.end.offset);for(const h of c){const{start:d,end:f}=h;if(d.line===f.line)s(d.line,d.character,f.character,h);else if(d.line<f.line){s(d.line,d.character,Number.POSITIVE_INFINITY,h);for(let p=d.line+1;p<f.line;p++)a.unshift(()=>o(p,h));s(f.line,0,f.character,h)}}a.forEach(h=>h())}}}function uL(e){for(let t=0;t<e.length;t++){const r=e[t];if(r.start.offset>r.end.offset)throw new Ue(`Invalid decoration range: ${JSON.stringify(r.start)} - ${JSON.stringify(r.end)}`);for(let i=t+1;i<e.length;i++){const n=e[i],s=r.start.offset<=n.start.offset&&n.start.offset<r.end.offset,o=r.start.offset<n.end.offset&&n.end.offset<=r.end.offset,l=n.start.offset<=r.start.offset&&r.start.offset<n.end.offset,a=n.start.offset<r.end.offset&&r.end.offset<=n.end.offset;if(s||o||l||a){if(s&&o||l&&a||l&&r.start.offset===r.end.offset||o&&n.start.offset===n.end.offset)continue;throw new Ue(`Decorations ${JSON.stringify(r.start)} and ${JSON.stringify(n.start)} intersect.`)}}}}function k1(e){return e.type==="text"?e.value:e.type==="element"?e.children.map(k1).join(""):""}const hL=[cL()];function uc(e){const t=dL(e.transformers||[]);return[...t.pre,...t.normal,...t.post,...hL]}function dL(e){const t=[],r=[],i=[];for(const n of e)switch(n.enforce){case"pre":t.push(n);break;case"post":r.push(n);break;default:i.push(n)}return{pre:t,post:r,normal:i}}var fn=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],ah={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function fL(e,t){const r=e.indexOf("\x1B",t);if(r!==-1&&e[r+1]==="["){const i=e.indexOf("m",r);if(i!==-1)return{sequence:e.substring(r+2,i).split(";"),startPosition:r,position:i+1}}return{position:e.length}}function Fg(e){const t=e.shift();if(t==="2"){const r=e.splice(0,3).map(i=>Number.parseInt(i));return r.length!==3||r.some(i=>Number.isNaN(i))?void 0:{type:"rgb",rgb:r}}else if(t==="5"){const r=e.shift();if(r)return{type:"table",index:Number(r)}}}function pL(e){const t=[];for(;e.length>0;){const r=e.shift();if(!r)continue;const i=Number.parseInt(r);if(!Number.isNaN(i))if(i===0)t.push({type:"resetAll"});else if(i<=9)ah[i]&&t.push({type:"setDecoration",value:ah[i]});else if(i<=29){const n=ah[i-20];n&&(t.push({type:"resetDecoration",value:n}),n==="dim"&&t.push({type:"resetDecoration",value:"bold"}))}else if(i<=37)t.push({type:"setForegroundColor",value:{type:"named",name:fn[i-30]}});else if(i===38){const n=Fg(e);n&&t.push({type:"setForegroundColor",value:n})}else if(i===39)t.push({type:"resetForegroundColor"});else if(i<=47)t.push({type:"setBackgroundColor",value:{type:"named",name:fn[i-40]}});else if(i===48){const n=Fg(e);n&&t.push({type:"setBackgroundColor",value:n})}else i===49?t.push({type:"resetBackgroundColor"}):i===53?t.push({type:"setDecoration",value:"overline"}):i===55?t.push({type:"resetDecoration",value:"overline"}):i>=90&&i<=97?t.push({type:"setForegroundColor",value:{type:"named",name:fn[i-90+8]}}):i>=100&&i<=107&&t.push({type:"setBackgroundColor",value:{type:"named",name:fn[i-100+8]}})}return t}function mL(){let e=null,t=null,r=new Set;return{parse(i){const n=[];let s=0;do{const o=fL(i,s),l=o.sequence?i.substring(s,o.startPosition):i.substring(s);if(l.length>0&&n.push({value:l,foreground:e,background:t,decorations:new Set(r)}),o.sequence){const a=pL(o.sequence);for(const c of a)c.type==="resetAll"?(e=null,t=null,r.clear()):c.type==="resetForegroundColor"?e=null:c.type==="resetBackgroundColor"?t=null:c.type==="resetDecoration"&&r.delete(c.value);for(const c of a)c.type==="setForegroundColor"?e=c.value:c.type==="setBackgroundColor"?t=c.value:c.type==="setDecoration"&&r.add(c.value)}s=o.position}while(s<i.length);return n}}}var _L={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function gL(e=_L){function t(l){return e[l]}function r(l){return`#${l.map(a=>Math.max(0,Math.min(a,255)).toString(16).padStart(2,"0")).join("")}`}let i;function n(){if(i)return i;i=[];for(let c=0;c<fn.length;c++)i.push(t(fn[c]));let l=[0,95,135,175,215,255];for(let c=0;c<6;c++)for(let u=0;u<6;u++)for(let h=0;h<6;h++)i.push(r([l[c],l[u],l[h]]));let a=8;for(let c=0;c<24;c++,a+=10)i.push(r([a,a,a]));return i}function s(l){return n()[l]}function o(l){switch(l.type){case"named":return t(l.name);case"rgb":return r(l.rgb);case"table":return s(l.index)}}return{value:o}}function vL(e,t,r){const i=ac(e,r),n=Uc(t),s=gL(Object.fromEntries(fn.map(l=>{var a;return[l,(a=e.colors)==null?void 0:a[`terminal.ansi${l[0].toUpperCase()}${l.substring(1)}`]]}))),o=mL();return n.map(l=>o.parse(l[0]).map(a=>{let c,u;a.decorations.has("reverse")?(c=a.background?s.value(a.background):e.bg,u=a.foreground?s.value(a.foreground):e.fg):(c=a.foreground?s.value(a.foreground):e.fg,u=a.background?s.value(a.background):void 0),c=Hi(c,i),u=Hi(u,i),a.decorations.has("dim")&&(c=yL(c));let h=bt.None;return a.decorations.has("bold")&&(h|=bt.Bold),a.decorations.has("italic")&&(h|=bt.Italic),a.decorations.has("underline")&&(h|=bt.Underline),a.decorations.has("strikethrough")&&(h|=bt.Strikethrough),{content:a.value,offset:l[1],color:c,bgColor:u,fontStyle:h}}))}function yL(e){const t=e.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(t)if(t[3]){const i=Math.round(Number.parseInt(t[3],16)/2).toString(16).padStart(2,"0");return`#${t[1]}${t[2]}${i}`}else return t[2]?`#${t[1]}${t[2]}80`:`#${Array.from(t[1]).map(i=>`${i}${i}`).join("")}80`;const r=e.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return r?`var(${r[1]}-dim)`:e}function qp(e,t,r={}){const{lang:i="text",theme:n=e.getLoadedThemes()[0]}=r;if(Up(i)||Gp(n))return Uc(t).map(a=>[{content:a[0],offset:a[1]}]);const{theme:s,colorMap:o}=e.setTheme(n);if(i==="ansi")return vL(s,t,r);const l=e.getLanguage(i);if(r.grammarState){if(r.grammarState.lang!==l.name)throw new Ue(`Grammar state language "${r.grammarState.lang}" does not match highlight language "${l.name}"`);if(!r.grammarState.themes.includes(s.name))throw new Ue(`Grammar state themes "${r.grammarState.themes}" do not contain highlight theme "${s.name}"`)}return wL(t,l,s,o,r)}function SL(...e){if(e.length===2)return Jo(e[1]);const[t,r,i={}]=e,{lang:n="text",theme:s=t.getLoadedThemes()[0]}=i;if(Up(n)||Gp(s))throw new Ue("Plain language does not have grammar state");if(n==="ansi")throw new Ue("ANSI language does not have grammar state");const{theme:o,colorMap:l}=t.setTheme(s),a=t.getLanguage(n);return new Ns(hc(r,a,o,l,i).stateStack,a.name,o.name)}function wL(e,t,r,i,n){const s=hc(e,t,r,i,n),o=new Ns(hc(e,t,r,i,n).stateStack,t.name,r.name);return Gc(s.tokens,o),s.tokens}function hc(e,t,r,i,n){const s=ac(r,n),{tokenizeMaxLineLength:o=0,tokenizeTimeLimit:l=500}=n,a=Uc(e);let c=n.grammarState?aL(n.grammarState,r.name)??uf:n.grammarContextCode!=null?hc(n.grammarContextCode,t,r,i,{...n,grammarState:void 0,grammarContextCode:void 0}).stateStack:uf,u=[];const h=[];for(let d=0,f=a.length;d<f;d++){const[p,_]=a[d];if(p===""){u=[],h.push([]);continue}if(o>0&&p.length>=o){u=[],h.push([{content:p,offset:_,color:"",fontStyle:0}]);continue}let S,m,v;n.includeExplanation&&(S=t.tokenizeLine(p,c,l),m=S.tokens,v=0);const y=t.tokenizeLine2(p,c,l),w=y.tokens.length/2;for(let b=0;b<w;b++){const R=y.tokens[2*b],x=b+1<w?y.tokens[2*b+2]:p.length;if(R===x)continue;const L=y.tokens[2*b+1],T=Hi(i[ys.getForeground(L)],s),N=ys.getFontStyle(L),D={content:p.substring(R,x),offset:_+R,color:T,fontStyle:N};if(n.includeExplanation){const A=[];if(n.includeExplanation!=="scopeName")for(const O of r.settings){let $;switch(typeof O.scope){case"string":$=O.scope.split(/,/).map(I=>I.trim());break;case"object":$=O.scope;break;default:continue}A.push({settings:O,selectors:$.map(I=>I.split(/ /))})}D.explanation=[];let P=0;for(;R+P<x;){const O=m[v],$=p.substring(O.startIndex,O.endIndex);P+=$.length,D.explanation.push({content:$,scopes:n.includeExplanation==="scopeName"?CL(O.scopes):bL(A,O.scopes)}),v+=1}}u.push(D)}h.push(u),u=[],c=y.ruleStack}return{tokens:h,stateStack:c}}function CL(e){return e.map(t=>({scopeName:t}))}function bL(e,t){const r=[];for(let i=0,n=t.length;i<n;i++){const s=t[i];r[i]={scopeName:s,themeMatches:xL(e,s,t.slice(0,i))}}return r}function zg(e,t){return e===t||t.substring(0,e.length)===e&&t[e.length]==="."}function EL(e,t,r){if(!zg(e[e.length-1],t))return!1;let i=e.length-2,n=r.length-1;for(;i>=0&&n>=0;)zg(e[i],r[n])&&(i-=1),n-=1;return i===-1}function xL(e,t,r){const i=[];for(const{selectors:n,settings:s}of e)for(const o of n)if(EL(o,t,r)){i.push(s);break}return i}function R1(e,t,r){const i=Object.entries(r.themes).filter(a=>a[1]).map(a=>({color:a[0],theme:a[1]})),n=i.map(a=>{const c=qp(e,t,{...r,theme:a.theme}),u=Jo(c),h=typeof a.theme=="string"?a.theme:a.theme.name;return{tokens:c,state:u,theme:h}}),s=kL(...n.map(a=>a.tokens)),o=s[0].map((a,c)=>a.map((u,h)=>{const d={content:u.content,variants:{},offset:u.offset};return"includeExplanation"in r&&r.includeExplanation&&(d.explanation=u.explanation),s.forEach((f,p)=>{const{content:_,explanation:S,offset:m,...v}=f[c][h];d.variants[i[p].color]=v}),d})),l=n[0].state?new Ns(Object.fromEntries(n.map(a=>{var c;return[a.theme,(c=a.state)==null?void 0:c.getInternalStack(a.theme)]})),n[0].state.lang):void 0;return l&&Gc(o,l),o}function kL(...e){const t=e.map(()=>[]),r=e.length;for(let i=0;i<e[0].length;i++){const n=e.map(a=>a[i]),s=t.map(()=>[]);t.forEach((a,c)=>a.push(s[c]));const o=n.map(()=>0),l=n.map(a=>a[0]);for(;l.every(a=>a);){const a=Math.min(...l.map(c=>c.content.length));for(let c=0;c<r;c++){const u=l[c];u.content.length===a?(s[c].push(u),o[c]+=1,l[c]=n[c][o[c]]):(s[c].push({...u,content:u.content.slice(0,a)}),l[c]={...u,content:u.content.slice(a),offset:u.offset+a})}}}return t}function dc(e,t,r){let i,n,s,o,l,a;if("themes"in r){const{defaultColor:c="light",cssVariablePrefix:u="--shiki-",colorsRendering:h="css-vars"}=r,d=Object.entries(r.themes).filter(m=>m[1]).map(m=>({color:m[0],theme:m[1]})).sort((m,v)=>m.color===c?-1:v.color===c?1:0);if(d.length===0)throw new Ue("`themes` option must not be empty");const f=R1(e,t,r);if(a=Jo(f),c&&Kp!==c&&!d.find(m=>m.color===c))throw new Ue(`\`themes\` option must contain the defaultColor key \`${c}\``);const p=d.map(m=>e.getTheme(m.theme)),_=d.map(m=>m.color);s=f.map(m=>m.map(v=>oL(v,_,u,c,h))),a&&Gc(s,a);const S=d.map(m=>ac(m.theme,r));n=Hg(d,p,S,u,c,"fg",h),i=Hg(d,p,S,u,c,"bg",h),o=`shiki-themes ${p.map(m=>m.name).join(" ")}`,l=c?void 0:[n,i].join(";")}else if("theme"in r){const c=ac(r.theme,r);s=qp(e,t,r);const u=e.getTheme(r.theme);i=Hi(u.bg,c),n=Hi(u.fg,c),o=u.name,a=Jo(s)}else throw new Ue("Invalid options, either `theme` or `themes` must be provided");return{tokens:s,fg:n,bg:i,themeName:o,rootStyle:l,grammarState:a}}function Hg(e,t,r,i,n,s,o){return e.map((l,a)=>{const c=Hi(t[a][s],r[a])||"inherit",u=`${i+l.color}${s==="bg"?"-bg":""}:${c}`;if(a===0&&n){if(n===Kp&&e.length>1){const h=e.findIndex(_=>_.color==="light"),d=e.findIndex(_=>_.color==="dark");if(h===-1||d===-1)throw new Ue('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const f=Hi(t[h][s],r[h])||"inherit",p=Hi(t[d][s],r[d])||"inherit";return`light-dark(${f}, ${p});${u}`}return c}return o==="css-vars"?u:null}).filter(l=>!!l).join(";")}function fc(e,t,r,i={meta:{},options:r,codeToHast:(n,s)=>fc(e,n,s),codeToTokens:(n,s)=>dc(e,n,s)}){var p,_;let n=t;for(const S of uc(r))n=((p=S.preprocess)==null?void 0:p.call(i,n,r))||n;let{tokens:s,fg:o,bg:l,themeName:a,rootStyle:c,grammarState:u}=dc(e,n,r);const{mergeWhitespaces:h=!0,mergeSameStyleTokens:d=!1}=r;h===!0?s=PL(s):h==="never"&&(s=TL(s)),d&&(s=LL(s));const f={...i,get source(){return n}};for(const S of uc(r))s=((_=S.tokens)==null?void 0:_.call(f,s))||s;return RL(s,{...r,fg:o,bg:l,themeName:a,rootStyle:c},f,u)}function RL(e,t,r,i=Jo(e)){var p,_,S;const n=uc(t),s=[],o={type:"root",children:[]},{structure:l="classic",tabindex:a="0"}=t;let c={type:"element",tagName:"pre",properties:{class:`shiki ${t.themeName||""}`,style:t.rootStyle||`background-color:${t.bg};color:${t.fg}`,...a!==!1&&a!=null?{tabindex:a.toString()}:{},...Object.fromEntries(Array.from(Object.entries(t.meta||{})).filter(([m])=>!m.startsWith("_")))},children:[]},u={type:"element",tagName:"code",properties:{},children:s};const h=[],d={...r,structure:l,addClassToHast:E1,get source(){return r.source},get tokens(){return e},get options(){return t},get root(){return o},get pre(){return c},get code(){return u},get lines(){return h}};if(e.forEach((m,v)=>{var b,R;v&&(l==="inline"?o.children.push({type:"element",tagName:"br",properties:{},children:[]}):l==="classic"&&s.push({type:"text",value:`
`}));let y={type:"element",tagName:"span",properties:{class:"line"},children:[]},w=0;for(const x of m){let L={type:"element",tagName:"span",properties:{...x.htmlAttrs},children:[{type:"text",value:x.content}]};const T=mf(x.htmlStyle||cc(x));T&&(L.properties.style=T);for(const N of n)L=((b=N==null?void 0:N.span)==null?void 0:b.call(d,L,v+1,w,y,x))||L;l==="inline"?o.children.push(L):l==="classic"&&y.children.push(L),w+=x.content.length}if(l==="classic"){for(const x of n)y=((R=x==null?void 0:x.line)==null?void 0:R.call(d,y,v+1))||y;h.push(y),s.push(y)}}),l==="classic"){for(const m of n)u=((p=m==null?void 0:m.code)==null?void 0:p.call(d,u))||u;c.children.push(u);for(const m of n)c=((_=m==null?void 0:m.pre)==null?void 0:_.call(d,c))||c;o.children.push(c)}let f=o;for(const m of n)f=((S=m==null?void 0:m.root)==null?void 0:S.call(d,f))||f;return i&&Gc(f,i),f}function PL(e){return e.map(t=>{const r=[];let i="",n=0;return t.forEach((s,o)=>{const a=!(s.fontStyle&&(s.fontStyle&bt.Underline||s.fontStyle&bt.Strikethrough));a&&s.content.match(/^\s+$/)&&t[o+1]?(n||(n=s.offset),i+=s.content):i?(a?r.push({...s,offset:n,content:i+s.content}):r.push({content:i,offset:n},s),n=0,i=""):r.push(s)}),r})}function TL(e){return e.map(t=>t.flatMap(r=>{if(r.content.match(/^\s+$/))return r;const i=r.content.match(/^(\s*)(.*?)(\s*)$/);if(!i)return r;const[,n,s,o]=i;if(!n&&!o)return r;const l=[{...r,offset:r.offset+n.length,content:s}];return n&&l.unshift({content:n,offset:r.offset}),o&&l.push({content:o,offset:r.offset+n.length+s.length}),l}))}function LL(e){return e.map(t=>{const r=[];for(const i of t){if(r.length===0){r.push({...i});continue}const n=r[r.length-1],s=mf(n.htmlStyle||cc(n)),o=mf(i.htmlStyle||cc(i)),l=n.fontStyle&&(n.fontStyle&bt.Underline||n.fontStyle&bt.Strikethrough),a=i.fontStyle&&(i.fontStyle&bt.Underline||i.fontStyle&bt.Strikethrough);!l&&!a&&s===o?n.content+=i.content:r.push({...i})}return r})}const AL=ZT;function DL(e,t,r){var s;const i={meta:{},options:r,codeToHast:(o,l)=>fc(e,o,l),codeToTokens:(o,l)=>dc(e,o,l)};let n=AL(fc(e,t,r,i));for(const o of uc(r))n=((s=o.postprocess)==null?void 0:s.call(i,n,r))||n;return n}const Wg={light:"#333333",dark:"#bbbbbb"},Vg={light:"#fffffe",dark:"#1e1e1e"},jg="__shiki_resolved";function Yp(e){var l,a,c,u,h;if(e!=null&&e[jg])return e;const t={...e};t.tokenColors&&!t.settings&&(t.settings=t.tokenColors,delete t.tokenColors),t.type||(t.type="dark"),t.colorReplacements={...t.colorReplacements},t.settings||(t.settings=[]);let{bg:r,fg:i}=t;if(!r||!i){const d=t.settings?t.settings.find(f=>!f.name&&!f.scope):void 0;(l=d==null?void 0:d.settings)!=null&&l.foreground&&(i=d.settings.foreground),(a=d==null?void 0:d.settings)!=null&&a.background&&(r=d.settings.background),!i&&((c=t==null?void 0:t.colors)!=null&&c["editor.foreground"])&&(i=t.colors["editor.foreground"]),!r&&((u=t==null?void 0:t.colors)!=null&&u["editor.background"])&&(r=t.colors["editor.background"]),i||(i=t.type==="light"?Wg.light:Wg.dark),r||(r=t.type==="light"?Vg.light:Vg.dark),t.fg=i,t.bg=r}t.settings[0]&&t.settings[0].settings&&!t.settings[0].scope||t.settings.unshift({settings:{foreground:t.fg,background:t.bg}});let n=0;const s=new Map;function o(d){var p;if(s.has(d))return s.get(d);n+=1;const f=`#${n.toString(16).padStart(8,"0").toLowerCase()}`;return(p=t.colorReplacements)!=null&&p[`#${f}`]?o(d):(s.set(d,f),f)}t.settings=t.settings.map(d=>{var S,m;const f=((S=d.settings)==null?void 0:S.foreground)&&!d.settings.foreground.startsWith("#"),p=((m=d.settings)==null?void 0:m.background)&&!d.settings.background.startsWith("#");if(!f&&!p)return d;const _={...d,settings:{...d.settings}};if(f){const v=o(d.settings.foreground);t.colorReplacements[v]=d.settings.foreground,_.settings.foreground=v}if(p){const v=o(d.settings.background);t.colorReplacements[v]=d.settings.background,_.settings.background=v}return _});for(const d of Object.keys(t.colors||{}))if((d==="editor.foreground"||d==="editor.background"||d.startsWith("terminal.ansi"))&&!((h=t.colors[d])!=null&&h.startsWith("#"))){const f=o(t.colors[d]);t.colorReplacements[f]=t.colors[d],t.colors[d]=f}return Object.defineProperty(t,jg,{enumerable:!1,writable:!1,value:!0}),t}async function P1(e){return Array.from(new Set((await Promise.all(e.filter(t=>!C1(t)).map(async t=>await w1(t).then(r=>Array.isArray(r)?r:[r])))).flat()))}async function T1(e){return(await Promise.all(e.map(async r=>b1(r)?null:Yp(await w1(r))))).filter(r=>!!r)}let NL=3;function OL(e,t=3){t>NL||console.trace(`[SHIKI DEPRECATE]: ${e}`)}let es=class extends Error{constructor(t){super(t),this.name="ShikiError"}};class IL extends $P{constructor(r,i,n,s={}){super(r);M(this,"_resolvedThemes",new Map);M(this,"_resolvedGrammars",new Map);M(this,"_langMap",new Map);M(this,"_langGraph",new Map);M(this,"_textmateThemeCache",new WeakMap);M(this,"_loadedThemesCache",null);M(this,"_loadedLanguagesCache",null);this._resolver=r,this._themes=i,this._langs=n,this._alias=s,this._themes.map(o=>this.loadTheme(o)),this.loadLanguages(this._langs)}getTheme(r){return typeof r=="string"?this._resolvedThemes.get(r):this.loadTheme(r)}loadTheme(r){const i=Yp(r);return i.name&&(this._resolvedThemes.set(i.name,i),this._loadedThemesCache=null),i}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(r){let i=this._textmateThemeCache.get(r);i||(i=ic.createFromRawTheme(r),this._textmateThemeCache.set(r,i)),this._syncRegistry.setTheme(i)}getGrammar(r){if(this._alias[r]){const i=new Set([r]);for(;this._alias[r];){if(r=this._alias[r],i.has(r))throw new es(`Circular alias \`${Array.from(i).join(" -> ")} -> ${r}\``);i.add(r)}}return this._resolvedGrammars.get(r)}loadLanguage(r){var o,l,a,c;if(this.getGrammar(r.name))return;const i=new Set([...this._langMap.values()].filter(u=>{var h;return(h=u.embeddedLangsLazy)==null?void 0:h.includes(r.name)}));this._resolver.addLanguage(r);const n={balancedBracketSelectors:r.balancedBracketSelectors||["*"],unbalancedBracketSelectors:r.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(r.scopeName,r);const s=this.loadGrammarWithConfiguration(r.scopeName,1,n);if(s.name=r.name,this._resolvedGrammars.set(r.name,s),r.aliases&&r.aliases.forEach(u=>{this._alias[u]=r.name}),this._loadedLanguagesCache=null,i.size)for(const u of i)this._resolvedGrammars.delete(u.name),this._loadedLanguagesCache=null,(l=(o=this._syncRegistry)==null?void 0:o._injectionGrammars)==null||l.delete(u.scopeName),(c=(a=this._syncRegistry)==null?void 0:a._grammars)==null||c.delete(u.scopeName),this.loadLanguage(this._langMap.get(u.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(r){for(const s of r)this.resolveEmbeddedLanguages(s);const i=Array.from(this._langGraph.entries()),n=i.filter(([s,o])=>!o);if(n.length){const s=i.filter(([o,l])=>{var a;return l&&((a=l.embeddedLangs)==null?void 0:a.some(c=>n.map(([u])=>u).includes(c)))}).filter(o=>!n.includes(o));throw new es(`Missing languages ${n.map(([o])=>`\`${o}\``).join(", ")}, required by ${s.map(([o])=>`\`${o}\``).join(", ")}`)}for(const[s,o]of i)this._resolver.addLanguage(o);for(const[s,o]of i)this.loadLanguage(o)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(r){if(this._langMap.set(r.name,r),this._langGraph.set(r.name,r),r.embeddedLangs)for(const i of r.embeddedLangs)this._langGraph.set(i,this._langMap.get(i))}}class ML{constructor(t,r){M(this,"_langs",new Map);M(this,"_scopeToLang",new Map);M(this,"_injections",new Map);M(this,"_onigLib");this._onigLib={createOnigScanner:i=>t.createScanner(i),createOnigString:i=>t.createString(i)},r.forEach(i=>this.addLanguage(i))}get onigLib(){return this._onigLib}getLangRegistration(t){return this._langs.get(t)}loadGrammar(t){return this._scopeToLang.get(t)}addLanguage(t){this._langs.set(t.name,t),t.aliases&&t.aliases.forEach(r=>{this._langs.set(r,t)}),this._scopeToLang.set(t.scopeName,t),t.injectTo&&t.injectTo.forEach(r=>{this._injections.get(r)||this._injections.set(r,[]),this._injections.get(r).push(t.scopeName)})}getInjections(t){const r=t.split(".");let i=[];for(let n=1;n<=r.length;n++){const s=r.slice(0,n).join(".");i=[...i,...this._injections.get(s)||[]]}return i}}let to=0;function BL(e){to+=1,e.warnings!==!1&&to>=10&&to%10===0&&console.warn(`[Shiki] ${to} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let t=!1;if(!e.engine)throw new es("`engine` option is required for synchronous mode");const r=(e.langs||[]).flat(1),i=(e.themes||[]).flat(1).map(Yp),n=new ML(e.engine,r),s=new IL(n,i,r,e.langAlias);let o;function l(v){S();const y=s.getGrammar(typeof v=="string"?v:v.name);if(!y)throw new es(`Language \`${v}\` not found, you may need to load it first`);return y}function a(v){if(v==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};S();const y=s.getTheme(v);if(!y)throw new es(`Theme \`${v}\` not found, you may need to load it first`);return y}function c(v){S();const y=a(v);o!==v&&(s.setTheme(y),o=v);const w=s.getColorMap();return{theme:y,colorMap:w}}function u(){return S(),s.getLoadedThemes()}function h(){return S(),s.getLoadedLanguages()}function d(...v){S(),s.loadLanguages(v.flat(1))}async function f(...v){return d(await P1(v))}function p(...v){S();for(const y of v.flat(1))s.loadTheme(y)}async function _(...v){return S(),p(await T1(v))}function S(){if(t)throw new es("Shiki instance has been disposed")}function m(){t||(t=!0,s.dispose(),to-=1)}return{setTheme:c,getTheme:a,getLanguage:l,getLoadedThemes:u,getLoadedLanguages:h,loadLanguage:f,loadLanguageSync:d,loadTheme:_,loadThemeSync:p,dispose:m,[Symbol.dispose]:m}}async function $L(e){e.engine||OL("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[t,r,i]=await Promise.all([T1(e.themes||[]),P1(e.langs||[]),e.engine]);return BL({...e,themes:t,langs:r,engine:i})}async function FL(e){const t=await $L(e);return{getLastGrammarState:(...r)=>SL(t,...r),codeToTokensBase:(r,i)=>qp(t,r,i),codeToTokensWithThemes:(r,i)=>R1(t,r,i),codeToTokens:(r,i)=>dc(t,r,i),codeToHast:(r,i)=>fc(t,r,i),codeToHtml:(r,i)=>DL(t,r,i),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...t,getInternalContext:()=>t}}function zL(e){const t=e.langs,r=e.themes,i=e.engine;async function n(s){function o(h){var d;if(typeof h=="string"){if(C1(h))return[];h=((d=s.langAlias)==null?void 0:d[h])||h;const f=t[h];if(!f)throw new Ue(`Language \`${h}\` is not included in this bundle. You may want to load it from external source.`);return f}return h}function l(h){if(b1(h))return"none";if(typeof h=="string"){const d=r[h];if(!d)throw new Ue(`Theme \`${h}\` is not included in this bundle. You may want to load it from external source.`);return d}return h}const a=(s.themes??[]).map(h=>l(h)),c=(s.langs??[]).map(h=>o(h)),u=await FL({engine:s.engine??i(),...s,themes:a,langs:c});return{...u,loadLanguage(...h){return u.loadLanguage(...h.map(o))},loadTheme(...h){return u.loadTheme(...h.map(l))},getBundledLanguages(){return t},getBundledThemes(){return r}}}return n}const L1=[{id:"abap",name:"ABAP",import:()=>C(()=>import("./abap-275f836f.js"),[])},{id:"actionscript-3",name:"ActionScript",import:()=>C(()=>import("./actionscript-3-f732b92f.js"),[])},{id:"ada",name:"Ada",import:()=>C(()=>import("./ada-69fd845c.js"),[])},{id:"angular-html",name:"Angular HTML",import:()=>C(()=>import("./angular-html-6b5aa865.js").then(e=>e.f),["assets/angular-html-6b5aa865.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js"])},{id:"angular-ts",name:"Angular TypeScript",import:()=>C(()=>import("./angular-ts-9c80a4b8.js"),["assets/angular-ts-9c80a4b8.js","assets/angular-html-6b5aa865.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/scss-30c4f63f.js"])},{id:"apache",name:"Apache Conf",import:()=>C(()=>import("./apache-5d68c59e.js"),[])},{id:"apex",name:"Apex",import:()=>C(()=>import("./apex-e49f85d5.js"),[])},{id:"apl",name:"APL",import:()=>C(()=>import("./apl-62fe6c0c.js"),["assets/apl-62fe6c0c.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/json-caa6b29d.js"])},{id:"applescript",name:"AppleScript",import:()=>C(()=>import("./applescript-638818ff.js"),[])},{id:"ara",name:"Ara",import:()=>C(()=>import("./ara-2b0dc5fa.js"),[])},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:()=>C(()=>import("./asciidoc-b867d7a7.js"),[])},{id:"asm",name:"Assembly",import:()=>C(()=>import("./asm-70679c75.js"),[])},{id:"astro",name:"Astro",import:()=>C(()=>import("./astro-ba9cd804.js"),["assets/astro-ba9cd804.js","assets/json-caa6b29d.js","assets/javascript-aed75ca3.js","assets/typescript-18e13b06.js","assets/css-e28007d3.js","assets/postcss-70b68174.js","assets/tsx-ec849818.js"])},{id:"awk",name:"AWK",import:()=>C(()=>import("./awk-5f9e5ffb.js"),[])},{id:"ballerina",name:"Ballerina",import:()=>C(()=>import("./ballerina-51a65a2d.js"),[])},{id:"bat",name:"Batch File",aliases:["batch"],import:()=>C(()=>import("./bat-69074cdd.js"),[])},{id:"beancount",name:"Beancount",import:()=>C(()=>import("./beancount-d9de0190.js"),[])},{id:"berry",name:"Berry",aliases:["be"],import:()=>C(()=>import("./berry-90822df9.js"),[])},{id:"bibtex",name:"BibTeX",import:()=>C(()=>import("./bibtex-c2d602b3.js"),[])},{id:"bicep",name:"Bicep",import:()=>C(()=>import("./bicep-862c7bbb.js"),[])},{id:"blade",name:"Blade",import:()=>C(()=>import("./blade-ba461ab1.js"),["assets/blade-ba461ab1.js","assets/html-derivative-c01eeeeb.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/sql-a9254b62.js","assets/json-caa6b29d.js"])},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:()=>C(()=>import("./bsl-d4be38f1.js"),["assets/bsl-d4be38f1.js","assets/sdbl-785ed21f.js"])},{id:"c",name:"C",import:()=>C(()=>import("./c-34f95b68.js"),[])},{id:"cadence",name:"Cadence",aliases:["cdc"],import:()=>C(()=>import("./cadence-28601ad8.js"),[])},{id:"cairo",name:"Cairo",import:()=>C(()=>import("./cairo-7b214aa6.js"),["assets/cairo-7b214aa6.js","assets/python-c70e1982.js"])},{id:"clarity",name:"Clarity",import:()=>C(()=>import("./clarity-a14953ab.js"),[])},{id:"clojure",name:"Clojure",aliases:["clj"],import:()=>C(()=>import("./clojure-7bf62288.js"),[])},{id:"cmake",name:"CMake",import:()=>C(()=>import("./cmake-631ea260.js"),[])},{id:"cobol",name:"COBOL",import:()=>C(()=>import("./cobol-b243d520.js"),["assets/cobol-b243d520.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/java-f4d1a56d.js"])},{id:"codeowners",name:"CODEOWNERS",import:()=>C(()=>import("./codeowners-cb680cb8.js"),[])},{id:"codeql",name:"CodeQL",aliases:["ql"],import:()=>C(()=>import("./codeql-3796b32c.js"),[])},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:()=>C(()=>import("./coffee-1c9ab738.js"),["assets/coffee-1c9ab738.js","assets/javascript-aed75ca3.js"])},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:()=>C(()=>import("./common-lisp-5953950b.js"),[])},{id:"coq",name:"Coq",import:()=>C(()=>import("./coq-852f6d57.js"),[])},{id:"cpp",name:"C++",aliases:["c++"],import:()=>C(()=>import("./cpp-5eb8e1f2.js"),["assets/cpp-5eb8e1f2.js","assets/regexp-04d992cd.js","assets/glsl-22a7d551.js","assets/c-34f95b68.js","assets/sql-a9254b62.js"])},{id:"crystal",name:"Crystal",import:()=>C(()=>import("./crystal-10f99113.js"),["assets/crystal-10f99113.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/sql-a9254b62.js","assets/c-34f95b68.js","assets/shellscript-cccb0576.js"])},{id:"csharp",name:"C#",aliases:["c#","cs"],import:()=>C(()=>import("./csharp-e12448c3.js"),[])},{id:"css",name:"CSS",import:()=>C(()=>import("./css-e28007d3.js"),[])},{id:"csv",name:"CSV",import:()=>C(()=>import("./csv-93b5f9fa.js"),[])},{id:"cue",name:"CUE",import:()=>C(()=>import("./cue-8a424200.js"),[])},{id:"cypher",name:"Cypher",aliases:["cql"],import:()=>C(()=>import("./cypher-b75db6ed.js"),[])},{id:"d",name:"D",import:()=>C(()=>import("./d-0543f47b.js"),[])},{id:"dart",name:"Dart",import:()=>C(()=>import("./dart-890dccd6.js"),[])},{id:"dax",name:"DAX",import:()=>C(()=>import("./dax-605c2392.js"),[])},{id:"desktop",name:"Desktop",import:()=>C(()=>import("./desktop-e166e7b5.js"),[])},{id:"diff",name:"Diff",import:()=>C(()=>import("./diff-d7eec55d.js"),[])},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:()=>C(()=>import("./docker-d372b935.js"),[])},{id:"dotenv",name:"dotEnv",import:()=>C(()=>import("./dotenv-f9f4a12b.js"),[])},{id:"dream-maker",name:"Dream Maker",import:()=>C(()=>import("./dream-maker-05bbaddd.js"),[])},{id:"edge",name:"Edge",import:()=>C(()=>import("./edge-944f8101.js"),["assets/edge-944f8101.js","assets/typescript-18e13b06.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/html-derivative-c01eeeeb.js"])},{id:"elixir",name:"Elixir",import:()=>C(()=>import("./elixir-f2ad5609.js"),["assets/elixir-f2ad5609.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js"])},{id:"elm",name:"Elm",import:()=>C(()=>import("./elm-474a143a.js"),["assets/elm-474a143a.js","assets/glsl-22a7d551.js","assets/c-34f95b68.js"])},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:()=>C(()=>import("./emacs-lisp-8c7e8a32.js"),[])},{id:"erb",name:"ERB",import:()=>C(()=>import("./erb-b94d2481.js"),["assets/erb-b94d2481.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/ruby-ee5b5c42.js","assets/haml-f437a3fc.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/sql-a9254b62.js","assets/graphql-f1003241.js","assets/typescript-18e13b06.js","assets/jsx-b4e51032.js","assets/tsx-ec849818.js","assets/cpp-5eb8e1f2.js","assets/regexp-04d992cd.js","assets/glsl-22a7d551.js","assets/c-34f95b68.js","assets/shellscript-cccb0576.js","assets/lua-499b9780.js","assets/yaml-01e00f1b.js"])},{id:"erlang",name:"Erlang",aliases:["erl"],import:()=>C(()=>import("./erlang-f6d4663c.js"),["assets/erlang-f6d4663c.js","assets/markdown-fe1a8307.js"])},{id:"fennel",name:"Fennel",import:()=>C(()=>import("./fennel-739339e5.js"),[])},{id:"fish",name:"Fish",import:()=>C(()=>import("./fish-84789eaa.js"),[])},{id:"fluent",name:"Fluent",aliases:["ftl"],import:()=>C(()=>import("./fluent-74a9d4c4.js"),[])},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:()=>C(()=>import("./fortran-fixed-form-30095748.js"),["assets/fortran-fixed-form-30095748.js","assets/fortran-free-form-11fce8c2.js"])},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:()=>C(()=>import("./fortran-free-form-11fce8c2.js"),[])},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:()=>C(()=>import("./fsharp-1323bef2.js"),["assets/fsharp-1323bef2.js","assets/markdown-fe1a8307.js"])},{id:"gdresource",name:"GDResource",import:()=>C(()=>import("./gdresource-ee919ffa.js"),["assets/gdresource-ee919ffa.js","assets/gdshader-792b430e.js","assets/gdscript-6ebdaa1d.js"])},{id:"gdscript",name:"GDScript",import:()=>C(()=>import("./gdscript-6ebdaa1d.js"),[])},{id:"gdshader",name:"GDShader",import:()=>C(()=>import("./gdshader-792b430e.js"),[])},{id:"genie",name:"Genie",import:()=>C(()=>import("./genie-41a627df.js"),[])},{id:"gherkin",name:"Gherkin",import:()=>C(()=>import("./gherkin-0ca228b6.js"),[])},{id:"git-commit",name:"Git Commit Message",import:()=>C(()=>import("./git-commit-49f0838c.js"),["assets/git-commit-49f0838c.js","assets/diff-d7eec55d.js"])},{id:"git-rebase",name:"Git Rebase Message",import:()=>C(()=>import("./git-rebase-33a5de5b.js"),["assets/git-rebase-33a5de5b.js","assets/shellscript-cccb0576.js"])},{id:"gleam",name:"Gleam",import:()=>C(()=>import("./gleam-d1da6013.js"),[])},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:()=>C(()=>import("./glimmer-js-9cecb077.js"),["assets/glimmer-js-9cecb077.js","assets/javascript-aed75ca3.js","assets/typescript-18e13b06.js","assets/css-e28007d3.js","assets/html-76575ee0.js"])},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:()=>C(()=>import("./glimmer-ts-827de3c5.js"),["assets/glimmer-ts-827de3c5.js","assets/typescript-18e13b06.js","assets/css-e28007d3.js","assets/javascript-aed75ca3.js","assets/html-76575ee0.js"])},{id:"glsl",name:"GLSL",import:()=>C(()=>import("./glsl-22a7d551.js"),["assets/glsl-22a7d551.js","assets/c-34f95b68.js"])},{id:"gnuplot",name:"Gnuplot",import:()=>C(()=>import("./gnuplot-4aba1f81.js"),[])},{id:"go",name:"Go",import:()=>C(()=>import("./go-e99a7d21.js"),[])},{id:"graphql",name:"GraphQL",aliases:["gql"],import:()=>C(()=>import("./graphql-f1003241.js"),["assets/graphql-f1003241.js","assets/javascript-aed75ca3.js","assets/typescript-18e13b06.js","assets/jsx-b4e51032.js","assets/tsx-ec849818.js"])},{id:"groovy",name:"Groovy",import:()=>C(()=>import("./groovy-076e78f8.js"),[])},{id:"hack",name:"Hack",import:()=>C(()=>import("./hack-3404c3cf.js"),["assets/hack-3404c3cf.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/sql-a9254b62.js"])},{id:"haml",name:"Ruby Haml",import:()=>C(()=>import("./haml-f437a3fc.js"),["assets/haml-f437a3fc.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js"])},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:()=>C(()=>import("./handlebars-3c3ffdfe.js"),["assets/handlebars-3c3ffdfe.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/yaml-01e00f1b.js"])},{id:"haskell",name:"Haskell",aliases:["hs"],import:()=>C(()=>import("./haskell-563d2599.js"),[])},{id:"haxe",name:"Haxe",import:()=>C(()=>import("./haxe-66b9af87.js"),[])},{id:"hcl",name:"HashiCorp HCL",import:()=>C(()=>import("./hcl-afcfe270.js"),[])},{id:"hjson",name:"Hjson",import:()=>C(()=>import("./hjson-3024806d.js"),[])},{id:"hlsl",name:"HLSL",import:()=>C(()=>import("./hlsl-343c8a47.js"),[])},{id:"html",name:"HTML",import:()=>C(()=>import("./html-76575ee0.js"),["assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js"])},{id:"html-derivative",name:"HTML (Derivative)",import:()=>C(()=>import("./html-derivative-c01eeeeb.js"),["assets/html-derivative-c01eeeeb.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js"])},{id:"http",name:"HTTP",import:()=>C(()=>import("./http-dcd8cfce.js"),["assets/http-dcd8cfce.js","assets/shellscript-cccb0576.js","assets/json-caa6b29d.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/graphql-f1003241.js","assets/javascript-aed75ca3.js","assets/typescript-18e13b06.js","assets/jsx-b4e51032.js","assets/tsx-ec849818.js"])},{id:"hxml",name:"HXML",import:()=>C(()=>import("./hxml-14c74823.js"),["assets/hxml-14c74823.js","assets/haxe-66b9af87.js"])},{id:"hy",name:"Hy",import:()=>C(()=>import("./hy-bc07db93.js"),[])},{id:"imba",name:"Imba",import:()=>C(()=>import("./imba-b08a7e2c.js"),[])},{id:"ini",name:"INI",aliases:["properties"],import:()=>C(()=>import("./ini-919707c5.js"),[])},{id:"java",name:"Java",import:()=>C(()=>import("./java-f4d1a56d.js"),[])},{id:"javascript",name:"JavaScript",aliases:["js"],import:()=>C(()=>import("./javascript-aed75ca3.js"),[])},{id:"jinja",name:"Jinja",import:()=>C(()=>import("./jinja-01b6c635.js"),["assets/jinja-01b6c635.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js"])},{id:"jison",name:"Jison",import:()=>C(()=>import("./jison-75de103b.js"),["assets/jison-75de103b.js","assets/javascript-aed75ca3.js"])},{id:"json",name:"JSON",import:()=>C(()=>import("./json-caa6b29d.js"),[])},{id:"json5",name:"JSON5",import:()=>C(()=>import("./json5-1e4a508a.js"),[])},{id:"jsonc",name:"JSON with Comments",import:()=>C(()=>import("./jsonc-749359dc.js"),[])},{id:"jsonl",name:"JSON Lines",import:()=>C(()=>import("./jsonl-1e6e7390.js"),[])},{id:"jsonnet",name:"Jsonnet",import:()=>C(()=>import("./jsonnet-92cc994d.js"),[])},{id:"jssm",name:"JSSM",aliases:["fsl"],import:()=>C(()=>import("./jssm-39119bcb.js"),[])},{id:"jsx",name:"JSX",import:()=>C(()=>import("./jsx-b4e51032.js"),[])},{id:"julia",name:"Julia",aliases:["jl"],import:()=>C(()=>import("./julia-0f903698.js"),["assets/julia-0f903698.js","assets/cpp-5eb8e1f2.js","assets/regexp-04d992cd.js","assets/glsl-22a7d551.js","assets/c-34f95b68.js","assets/sql-a9254b62.js","assets/python-c70e1982.js","assets/javascript-aed75ca3.js","assets/r-46b86b9b.js"])},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:()=>C(()=>import("./kotlin-682cf756.js"),[])},{id:"kusto",name:"Kusto",aliases:["kql"],import:()=>C(()=>import("./kusto-ac8dda0a.js"),[])},{id:"latex",name:"LaTeX",import:()=>C(()=>import("./latex-cbc68563.js"),["assets/latex-cbc68563.js","assets/tex-c7282923.js","assets/r-46b86b9b.js"])},{id:"lean",name:"Lean 4",aliases:["lean4"],import:()=>C(()=>import("./lean-a505d4ce.js"),[])},{id:"less",name:"Less",import:()=>C(()=>import("./less-45bb98b9.js"),[])},{id:"liquid",name:"Liquid",import:()=>C(()=>import("./liquid-01c57463.js"),["assets/liquid-01c57463.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/json-caa6b29d.js"])},{id:"llvm",name:"LLVM IR",import:()=>C(()=>import("./llvm-fac4e609.js"),[])},{id:"log",name:"Log file",import:()=>C(()=>import("./log-43fb3599.js"),[])},{id:"logo",name:"Logo",import:()=>C(()=>import("./logo-20d877e1.js"),[])},{id:"lua",name:"Lua",import:()=>C(()=>import("./lua-499b9780.js"),["assets/lua-499b9780.js","assets/c-34f95b68.js"])},{id:"luau",name:"Luau",import:()=>C(()=>import("./luau-bac4dcb7.js"),[])},{id:"make",name:"Makefile",aliases:["makefile"],import:()=>C(()=>import("./make-61c6b155.js"),[])},{id:"markdown",name:"Markdown",aliases:["md"],import:()=>C(()=>import("./markdown-fe1a8307.js"),[])},{id:"marko",name:"Marko",import:()=>C(()=>import("./marko-809006fd.js"),["assets/marko-809006fd.js","assets/css-e28007d3.js","assets/less-45bb98b9.js","assets/scss-30c4f63f.js","assets/typescript-18e13b06.js"])},{id:"matlab",name:"MATLAB",import:()=>C(()=>import("./matlab-149f77ed.js"),[])},{id:"mdc",name:"MDC",import:()=>C(()=>import("./mdc-050f22e6.js"),["assets/mdc-050f22e6.js","assets/markdown-fe1a8307.js","assets/yaml-01e00f1b.js","assets/html-derivative-c01eeeeb.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js"])},{id:"mdx",name:"MDX",import:()=>C(()=>import("./mdx-b1c17415.js"),[])},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:()=>C(()=>import("./mermaid-657219f7.js"),[])},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:()=>C(()=>import("./mipsasm-e51c4762.js"),[])},{id:"mojo",name:"Mojo",import:()=>C(()=>import("./mojo-eca720d0.js"),[])},{id:"move",name:"Move",import:()=>C(()=>import("./move-faabab02.js"),[])},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:()=>C(()=>import("./narrat-816fff42.js"),[])},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:()=>C(()=>import("./nextflow-d04a3849.js"),[])},{id:"nginx",name:"Nginx",import:()=>C(()=>import("./nginx-7e908184.js"),["assets/nginx-7e908184.js","assets/lua-499b9780.js","assets/c-34f95b68.js"])},{id:"nim",name:"Nim",import:()=>C(()=>import("./nim-1b0b56ec.js"),["assets/nim-1b0b56ec.js","assets/c-34f95b68.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/glsl-22a7d551.js","assets/markdown-fe1a8307.js"])},{id:"nix",name:"Nix",import:()=>C(()=>import("./nix-fd2f817a.js"),[])},{id:"nushell",name:"nushell",aliases:["nu"],import:()=>C(()=>import("./nushell-5e972171.js"),[])},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:()=>C(()=>import("./objective-c-2faf408f.js"),[])},{id:"objective-cpp",name:"Objective-C++",import:()=>C(()=>import("./objective-cpp-d53f48eb.js"),[])},{id:"ocaml",name:"OCaml",import:()=>C(()=>import("./ocaml-5c2c27cd.js"),[])},{id:"pascal",name:"Pascal",import:()=>C(()=>import("./pascal-93faf519.js"),[])},{id:"perl",name:"Perl",import:()=>C(()=>import("./perl-19565eef.js"),["assets/perl-19565eef.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/sql-a9254b62.js"])},{id:"php",name:"PHP",import:()=>C(()=>import("./php-ccd12899.js"),["assets/php-ccd12899.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/sql-a9254b62.js","assets/json-caa6b29d.js"])},{id:"plsql",name:"PL/SQL",import:()=>C(()=>import("./plsql-6e618c4c.js"),[])},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:()=>C(()=>import("./po-0e0f1a37.js"),[])},{id:"polar",name:"Polar",import:()=>C(()=>import("./polar-80914f24.js"),[])},{id:"postcss",name:"PostCSS",import:()=>C(()=>import("./postcss-70b68174.js"),[])},{id:"powerquery",name:"PowerQuery",import:()=>C(()=>import("./powerquery-adb15ff4.js"),[])},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:()=>C(()=>import("./powershell-dda4d351.js"),[])},{id:"prisma",name:"Prisma",import:()=>C(()=>import("./prisma-b51cf4f2.js"),[])},{id:"prolog",name:"Prolog",import:()=>C(()=>import("./prolog-51f8981d.js"),[])},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:()=>C(()=>import("./proto-738872b3.js"),[])},{id:"pug",name:"Pug",aliases:["jade"],import:()=>C(()=>import("./pug-b66d4575.js"),["assets/pug-b66d4575.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/html-76575ee0.js"])},{id:"puppet",name:"Puppet",import:()=>C(()=>import("./puppet-fcda62b4.js"),[])},{id:"purescript",name:"PureScript",import:()=>C(()=>import("./purescript-70ae8d85.js"),[])},{id:"python",name:"Python",aliases:["py"],import:()=>C(()=>import("./python-c70e1982.js"),[])},{id:"qml",name:"QML",import:()=>C(()=>import("./qml-01f2ddef.js"),["assets/qml-01f2ddef.js","assets/javascript-aed75ca3.js"])},{id:"qmldir",name:"QML Directory",import:()=>C(()=>import("./qmldir-388ffff5.js"),[])},{id:"qss",name:"Qt Style Sheets",import:()=>C(()=>import("./qss-46ff6b48.js"),[])},{id:"r",name:"R",import:()=>C(()=>import("./r-46b86b9b.js"),[])},{id:"racket",name:"Racket",import:()=>C(()=>import("./racket-20cbae05.js"),[])},{id:"raku",name:"Raku",aliases:["perl6"],import:()=>C(()=>import("./raku-e33f36a8.js"),[])},{id:"razor",name:"ASP.NET Razor",import:()=>C(()=>import("./razor-6d60259f.js"),["assets/razor-6d60259f.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/csharp-e12448c3.js"])},{id:"reg",name:"Windows Registry Script",import:()=>C(()=>import("./reg-52e27855.js"),[])},{id:"regexp",name:"RegExp",aliases:["regex"],import:()=>C(()=>import("./regexp-04d992cd.js"),[])},{id:"rel",name:"Rel",import:()=>C(()=>import("./rel-9339d2e1.js"),[])},{id:"riscv",name:"RISC-V",import:()=>C(()=>import("./riscv-de09b442.js"),[])},{id:"rst",name:"reStructuredText",import:()=>C(()=>import("./rst-0ade1381.js"),["assets/rst-0ade1381.js","assets/html-derivative-c01eeeeb.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/cpp-5eb8e1f2.js","assets/regexp-04d992cd.js","assets/glsl-22a7d551.js","assets/c-34f95b68.js","assets/sql-a9254b62.js","assets/python-c70e1982.js","assets/shellscript-cccb0576.js","assets/yaml-01e00f1b.js","assets/cmake-631ea260.js","assets/ruby-ee5b5c42.js","assets/haml-f437a3fc.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/graphql-f1003241.js","assets/typescript-18e13b06.js","assets/jsx-b4e51032.js","assets/tsx-ec849818.js","assets/lua-499b9780.js"])},{id:"ruby",name:"Ruby",aliases:["rb"],import:()=>C(()=>import("./ruby-ee5b5c42.js"),["assets/ruby-ee5b5c42.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js","assets/haml-f437a3fc.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/sql-a9254b62.js","assets/graphql-f1003241.js","assets/typescript-18e13b06.js","assets/jsx-b4e51032.js","assets/tsx-ec849818.js","assets/cpp-5eb8e1f2.js","assets/regexp-04d992cd.js","assets/glsl-22a7d551.js","assets/c-34f95b68.js","assets/shellscript-cccb0576.js","assets/lua-499b9780.js","assets/yaml-01e00f1b.js"])},{id:"rust",name:"Rust",aliases:["rs"],import:()=>C(()=>import("./rust-c4c036e9.js"),[])},{id:"sas",name:"SAS",import:()=>C(()=>import("./sas-90f876b6.js"),["assets/sas-90f876b6.js","assets/sql-a9254b62.js"])},{id:"sass",name:"Sass",import:()=>C(()=>import("./sass-20842c57.js"),[])},{id:"scala",name:"Scala",import:()=>C(()=>import("./scala-988536e7.js"),[])},{id:"scheme",name:"Scheme",import:()=>C(()=>import("./scheme-3629a177.js"),[])},{id:"scss",name:"SCSS",import:()=>C(()=>import("./scss-30c4f63f.js"),["assets/scss-30c4f63f.js","assets/css-e28007d3.js"])},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:()=>C(()=>import("./sdbl-785ed21f.js"),[])},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:()=>C(()=>import("./shaderlab-0b2f84df.js"),["assets/shaderlab-0b2f84df.js","assets/hlsl-343c8a47.js"])},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:()=>C(()=>import("./shellscript-cccb0576.js"),[])},{id:"shellsession",name:"Shell Session",aliases:["console"],import:()=>C(()=>import("./shellsession-71759df7.js"),["assets/shellsession-71759df7.js","assets/shellscript-cccb0576.js"])},{id:"smalltalk",name:"Smalltalk",import:()=>C(()=>import("./smalltalk-1579f1fd.js"),[])},{id:"solidity",name:"Solidity",import:()=>C(()=>import("./solidity-a89691b9.js"),[])},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:()=>C(()=>import("./soy-a6a4bf87.js"),["assets/soy-a6a4bf87.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js"])},{id:"sparql",name:"SPARQL",import:()=>C(()=>import("./sparql-8165eebc.js"),["assets/sparql-8165eebc.js","assets/turtle-e24c2723.js"])},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:()=>C(()=>import("./splunk-755fa0b9.js"),[])},{id:"sql",name:"SQL",import:()=>C(()=>import("./sql-a9254b62.js"),[])},{id:"ssh-config",name:"SSH Config",import:()=>C(()=>import("./ssh-config-9f823e6c.js"),[])},{id:"stata",name:"Stata",import:()=>C(()=>import("./stata-a303c775.js"),["assets/stata-a303c775.js","assets/sql-a9254b62.js"])},{id:"stylus",name:"Stylus",aliases:["styl"],import:()=>C(()=>import("./stylus-23f9a81f.js"),[])},{id:"svelte",name:"Svelte",import:()=>C(()=>import("./svelte-b6803d98.js"),["assets/svelte-b6803d98.js","assets/javascript-aed75ca3.js","assets/typescript-18e13b06.js","assets/css-e28007d3.js","assets/postcss-70b68174.js"])},{id:"swift",name:"Swift",import:()=>C(()=>import("./swift-37ed3238.js"),[])},{id:"system-verilog",name:"SystemVerilog",import:()=>C(()=>import("./system-verilog-eba949bf.js"),[])},{id:"systemd",name:"Systemd Units",import:()=>C(()=>import("./systemd-e034f46d.js"),[])},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:()=>C(()=>import("./talonscript-b7cbd7eb.js"),[])},{id:"tasl",name:"Tasl",import:()=>C(()=>import("./tasl-70b4a457.js"),[])},{id:"tcl",name:"Tcl",import:()=>C(()=>import("./tcl-b7a9ff46.js"),[])},{id:"templ",name:"Templ",import:()=>C(()=>import("./templ-b6ee649c.js"),["assets/templ-b6ee649c.js","assets/go-e99a7d21.js","assets/javascript-aed75ca3.js","assets/css-e28007d3.js"])},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:()=>C(()=>import("./terraform-c1b0d487.js"),[])},{id:"tex",name:"TeX",import:()=>C(()=>import("./tex-c7282923.js"),["assets/tex-c7282923.js","assets/r-46b86b9b.js"])},{id:"toml",name:"TOML",import:()=>C(()=>import("./toml-2b178fe5.js"),[])},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:()=>C(()=>import("./ts-tags-8d80d48f.js"),["assets/ts-tags-8d80d48f.js","assets/typescript-18e13b06.js","assets/css-e28007d3.js","assets/javascript-aed75ca3.js","assets/glsl-22a7d551.js","assets/c-34f95b68.js","assets/html-76575ee0.js","assets/sql-a9254b62.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js"])},{id:"tsv",name:"TSV",import:()=>C(()=>import("./tsv-d865d8d3.js"),[])},{id:"tsx",name:"TSX",import:()=>C(()=>import("./tsx-ec849818.js"),[])},{id:"turtle",name:"Turtle",import:()=>C(()=>import("./turtle-e24c2723.js"),[])},{id:"twig",name:"Twig",import:()=>C(()=>import("./twig-d37e375a.js"),["assets/twig-d37e375a.js","assets/css-e28007d3.js","assets/javascript-aed75ca3.js","assets/scss-30c4f63f.js","assets/php-ccd12899.js","assets/html-76575ee0.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/sql-a9254b62.js","assets/json-caa6b29d.js","assets/python-c70e1982.js","assets/ruby-ee5b5c42.js","assets/haml-f437a3fc.js","assets/graphql-f1003241.js","assets/typescript-18e13b06.js","assets/jsx-b4e51032.js","assets/tsx-ec849818.js","assets/cpp-5eb8e1f2.js","assets/regexp-04d992cd.js","assets/glsl-22a7d551.js","assets/c-34f95b68.js","assets/shellscript-cccb0576.js","assets/lua-499b9780.js","assets/yaml-01e00f1b.js"])},{id:"typescript",name:"TypeScript",aliases:["ts"],import:()=>C(()=>import("./typescript-18e13b06.js"),[])},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:()=>C(()=>import("./typespec-478978c5.js"),[])},{id:"typst",name:"Typst",aliases:["typ"],import:()=>C(()=>import("./typst-15b3c0c7.js"),[])},{id:"v",name:"V",import:()=>C(()=>import("./v-0f9c3060.js"),[])},{id:"vala",name:"Vala",import:()=>C(()=>import("./vala-85cb04fa.js"),[])},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:()=>C(()=>import("./vb-ea7e3a66.js"),[])},{id:"verilog",name:"Verilog",import:()=>C(()=>import("./verilog-79d40c84.js"),[])},{id:"vhdl",name:"VHDL",import:()=>C(()=>import("./vhdl-58679946.js"),[])},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:()=>C(()=>import("./viml-5dc23155.js"),[])},{id:"vue",name:"Vue",import:()=>C(()=>import("./vue-f24e7f70.js"),["assets/vue-f24e7f70.js","assets/css-e28007d3.js","assets/javascript-aed75ca3.js","assets/typescript-18e13b06.js","assets/json-caa6b29d.js","assets/html-derivative-c01eeeeb.js","assets/html-76575ee0.js"])},{id:"vue-html",name:"Vue HTML",import:()=>C(()=>import("./vue-html-f1dd69e9.js"),["assets/vue-html-f1dd69e9.js","assets/vue-f24e7f70.js","assets/css-e28007d3.js","assets/javascript-aed75ca3.js","assets/typescript-18e13b06.js","assets/json-caa6b29d.js","assets/html-derivative-c01eeeeb.js","assets/html-76575ee0.js"])},{id:"vue-vine",name:"Vue Vine",import:()=>C(()=>import("./vue-vine-0083ac73.js"),["assets/vue-vine-0083ac73.js","assets/css-e28007d3.js","assets/scss-30c4f63f.js","assets/less-45bb98b9.js","assets/stylus-23f9a81f.js","assets/postcss-70b68174.js","assets/vue-f24e7f70.js","assets/javascript-aed75ca3.js","assets/typescript-18e13b06.js","assets/json-caa6b29d.js","assets/html-derivative-c01eeeeb.js","assets/html-76575ee0.js"])},{id:"vyper",name:"Vyper",aliases:["vy"],import:()=>C(()=>import("./vyper-d4528143.js"),[])},{id:"wasm",name:"WebAssembly",import:()=>C(()=>import("./wasm-518b589e.js"),[])},{id:"wenyan",name:"Wenyan",aliases:[""],import:()=>C(()=>import("./wenyan-00b2226d.js"),[])},{id:"wgsl",name:"WGSL",import:()=>C(()=>import("./wgsl-e31c29dd.js"),[])},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:()=>C(()=>import("./wikitext-b0d6ef32.js"),[])},{id:"wit",name:"WebAssembly Interface Types",import:()=>C(()=>import("./wit-efb72efe.js"),[])},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:()=>C(()=>import("./wolfram-800b9ce6.js"),[])},{id:"xml",name:"XML",import:()=>C(()=>import("./xml-d286eba6.js"),["assets/xml-d286eba6.js","assets/java-f4d1a56d.js"])},{id:"xsl",name:"XSL",import:()=>C(()=>import("./xsl-e451f4a2.js"),["assets/xsl-e451f4a2.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js"])},{id:"yaml",name:"YAML",aliases:["yml"],import:()=>C(()=>import("./yaml-01e00f1b.js"),[])},{id:"zenscript",name:"ZenScript",import:()=>C(()=>import("./zenscript-ff57ce1f.js"),[])},{id:"zig",name:"Zig",import:()=>C(()=>import("./zig-6abbc280.js"),[])}],HL=Object.fromEntries(L1.map(e=>[e.id,e.import])),WL=Object.fromEntries(L1.flatMap(e=>{var t;return((t=e.aliases)==null?void 0:t.map(r=>[r,e.import]))||[]})),VL={...HL,...WL},A1=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:()=>C(()=>import("./andromeeda-adca7e3a.js"),[])},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:()=>C(()=>import("./aurora-x-d63c17b2.js"),[])},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:()=>C(()=>import("./ayu-dark-1603fc66.js"),[])},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:()=>C(()=>import("./catppuccin-frappe-68437b15.js"),[])},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:()=>C(()=>import("./catppuccin-latte-ff1e9ac9.js"),[])},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:()=>C(()=>import("./catppuccin-macchiato-8d40dfcd.js"),[])},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:()=>C(()=>import("./catppuccin-mocha-663b7f47.js"),[])},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:()=>C(()=>import("./dark-plus-3b6598c4.js"),[])},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:()=>C(()=>import("./dracula-91a37ef9.js"),[])},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:()=>C(()=>import("./dracula-soft-03bdbf09.js"),[])},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:()=>C(()=>import("./everforest-dark-cfb8b5b3.js"),[])},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:()=>C(()=>import("./everforest-light-940fb2ef.js"),[])},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:()=>C(()=>import("./github-dark-18960245.js"),[])},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:()=>C(()=>import("./github-dark-default-e5db1bb8.js"),[])},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:()=>C(()=>import("./github-dark-dimmed-256eff88.js"),[])},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:()=>C(()=>import("./github-dark-high-contrast-53493e03.js"),[])},{id:"github-light",displayName:"GitHub Light",type:"light",import:()=>C(()=>import("./github-light-a067cf5c.js"),[])},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:()=>C(()=>import("./github-light-default-6ca75fe3.js"),[])},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:()=>C(()=>import("./github-light-high-contrast-01ad6dc2.js"),[])},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:()=>C(()=>import("./gruvbox-dark-hard-c20e2f9f.js"),[])},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:()=>C(()=>import("./gruvbox-dark-medium-648df91d.js"),[])},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:()=>C(()=>import("./gruvbox-dark-soft-aca03723.js"),[])},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:()=>C(()=>import("./gruvbox-light-hard-0e75b411.js"),[])},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:()=>C(()=>import("./gruvbox-light-medium-ad03f5b2.js"),[])},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:()=>C(()=>import("./gruvbox-light-soft-73a48f9d.js"),[])},{id:"houston",displayName:"Houston",type:"dark",import:()=>C(()=>import("./houston-e66c025e.js"),[])},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:()=>C(()=>import("./kanagawa-dragon-f85a73b0.js"),[])},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:()=>C(()=>import("./kanagawa-lotus-e1747ebb.js"),[])},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:()=>C(()=>import("./kanagawa-wave-2349a660.js"),[])},{id:"laserwave",displayName:"LaserWave",type:"dark",import:()=>C(()=>import("./laserwave-f74feb24.js"),[])},{id:"light-plus",displayName:"Light Plus",type:"light",import:()=>C(()=>import("./light-plus-1e2edf9c.js"),[])},{id:"material-theme",displayName:"Material Theme",type:"dark",import:()=>C(()=>import("./material-theme-7338964e.js"),[])},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:()=>C(()=>import("./material-theme-darker-6f5b1471.js"),[])},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:()=>C(()=>import("./material-theme-lighter-497343b9.js"),[])},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:()=>C(()=>import("./material-theme-ocean-6702ee43.js"),[])},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:()=>C(()=>import("./material-theme-palenight-00959df5.js"),[])},{id:"min-dark",displayName:"Min Dark",type:"dark",import:()=>C(()=>import("./min-dark-e483dddb.js"),[])},{id:"min-light",displayName:"Min Light",type:"light",import:()=>C(()=>import("./min-light-4d70be9f.js"),[])},{id:"monokai",displayName:"Monokai",type:"dark",import:()=>C(()=>import("./monokai-8b41908b.js"),[])},{id:"night-owl",displayName:"Night Owl",type:"dark",import:()=>C(()=>import("./night-owl-f3290f13.js"),[])},{id:"nord",displayName:"Nord",type:"dark",import:()=>C(()=>import("./nord-65081b6c.js"),[])},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:()=>C(()=>import("./one-dark-pro-44c9ed07.js"),[])},{id:"one-light",displayName:"One Light",type:"light",import:()=>C(()=>import("./one-light-d9da6bd1.js"),[])},{id:"plastic",displayName:"Plastic",type:"dark",import:()=>C(()=>import("./plastic-680471ee.js"),[])},{id:"poimandres",displayName:"Poimandres",type:"dark",import:()=>C(()=>import("./poimandres-9fd643ac.js"),[])},{id:"red",displayName:"Red",type:"dark",import:()=>C(()=>import("./red-2551a1cb.js"),[])},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:()=>C(()=>import("./rose-pine-61bda6bc.js"),[])},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:()=>C(()=>import("./rose-pine-dawn-2ba8e9a7.js"),[])},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:()=>C(()=>import("./rose-pine-moon-fa989984.js"),[])},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:()=>C(()=>import("./slack-dark-1413622a.js"),[])},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:()=>C(()=>import("./slack-ochin-076673d6.js"),[])},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:()=>C(()=>import("./snazzy-light-18c22caf.js"),[])},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:()=>C(()=>import("./solarized-dark-4ad2b8c0.js"),[])},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:()=>C(()=>import("./solarized-light-6c8cfcec.js"),[])},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:()=>C(()=>import("./synthwave-84-ed6b9875.js"),[])},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:()=>C(()=>import("./tokyo-night-f68879e6.js"),[])},{id:"vesper",displayName:"Vesper",type:"dark",import:()=>C(()=>import("./vesper-6da47fc5.js"),[])},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:()=>C(()=>import("./vitesse-black-a604c69d.js"),[])},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:()=>C(()=>import("./vitesse-dark-9f021e2a.js"),[])},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:()=>C(()=>import("./vitesse-light-db4d84b6.js"),[])}],jL=Object.fromEntries(A1.map(e=>[e.id,e.import]));class Xp extends Error{constructor(t){super(t),this.name="ShikiError"}}function UL(){return 2147483648}function GL(){return typeof performance<"u"?performance.now():Date.now()}const KL=(e,t)=>e+(t-e%t)%t;async function qL(e){let t,r;const i={};function n(f){r=f,i.HEAPU8=new Uint8Array(f),i.HEAPU32=new Uint32Array(f)}function s(f,p,_){i.HEAPU8.copyWithin(f,p,p+_)}function o(f){try{return t.grow(f-r.byteLength+65535>>>16),n(t.buffer),1}catch{}}function l(f){const p=i.HEAPU8.length;f=f>>>0;const _=UL();if(f>_)return!1;for(let S=1;S<=4;S*=2){let m=p*(1+.2/S);m=Math.min(m,f+100663296);const v=Math.min(_,KL(Math.max(f,m),65536));if(o(v))return!0}return!1}const a=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function c(f,p,_=1024){const S=p+_;let m=p;for(;f[m]&&!(m>=S);)++m;if(m-p>16&&f.buffer&&a)return a.decode(f.subarray(p,m));let v="";for(;p<m;){let y=f[p++];if(!(y&128)){v+=String.fromCharCode(y);continue}const w=f[p++]&63;if((y&224)===192){v+=String.fromCharCode((y&31)<<6|w);continue}const b=f[p++]&63;if((y&240)===224?y=(y&15)<<12|w<<6|b:y=(y&7)<<18|w<<12|b<<6|f[p++]&63,y<65536)v+=String.fromCharCode(y);else{const R=y-65536;v+=String.fromCharCode(55296|R>>10,56320|R&1023)}}return v}function u(f,p){return f?c(i.HEAPU8,f,p):""}const h={emscripten_get_now:GL,emscripten_memcpy_big:s,emscripten_resize_heap:l,fd_write:()=>0};async function d(){const p=await e({env:h,wasi_snapshot_preview1:h});t=p.memory,n(t.buffer),Object.assign(i,p),i.UTF8ToString=u}return await d(),i}var YL=Object.defineProperty,XL=(e,t,r)=>t in e?YL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Xe=(e,t,r)=>XL(e,typeof t!="symbol"?t+"":t,r);let tt=null;function QL(e){throw new Xp(e.UTF8ToString(e.getLastOnigError()))}class Kc{constructor(t){Xe(this,"utf16Length"),Xe(this,"utf8Length"),Xe(this,"utf16Value"),Xe(this,"utf8Value"),Xe(this,"utf16OffsetToUtf8"),Xe(this,"utf8OffsetToUtf16");const r=t.length,i=Kc._utf8ByteLength(t),n=i!==r,s=n?new Uint32Array(r+1):null;n&&(s[r]=i);const o=n?new Uint32Array(i+1):null;n&&(o[i]=r);const l=new Uint8Array(i);let a=0;for(let c=0;c<r;c++){const u=t.charCodeAt(c);let h=u,d=!1;if(u>=55296&&u<=56319&&c+1<r){const f=t.charCodeAt(c+1);f>=56320&&f<=57343&&(h=(u-55296<<10)+65536|f-56320,d=!0)}n&&(s[c]=a,d&&(s[c+1]=a),h<=127?o[a+0]=c:h<=2047?(o[a+0]=c,o[a+1]=c):h<=65535?(o[a+0]=c,o[a+1]=c,o[a+2]=c):(o[a+0]=c,o[a+1]=c,o[a+2]=c,o[a+3]=c)),h<=127?l[a++]=h:h<=2047?(l[a++]=192|(h&1984)>>>6,l[a++]=128|(h&63)>>>0):h<=65535?(l[a++]=224|(h&61440)>>>12,l[a++]=128|(h&4032)>>>6,l[a++]=128|(h&63)>>>0):(l[a++]=240|(h&1835008)>>>18,l[a++]=128|(h&258048)>>>12,l[a++]=128|(h&4032)>>>6,l[a++]=128|(h&63)>>>0),d&&c++}this.utf16Length=r,this.utf8Length=i,this.utf16Value=t,this.utf8Value=l,this.utf16OffsetToUtf8=s,this.utf8OffsetToUtf16=o}static _utf8ByteLength(t){let r=0;for(let i=0,n=t.length;i<n;i++){const s=t.charCodeAt(i);let o=s,l=!1;if(s>=55296&&s<=56319&&i+1<n){const a=t.charCodeAt(i+1);a>=56320&&a<=57343&&(o=(s-55296<<10)+65536|a-56320,l=!0)}o<=127?r+=1:o<=2047?r+=2:o<=65535?r+=3:r+=4,l&&i++}return r}createString(t){const r=t.omalloc(this.utf8Length);return t.HEAPU8.set(this.utf8Value,r),r}}const qc=class Br{constructor(t){if(Xe(this,"id",++Br.LAST_ID),Xe(this,"_onigBinding"),Xe(this,"content"),Xe(this,"utf16Length"),Xe(this,"utf8Length"),Xe(this,"utf16OffsetToUtf8"),Xe(this,"utf8OffsetToUtf16"),Xe(this,"ptr"),!tt)throw new Xp("Must invoke loadWasm first.");this._onigBinding=tt,this.content=t;const r=new Kc(t);this.utf16Length=r.utf16Length,this.utf8Length=r.utf8Length,this.utf16OffsetToUtf8=r.utf16OffsetToUtf8,this.utf8OffsetToUtf16=r.utf8OffsetToUtf16,this.utf8Length<1e4&&!Br._sharedPtrInUse?(Br._sharedPtr||(Br._sharedPtr=tt.omalloc(1e4)),Br._sharedPtrInUse=!0,tt.HEAPU8.set(r.utf8Value,Br._sharedPtr),this.ptr=Br._sharedPtr):this.ptr=r.createString(tt)}convertUtf8OffsetToUtf16(t){return this.utf8OffsetToUtf16?t<0?0:t>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[t]:t}convertUtf16OffsetToUtf8(t){return this.utf16OffsetToUtf8?t<0?0:t>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[t]:t}dispose(){this.ptr===Br._sharedPtr?Br._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};Xe(qc,"LAST_ID",0);Xe(qc,"_sharedPtr",0);Xe(qc,"_sharedPtrInUse",!1);let D1=qc;class ZL{constructor(t){if(Xe(this,"_onigBinding"),Xe(this,"_ptr"),!tt)throw new Xp("Must invoke loadWasm first.");const r=[],i=[];for(let l=0,a=t.length;l<a;l++){const c=new Kc(t[l]);r[l]=c.createString(tt),i[l]=c.utf8Length}const n=tt.omalloc(4*t.length);tt.HEAPU32.set(r,n/4);const s=tt.omalloc(4*t.length);tt.HEAPU32.set(i,s/4);const o=tt.createOnigScanner(n,s,t.length);for(let l=0,a=t.length;l<a;l++)tt.ofree(r[l]);tt.ofree(s),tt.ofree(n),o===0&&QL(tt),this._onigBinding=tt,this._ptr=o}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(t,r,i){let n=0;if(typeof i=="number"&&(n=i),typeof t=="string"){t=new D1(t);const s=this._findNextMatchSync(t,r,!1,n);return t.dispose(),s}return this._findNextMatchSync(t,r,!1,n)}_findNextMatchSync(t,r,i,n){const s=this._onigBinding,o=s.findNextOnigScannerMatch(this._ptr,t.id,t.ptr,t.utf8Length,t.convertUtf16OffsetToUtf8(r),n);if(o===0)return null;const l=s.HEAPU32;let a=o/4;const c=l[a++],u=l[a++],h=[];for(let d=0;d<u;d++){const f=t.convertUtf8OffsetToUtf16(l[a++]),p=t.convertUtf8OffsetToUtf16(l[a++]);h[d]={start:f,end:p,length:p-f}}return{index:c,captureIndices:h}}}function JL(e){return typeof e.instantiator=="function"}function eA(e){return typeof e.default=="function"}function tA(e){return typeof e.data<"u"}function rA(e){return typeof Response<"u"&&e instanceof Response}function iA(e){var t;return typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))||typeof Buffer<"u"&&((t=Buffer.isBuffer)==null?void 0:t.call(Buffer,e))||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&e instanceof Uint32Array}let Gl;function nA(e){if(Gl)return Gl;async function t(){tt=await qL(async r=>{let i=e;return i=await i,typeof i=="function"&&(i=await i(r)),typeof i=="function"&&(i=await i(r)),JL(i)?i=await i.instantiator(r):eA(i)?i=await i.default(r):(tA(i)&&(i=i.data),rA(i)?typeof WebAssembly.instantiateStreaming=="function"?i=await sA(i)(r):i=await oA(i)(r):iA(i)?i=await ch(i)(r):i instanceof WebAssembly.Module?i=await ch(i)(r):"default"in i&&i.default instanceof WebAssembly.Module&&(i=await ch(i.default)(r))),"instance"in i&&(i=i.instance),"exports"in i&&(i=i.exports),i})}return Gl=t(),Gl}function ch(e){return t=>WebAssembly.instantiate(e,t)}function sA(e){return t=>WebAssembly.instantiateStreaming(e,t)}function oA(e){return async t=>{const r=await e.arrayBuffer();return WebAssembly.instantiate(r,t)}}async function lA(e){return e&&await nA(e),{createScanner(t){return new ZL(t.map(r=>typeof r=="string"?r:r.source))},createString(t){return new D1(t)}}}const aA=zL({langs:VL,themes:jL,engine:()=>lA(C(()=>import("./wasm-6faa08c1.js"),[]))}),uh=10,Ug=(e=0)=>t=>`\x1B[${t+e}m`,Gg=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,Kg=(e=0)=>(t,r,i)=>`\x1B[${38+e};2;${t};${r};${i}m`,Pe={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(Pe.modifier);const cA=Object.keys(Pe.color),uA=Object.keys(Pe.bgColor);[...cA,...uA];function hA(){const e=new Map;for(const[t,r]of Object.entries(Pe)){for(const[i,n]of Object.entries(r))Pe[i]={open:`\x1B[${n[0]}m`,close:`\x1B[${n[1]}m`},r[i]=Pe[i],e.set(n[0],n[1]);Object.defineProperty(Pe,t,{value:r,enumerable:!1})}return Object.defineProperty(Pe,"codes",{value:e,enumerable:!1}),Pe.color.close="\x1B[39m",Pe.bgColor.close="\x1B[49m",Pe.color.ansi=Ug(),Pe.color.ansi256=Gg(),Pe.color.ansi16m=Kg(),Pe.bgColor.ansi=Ug(uh),Pe.bgColor.ansi256=Gg(uh),Pe.bgColor.ansi16m=Kg(uh),Object.defineProperties(Pe,{rgbToAnsi256:{value(t,r,i){return t===r&&r===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5)},enumerable:!1},hexToRgb:{value(t){const r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[i]=r;i.length===3&&(i=[...i].map(s=>s+s).join(""));const n=Number.parseInt(i,16);return[n>>16&255,n>>8&255,n&255]},enumerable:!1},hexToAnsi256:{value:t=>Pe.rgbToAnsi256(...Pe.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,i,n;if(t>=232)r=((t-232)*10+8)/255,i=r,n=r;else{t-=16;const l=t%36;r=Math.floor(t/36)/5,i=Math.floor(l/6)/5,n=l%6/5}const s=Math.max(r,i,n)*2;if(s===0)return 30;let o=30+(Math.round(n)<<2|Math.round(i)<<1|Math.round(r));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(t,r,i)=>Pe.ansi256ToAnsi(Pe.rgbToAnsi256(t,r,i)),enumerable:!1},hexToAnsi:{value:t=>Pe.ansi256ToAnsi(Pe.hexToAnsi256(t)),enumerable:!1}}),Pe}const dA=hA(),Fr=dA,Kl=(()=>{if(!("navigator"in globalThis))return 0;if(globalThis.navigator.userAgentData){const e=navigator.userAgentData.brands.find(({brand:t})=>t==="Chromium");if(e&&e.version>93)return 3}return/\b(Chrome|Chromium)\//.test(globalThis.navigator.userAgent)?1:0})(),qg=Kl!==0&&{level:Kl,hasBasic:!0,has256:Kl>=2,has16m:Kl>=3},fA={stdout:qg,stderr:qg},pA=fA;function mA(e,t,r){let i=e.indexOf(t);if(i===-1)return e;const n=t.length;let s=0,o="";do o+=e.slice(s,i)+t+r,s=i+n,i=e.indexOf(t,s);while(i!==-1);return o+=e.slice(s),o}function _A(e,t,r,i){let n=0,s="";do{const o=e[i-1]==="\r";s+=e.slice(n,o?i-1:i)+t+(o?`\r
`:`
`)+r,n=i+1,i=e.indexOf(`
`,n)}while(i!==-1);return s+=e.slice(n),s}const{stdout:Yg,stderr:Xg}=pA,_f=Symbol("GENERATOR"),Ss=Symbol("STYLER"),el=Symbol("IS_EMPTY"),Qg=["ansi","ansi","ansi256","ansi16m"],ws=Object.create(null),gA=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=Yg?Yg.level:0;e.level=t.level===void 0?r:t.level},vA=e=>{const t=(...r)=>r.join(" ");return gA(t,e),Object.setPrototypeOf(t,ml.prototype),t};function ml(e){return vA(e)}Object.setPrototypeOf(ml.prototype,Function.prototype);for(const[e,t]of Object.entries(Fr))ws[e]={get(){const r=pc(this,vf(t.open,t.close,this[Ss]),this[el]);return Object.defineProperty(this,e,{value:r}),r}};ws.visible={get(){const e=pc(this,this[Ss],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const gf=(e,t,r,...i)=>e==="rgb"?t==="ansi16m"?Fr[r].ansi16m(...i):t==="ansi256"?Fr[r].ansi256(Fr.rgbToAnsi256(...i)):Fr[r].ansi(Fr.rgbToAnsi(...i)):e==="hex"?gf("rgb",t,r,...Fr.hexToRgb(...i)):Fr[r][e](...i),yA=["rgb","hex","ansi256"];for(const e of yA){ws[e]={get(){const{level:r}=this;return function(...i){const n=vf(gf(e,Qg[r],"color",...i),Fr.color.close,this[Ss]);return pc(this,n,this[el])}}};const t="bg"+e[0].toUpperCase()+e.slice(1);ws[t]={get(){const{level:r}=this;return function(...i){const n=vf(gf(e,Qg[r],"bgColor",...i),Fr.bgColor.close,this[Ss]);return pc(this,n,this[el])}}}}const SA=Object.defineProperties(()=>{},{...ws,level:{enumerable:!0,get(){return this[_f].level},set(e){this[_f].level=e}}}),vf=(e,t,r)=>{let i,n;return r===void 0?(i=e,n=t):(i=r.openAll+e,n=t+r.closeAll),{open:e,close:t,openAll:i,closeAll:n,parent:r}},pc=(e,t,r)=>{const i=(...n)=>wA(i,n.length===1?""+n[0]:n.join(" "));return Object.setPrototypeOf(i,SA),i[_f]=e,i[Ss]=t,i[el]=r,i},wA=(e,t)=>{if(e.level<=0||!t)return e[el]?"":t;let r=e[Ss];if(r===void 0)return t;const{openAll:i,closeAll:n}=r;if(t.includes("\x1B"))for(;r!==void 0;)t=mA(t,r.close,r.open),r=r.parent;const s=t.indexOf(`
`);return s!==-1&&(t=_A(t,n,i,s)),i+t+n};Object.defineProperties(ml.prototype,ws);const CA=ml();ml({level:Xg?Xg.level:0});const On=CA;function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}var bA=/^\s+/,EA=/\s+$/;function K(e,t){if(e=e||"",t=t||{},e instanceof K)return e;if(!(this instanceof K))return new K(e,t);var r=xA(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}K.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),r,i,n,s,o,l;return r=t.r/255,i=t.g/255,n=t.b/255,r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),n<=.03928?l=n/12.92:l=Math.pow((n+.055)/1.055,2.4),.2126*s+.7152*o+.0722*l},setAlpha:function(t){return this._a=N1(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=Jg(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=Jg(this._r,this._g,this._b),r=Math.round(t.h*360),i=Math.round(t.s*100),n=Math.round(t.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+n+"%)":"hsva("+r+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=Zg(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=Zg(this._r,this._g,this._b),r=Math.round(t.h*360),i=Math.round(t.s*100),n=Math.round(t.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+n+"%)":"hsla("+r+", "+i+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return ev(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return TA(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Te(this._r,255)*100)+"%",g:Math.round(Te(this._g,255)*100)+"%",b:Math.round(Te(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Te(this._r,255)*100)+"%, "+Math.round(Te(this._g,255)*100)+"%, "+Math.round(Te(this._b,255)*100)+"%)":"rgba("+Math.round(Te(this._r,255)*100)+"%, "+Math.round(Te(this._g,255)*100)+"%, "+Math.round(Te(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:HA[ev(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var r="#"+tv(this._r,this._g,this._b,this._a),i=r,n=this._gradientType?"GradientType = 1, ":"";if(t){var s=K(t);i="#"+tv(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+r+",endColorstr="+i+")"},toString:function(t){var r=!!t;t=t||this._format;var i=!1,n=this._a<1&&this._a>=0,s=!r&&n&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(i=this.toRgbString()),t==="prgb"&&(i=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(i=this.toHexString()),t==="hex3"&&(i=this.toHexString(!0)),t==="hex4"&&(i=this.toHex8String(!0)),t==="hex8"&&(i=this.toHex8String()),t==="name"&&(i=this.toName()),t==="hsl"&&(i=this.toHslString()),t==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return K(this.toString())},_applyModification:function(t,r){var i=t.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(NA,arguments)},brighten:function(){return this._applyModification(OA,arguments)},darken:function(){return this._applyModification(IA,arguments)},desaturate:function(){return this._applyModification(LA,arguments)},saturate:function(){return this._applyModification(AA,arguments)},greyscale:function(){return this._applyModification(DA,arguments)},spin:function(){return this._applyModification(MA,arguments)},_applyCombination:function(t,r){return t.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(FA,arguments)},complement:function(){return this._applyCombination(BA,arguments)},monochromatic:function(){return this._applyCombination(zA,arguments)},splitcomplement:function(){return this._applyCombination($A,arguments)},triad:function(){return this._applyCombination(rv,[3])},tetrad:function(){return this._applyCombination(rv,[4])}};K.fromRatio=function(e,t){if(mc(e)=="object"){var r={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?r[i]=e[i]:r[i]=mo(e[i]));e=r}return K(e,t)};function xA(e){var t={r:0,g:0,b:0},r=1,i=null,n=null,s=null,o=!1,l=!1;return typeof e=="string"&&(e=UA(e)),mc(e)=="object"&&(Jr(e.r)&&Jr(e.g)&&Jr(e.b)?(t=kA(e.r,e.g,e.b),o=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Jr(e.h)&&Jr(e.s)&&Jr(e.v)?(i=mo(e.s),n=mo(e.v),t=PA(e.h,i,n),o=!0,l="hsv"):Jr(e.h)&&Jr(e.s)&&Jr(e.l)&&(i=mo(e.s),s=mo(e.l),t=RA(e.h,i,s),o=!0,l="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=N1(r),{ok:o,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}function kA(e,t,r){return{r:Te(e,255)*255,g:Te(t,255)*255,b:Te(r,255)*255}}function Zg(e,t,r){e=Te(e,255),t=Te(t,255),r=Te(r,255);var i=Math.max(e,t,r),n=Math.min(e,t,r),s,o,l=(i+n)/2;if(i==n)s=o=0;else{var a=i-n;switch(o=l>.5?a/(2-i-n):a/(i+n),i){case e:s=(t-r)/a+(t<r?6:0);break;case t:s=(r-e)/a+2;break;case r:s=(e-t)/a+4;break}s/=6}return{h:s,s:o,l}}function RA(e,t,r){var i,n,s;e=Te(e,360),t=Te(t,100),r=Te(r,100);function o(c,u,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?c+(u-c)*6*h:h<1/2?u:h<2/3?c+(u-c)*(2/3-h)*6:c}if(t===0)i=n=s=r;else{var l=r<.5?r*(1+t):r+t-r*t,a=2*r-l;i=o(a,l,e+1/3),n=o(a,l,e),s=o(a,l,e-1/3)}return{r:i*255,g:n*255,b:s*255}}function Jg(e,t,r){e=Te(e,255),t=Te(t,255),r=Te(r,255);var i=Math.max(e,t,r),n=Math.min(e,t,r),s,o,l=i,a=i-n;if(o=i===0?0:a/i,i==n)s=0;else{switch(i){case e:s=(t-r)/a+(t<r?6:0);break;case t:s=(r-e)/a+2;break;case r:s=(e-t)/a+4;break}s/=6}return{h:s,s:o,v:l}}function PA(e,t,r){e=Te(e,360)*6,t=Te(t,100),r=Te(r,100);var i=Math.floor(e),n=e-i,s=r*(1-t),o=r*(1-n*t),l=r*(1-(1-n)*t),a=i%6,c=[r,o,s,s,l,r][a],u=[l,r,r,o,s,s][a],h=[s,s,l,r,r,o][a];return{r:c*255,g:u*255,b:h*255}}function ev(e,t,r,i){var n=[xr(Math.round(e).toString(16)),xr(Math.round(t).toString(16)),xr(Math.round(r).toString(16))];return i&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function TA(e,t,r,i,n){var s=[xr(Math.round(e).toString(16)),xr(Math.round(t).toString(16)),xr(Math.round(r).toString(16)),xr(O1(i))];return n&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function tv(e,t,r,i){var n=[xr(O1(i)),xr(Math.round(e).toString(16)),xr(Math.round(t).toString(16)),xr(Math.round(r).toString(16))];return n.join("")}K.equals=function(e,t){return!e||!t?!1:K(e).toRgbString()==K(t).toRgbString()};K.random=function(){return K.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function LA(e,t){t=t===0?0:t||10;var r=K(e).toHsl();return r.s-=t/100,r.s=Yc(r.s),K(r)}function AA(e,t){t=t===0?0:t||10;var r=K(e).toHsl();return r.s+=t/100,r.s=Yc(r.s),K(r)}function DA(e){return K(e).desaturate(100)}function NA(e,t){t=t===0?0:t||10;var r=K(e).toHsl();return r.l+=t/100,r.l=Yc(r.l),K(r)}function OA(e,t){t=t===0?0:t||10;var r=K(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),K(r)}function IA(e,t){t=t===0?0:t||10;var r=K(e).toHsl();return r.l-=t/100,r.l=Yc(r.l),K(r)}function MA(e,t){var r=K(e).toHsl(),i=(r.h+t)%360;return r.h=i<0?360+i:i,K(r)}function BA(e){var t=K(e).toHsl();return t.h=(t.h+180)%360,K(t)}function rv(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=K(e).toHsl(),i=[K(e)],n=360/t,s=1;s<t;s++)i.push(K({h:(r.h+s*n)%360,s:r.s,l:r.l}));return i}function $A(e){var t=K(e).toHsl(),r=t.h;return[K(e),K({h:(r+72)%360,s:t.s,l:t.l}),K({h:(r+216)%360,s:t.s,l:t.l})]}function FA(e,t,r){t=t||6,r=r||30;var i=K(e).toHsl(),n=360/r,s=[K(e)];for(i.h=(i.h-(n*t>>1)+720)%360;--t;)i.h=(i.h+n)%360,s.push(K(i));return s}function zA(e,t){t=t||6;for(var r=K(e).toHsv(),i=r.h,n=r.s,s=r.v,o=[],l=1/t;t--;)o.push(K({h:i,s:n,v:s})),s=(s+l)%1;return o}K.mix=function(e,t,r){r=r===0?0:r||50;var i=K(e).toRgb(),n=K(t).toRgb(),s=r/100,o={r:(n.r-i.r)*s+i.r,g:(n.g-i.g)*s+i.g,b:(n.b-i.b)*s+i.b,a:(n.a-i.a)*s+i.a};return K(o)};K.readability=function(e,t){var r=K(e),i=K(t);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};K.isReadable=function(e,t,r){var i=K.readability(e,t),n,s;switch(s=!1,n=GA(r),n.level+n.size){case"AAsmall":case"AAAlarge":s=i>=4.5;break;case"AAlarge":s=i>=3;break;case"AAAsmall":s=i>=7;break}return s};K.mostReadable=function(e,t,r){var i=null,n=0,s,o,l,a;r=r||{},o=r.includeFallbackColors,l=r.level,a=r.size;for(var c=0;c<t.length;c++)s=K.readability(e,t[c]),s>n&&(n=s,i=K(t[c]));return K.isReadable(e,i,{level:l,size:a})||!o?i:(r.includeFallbackColors=!1,K.mostReadable(e,["#fff","#000"],r))};var yf=K.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},HA=K.hexNames=WA(yf);function WA(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function N1(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Te(e,t){VA(e)&&(e="100%");var r=jA(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Yc(e){return Math.min(1,Math.max(0,e))}function Ut(e){return parseInt(e,16)}function VA(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function jA(e){return typeof e=="string"&&e.indexOf("%")!=-1}function xr(e){return e.length==1?"0"+e:""+e}function mo(e){return e<=1&&(e=e*100+"%"),e}function O1(e){return Math.round(parseFloat(e)*255).toString(16)}function iv(e){return Ut(e)/255}var vr=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Jr(e){return!!vr.CSS_UNIT.exec(e)}function UA(e){e=e.replace(bA,"").replace(EA,"").toLowerCase();var t=!1;if(yf[e])e=yf[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=vr.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=vr.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=vr.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=vr.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=vr.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=vr.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=vr.hex8.exec(e))?{r:Ut(r[1]),g:Ut(r[2]),b:Ut(r[3]),a:iv(r[4]),format:t?"name":"hex8"}:(r=vr.hex6.exec(e))?{r:Ut(r[1]),g:Ut(r[2]),b:Ut(r[3]),format:t?"name":"hex"}:(r=vr.hex4.exec(e))?{r:Ut(r[1]+""+r[1]),g:Ut(r[2]+""+r[2]),b:Ut(r[3]+""+r[3]),a:iv(r[4]+""+r[4]),format:t?"name":"hex8"}:(r=vr.hex3.exec(e))?{r:Ut(r[1]+""+r[1]),g:Ut(r[2]+""+r[2]),b:Ut(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function GA(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:t,size:r}}var Qp=class{diff(t,r,i={}){let n;typeof i=="function"?(n=i,i={}):"callback"in i&&(n=i.callback);let s=this.castInput(t,i),o=this.castInput(r,i),l=this.removeEmpty(this.tokenize(s,i)),a=this.removeEmpty(this.tokenize(o,i));return this.diffWithOptionsObj(l,a,i,n)}diffWithOptionsObj(t,r,i,n){let s=m=>{if(m=this.postProcess(m,i),n){setTimeout(function(){n(m)},0);return}else return m},o=r.length,l=t.length,a=1,c=o+l;i.maxEditLength!=null&&(c=Math.min(c,i.maxEditLength));let u=i.timeout??1/0,h=Date.now()+u,d=[{oldPos:-1,lastComponent:void 0}],f=this.extractCommon(d[0],r,t,0,i);if(d[0].oldPos+1>=l&&f+1>=o)return s(this.buildValues(d[0].lastComponent,r,t));let p=-1/0,_=1/0,S=()=>{for(let m=Math.max(p,-a);m<=Math.min(_,a);m+=2){let v,y=d[m-1],w=d[m+1];y&&(d[m-1]=void 0);let b=!1;if(w){let x=w.oldPos-m;b=w&&0<=x&&x<o}let R=y&&y.oldPos+1<l;if(!b&&!R){d[m]=void 0;continue}if(v=!R||b&&y.oldPos<w.oldPos?this.addToPath(w,!0,!1,0,i):this.addToPath(y,!1,!0,1,i),f=this.extractCommon(v,r,t,m,i),v.oldPos+1>=l&&f+1>=o)return s(this.buildValues(v.lastComponent,r,t))||!0;d[m]=v,v.oldPos+1>=l&&(_=Math.min(_,m-1)),f+1>=o&&(p=Math.max(p,m+1))}a++};if(n)(function m(){setTimeout(function(){if(a>c||Date.now()>h)return n(void 0);S()||m()},0)})();else for(;a<=c&&Date.now()<=h;){let m=S();if(m)return m}}addToPath(t,r,i,n,s){let o=t.lastComponent;return o&&!s.oneChangePerToken&&o.added===r&&o.removed===i?{oldPos:t.oldPos+n,lastComponent:{count:o.count+1,added:r,removed:i,previousComponent:o.previousComponent}}:{oldPos:t.oldPos+n,lastComponent:{count:1,added:r,removed:i,previousComponent:o}}}extractCommon(t,r,i,n,s){let o=r.length,l=i.length,a=t.oldPos,c=a-n,u=0;for(;c+1<o&&a+1<l&&this.equals(i[a+1],r[c+1],s);)c++,a++,u++,s.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return u&&!s.oneChangePerToken&&(t.lastComponent={count:u,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=a,c}equals(t,r,i){return i.comparator?i.comparator(t,r):t===r||!!i.ignoreCase&&t.toLowerCase()===r.toLowerCase()}removeEmpty(t){let r=[];for(let i=0;i<t.length;i++)t[i]&&r.push(t[i]);return r}castInput(t,r){return t}tokenize(t,r){return Array.from(t)}join(t){return t.join("")}postProcess(t,r){return t}get useLongestToken(){return!1}buildValues(t,r,i){let n=[],s;for(;t;)n.push(t),s=t.previousComponent,delete t.previousComponent,t=s;n.reverse();let o=n.length,l=0,a=0,c=0;for(;l<o;l++){let u=n[l];if(u.removed)u.value=this.join(i.slice(c,c+u.count)),c+=u.count;else{if(!u.added&&this.useLongestToken){let h=r.slice(a,a+u.count);h=h.map(function(d,f){let p=i[c+f];return p.length>d.length?p:d}),u.value=this.join(h)}else u.value=this.join(r.slice(a,a+u.count));a+=u.count,u.added||(c+=u.count)}}return n}};const nv="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",KA=new class extends Qp{tokenize(e){let t=RegExp(`(\\r?\\n)|[${nv}]+|[^\\S\\n\\r]+|[^${nv}]`,"ug");return e.match(t)||[]}};function qA(e,t,r){return KA.diff(e,t,r)}const YA=new class extends Qp{constructor(){super(...arguments),this.tokenize=I1}equals(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),super.equals(e,t,r)}};function XA(e,t,r){return YA.diff(e,t,r)}function I1(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));let r=[],i=e.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(let n=0;n<i.length;n++){let s=i[n];n%2&&!t.newlineIsToken?r[r.length-1]+=s:r.push(s)}return r}new class extends Qp{constructor(){super(...arguments),this.tokenize=I1}get useLongestToken(){return!0}castInput(e,t){let{undefinedReplacement:r,stringifyReplacer:i=(n,s)=>s===void 0?r:s}=t;return typeof e=="string"?e:JSON.stringify(Sf(e,null,null,i),null,"  ")}equals(e,t,r){return super.equals(e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)}};function Sf(e,t,r,i,n){t||(t=[]),r||(r=[]),i&&(e=i(n===void 0?"":n,e));let s;for(s=0;s<t.length;s+=1)if(t[s]===e)return r[s];let o;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),o=Array(e.length),r.push(o),s=0;s<e.length;s+=1)o[s]=Sf(e[s],t,r,i,String(s));return t.pop(),r.pop(),o}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e){t.push(e),o={},r.push(o);let l=[],a;for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&l.push(a);for(l.sort(),s=0;s<l.length;s+=1)a=l[s],o[a]=Sf(e[a],t,r,i,a);t.pop(),r.pop()}else o=e;return o}const QA=e=>`--- ${e} unchanged ---`,hh="#17975f33",dh="#df404733";async function M1({code:e,diffWith:t,collapseUnchanged:r,filePath:i,theme:n,streaming:s,lang:o,highlighter:l}){var ce,Re,pe,q,de,ge,ue,oe,re,Q,ct;let a=await C(()=>import("./index-ea29256b.js"),[]),c=ZA(o,i,a.bundledLanguagesInfo);l||(l=await a.createHighlighter({langs:[c],themes:[n]})),typeof n=="string"&&(n=l.getTheme(n));let u=t!==void 0,h=!!s,d=t||"",f=e,p=!0,_=!0;d.endsWith(`
`)||(d+=`
`,p=!1),f.endsWith(`
`)||(f+=`
`,_=!1);let S=d.split(/\n/g),m=f.split(/\n/g),v=s?m.length+3:S.length,y=XA(S.slice(0,v).join(`
`),f),w=(Math.max(S.length,m.length)||1)+1,b=Math.max(...m.map(Z=>Z.length),...S.map(Z=>Z.length),1)+1,R=String(w).length,x=y.at(-1),L=y.at(-2),T;r&&u&&!s&&(T={separator:r===!0||r.separator===void 0?QA:r.separator,padding:r===!0||r.padding===void 0?3:r.padding});let N=[];if(s){if(N=S.slice(v),(x==null?void 0:x.added)&&(L==null?void 0:L.removed)){let Z=x,[Y]=y.splice(y.length-2,1);Y!=null&&Y.value.startsWith(Z.value.replace(/\n$/,""))&&(Y.value=Y.value.substring(Y.value.indexOf(`
`)+1)),N=[Y.value,...N]}else if(x!=null&&x.removed){let[Z]=y.splice(y.length-1,1);N=[Z.value,...N]}}let D=[],A=1,P=1,O=1;if(u)for(let Z=0;Z<y.length;Z++){let Y=y[Z],we=y[Z+1],ut=Y.count||0;if(Y.removed&&(we!=null&&we.added)){let et=qA(Y.value.replace(/\n$/,""),we.value.replace(/\n$/,"")),en=A,$s=0,mi=A+ut,Fs=0;for(let Qr of et)for(;;){D[en]||(D[en]={type:"removed",oldLineNumber:P}),D[mi]||(D[mi]={type:"added",newLineNumber:O});let yl=Qr.value.indexOf(`
`),Sl=yl>=0?Qr.value.substring(0,yl):Qr.value;if(Qr.removed)for(let zs=0;zs<Sl.length;zs++)(ce=D[en]).marks||(ce.marks=[]),D[en].marks[$s]=!0,++$s;else if(Qr.added)for(let zs=0;zs<Sl.length;zs++)(Re=D[mi]).marks||(Re.marks=[]),D[mi].marks[Fs]=!0,++Fs;else $s+=Sl.length,Fs+=Sl.length;if(yl>=0){Qr.value=Qr.value.substring(yl+1),Qr.removed?(++en,++P,++A,$s=0):Qr.added?(++mi,++O,++A,Fs=0):(++en,++P,++mi,++O,++A,$s=0,Fs=0);continue}break}A=mi+1,++P,++O,++Z}else if(Y.added||Y.removed)for(let et=0;et<ut;et++)D[A]={type:Y.added?"added":"removed",oldLineNumber:Y.removed?P:void 0,newLineNumber:Y.added?O:void 0},++A,Y.added?++O:Y.removed&&++P;else for(let et=0;et<ut;et++)D[A]={type:"default",oldLineNumber:P,newLineNumber:O},++P,++O,++A}else{for(let Z=0;Z<m.length;Z++)D[Z+1]={type:"default",newLineNumber:O++};A=m.length+1}let $=A-1;if(s){D[$].type="current",D[$].oldLineNumber=P,++P;for(let Z=1;Z<N.length;Z++)D[A]={type:"upcoming",oldLineNumber:P},++A,++P}if(T){let Z=-1;for(;Z<D.length;){let Y=D.findIndex((ut,et)=>et>Z&&(ut==null?void 0:ut.type)==="default");if(Y<0)break;let we=D.findIndex((ut,et)=>et>Y&&(ut==null?void 0:ut.type)!=="default");we<0&&(we=D.length),Z=we,Y!==1&&(Y+=T.padding),we!==D.length&&(we-=T.padding),!(we<=Y)&&(D[Y]={type:"default",collapse:D.slice(Y,we)},D.splice(Y+1,we-Y-1),Z=Y+1)}}if(p!==_){let Z=_?"(added newline at end of file)":"(removed newline at end of file)";D.push({type:_?"added":"removed",specialText:Z}),b=Math.max(b,Z.length+1)}let I=l.codeToTokens(f,{theme:n,lang:c}),V=I.fg||((pe=n.colors)==null?void 0:pe.editorForeground),k=I.bg||((q=n.colors)==null?void 0:q.editorBackground),F=u?l.codeToTokens(d,{theme:n,lang:c}):I,j=Z=>{let{type:Y,oldLineNumber:we,newLineNumber:ut}=Z;Z.tokens=(Y==="removed"||Y==="upcoming"?F.tokens[(we||0)-1]:I.tokens[(ut||0)-1])||[]};for(let Z=1;Z<D.length;Z++){let Y=D[Z]||{};if(j(Y),Y.collapse)for(let we of Y.collapse)j(we)}let J={foreground:wi(V),background:wi(k),insertedLineBackground:wi(((de=n.colors)==null?void 0:de["diffEditor.insertedLineBackground"])||hh,k),insertedTextBackground:wi(((ge=n.colors)==null?void 0:ge["diffEditor.insertedTextBackground"])||hh,((ue=n.colors)==null?void 0:ue["diffEditor.insertedLineBackground"])||hh,k),removedLineBackground:wi(((oe=n.colors)==null?void 0:oe["diffEditor.removedLineBackground"])||dh,k),removedTextBackground:wi(((re=n.colors)==null?void 0:re["diffEditor.removedTextBackground"])||dh,((Q=n.colors)==null?void 0:Q["diffEditor.removedLineBackground"])||dh,k),lineNumberForeground:wi(((ct=n.colors)==null?void 0:ct["editorLineNumber.foreground"])||K.mix(k||"#000",V||"#fff",50).toHexString(),k),currentLineBackground:wi(K.mix(k||"#000",V||"#fff",20).toHexString(),k)},se=[],Se;for(let Z=1;Z<D.length;Z++){let Y=D[Z]||{};if(T&&Y.collapse){let ut=Y.collapse.map(et=>sv(et));se.push({type:"collapsed",collapsedCount:Y.collapse.length,lines:ut,separatorText:T.separator(Y.collapse.length)});continue}let we=sv(Y);we.type==="current"&&(Se=se.length),se.push(we)}return{items:se,colors:J,lineDigits:R,maxCols:b,isDiff:u,isStreaming:h,currentLineIndex:Se}}function sv(e){let t=e.marks,r=[],i=0;for(let s of e.tokens||[]){let o={};if(s.color&&(o.color=s.color),s.fontStyle&&(s.fontStyle&1?o.fontStyle="italic":s.fontStyle&2?o.fontStyle="bold":s.fontStyle&4&&(o.fontStyle="underline")),!t)r.push({...o,content:s.content});else{let l=0,a=!!t[i];for(let c=0;c<=s.content.length;c++){let u=c<s.content.length?!!t[i+c]:!a;if(u!==a||c===s.content.length){if(c>l){let h={...o,content:s.content.substring(l,c)};a&&(h.marked=!0),r.push(h)}a=u,l=c}}}i+=s.content.length}let n={type:e.type,tokens:r};return e.oldLineNumber!==void 0&&(n.oldLineNumber=e.oldLineNumber),e.newLineNumber!==void 0&&(n.newLineNumber=e.newLineNumber),e.specialText&&(n.specialText=e.specialText),n}function wi(...e){let t;for(let r of e.reverse()){if(!r)continue;let i=K(r);t=i.getAlpha()===1?i:K.mix(t||K("#000"),i,i.getAlpha()*100)}return t?t.toHexString():"#000"}function ZA(e,t,r){var i;if(e)return e;if(t){let n=String(t).split(".").pop();for(let s of r)if(s.id===n||(i=s.aliases)!=null&&i.includes(n||""))return s.id}return"txt"}async function ov(e){let{streaming:t,lineNumbers:r}=e,{items:i,colors:n,lineDigits:s,maxCols:o,isDiff:l,currentLineIndex:a}=await M1(e),c=On.bgHex(n.background),u=On.bgHex(n.insertedLineBackground),h=On.bgHex(n.insertedTextBackground),d=On.bgHex(n.removedLineBackground),f=On.bgHex(n.removedTextBackground),p=On.bgHex(n.currentLineBackground),_=[];for(let S of i){if(S.type==="collapsed"){let A="  ";r==="both"?A+="".padEnd(2*(s+1)," ")+" ":r&&(A+="".padEnd(s+1," ")+" ");let P=c.hex(n.lineNumberForeground);_.push(S.separatorText.split(/\n/g).map(O=>P(A+O.padEnd(o," ")+`
`)).join(""));continue}let{type:m,oldLineNumber:v,newLineNumber:y,tokens:w,specialText:b}=S;v||(v=0),y||(y=0);let R=c,x=R,L=[],T="";l?(T="  ",r===!0?L=[t?y:v]:r==="both"&&(L=[v,y]),m==="added"?(R=u,x=h,(r==="both"||r)&&(L[0]=0),T="+ "):m==="removed"?(R=d,x=f,r==="both"&&(L[1]=0),T="- "):m==="current"?(R=x=p,T=" "):m==="upcoming"&&r==="both"&&(L[1]=0)):r&&(L=[y]);let N=R.hex(n.lineNumberForeground);_.push(N(" "+L.map(A=>String(A||"").padEnd(s," ")+" ").join("")+T));let D=0;if(m==="upcoming"){let A=w.map(P=>P.content).join("");_.push(N(A)),D=A.length}else if(b)_.push(N(b)),D=b.length;else for(let A of w){let P=(A.marked?x:R).hex(A.color||n.foreground);_.push(P(A.content)),D+=A.content.length}_.push(R(" ".repeat(Math.max(0,o-D)))+`
`)}if(t&&a!==void 0){let S=typeof t=="number"?t:20,m=_.join("").split(/\n/g),v=0;return a>Math.floor(S/2)&&(v=a-Math.floor(S/2)),v+S>m.length&&(v=Math.max(0,m.length-S-1)),m.slice(v,v+S).join(`
`)+`
`}return _.join("")}function JA(e,t,r){const[i,n]=g.useState();g.useEffect(()=>{let s=new ResizeObserver(()=>e());return n(s),()=>s.disconnect()},r),g.useEffect(()=>{if(!(!t||!i))return i.observe(t),()=>i.unobserve(t)},[i,t,...r])}const eD="_container_mcovg_1",tD="_line_mcovg_12",rD="_lineNumber_mcovg_17",iD="_lineContent_mcovg_24",nD="_upcoming_mcovg_29",sD="_collapsedSection_mcovg_33",pn={container:eD,line:tD,lineNumber:rD,lineContent:iD,upcoming:nD,collapsedSection:sD},lv=g.forwardRef(function(t,r){const[i,n]=g.useState(null),[s,o]=g.useState(new Set);g.useEffect(()=>{let p=!1;return(async()=>{const _=await M1(t);p||(n(_),o(new Set))})(),()=>{p=!0}},[t.code,t.diffWith,t.theme,t.lang,t.collapseUnchanged,t.streaming,t.lineNumbers,t.highlighter]);const l=g.useMemo(()=>{if(!i)return[];const p=[];return i.items.forEach((_,S)=>{_.type==="collapsed"&&s.has(S)?p.push(..._.lines):p.push(_)}),p},[i,s]);if(!i)return E.jsx("div",{className:pn.container,children:"Loading..."});const{colors:a,lineDigits:c,isDiff:u}=i,h=t.lineNumbers==="both",d=p=>{o(_=>{const S=new Set(_);return S.has(p)?S.delete(p):S.add(p),S})},f=p=>i.items.indexOf(p);return E.jsx("div",{ref:r,className:`${pn.container} ${t.className||""}`,style:{backgroundColor:a.background,color:a.foreground},onScroll:t.onScroll,children:l.map((p,_)=>{if(p.type==="collapsed"){const S=f(p);return E.jsx("div",{className:pn.collapsedSection,onClick:()=>d(S),style:{color:a.lineNumberForeground},children:p.separatorText},`collapsed-${_}`)}return E.jsx(oD,{line:p,colors:a,lineDigits:c,showLineNumbers:!!t.lineNumbers,showBothLineNumbers:h,isDiff:u},`line-${_}`)})})});function oD({line:e,colors:t,lineDigits:r,showLineNumbers:i,showBothLineNumbers:n,isDiff:s}){let o;e.type==="added"?o=t.insertedLineBackground:e.type==="removed"?o=t.removedLineBackground:e.type==="current"&&(o=t.currentLineBackground);const l={color:t.lineNumberForeground},a=c=>c!==void 0?String(c).padStart(r," "):" ".repeat(r);return E.jsxs("div",{className:`${pn.line} ${e.type==="upcoming"?pn.upcoming:""}`,style:{backgroundColor:o},children:[i&&E.jsx("span",{className:pn.lineNumber,style:l,children:n&&s?E.jsxs(E.Fragment,{children:[a(e.oldLineNumber)," ",a(e.newLineNumber)]}):a(e.newLineNumber??e.oldLineNumber)}),E.jsx("span",{className:pn.lineContent,children:e.specialText?E.jsx("span",{style:{color:t.lineNumberForeground,fontStyle:"italic"},children:e.specialText}):e.tokens.map((c,u)=>{let h;return c.marked&&(e.type==="added"?h=t.insertedTextBackground:e.type==="removed"&&(h=t.removedTextBackground)),E.jsx("span",{style:{color:c.color,backgroundColor:h,fontStyle:c.fontStyle==="italic"?"italic":void 0,fontWeight:c.fontStyle==="bold"?"bold":void 0,textDecoration:c.fontStyle==="underline"?"underline":void 0},children:c.content},u)})})]})}function av(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function B1(...e){return t=>{let r=!1;const i=e.map(n=>{const s=av(n,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let n=0;n<i.length;n++){const s=i[n];typeof s=="function"?s():av(e[n],null)}}}}function _e(...e){return g.useCallback(B1(...e),e)}function tl(e){const t=lD(e),r=g.forwardRef((i,n)=>{const{children:s,...o}=i,l=g.Children.toArray(s),a=l.find(cD);if(a){const c=a.props.children,u=l.map(h=>h===a?g.Children.count(c)>1?g.Children.only(null):g.isValidElement(c)?c.props.children:null:h);return E.jsx(t,{...o,ref:n,children:g.isValidElement(c)?g.cloneElement(c,void 0,u):null})}return E.jsx(t,{...o,ref:n,children:s})});return r.displayName=`${e}.Slot`,r}var pi=tl("Slot");function lD(e){const t=g.forwardRef((r,i)=>{const{children:n,...s}=r;if(g.isValidElement(n)){const o=hD(n),l=uD(s,n.props);return n.type!==g.Fragment&&(l.ref=i?B1(i,o):o),g.cloneElement(n,l)}return g.Children.count(n)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $1=Symbol("radix.slottable");function aD(e){const t=({children:r})=>E.jsx(E.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=$1,t}function cD(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$1}function uD(e,t){const r={...t};for(const i in t){const n=e[i],s=t[i];/^on[A-Z]/.test(i)?n&&s?r[i]=(...l)=>{const a=s(...l);return n(...l),a}:n&&(r[i]=n):i==="style"?r[i]={...n,...s}:i==="className"&&(r[i]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}function hD(e){var i,n;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var dD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ae=dD.reduce((e,t)=>{const r=tl(`Primitive.${t}`),i=g.forwardRef((n,s)=>{const{asChild:o,...l}=n,a=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(a,{...l,ref:s})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function F1(e,t){e&&Ps.flushSync(()=>e.dispatchEvent(t))}var z1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fD="VisuallyHidden",H1=g.forwardRef((e,t)=>E.jsx(ae.span,{...e,ref:t,style:{...z1,...e.style}}));H1.displayName=fD;var W1=H1;function Xi(e,t=[]){let r=[];function i(s,o){const l=g.createContext(o),a=r.length;r=[...r,o];const c=h=>{var m;const{scope:d,children:f,...p}=h,_=((m=d==null?void 0:d[e])==null?void 0:m[a])||l,S=g.useMemo(()=>p,Object.values(p));return E.jsx(_.Provider,{value:S,children:f})};c.displayName=s+"Provider";function u(h,d){var _;const f=((_=d==null?void 0:d[e])==null?void 0:_[a])||l,p=g.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const n=()=>{const s=r.map(o=>g.createContext(o));return function(l){const a=(l==null?void 0:l[e])||s;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:a}}),[l,a])}};return n.scopeName=e,[i,pD(n,...t)]}function pD(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const i=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(s){const o=i.reduce((l,{useScope:a,scopeName:c})=>{const h=a(s)[`__scope${c}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function V1(e){const t=e+"CollectionProvider",[r,i]=Xi(t),[n,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:S,children:m}=_,v=fe.useRef(null),y=fe.useRef(new Map).current;return E.jsx(n,{scope:S,itemMap:y,collectionRef:v,children:m})};o.displayName=t;const l=e+"CollectionSlot",a=tl(l),c=fe.forwardRef((_,S)=>{const{scope:m,children:v}=_,y=s(l,m),w=_e(S,y.collectionRef);return E.jsx(a,{ref:w,children:v})});c.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",d=tl(u),f=fe.forwardRef((_,S)=>{const{scope:m,children:v,...y}=_,w=fe.useRef(null),b=_e(S,w),R=s(u,m);return fe.useEffect(()=>(R.itemMap.set(w,{ref:w,...y}),()=>void R.itemMap.delete(w))),E.jsx(d,{[h]:"",ref:b,children:v})});f.displayName=u;function p(_){const S=s(e+"CollectionConsumer",_);return fe.useCallback(()=>{const v=S.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((R,x)=>y.indexOf(R.ref.current)-y.indexOf(x.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},p,i]}function te(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e==null||e(n),r===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}var _t=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},mD=Jv[" useInsertionEffect ".trim().toString()]||_t;function ji({prop:e,defaultProp:t,onChange:r=()=>{},caller:i}){const[n,s,o]=_D({defaultProp:t,onChange:r}),l=e!==void 0,a=l?e:n;{const u=g.useRef(e!==void 0);g.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${i} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,i])}const c=g.useCallback(u=>{var h;if(l){const d=gD(u)?u(e):u;d!==e&&((h=o.current)==null||h.call(o,d))}else s(u)},[l,e,s,o]);return[a,c]}function _D({defaultProp:e,onChange:t}){const[r,i]=g.useState(e),n=g.useRef(r),s=g.useRef(t);return mD(()=>{s.current=t},[t]),g.useEffect(()=>{var o;n.current!==r&&((o=s.current)==null||o.call(s,r),n.current=r)},[r,n]),[r,i,s]}function gD(e){return typeof e=="function"}function vD(e,t){return g.useReducer((r,i)=>t[r][i]??r,e)}var Os=e=>{const{present:t,children:r}=e,i=yD(t),n=typeof r=="function"?r({present:i.isPresent}):g.Children.only(r),s=_e(i.ref,SD(n));return typeof r=="function"||i.isPresent?g.cloneElement(n,{ref:s}):null};Os.displayName="Presence";function yD(e){const[t,r]=g.useState(),i=g.useRef(null),n=g.useRef(e),s=g.useRef("none"),o=e?"mounted":"unmounted",[l,a]=vD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const c=ql(i.current);s.current=l==="mounted"?c:"none"},[l]),_t(()=>{const c=i.current,u=n.current;if(u!==e){const d=s.current,f=ql(c);e?a("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?a("UNMOUNT"):a(u&&d!==f?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,a]),_t(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,h=f=>{const _=ql(i.current).includes(CSS.escape(f.animationName));if(f.target===t&&_&&(a("ANIMATION_END"),!n.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},d=f=>{f.target===t&&(s.current=ql(i.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else a("ANIMATION_END")},[t,a]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(c=>{i.current=c?getComputedStyle(c):null,r(c)},[])}}function ql(e){return(e==null?void 0:e.animationName)||"none"}function SD(e){var i,n;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wD=Jv[" useId ".trim().toString()]||(()=>{}),CD=0;function Xc(e){const[t,r]=g.useState(wD());return _t(()=>{e||r(i=>i??String(CD++))},[e]),e||(t?`radix-${t}`:"")}var j1=g.createContext(void 0),bD=e=>{const{dir:t,children:r}=e;return E.jsx(j1.Provider,{value:t,children:r})};function Qc(e){const t=g.useContext(j1);return e||t||"ltr"}var ED=bD;function Pt(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var i;return(i=t.current)==null?void 0:i.call(t,...r)},[])}function xD(e,t=globalThis==null?void 0:globalThis.document){const r=Pt(e);g.useEffect(()=>{const i=n=>{n.key==="Escape"&&r(n)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[r,t])}var kD="DismissableLayer",wf="dismissableLayer.update",RD="dismissableLayer.pointerDownOutside",PD="dismissableLayer.focusOutside",cv,U1=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zp=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:n,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...a}=e,c=g.useContext(U1),[u,h]=g.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=g.useState({}),p=_e(t,x=>h(x)),_=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=_.indexOf(S),v=u?_.indexOf(u):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,w=v>=m,b=AD(x=>{const L=x.target,T=[...c.branches].some(N=>N.contains(L));!w||T||(n==null||n(x),o==null||o(x),x.defaultPrevented||l==null||l())},d),R=DD(x=>{const L=x.target;[...c.branches].some(N=>N.contains(L))||(s==null||s(x),o==null||o(x),x.defaultPrevented||l==null||l())},d);return xD(x=>{v===c.layers.size-1&&(i==null||i(x),!x.defaultPrevented&&l&&(x.preventDefault(),l()))},d),g.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(cv=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),uv(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=cv)}},[u,d,r,c]),g.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),uv())},[u,c]),g.useEffect(()=>{const x=()=>f({});return document.addEventListener(wf,x),()=>document.removeEventListener(wf,x)},[]),E.jsx(ae.div,{...a,ref:p,style:{pointerEvents:y?w?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,R.onFocusCapture),onBlurCapture:te(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,b.onPointerDownCapture)})});Zp.displayName=kD;var TD="DismissableLayerBranch",LD=g.forwardRef((e,t)=>{const r=g.useContext(U1),i=g.useRef(null),n=_e(t,i);return g.useEffect(()=>{const s=i.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),E.jsx(ae.div,{...e,ref:n})});LD.displayName=TD;function AD(e,t=globalThis==null?void 0:globalThis.document){const r=Pt(e),i=g.useRef(!1),n=g.useRef(()=>{});return g.useEffect(()=>{const s=l=>{if(l.target&&!i.current){let a=function(){G1(RD,r,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",n.current),n.current=a,t.addEventListener("click",n.current,{once:!0})):a()}else t.removeEventListener("click",n.current);i.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",n.current)}},[t,r]),{onPointerDownCapture:()=>i.current=!0}}function DD(e,t=globalThis==null?void 0:globalThis.document){const r=Pt(e),i=g.useRef(!1);return g.useEffect(()=>{const n=s=>{s.target&&!i.current&&G1(PD,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",n),()=>t.removeEventListener("focusin",n)},[t,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function uv(){const e=new CustomEvent(wf);document.dispatchEvent(e)}function G1(e,t,r,{discrete:i}){const n=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),i?F1(n,s):n.dispatchEvent(s)}var fh="focusScope.autoFocusOnMount",ph="focusScope.autoFocusOnUnmount",hv={bubbles:!1,cancelable:!0},ND="FocusScope",K1=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:n,onUnmountAutoFocus:s,...o}=e,[l,a]=g.useState(null),c=Pt(n),u=Pt(s),h=g.useRef(null),d=_e(t,_=>a(_)),f=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(i){let _=function(y){if(f.paused||!l)return;const w=y.target;l.contains(w)?h.current=w:Ci(h.current,{select:!0})},S=function(y){if(f.paused||!l)return;const w=y.relatedTarget;w!==null&&(l.contains(w)||Ci(h.current,{select:!0}))},m=function(y){if(document.activeElement===document.body)for(const b of y)b.removedNodes.length>0&&Ci(l)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const v=new MutationObserver(m);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),v.disconnect()}}},[i,l,f.paused]),g.useEffect(()=>{if(l){fv.add(f);const _=document.activeElement;if(!l.contains(_)){const m=new CustomEvent(fh,hv);l.addEventListener(fh,c),l.dispatchEvent(m),m.defaultPrevented||(OD(FD(q1(l)),{select:!0}),document.activeElement===_&&Ci(l))}return()=>{l.removeEventListener(fh,c),setTimeout(()=>{const m=new CustomEvent(ph,hv);l.addEventListener(ph,u),l.dispatchEvent(m),m.defaultPrevented||Ci(_??document.body,{select:!0}),l.removeEventListener(ph,u),fv.remove(f)},0)}}},[l,c,u,f]);const p=g.useCallback(_=>{if(!r&&!i||f.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,m=document.activeElement;if(S&&m){const v=_.currentTarget,[y,w]=ID(v);y&&w?!_.shiftKey&&m===w?(_.preventDefault(),r&&Ci(y,{select:!0})):_.shiftKey&&m===y&&(_.preventDefault(),r&&Ci(w,{select:!0})):m===v&&_.preventDefault()}},[r,i,f.paused]);return E.jsx(ae.div,{tabIndex:-1,...o,ref:d,onKeyDown:p})});K1.displayName=ND;function OD(e,{select:t=!1}={}){const r=document.activeElement;for(const i of e)if(Ci(i,{select:t}),document.activeElement!==r)return}function ID(e){const t=q1(e),r=dv(t,e),i=dv(t.reverse(),e);return[r,i]}function q1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const n=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||n?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function dv(e,t){for(const r of e)if(!MD(r,{upTo:t}))return r}function MD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function BD(e){return e instanceof HTMLInputElement&&"select"in e}function Ci(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&BD(e)&&t&&e.select()}}var fv=$D();function $D(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=pv(e,t),e.unshift(t)},remove(t){var r;e=pv(e,t),(r=e[0])==null||r.resume()}}}function pv(e,t){const r=[...e],i=r.indexOf(t);return i!==-1&&r.splice(i,1),r}function FD(e){return e.filter(t=>t.tagName!=="A")}var zD="Portal",Y1=g.forwardRef((e,t)=>{var l;const{container:r,...i}=e,[n,s]=g.useState(!1);_t(()=>s(!0),[]);const o=r||n&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?$x.createPortal(E.jsx(ae.div,{...i,ref:t}),o):null});Y1.displayName=zD;var mh=0;function HD(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??mv()),document.body.insertAdjacentElement("beforeend",e[1]??mv()),mh++,()=>{mh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),mh--}},[])}function mv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Hr=function(){return Hr=Object.assign||function(t){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Hr.apply(this,arguments)};function X1(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function WD(e,t,r){if(r||arguments.length===2)for(var i=0,n=t.length,s;i<n;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}var Ca="right-scroll-bar-position",ba="width-before-scroll-bar",VD="with-scroll-bars-hidden",jD="--removed-body-scroll-bar-size";function _h(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function UD(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(i){var n=r.value;n!==i&&(r.value=i,r.callback(i,n))}}}})[0];return r.callback=t,r.facade}var GD=typeof window<"u"?g.useLayoutEffect:g.useEffect,_v=new WeakMap;function KD(e,t){var r=UD(t||null,function(i){return e.forEach(function(n){return _h(n,i)})});return GD(function(){var i=_v.get(r);if(i){var n=new Set(i),s=new Set(e),o=r.current;n.forEach(function(l){s.has(l)||_h(l,null)}),s.forEach(function(l){n.has(l)||_h(l,o)})}_v.set(r,e)},[e]),r}function qD(e){return e}function YD(e,t){t===void 0&&(t=qD);var r=[],i=!1,n={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,i);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(i=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){i=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var a=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(a)};c(),r={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),r}}}};return n}function XD(e){e===void 0&&(e={});var t=YD(null);return t.options=Hr({async:!0,ssr:!1},e),t}var Q1=function(e){var t=e.sideCar,r=X1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return g.createElement(i,Hr({},r))};Q1.isSideCarExport=!0;function QD(e,t){return e.useMedium(t),Q1}var Z1=XD(),gh=function(){},Zc=g.forwardRef(function(e,t){var r=g.useRef(null),i=g.useState({onScrollCapture:gh,onWheelCapture:gh,onTouchMoveCapture:gh}),n=i[0],s=i[1],o=e.forwardProps,l=e.children,a=e.className,c=e.removeScrollBar,u=e.enabled,h=e.shards,d=e.sideCar,f=e.noRelative,p=e.noIsolation,_=e.inert,S=e.allowPinchZoom,m=e.as,v=m===void 0?"div":m,y=e.gapMode,w=X1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=d,R=KD([r,t]),x=Hr(Hr({},w),n);return g.createElement(g.Fragment,null,u&&g.createElement(b,{sideCar:Z1,removeScrollBar:c,shards:h,noRelative:f,noIsolation:p,inert:_,setCallbacks:s,allowPinchZoom:!!S,lockRef:r,gapMode:y}),o?g.cloneElement(g.Children.only(l),Hr(Hr({},x),{ref:R})):g.createElement(v,Hr({},x,{className:a,ref:R}),l))});Zc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zc.classNames={fullWidth:ba,zeroRight:Ca};var gv,ZD=function(){if(gv)return gv;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function JD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ZD();return t&&e.setAttribute("nonce",t),e}function eN(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function tN(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var rN=function(){var e=0,t=null;return{add:function(r){e==0&&(t=JD())&&(eN(t,r),tN(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},iN=function(){var e=rN();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},J1=function(){var e=iN(),t=function(r){var i=r.styles,n=r.dynamic;return e(i,n),null};return t},nN={left:0,top:0,right:0,gap:0},vh=function(e){return parseInt(e||"",10)||0},sN=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],n=t[e==="padding"?"paddingRight":"marginRight"];return[vh(r),vh(i),vh(n)]},oN=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nN;var t=sN(e),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-r+t[2]-t[0])}},lN=J1(),cs="data-scroll-locked",aN=function(e,t,r,i){var n=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(VD,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(cs,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ca,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(ba,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(Ca," .").concat(Ca,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(ba," .").concat(ba,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(cs,`] {
    `).concat(jD,": ").concat(l,`px;
  }
`)},vv=function(){var e=parseInt(document.body.getAttribute(cs)||"0",10);return isFinite(e)?e:0},cN=function(){g.useEffect(function(){return document.body.setAttribute(cs,(vv()+1).toString()),function(){var e=vv()-1;e<=0?document.body.removeAttribute(cs):document.body.setAttribute(cs,e.toString())}},[])},uN=function(e){var t=e.noRelative,r=e.noImportant,i=e.gapMode,n=i===void 0?"margin":i;cN();var s=g.useMemo(function(){return oN(n)},[n]);return g.createElement(lN,{styles:aN(s,!t,n,r?"":"!important")})},Cf=!1;if(typeof window<"u")try{var Yl=Object.defineProperty({},"passive",{get:function(){return Cf=!0,!0}});window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{Cf=!1}var In=Cf?{passive:!1}:!1,hN=function(e){return e.tagName==="TEXTAREA"},ew=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!hN(e)&&r[t]==="visible")},dN=function(e){return ew(e,"overflowY")},fN=function(e){return ew(e,"overflowX")},yv=function(e,t){var r=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var n=tw(e,i);if(n){var s=rw(e,i),o=s[1],l=s[2];if(o>l)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},pN=function(e){var t=e.scrollTop,r=e.scrollHeight,i=e.clientHeight;return[t,r,i]},mN=function(e){var t=e.scrollLeft,r=e.scrollWidth,i=e.clientWidth;return[t,r,i]},tw=function(e,t){return e==="v"?dN(t):fN(t)},rw=function(e,t){return e==="v"?pN(t):mN(t)},_N=function(e,t){return e==="h"&&t==="rtl"?-1:1},gN=function(e,t,r,i,n){var s=_N(e,window.getComputedStyle(t).direction),o=s*i,l=r.target,a=t.contains(l),c=!1,u=o>0,h=0,d=0;do{if(!l)break;var f=rw(e,l),p=f[0],_=f[1],S=f[2],m=_-S-s*p;(p||m)&&tw(e,l)&&(h+=m,d+=p);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!a&&l!==document.body||a&&(t.contains(l)||t===l));return(u&&(n&&Math.abs(h)<1||!n&&o>h)||!u&&(n&&Math.abs(d)<1||!n&&-o>d))&&(c=!0),c},Xl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Sv=function(e){return[e.deltaX,e.deltaY]},wv=function(e){return e&&"current"in e?e.current:e},vN=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yN=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},SN=0,Mn=[];function wN(e){var t=g.useRef([]),r=g.useRef([0,0]),i=g.useRef(),n=g.useState(SN++)[0],s=g.useState(J1)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var _=WD([e.lockRef.current],(e.shards||[]).map(wv),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var m=Xl(_),v=r.current,y="deltaX"in _?_.deltaX:v[0]-m[0],w="deltaY"in _?_.deltaY:v[1]-m[1],b,R=_.target,x=Math.abs(y)>Math.abs(w)?"h":"v";if("touches"in _&&x==="h"&&R.type==="range")return!1;var L=window.getSelection(),T=L&&L.anchorNode,N=T?T===R||T.contains(R):!1;if(N)return!1;var D=yv(x,R);if(!D)return!0;if(D?b=x:(b=x==="v"?"h":"v",D=yv(x,R)),!D)return!1;if(!i.current&&"changedTouches"in _&&(y||w)&&(i.current=b),!b)return!0;var A=i.current||b;return gN(A,S,_,A==="h"?y:w,!0)},[]),a=g.useCallback(function(_){var S=_;if(!(!Mn.length||Mn[Mn.length-1]!==s)){var m="deltaY"in S?Sv(S):Xl(S),v=t.current.filter(function(b){return b.name===S.type&&(b.target===S.target||S.target===b.shadowParent)&&vN(b.delta,m)})[0];if(v&&v.should){S.cancelable&&S.preventDefault();return}if(!v){var y=(o.current.shards||[]).map(wv).filter(Boolean).filter(function(b){return b.contains(S.target)}),w=y.length>0?l(S,y[0]):!o.current.noIsolation;w&&S.cancelable&&S.preventDefault()}}},[]),c=g.useCallback(function(_,S,m,v){var y={name:_,delta:S,target:m,should:v,shadowParent:CN(m)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(w){return w!==y})},1)},[]),u=g.useCallback(function(_){r.current=Xl(_),i.current=void 0},[]),h=g.useCallback(function(_){c(_.type,Sv(_),_.target,l(_,e.lockRef.current))},[]),d=g.useCallback(function(_){c(_.type,Xl(_),_.target,l(_,e.lockRef.current))},[]);g.useEffect(function(){return Mn.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",a,In),document.addEventListener("touchmove",a,In),document.addEventListener("touchstart",u,In),function(){Mn=Mn.filter(function(_){return _!==s}),document.removeEventListener("wheel",a,In),document.removeEventListener("touchmove",a,In),document.removeEventListener("touchstart",u,In)}},[]);var f=e.removeScrollBar,p=e.inert;return g.createElement(g.Fragment,null,p?g.createElement(s,{styles:yN(n)}):null,f?g.createElement(uN,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function CN(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const bN=QD(Z1,wN);var iw=g.forwardRef(function(e,t){return g.createElement(Zc,Hr({},e,{ref:t,sideCar:bN}))});iw.classNames=Zc.classNames;const EN=iw;var xN=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bn=new WeakMap,Ql=new WeakMap,Zl={},yh=0,nw=function(e){return e&&(e.host||nw(e.parentNode))},kN=function(e,t){return t.map(function(r){if(e.contains(r))return r;var i=nw(r);return i&&e.contains(i)?i:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},RN=function(e,t,r,i){var n=kN(t,Array.isArray(e)?e:[e]);Zl[r]||(Zl[r]=new WeakMap);var s=Zl[r],o=[],l=new Set,a=new Set(n),c=function(h){!h||l.has(h)||(l.add(h),c(h.parentNode))};n.forEach(c);var u=function(h){!h||a.has(h)||Array.prototype.forEach.call(h.children,function(d){if(l.has(d))u(d);else try{var f=d.getAttribute(i),p=f!==null&&f!=="false",_=(Bn.get(d)||0)+1,S=(s.get(d)||0)+1;Bn.set(d,_),s.set(d,S),o.push(d),_===1&&p&&Ql.set(d,!0),S===1&&d.setAttribute(r,"true"),p||d.setAttribute(i,"true")}catch(m){console.error("aria-hidden: cannot operate on ",d,m)}})};return u(t),l.clear(),yh++,function(){o.forEach(function(h){var d=Bn.get(h)-1,f=s.get(h)-1;Bn.set(h,d),s.set(h,f),d||(Ql.has(h)||h.removeAttribute(i),Ql.delete(h)),f||h.removeAttribute(r)}),yh--,yh||(Bn=new WeakMap,Bn=new WeakMap,Ql=new WeakMap,Zl={})}},PN=function(e,t,r){r===void 0&&(r="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),n=t||xN(e);return n?(i.push.apply(i,Array.from(n.querySelectorAll("[aria-live], script"))),RN(i,n,r,"aria-hidden")):function(){return null}};function sw(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function ow(e){const[t,r]=g.useState(void 0);return _t(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const s=n[0];let o,l;if("borderBoxSize"in s){const a=s.borderBoxSize,c=Array.isArray(a)?a[0]:a;o=c.inlineSize,l=c.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else r(void 0)},[e]),t}const TN=["top","right","bottom","left"],Ui=Math.min,Yt=Math.max,_c=Math.round,Jl=Math.floor,Gr=e=>({x:e,y:e}),LN={left:"right",right:"left",bottom:"top",top:"bottom"},AN={start:"end",end:"start"};function bf(e,t,r){return Yt(e,Ui(t,r))}function ci(e,t){return typeof e=="function"?e(t):e}function ui(e){return e.split("-")[0]}function Is(e){return e.split("-")[1]}function Jp(e){return e==="x"?"y":"x"}function em(e){return e==="y"?"height":"width"}const DN=new Set(["top","bottom"]);function Wr(e){return DN.has(ui(e))?"y":"x"}function tm(e){return Jp(Wr(e))}function NN(e,t,r){r===void 0&&(r=!1);const i=Is(e),n=tm(e),s=em(n);let o=n==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=gc(o)),[o,gc(o)]}function ON(e){const t=gc(e);return[Ef(e),t,Ef(t)]}function Ef(e){return e.replace(/start|end/g,t=>AN[t])}const Cv=["left","right"],bv=["right","left"],IN=["top","bottom"],MN=["bottom","top"];function BN(e,t,r){switch(e){case"top":case"bottom":return r?t?bv:Cv:t?Cv:bv;case"left":case"right":return t?IN:MN;default:return[]}}function $N(e,t,r,i){const n=Is(e);let s=BN(ui(e),r==="start",i);return n&&(s=s.map(o=>o+"-"+n),t&&(s=s.concat(s.map(Ef)))),s}function gc(e){return e.replace(/left|right|bottom|top/g,t=>LN[t])}function FN(e){return{top:0,right:0,bottom:0,left:0,...e}}function lw(e){return typeof e!="number"?FN(e):{top:e,right:e,bottom:e,left:e}}function vc(e){const{x:t,y:r,width:i,height:n}=e;return{width:i,height:n,top:r,left:t,right:t+i,bottom:r+n,x:t,y:r}}function Ev(e,t,r){let{reference:i,floating:n}=e;const s=Wr(t),o=tm(t),l=em(o),a=ui(t),c=s==="y",u=i.x+i.width/2-n.width/2,h=i.y+i.height/2-n.height/2,d=i[l]/2-n[l]/2;let f;switch(a){case"top":f={x:u,y:i.y-n.height};break;case"bottom":f={x:u,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:h};break;case"left":f={x:i.x-n.width,y:h};break;default:f={x:i.x,y:i.y}}switch(Is(t)){case"start":f[o]-=d*(r&&c?-1:1);break;case"end":f[o]+=d*(r&&c?-1:1);break}return f}const zN=async(e,t,r)=>{const{placement:i="bottom",strategy:n="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),a=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:n}),{x:u,y:h}=Ev(c,i,a),d=i,f={},p=0;for(let _=0;_<l.length;_++){const{name:S,fn:m}=l[_],{x:v,y,data:w,reset:b}=await m({x:u,y:h,initialPlacement:i,placement:d,strategy:n,middlewareData:f,rects:c,platform:o,elements:{reference:e,floating:t}});u=v??u,h=y??h,f={...f,[S]:{...f[S],...w}},b&&p<=50&&(p++,typeof b=="object"&&(b.placement&&(d=b.placement),b.rects&&(c=b.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:n}):b.rects),{x:u,y:h}=Ev(c,d,a)),_=-1)}return{x:u,y:h,placement:d,strategy:n,middlewareData:f}};async function rl(e,t){var r;t===void 0&&(t={});const{x:i,y:n,platform:s,rects:o,elements:l,strategy:a}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=ci(t,e),p=lw(f),S=l[d?h==="floating"?"reference":"floating":h],m=vc(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(S)))==null||r?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:a})),v=h==="floating"?{x:i,y:n,width:o.floating.width,height:o.floating.height}:o.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),w=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},b=vc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:a}):v);return{top:(m.top-b.top+p.top)/w.y,bottom:(b.bottom-m.bottom+p.bottom)/w.y,left:(m.left-b.left+p.left)/w.x,right:(b.right-m.right+p.right)/w.x}}const HN=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:i,placement:n,rects:s,platform:o,elements:l,middlewareData:a}=t,{element:c,padding:u=0}=ci(e,t)||{};if(c==null)return{};const h=lw(u),d={x:r,y:i},f=tm(n),p=em(f),_=await o.getDimensions(c),S=f==="y",m=S?"top":"left",v=S?"bottom":"right",y=S?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[f]-d[f]-s.floating[p],b=d[f]-s.reference[f],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let x=R?R[y]:0;(!x||!await(o.isElement==null?void 0:o.isElement(R)))&&(x=l.floating[y]||s.floating[p]);const L=w/2-b/2,T=x/2-_[p]/2-1,N=Ui(h[m],T),D=Ui(h[v],T),A=N,P=x-_[p]-D,O=x/2-_[p]/2+L,$=bf(A,O,P),I=!a.arrow&&Is(n)!=null&&O!==$&&s.reference[p]/2-(O<A?N:D)-_[p]/2<0,V=I?O<A?O-A:O-P:0;return{[f]:d[f]+V,data:{[f]:$,centerOffset:O-$-V,...I&&{alignmentOffset:V}},reset:I}}}),WN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,i;const{placement:n,middlewareData:s,rects:o,initialPlacement:l,platform:a,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:_=!0,...S}=ci(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const m=ui(n),v=Wr(l),y=ui(l)===l,w=await(a.isRTL==null?void 0:a.isRTL(c.floating)),b=d||(y||!_?[gc(l)]:ON(l)),R=p!=="none";!d&&R&&b.push(...$N(l,_,p,w));const x=[l,...b],L=await rl(t,S),T=[];let N=((i=s.flip)==null?void 0:i.overflows)||[];if(u&&T.push(L[m]),h){const O=NN(n,o,w);T.push(L[O[0]],L[O[1]])}if(N=[...N,{placement:n,overflows:T}],!T.every(O=>O<=0)){var D,A;const O=(((D=s.flip)==null?void 0:D.index)||0)+1,$=x[O];if($&&(!(h==="alignment"?v!==Wr($):!1)||N.every(k=>Wr(k.placement)===v?k.overflows[0]>0:!0)))return{data:{index:O,overflows:N},reset:{placement:$}};let I=(A=N.filter(V=>V.overflows[0]<=0).sort((V,k)=>V.overflows[1]-k.overflows[1])[0])==null?void 0:A.placement;if(!I)switch(f){case"bestFit":{var P;const V=(P=N.filter(k=>{if(R){const F=Wr(k.placement);return F===v||F==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(F=>F>0).reduce((F,j)=>F+j,0)]).sort((k,F)=>k[1]-F[1])[0])==null?void 0:P[0];V&&(I=V);break}case"initialPlacement":I=l;break}if(n!==I)return{reset:{placement:I}}}return{}}}};function xv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kv(e){return TN.some(t=>e[t]>=0)}const VN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:i="referenceHidden",...n}=ci(e,t);switch(i){case"referenceHidden":{const s=await rl(t,{...n,elementContext:"reference"}),o=xv(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:kv(o)}}}case"escaped":{const s=await rl(t,{...n,altBoundary:!0}),o=xv(s,r.floating);return{data:{escapedOffsets:o,escaped:kv(o)}}}default:return{}}}}},aw=new Set(["left","top"]);async function jN(e,t){const{placement:r,platform:i,elements:n}=e,s=await(i.isRTL==null?void 0:i.isRTL(n.floating)),o=ui(r),l=Is(r),a=Wr(r)==="y",c=aw.has(o)?-1:1,u=s&&a?-1:1,h=ci(t,e);let{mainAxis:d,crossAxis:f,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof p=="number"&&(f=l==="end"?p*-1:p),a?{x:f*u,y:d*c}:{x:d*c,y:f*u}}const UN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,i;const{x:n,y:s,placement:o,middlewareData:l}=t,a=await jN(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:n+a.x,y:s+a.y,data:{...a,placement:o}}}}},GN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:i,placement:n}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:S=>{let{x:m,y:v}=S;return{x:m,y:v}}},...a}=ci(e,t),c={x:r,y:i},u=await rl(t,a),h=Wr(ui(n)),d=Jp(h);let f=c[d],p=c[h];if(s){const S=d==="y"?"top":"left",m=d==="y"?"bottom":"right",v=f+u[S],y=f-u[m];f=bf(v,f,y)}if(o){const S=h==="y"?"top":"left",m=h==="y"?"bottom":"right",v=p+u[S],y=p-u[m];p=bf(v,p,y)}const _=l.fn({...t,[d]:f,[h]:p});return{..._,data:{x:_.x-r,y:_.y-i,enabled:{[d]:s,[h]:o}}}}}},KN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:i,placement:n,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:a=!0,crossAxis:c=!0}=ci(e,t),u={x:r,y:i},h=Wr(n),d=Jp(h);let f=u[d],p=u[h];const _=ci(l,t),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(a){const y=d==="y"?"height":"width",w=s.reference[d]-s.floating[y]+S.mainAxis,b=s.reference[d]+s.reference[y]-S.mainAxis;f<w?f=w:f>b&&(f=b)}if(c){var m,v;const y=d==="y"?"width":"height",w=aw.has(ui(n)),b=s.reference[h]-s.floating[y]+(w&&((m=o.offset)==null?void 0:m[h])||0)+(w?0:S.crossAxis),R=s.reference[h]+s.reference[y]+(w?0:((v=o.offset)==null?void 0:v[h])||0)-(w?S.crossAxis:0);p<b?p=b:p>R&&(p=R)}return{[d]:f,[h]:p}}}},qN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,i;const{placement:n,rects:s,platform:o,elements:l}=t,{apply:a=()=>{},...c}=ci(e,t),u=await rl(t,c),h=ui(n),d=Is(n),f=Wr(n)==="y",{width:p,height:_}=s.floating;let S,m;h==="top"||h==="bottom"?(S=h,m=d===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(m=h,S=d==="end"?"top":"bottom");const v=_-u.top-u.bottom,y=p-u.left-u.right,w=Ui(_-u[S],v),b=Ui(p-u[m],y),R=!t.middlewareData.shift;let x=w,L=b;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(L=y),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(x=v),R&&!d){const N=Yt(u.left,0),D=Yt(u.right,0),A=Yt(u.top,0),P=Yt(u.bottom,0);f?L=p-2*(N!==0||D!==0?N+D:Yt(u.left,u.right)):x=_-2*(A!==0||P!==0?A+P:Yt(u.top,u.bottom))}await a({...t,availableWidth:L,availableHeight:x});const T=await o.getDimensions(l.floating);return p!==T.width||_!==T.height?{reset:{rects:!0}}:{}}}};function Jc(){return typeof window<"u"}function Ms(e){return cw(e)?(e.nodeName||"").toLowerCase():"#document"}function Zt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yr(e){var t;return(t=(cw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cw(e){return Jc()?e instanceof Node||e instanceof Zt(e).Node:!1}function Tr(e){return Jc()?e instanceof Element||e instanceof Zt(e).Element:!1}function qr(e){return Jc()?e instanceof HTMLElement||e instanceof Zt(e).HTMLElement:!1}function Rv(e){return!Jc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zt(e).ShadowRoot}const YN=new Set(["inline","contents"]);function _l(e){const{overflow:t,overflowX:r,overflowY:i,display:n}=Lr(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!YN.has(n)}const XN=new Set(["table","td","th"]);function QN(e){return XN.has(Ms(e))}const ZN=[":popover-open",":modal"];function eu(e){return ZN.some(t=>{try{return e.matches(t)}catch{return!1}})}const JN=["transform","translate","scale","rotate","perspective"],eO=["transform","translate","scale","rotate","perspective","filter"],tO=["paint","layout","strict","content"];function rm(e){const t=im(),r=Tr(e)?Lr(e):e;return JN.some(i=>r[i]?r[i]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||eO.some(i=>(r.willChange||"").includes(i))||tO.some(i=>(r.contain||"").includes(i))}function rO(e){let t=Gi(e);for(;qr(t)&&!Cs(t);){if(rm(t))return t;if(eu(t))return null;t=Gi(t)}return null}function im(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iO=new Set(["html","body","#document"]);function Cs(e){return iO.has(Ms(e))}function Lr(e){return Zt(e).getComputedStyle(e)}function tu(e){return Tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Gi(e){if(Ms(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Rv(e)&&e.host||Yr(e);return Rv(t)?t.host:t}function uw(e){const t=Gi(e);return Cs(t)?e.ownerDocument?e.ownerDocument.body:e.body:qr(t)&&_l(t)?t:uw(t)}function il(e,t,r){var i;t===void 0&&(t=[]),r===void 0&&(r=!0);const n=uw(e),s=n===((i=e.ownerDocument)==null?void 0:i.body),o=Zt(n);if(s){const l=xf(o);return t.concat(o,o.visualViewport||[],_l(n)?n:[],l&&r?il(l):[])}return t.concat(n,il(n,[],r))}function xf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hw(e){const t=Lr(e);let r=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const n=qr(e),s=n?e.offsetWidth:r,o=n?e.offsetHeight:i,l=_c(r)!==s||_c(i)!==o;return l&&(r=s,i=o),{width:r,height:i,$:l}}function nm(e){return Tr(e)?e:e.contextElement}function us(e){const t=nm(e);if(!qr(t))return Gr(1);const r=t.getBoundingClientRect(),{width:i,height:n,$:s}=hw(t);let o=(s?_c(r.width):r.width)/i,l=(s?_c(r.height):r.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const nO=Gr(0);function dw(e){const t=Zt(e);return!im()||!t.visualViewport?nO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sO(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Zt(e)?!1:t}function xn(e,t,r,i){t===void 0&&(t=!1),r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=nm(e);let o=Gr(1);t&&(i?Tr(i)&&(o=us(i)):o=us(e));const l=sO(s,r,i)?dw(s):Gr(0);let a=(n.left+l.x)/o.x,c=(n.top+l.y)/o.y,u=n.width/o.x,h=n.height/o.y;if(s){const d=Zt(s),f=i&&Tr(i)?Zt(i):i;let p=d,_=xf(p);for(;_&&i&&f!==p;){const S=us(_),m=_.getBoundingClientRect(),v=Lr(_),y=m.left+(_.clientLeft+parseFloat(v.paddingLeft))*S.x,w=m.top+(_.clientTop+parseFloat(v.paddingTop))*S.y;a*=S.x,c*=S.y,u*=S.x,h*=S.y,a+=y,c+=w,p=Zt(_),_=xf(p)}}return vc({width:u,height:h,x:a,y:c})}function ru(e,t){const r=tu(e).scrollLeft;return t?t.left+r:xn(Yr(e)).left+r}function fw(e,t){const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-ru(e,r),n=r.top+t.scrollTop;return{x:i,y:n}}function oO(e){let{elements:t,rect:r,offsetParent:i,strategy:n}=e;const s=n==="fixed",o=Yr(i),l=t?eu(t.floating):!1;if(i===o||l&&s)return r;let a={scrollLeft:0,scrollTop:0},c=Gr(1);const u=Gr(0),h=qr(i);if((h||!h&&!s)&&((Ms(i)!=="body"||_l(o))&&(a=tu(i)),qr(i))){const f=xn(i);c=us(i),u.x=f.x+i.clientLeft,u.y=f.y+i.clientTop}const d=o&&!h&&!s?fw(o,a):Gr(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-a.scrollLeft*c.x+u.x+d.x,y:r.y*c.y-a.scrollTop*c.y+u.y+d.y}}function lO(e){return Array.from(e.getClientRects())}function aO(e){const t=Yr(e),r=tu(e),i=e.ownerDocument.body,n=Yt(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=Yt(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let o=-r.scrollLeft+ru(e);const l=-r.scrollTop;return Lr(i).direction==="rtl"&&(o+=Yt(t.clientWidth,i.clientWidth)-n),{width:n,height:s,x:o,y:l}}const Pv=25;function cO(e,t){const r=Zt(e),i=Yr(e),n=r.visualViewport;let s=i.clientWidth,o=i.clientHeight,l=0,a=0;if(n){s=n.width,o=n.height;const u=im();(!u||u&&t==="fixed")&&(l=n.offsetLeft,a=n.offsetTop)}const c=ru(i);if(c<=0){const u=i.ownerDocument,h=u.body,d=getComputedStyle(h),f=u.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,p=Math.abs(i.clientWidth-h.clientWidth-f);p<=Pv&&(s-=p)}else c<=Pv&&(s+=c);return{width:s,height:o,x:l,y:a}}const uO=new Set(["absolute","fixed"]);function hO(e,t){const r=xn(e,!0,t==="fixed"),i=r.top+e.clientTop,n=r.left+e.clientLeft,s=qr(e)?us(e):Gr(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,a=n*s.x,c=i*s.y;return{width:o,height:l,x:a,y:c}}function Tv(e,t,r){let i;if(t==="viewport")i=cO(e,r);else if(t==="document")i=aO(Yr(e));else if(Tr(t))i=hO(t,r);else{const n=dw(e);i={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return vc(i)}function pw(e,t){const r=Gi(e);return r===t||!Tr(r)||Cs(r)?!1:Lr(r).position==="fixed"||pw(r,t)}function dO(e,t){const r=t.get(e);if(r)return r;let i=il(e,[],!1).filter(l=>Tr(l)&&Ms(l)!=="body"),n=null;const s=Lr(e).position==="fixed";let o=s?Gi(e):e;for(;Tr(o)&&!Cs(o);){const l=Lr(o),a=rm(o);!a&&l.position==="fixed"&&(n=null),(s?!a&&!n:!a&&l.position==="static"&&!!n&&uO.has(n.position)||_l(o)&&!a&&pw(e,o))?i=i.filter(u=>u!==o):n=l,o=Gi(o)}return t.set(e,i),i}function fO(e){let{element:t,boundary:r,rootBoundary:i,strategy:n}=e;const o=[...r==="clippingAncestors"?eu(t)?[]:dO(t,this._c):[].concat(r),i],l=o[0],a=o.reduce((c,u)=>{const h=Tv(t,u,n);return c.top=Yt(h.top,c.top),c.right=Ui(h.right,c.right),c.bottom=Ui(h.bottom,c.bottom),c.left=Yt(h.left,c.left),c},Tv(t,l,n));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function pO(e){const{width:t,height:r}=hw(e);return{width:t,height:r}}function mO(e,t,r){const i=qr(t),n=Yr(t),s=r==="fixed",o=xn(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const a=Gr(0);function c(){a.x=ru(n)}if(i||!i&&!s)if((Ms(t)!=="body"||_l(n))&&(l=tu(t)),i){const f=xn(t,!0,s,t);a.x=f.x+t.clientLeft,a.y=f.y+t.clientTop}else n&&c();s&&!i&&n&&c();const u=n&&!i&&!s?fw(n,l):Gr(0),h=o.left+l.scrollLeft-a.x-u.x,d=o.top+l.scrollTop-a.y-u.y;return{x:h,y:d,width:o.width,height:o.height}}function Sh(e){return Lr(e).position==="static"}function Lv(e,t){if(!qr(e)||Lr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Yr(e)===r&&(r=r.ownerDocument.body),r}function mw(e,t){const r=Zt(e);if(eu(e))return r;if(!qr(e)){let n=Gi(e);for(;n&&!Cs(n);){if(Tr(n)&&!Sh(n))return n;n=Gi(n)}return r}let i=Lv(e,t);for(;i&&QN(i)&&Sh(i);)i=Lv(i,t);return i&&Cs(i)&&Sh(i)&&!rm(i)?r:i||rO(e)||r}const _O=async function(e){const t=this.getOffsetParent||mw,r=this.getDimensions,i=await r(e.floating);return{reference:mO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function gO(e){return Lr(e).direction==="rtl"}const vO={convertOffsetParentRelativeRectToViewportRelativeRect:oO,getDocumentElement:Yr,getClippingRect:fO,getOffsetParent:mw,getElementRects:_O,getClientRects:lO,getDimensions:pO,getScale:us,isElement:Tr,isRTL:gO};function _w(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function yO(e,t){let r=null,i;const n=Yr(e);function s(){var l;clearTimeout(i),(l=r)==null||l.disconnect(),r=null}function o(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),s();const c=e.getBoundingClientRect(),{left:u,top:h,width:d,height:f}=c;if(l||t(),!d||!f)return;const p=Jl(h),_=Jl(n.clientWidth-(u+d)),S=Jl(n.clientHeight-(h+f)),m=Jl(u),y={rootMargin:-p+"px "+-_+"px "+-S+"px "+-m+"px",threshold:Yt(0,Ui(1,a))||1};let w=!0;function b(R){const x=R[0].intersectionRatio;if(x!==a){if(!w)return o();x?o(!1,x):i=setTimeout(()=>{o(!1,1e-7)},1e3)}x===1&&!_w(c,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(b,{...y,root:n.ownerDocument})}catch{r=new IntersectionObserver(b,y)}r.observe(e)}return o(!0),s}function SO(e,t,r,i){i===void 0&&(i={});const{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=i,c=nm(e),u=n||s?[...c?il(c):[],...il(t)]:[];u.forEach(m=>{n&&m.addEventListener("scroll",r,{passive:!0}),s&&m.addEventListener("resize",r)});const h=c&&l?yO(c,r):null;let d=-1,f=null;o&&(f=new ResizeObserver(m=>{let[v]=m;v&&v.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var y;(y=f)==null||y.observe(t)})),r()}),c&&!a&&f.observe(c),f.observe(t));let p,_=a?xn(e):null;a&&S();function S(){const m=xn(e);_&&!_w(_,m)&&r(),_=m,p=requestAnimationFrame(S)}return r(),()=>{var m;u.forEach(v=>{n&&v.removeEventListener("scroll",r),s&&v.removeEventListener("resize",r)}),h==null||h(),(m=f)==null||m.disconnect(),f=null,a&&cancelAnimationFrame(p)}}const wO=UN,CO=GN,bO=WN,EO=qN,xO=VN,Av=HN,kO=KN,RO=(e,t,r)=>{const i=new Map,n={platform:vO,...r},s={...n.platform,_c:i};return zN(e,t,{...n,platform:s})};var PO=typeof document<"u",TO=function(){},Ea=PO?g.useLayoutEffect:TO;function yc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,i,n;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(i=r;i--!==0;)if(!yc(e[i],t[i]))return!1;return!0}if(n=Object.keys(e),r=n.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(t,n[i]))return!1;for(i=r;i--!==0;){const s=n[i];if(!(s==="_owner"&&e.$$typeof)&&!yc(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function gw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Dv(e,t){const r=gw(e);return Math.round(t*r)/r}function wh(e){const t=g.useRef(e);return Ea(()=>{t.current=e}),t}function LO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:i=[],platform:n,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:a,open:c}=e,[u,h]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[d,f]=g.useState(i);yc(d,i)||f(i);const[p,_]=g.useState(null),[S,m]=g.useState(null),v=g.useCallback(k=>{k!==R.current&&(R.current=k,_(k))},[]),y=g.useCallback(k=>{k!==x.current&&(x.current=k,m(k))},[]),w=s||p,b=o||S,R=g.useRef(null),x=g.useRef(null),L=g.useRef(u),T=a!=null,N=wh(a),D=wh(n),A=wh(c),P=g.useCallback(()=>{if(!R.current||!x.current)return;const k={placement:t,strategy:r,middleware:d};D.current&&(k.platform=D.current),RO(R.current,x.current,k).then(F=>{const j={...F,isPositioned:A.current!==!1};O.current&&!yc(L.current,j)&&(L.current=j,Ps.flushSync(()=>{h(j)}))})},[d,t,r,D,A]);Ea(()=>{c===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,h(k=>({...k,isPositioned:!1})))},[c]);const O=g.useRef(!1);Ea(()=>(O.current=!0,()=>{O.current=!1}),[]),Ea(()=>{if(w&&(R.current=w),b&&(x.current=b),w&&b){if(N.current)return N.current(w,b,P);P()}},[w,b,P,N,T]);const $=g.useMemo(()=>({reference:R,floating:x,setReference:v,setFloating:y}),[v,y]),I=g.useMemo(()=>({reference:w,floating:b}),[w,b]),V=g.useMemo(()=>{const k={position:r,left:0,top:0};if(!I.floating)return k;const F=Dv(I.floating,u.x),j=Dv(I.floating,u.y);return l?{...k,transform:"translate("+F+"px, "+j+"px)",...gw(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:j}},[r,l,I.floating,u.x,u.y]);return g.useMemo(()=>({...u,update:P,refs:$,elements:I,floatingStyles:V}),[u,P,$,I,V])}const AO=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:i,padding:n}=typeof e=="function"?e(r):e;return i&&t(i)?i.current!=null?Av({element:i.current,padding:n}).fn(r):{}:i?Av({element:i,padding:n}).fn(r):{}}}},DO=(e,t)=>({...wO(e),options:[e,t]}),NO=(e,t)=>({...CO(e),options:[e,t]}),OO=(e,t)=>({...kO(e),options:[e,t]}),IO=(e,t)=>({...bO(e),options:[e,t]}),MO=(e,t)=>({...EO(e),options:[e,t]}),BO=(e,t)=>({...xO(e),options:[e,t]}),$O=(e,t)=>({...AO(e),options:[e,t]});var FO="Arrow",vw=g.forwardRef((e,t)=>{const{children:r,width:i=10,height:n=5,...s}=e;return E.jsx(ae.svg,{...s,ref:t,width:i,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});vw.displayName=FO;var zO=vw,sm="Popper",[yw,iu]=Xi(sm),[HO,Sw]=yw(sm),ww=e=>{const{__scopePopper:t,children:r}=e,[i,n]=g.useState(null);return E.jsx(HO,{scope:t,anchor:i,onAnchorChange:n,children:r})};ww.displayName=sm;var Cw="PopperAnchor",bw=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:i,...n}=e,s=Sw(Cw,r),o=g.useRef(null),l=_e(t,o),a=g.useRef(null);return g.useEffect(()=>{const c=a.current;a.current=(i==null?void 0:i.current)||o.current,c!==a.current&&s.onAnchorChange(a.current)}),i?null:E.jsx(ae.div,{...n,ref:l})});bw.displayName=Cw;var om="PopperContent",[WO,VO]=yw(om),Ew=g.forwardRef((e,t)=>{var q,de,ge,ue,oe,re;const{__scopePopper:r,side:i="bottom",sideOffset:n=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:a=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:d=!1,updatePositionStrategy:f="optimized",onPlaced:p,..._}=e,S=Sw(om,r),[m,v]=g.useState(null),y=_e(t,Q=>v(Q)),[w,b]=g.useState(null),R=ow(w),x=(R==null?void 0:R.width)??0,L=(R==null?void 0:R.height)??0,T=i+(s!=="center"?"-"+s:""),N=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(c)?c:[c],A=D.length>0,P={padding:N,boundary:D.filter(UO),altBoundary:A},{refs:O,floatingStyles:$,placement:I,isPositioned:V,middlewareData:k}=LO({strategy:"fixed",placement:T,whileElementsMounted:(...Q)=>SO(...Q,{animationFrame:f==="always"}),elements:{reference:S.anchor},middleware:[DO({mainAxis:n+L,alignmentAxis:o}),a&&NO({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?OO():void 0,...P}),a&&IO({...P}),MO({...P,apply:({elements:Q,rects:ct,availableWidth:Z,availableHeight:Y})=>{const{width:we,height:ut}=ct.reference,et=Q.floating.style;et.setProperty("--radix-popper-available-width",`${Z}px`),et.setProperty("--radix-popper-available-height",`${Y}px`),et.setProperty("--radix-popper-anchor-width",`${we}px`),et.setProperty("--radix-popper-anchor-height",`${ut}px`)}}),w&&$O({element:w,padding:l}),GO({arrowWidth:x,arrowHeight:L}),d&&BO({strategy:"referenceHidden",...P})]}),[F,j]=Rw(I),J=Pt(p);_t(()=>{V&&(J==null||J())},[V,J]);const se=(q=k.arrow)==null?void 0:q.x,Se=(de=k.arrow)==null?void 0:de.y,ce=((ge=k.arrow)==null?void 0:ge.centerOffset)!==0,[Re,pe]=g.useState();return _t(()=>{m&&pe(window.getComputedStyle(m).zIndex)},[m]),E.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:V?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(ue=k.transformOrigin)==null?void 0:ue.x,(oe=k.transformOrigin)==null?void 0:oe.y].join(" "),...((re=k.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:E.jsx(WO,{scope:r,placedSide:F,onArrowChange:b,arrowX:se,arrowY:Se,shouldHideArrow:ce,children:E.jsx(ae.div,{"data-side":F,"data-align":j,..._,ref:y,style:{..._.style,animation:V?void 0:"none"}})})})});Ew.displayName=om;var xw="PopperArrow",jO={top:"bottom",right:"left",bottom:"top",left:"right"},kw=g.forwardRef(function(t,r){const{__scopePopper:i,...n}=t,s=VO(xw,i),o=jO[s.placedSide];return E.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:E.jsx(zO,{...n,ref:r,style:{...n.style,display:"block"}})})});kw.displayName=xw;function UO(e){return e!==null}var GO=e=>({name:"transformOrigin",options:e,fn(t){var S,m,v;const{placement:r,rects:i,middlewareData:n}=t,o=((S=n.arrow)==null?void 0:S.centerOffset)!==0,l=o?0:e.arrowWidth,a=o?0:e.arrowHeight,[c,u]=Rw(r),h={start:"0%",center:"50%",end:"100%"}[u],d=(((m=n.arrow)==null?void 0:m.x)??0)+l/2,f=(((v=n.arrow)==null?void 0:v.y)??0)+a/2;let p="",_="";return c==="bottom"?(p=o?h:`${d}px`,_=`${-a}px`):c==="top"?(p=o?h:`${d}px`,_=`${i.floating.height+a}px`):c==="right"?(p=`${-a}px`,_=o?h:`${f}px`):c==="left"&&(p=`${i.floating.width+a}px`,_=o?h:`${f}px`),{data:{x:p,y:_}}}});function Rw(e){const[t,r="center"]=e.split("-");return[t,r]}var KO=ww,Pw=bw,Tw=Ew,Lw=kw,Ch="rovingFocusGroup.onEntryFocus",qO={bubbles:!1,cancelable:!0},gl="RovingFocusGroup",[kf,Aw,YO]=V1(gl),[XO,Dw]=Xi(gl,[YO]),[QO,ZO]=XO(gl),Nw=g.forwardRef((e,t)=>E.jsx(kf.Provider,{scope:e.__scopeRovingFocusGroup,children:E.jsx(kf.Slot,{scope:e.__scopeRovingFocusGroup,children:E.jsx(JO,{...e,ref:t})})}));Nw.displayName=gl;var JO=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:i,loop:n=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:a,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=e,d=g.useRef(null),f=_e(t,d),p=Qc(s),[_,S]=ji({prop:o,defaultProp:l??null,onChange:a,caller:gl}),[m,v]=g.useState(!1),y=Pt(c),w=Aw(r),b=g.useRef(!1),[R,x]=g.useState(0);return g.useEffect(()=>{const L=d.current;if(L)return L.addEventListener(Ch,y),()=>L.removeEventListener(Ch,y)},[y]),E.jsx(QO,{scope:r,orientation:i,dir:p,loop:n,currentTabStopId:_,onItemFocus:g.useCallback(L=>S(L),[S]),onItemShiftTab:g.useCallback(()=>v(!0),[]),onFocusableItemAdd:g.useCallback(()=>x(L=>L+1),[]),onFocusableItemRemove:g.useCallback(()=>x(L=>L-1),[]),children:E.jsx(ae.div,{tabIndex:m||R===0?-1:0,"data-orientation":i,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:te(e.onMouseDown,()=>{b.current=!0}),onFocus:te(e.onFocus,L=>{const T=!b.current;if(L.target===L.currentTarget&&T&&!m){const N=new CustomEvent(Ch,qO);if(L.currentTarget.dispatchEvent(N),!N.defaultPrevented){const D=w().filter(I=>I.focusable),A=D.find(I=>I.active),P=D.find(I=>I.id===_),$=[A,P,...D].filter(Boolean).map(I=>I.ref.current);Mw($,u)}}b.current=!1}),onBlur:te(e.onBlur,()=>v(!1))})})}),Ow="RovingFocusGroupItem",Iw=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:i=!0,active:n=!1,tabStopId:s,children:o,...l}=e,a=Xc(),c=s||a,u=ZO(Ow,r),h=u.currentTabStopId===c,d=Aw(r),{onFocusableItemAdd:f,onFocusableItemRemove:p,currentTabStopId:_}=u;return g.useEffect(()=>{if(i)return f(),()=>p()},[i,f,p]),E.jsx(kf.ItemSlot,{scope:r,id:c,focusable:i,active:n,children:E.jsx(ae.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:te(e.onMouseDown,S=>{i?u.onItemFocus(c):S.preventDefault()}),onFocus:te(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:te(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){u.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const m=rI(S,u.orientation,u.dir);if(m!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let y=d().filter(w=>w.focusable).map(w=>w.ref.current);if(m==="last")y.reverse();else if(m==="prev"||m==="next"){m==="prev"&&y.reverse();const w=y.indexOf(S.currentTarget);y=u.loop?iI(y,w+1):y.slice(w+1)}setTimeout(()=>Mw(y))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:_!=null}):o})})});Iw.displayName=Ow;var eI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function rI(e,t,r){const i=tI(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return eI[i]}function Mw(e,t=!1){const r=document.activeElement;for(const i of e)if(i===r||(i.focus({preventScroll:t}),document.activeElement!==r))return}function iI(e,t){return e.map((r,i)=>e[(t+i)%e.length])}var nI=Nw,sI=Iw;function Rf(e,[t,r]){return Math.min(r,Math.max(t,e))}function oI(e,t){return g.useReducer((r,i)=>t[r][i]??r,e)}var lm="ScrollArea",[Bw,G3]=Xi(lm),[lI,mr]=Bw(lm),$w=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:i="hover",dir:n,scrollHideDelay:s=600,...o}=e,[l,a]=g.useState(null),[c,u]=g.useState(null),[h,d]=g.useState(null),[f,p]=g.useState(null),[_,S]=g.useState(null),[m,v]=g.useState(0),[y,w]=g.useState(0),[b,R]=g.useState(!1),[x,L]=g.useState(!1),T=_e(t,D=>a(D)),N=Qc(n);return E.jsx(lI,{scope:r,type:i,dir:N,scrollHideDelay:s,scrollArea:l,viewport:c,onViewportChange:u,content:h,onContentChange:d,scrollbarX:f,onScrollbarXChange:p,scrollbarXEnabled:b,onScrollbarXEnabledChange:R,scrollbarY:_,onScrollbarYChange:S,scrollbarYEnabled:x,onScrollbarYEnabledChange:L,onCornerWidthChange:v,onCornerHeightChange:w,children:E.jsx(ae.div,{dir:N,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});$w.displayName=lm;var Fw="ScrollAreaViewport",zw=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:i,nonce:n,...s}=e,o=mr(Fw,r),l=g.useRef(null),a=_e(t,l,o.onViewportChange);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),E.jsx(ae.div,{"data-radix-scroll-area-viewport":"",...s,ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:E.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});zw.displayName=Fw;var Xr="ScrollAreaScrollbar",Hw=g.forwardRef((e,t)=>{const{forceMount:r,...i}=e,n=mr(Xr,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=n,l=e.orientation==="horizontal";return g.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),n.type==="hover"?E.jsx(aI,{...i,ref:t,forceMount:r}):n.type==="scroll"?E.jsx(cI,{...i,ref:t,forceMount:r}):n.type==="auto"?E.jsx(Ww,{...i,ref:t,forceMount:r}):n.type==="always"?E.jsx(am,{...i,ref:t}):null});Hw.displayName=Xr;var aI=g.forwardRef((e,t)=>{const{forceMount:r,...i}=e,n=mr(Xr,e.__scopeScrollArea),[s,o]=g.useState(!1);return g.useEffect(()=>{const l=n.scrollArea;let a=0;if(l){const c=()=>{window.clearTimeout(a),o(!0)},u=()=>{a=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",c),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(a),l.removeEventListener("pointerenter",c),l.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),E.jsx(Os,{present:r||s,children:E.jsx(Ww,{"data-state":s?"visible":"hidden",...i,ref:t})})}),cI=g.forwardRef((e,t)=>{const{forceMount:r,...i}=e,n=mr(Xr,e.__scopeScrollArea),s=e.orientation==="horizontal",o=su(()=>a("SCROLL_END"),100),[l,a]=oI("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const c=window.setTimeout(()=>a("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(c)}},[l,n.scrollHideDelay,a]),g.useEffect(()=>{const c=n.viewport,u=s?"scrollLeft":"scrollTop";if(c){let h=c[u];const d=()=>{const f=c[u];h!==f&&(a("SCROLL"),o()),h=f};return c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[n.viewport,s,a,o]),E.jsx(Os,{present:r||l!=="hidden",children:E.jsx(am,{"data-state":l==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:te(e.onPointerEnter,()=>a("POINTER_ENTER")),onPointerLeave:te(e.onPointerLeave,()=>a("POINTER_LEAVE"))})})}),Ww=g.forwardRef((e,t)=>{const r=mr(Xr,e.__scopeScrollArea),{forceMount:i,...n}=e,[s,o]=g.useState(!1),l=e.orientation==="horizontal",a=su(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?c:u)}},10);return bs(r.viewport,a),bs(r.content,a),E.jsx(Os,{present:i||s,children:E.jsx(am,{"data-state":s?"visible":"hidden",...n,ref:t})})}),am=g.forwardRef((e,t)=>{const{orientation:r="vertical",...i}=e,n=mr(Xr,e.__scopeScrollArea),s=g.useRef(null),o=g.useRef(0),[l,a]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Gw(l.viewport,l.content),u={...i,sizes:l,onSizesChange:a,hasThumb:c>0&&c<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function h(d,f){return _I(d,o.current,l,f)}return r==="horizontal"?E.jsx(uI,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&s.current){const d=n.viewport.scrollLeft,f=Nv(d,l,n.dir);s.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:d=>{n.viewport&&(n.viewport.scrollLeft=d)},onDragScroll:d=>{n.viewport&&(n.viewport.scrollLeft=h(d,n.dir))}}):r==="vertical"?E.jsx(hI,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&s.current){const d=n.viewport.scrollTop,f=Nv(d,l);s.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:d=>{n.viewport&&(n.viewport.scrollTop=d)},onDragScroll:d=>{n.viewport&&(n.viewport.scrollTop=h(d))}}):null}),uI=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:i,...n}=e,s=mr(Xr,e.__scopeScrollArea),[o,l]=g.useState(),a=g.useRef(null),c=_e(t,a,s.onScrollbarXChange);return g.useEffect(()=>{a.current&&l(getComputedStyle(a.current))},[a]),E.jsx(jw,{"data-orientation":"horizontal",...n,ref:c,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":nu(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(s.viewport){const d=s.viewport.scrollLeft+u.deltaX;e.onWheelScroll(d),qw(d,h)&&u.preventDefault()}},onResize:()=>{a.current&&s.viewport&&o&&i({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:a.current.clientWidth,paddingStart:wc(o.paddingLeft),paddingEnd:wc(o.paddingRight)}})}})}),hI=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:i,...n}=e,s=mr(Xr,e.__scopeScrollArea),[o,l]=g.useState(),a=g.useRef(null),c=_e(t,a,s.onScrollbarYChange);return g.useEffect(()=>{a.current&&l(getComputedStyle(a.current))},[a]),E.jsx(jw,{"data-orientation":"vertical",...n,ref:c,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":nu(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(s.viewport){const d=s.viewport.scrollTop+u.deltaY;e.onWheelScroll(d),qw(d,h)&&u.preventDefault()}},onResize:()=>{a.current&&s.viewport&&o&&i({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:a.current.clientHeight,paddingStart:wc(o.paddingTop),paddingEnd:wc(o.paddingBottom)}})}})}),[dI,Vw]=Bw(Xr),jw=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:i,hasThumb:n,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:a,onDragScroll:c,onWheelScroll:u,onResize:h,...d}=e,f=mr(Xr,r),[p,_]=g.useState(null),S=_e(t,T=>_(T)),m=g.useRef(null),v=g.useRef(""),y=f.viewport,w=i.content-i.viewport,b=Pt(u),R=Pt(a),x=su(h,10);function L(T){if(m.current){const N=T.clientX-m.current.left,D=T.clientY-m.current.top;c({x:N,y:D})}}return g.useEffect(()=>{const T=N=>{const D=N.target;(p==null?void 0:p.contains(D))&&b(N,w)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[y,p,w,b]),g.useEffect(R,[i,R]),bs(p,x),bs(f.content,x),E.jsx(dI,{scope:r,scrollbar:p,hasThumb:n,onThumbChange:Pt(s),onThumbPointerUp:Pt(o),onThumbPositionChange:R,onThumbPointerDown:Pt(l),children:E.jsx(ae.div,{...d,ref:S,style:{position:"absolute",...d.style},onPointerDown:te(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),m.current=p.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),L(T))}),onPointerMove:te(e.onPointerMove,L),onPointerUp:te(e.onPointerUp,T=>{const N=T.target;N.hasPointerCapture(T.pointerId)&&N.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=v.current,f.viewport&&(f.viewport.style.scrollBehavior=""),m.current=null})})})}),Sc="ScrollAreaThumb",Uw=g.forwardRef((e,t)=>{const{forceMount:r,...i}=e,n=Vw(Sc,e.__scopeScrollArea);return E.jsx(Os,{present:r||n.hasThumb,children:E.jsx(fI,{ref:t,...i})})}),fI=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:i,...n}=e,s=mr(Sc,r),o=Vw(Sc,r),{onThumbPositionChange:l}=o,a=_e(t,h=>o.onThumbChange(h)),c=g.useRef(void 0),u=su(()=>{c.current&&(c.current(),c.current=void 0)},100);return g.useEffect(()=>{const h=s.viewport;if(h){const d=()=>{if(u(),!c.current){const f=gI(h,l);c.current=f,l()}};return l(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[s.viewport,u,l]),E.jsx(ae.div,{"data-state":o.hasThumb?"visible":"hidden",...n,ref:a,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:te(e.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),p=h.clientX-f.left,_=h.clientY-f.top;o.onThumbPointerDown({x:p,y:_})}),onPointerUp:te(e.onPointerUp,o.onThumbPointerUp)})});Uw.displayName=Sc;var cm="ScrollAreaCorner",pI=g.forwardRef((e,t)=>{const r=mr(cm,e.__scopeScrollArea),i=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&i?E.jsx(mI,{...e,ref:t}):null});pI.displayName=cm;var mI=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,...i}=e,n=mr(cm,r),[s,o]=g.useState(0),[l,a]=g.useState(0),c=!!(s&&l);return bs(n.scrollbarX,()=>{var h;const u=((h=n.scrollbarX)==null?void 0:h.offsetHeight)||0;n.onCornerHeightChange(u),a(u)}),bs(n.scrollbarY,()=>{var h;const u=((h=n.scrollbarY)==null?void 0:h.offsetWidth)||0;n.onCornerWidthChange(u),o(u)}),c?E.jsx(ae.div,{...i,ref:t,style:{width:s,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function wc(e){return e?parseInt(e,10):0}function Gw(e,t){const r=e/t;return isNaN(r)?0:r}function nu(e){const t=Gw(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-r)*t;return Math.max(i,18)}function _I(e,t,r,i="ltr"){const n=nu(r),s=n/2,o=t||s,l=n-o,a=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,h=i==="ltr"?[0,u]:[u*-1,0];return Kw([a,c],h)(e)}function Nv(e,t,r="ltr"){const i=nu(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-n,o=t.content-t.viewport,l=s-i,a=r==="ltr"?[0,o]:[o*-1,0],c=Rf(e,a);return Kw([0,o],[0,l])(c)}function Kw(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(r-e[0])}}function qw(e,t){return e>0&&e<t}var gI=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},i=0;return function n(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&t(),r=s,i=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(i)};function su(e,t){const r=Pt(e),i=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(i.current),[]),g.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(r,t)},[r,t])}function bs(e,t){const r=Pt(t);_t(()=>{let i=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(i),n.unobserve(e)}}},[e,r])}var vI=$w,yI=zw,SI=Hw,wI=Uw,CI=[" ","Enter","ArrowUp","ArrowDown"],bI=[" ","Enter"],kn="Select",[ou,lu,EI]=V1(kn),[Bs,K3]=Xi(kn,[EI,iu]),au=iu(),[xI,Qi]=Bs(kn),[kI,RI]=Bs(kn),Yw=e=>{const{__scopeSelect:t,children:r,open:i,defaultOpen:n,onOpenChange:s,value:o,defaultValue:l,onValueChange:a,dir:c,name:u,autoComplete:h,disabled:d,required:f,form:p}=e,_=au(t),[S,m]=g.useState(null),[v,y]=g.useState(null),[w,b]=g.useState(!1),R=Qc(c),[x,L]=ji({prop:i,defaultProp:n??!1,onChange:s,caller:kn}),[T,N]=ji({prop:o,defaultProp:l,onChange:a,caller:kn}),D=g.useRef(null),A=S?p||!!S.closest("form"):!0,[P,O]=g.useState(new Set),$=Array.from(P).map(I=>I.props.value).join(";");return E.jsx(KO,{..._,children:E.jsxs(xI,{required:f,scope:t,trigger:S,onTriggerChange:m,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:b,contentId:Xc(),value:T,onValueChange:N,open:x,onOpenChange:L,dir:R,triggerPointerDownPosRef:D,disabled:d,children:[E.jsx(ou.Provider,{scope:t,children:E.jsx(kI,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(I=>{O(V=>new Set(V).add(I))},[]),onNativeOptionRemove:g.useCallback(I=>{O(V=>{const k=new Set(V);return k.delete(I),k})},[]),children:r})}),A?E.jsxs(vC,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:T,onChange:I=>N(I.target.value),disabled:d,form:p,children:[T===void 0?E.jsx("option",{value:""}):null,Array.from(P)]},$):null]})})};Yw.displayName=kn;var Xw="SelectTrigger",Qw=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:i=!1,...n}=e,s=au(r),o=Qi(Xw,r),l=o.disabled||i,a=_e(t,o.onTriggerChange),c=lu(r),u=g.useRef("touch"),[h,d,f]=SC(_=>{const S=c().filter(y=>!y.disabled),m=S.find(y=>y.value===o.value),v=wC(S,_,m);v!==void 0&&o.onValueChange(v.value)}),p=_=>{l||(o.onOpenChange(!0),f()),_&&(o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return E.jsx(Pw,{asChild:!0,...s,children:E.jsx(ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":yC(o.value)?"":void 0,...n,ref:a,onClick:te(n.onClick,_=>{_.currentTarget.focus(),u.current!=="mouse"&&p(_)}),onPointerDown:te(n.onPointerDown,_=>{u.current=_.pointerType;const S=_.target;S.hasPointerCapture(_.pointerId)&&S.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(p(_),_.preventDefault())}),onKeyDown:te(n.onKeyDown,_=>{const S=h.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&d(_.key),!(S&&_.key===" ")&&CI.includes(_.key)&&(p(),_.preventDefault())})})})});Qw.displayName=Xw;var Zw="SelectValue",Jw=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:i,style:n,children:s,placeholder:o="",...l}=e,a=Qi(Zw,r),{onValueNodeHasChildrenChange:c}=a,u=s!==void 0,h=_e(t,a.onValueNodeChange);return _t(()=>{c(u)},[c,u]),E.jsx(ae.span,{...l,ref:h,style:{pointerEvents:"none"},children:yC(a.value)?E.jsx(E.Fragment,{children:o}):s})});Jw.displayName=Zw;var PI="SelectIcon",eC=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:i,...n}=e;return E.jsx(ae.span,{"aria-hidden":!0,...n,ref:t,children:i||""})});eC.displayName=PI;var TI="SelectPortal",tC=e=>E.jsx(Y1,{asChild:!0,...e});tC.displayName=TI;var Rn="SelectContent",rC=g.forwardRef((e,t)=>{const r=Qi(Rn,e.__scopeSelect),[i,n]=g.useState();if(_t(()=>{n(new DocumentFragment)},[]),!r.open){const s=i;return s?Ps.createPortal(E.jsx(iC,{scope:e.__scopeSelect,children:E.jsx(ou.Slot,{scope:e.__scopeSelect,children:E.jsx("div",{children:e.children})})}),s):null}return E.jsx(nC,{...e,ref:t})});rC.displayName=Rn;var yr=10,[iC,Zi]=Bs(Rn),LI="SelectContentImpl",AI=tl("SelectContent.RemoveScroll"),nC=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:a,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:f,sticky:p,hideWhenDetached:_,avoidCollisions:S,...m}=e,v=Qi(Rn,r),[y,w]=g.useState(null),[b,R]=g.useState(null),x=_e(t,q=>w(q)),[L,T]=g.useState(null),[N,D]=g.useState(null),A=lu(r),[P,O]=g.useState(!1),$=g.useRef(!1);g.useEffect(()=>{if(y)return PN(y)},[y]),HD();const I=g.useCallback(q=>{const[de,...ge]=A().map(re=>re.ref.current),[ue]=ge.slice(-1),oe=document.activeElement;for(const re of q)if(re===oe||(re==null||re.scrollIntoView({block:"nearest"}),re===de&&b&&(b.scrollTop=0),re===ue&&b&&(b.scrollTop=b.scrollHeight),re==null||re.focus(),document.activeElement!==oe))return},[A,b]),V=g.useCallback(()=>I([L,y]),[I,L,y]);g.useEffect(()=>{P&&V()},[P,V]);const{onOpenChange:k,triggerPointerDownPosRef:F}=v;g.useEffect(()=>{if(y){let q={x:0,y:0};const de=ue=>{var oe,re;q={x:Math.abs(Math.round(ue.pageX)-(((oe=F.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((re=F.current)==null?void 0:re.y)??0))}},ge=ue=>{q.x<=10&&q.y<=10?ue.preventDefault():y.contains(ue.target)||k(!1),document.removeEventListener("pointermove",de),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ge,{capture:!0})}}},[y,k,F]),g.useEffect(()=>{const q=()=>k(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[k]);const[j,J]=SC(q=>{const de=A().filter(oe=>!oe.disabled),ge=de.find(oe=>oe.ref.current===document.activeElement),ue=wC(de,q,ge);ue&&setTimeout(()=>ue.ref.current.focus())}),se=g.useCallback((q,de,ge)=>{const ue=!$.current&&!ge;(v.value!==void 0&&v.value===de||ue)&&(T(q),ue&&($.current=!0))},[v.value]),Se=g.useCallback(()=>y==null?void 0:y.focus(),[y]),ce=g.useCallback((q,de,ge)=>{const ue=!$.current&&!ge;(v.value!==void 0&&v.value===de||ue)&&D(q)},[v.value]),Re=i==="popper"?Pf:sC,pe=Re===Pf?{side:l,sideOffset:a,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:f,sticky:p,hideWhenDetached:_,avoidCollisions:S}:{};return E.jsx(iC,{scope:r,content:y,viewport:b,onViewportChange:R,itemRefCallback:se,selectedItem:L,onItemLeave:Se,itemTextRefCallback:ce,focusSelectedItem:V,selectedItemText:N,position:i,isPositioned:P,searchRef:j,children:E.jsx(EN,{as:AI,allowPinchZoom:!0,children:E.jsx(K1,{asChild:!0,trapped:v.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:te(n,q=>{var de;(de=v.trigger)==null||de.focus({preventScroll:!0}),q.preventDefault()}),children:E.jsx(Zp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:E.jsx(Re,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:q=>q.preventDefault(),...m,...pe,onPlaced:()=>O(!0),ref:x,style:{display:"flex",flexDirection:"column",outline:"none",...m.style},onKeyDown:te(m.onKeyDown,q=>{const de=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!de&&q.key.length===1&&J(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let ue=A().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(q.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const oe=q.target,re=ue.indexOf(oe);ue=ue.slice(re+1)}setTimeout(()=>I(ue)),q.preventDefault()}})})})})})})});nC.displayName=LI;var DI="SelectItemAlignedPosition",sC=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:i,...n}=e,s=Qi(Rn,r),o=Zi(Rn,r),[l,a]=g.useState(null),[c,u]=g.useState(null),h=_e(t,x=>u(x)),d=lu(r),f=g.useRef(!1),p=g.useRef(!0),{viewport:_,selectedItem:S,selectedItemText:m,focusSelectedItem:v}=o,y=g.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&c&&_&&S&&m){const x=s.trigger.getBoundingClientRect(),L=c.getBoundingClientRect(),T=s.valueNode.getBoundingClientRect(),N=m.getBoundingClientRect();if(s.dir!=="rtl"){const oe=N.left-L.left,re=T.left-oe,Q=x.left-re,ct=x.width+Q,Z=Math.max(ct,L.width),Y=window.innerWidth-yr,we=Rf(re,[yr,Math.max(yr,Y-Z)]);l.style.minWidth=ct+"px",l.style.left=we+"px"}else{const oe=L.right-N.right,re=window.innerWidth-T.right-oe,Q=window.innerWidth-x.right-re,ct=x.width+Q,Z=Math.max(ct,L.width),Y=window.innerWidth-yr,we=Rf(re,[yr,Math.max(yr,Y-Z)]);l.style.minWidth=ct+"px",l.style.right=we+"px"}const D=d(),A=window.innerHeight-yr*2,P=_.scrollHeight,O=window.getComputedStyle(c),$=parseInt(O.borderTopWidth,10),I=parseInt(O.paddingTop,10),V=parseInt(O.borderBottomWidth,10),k=parseInt(O.paddingBottom,10),F=$+I+P+k+V,j=Math.min(S.offsetHeight*5,F),J=window.getComputedStyle(_),se=parseInt(J.paddingTop,10),Se=parseInt(J.paddingBottom,10),ce=x.top+x.height/2-yr,Re=A-ce,pe=S.offsetHeight/2,q=S.offsetTop+pe,de=$+I+q,ge=F-de;if(de<=ce){const oe=D.length>0&&S===D[D.length-1].ref.current;l.style.bottom="0px";const re=c.clientHeight-_.offsetTop-_.offsetHeight,Q=Math.max(Re,pe+(oe?Se:0)+re+V),ct=de+Q;l.style.height=ct+"px"}else{const oe=D.length>0&&S===D[0].ref.current;l.style.top="0px";const Q=Math.max(ce,$+_.offsetTop+(oe?se:0)+pe)+ge;l.style.height=Q+"px",_.scrollTop=de-ce+_.offsetTop}l.style.margin=`${yr}px 0`,l.style.minHeight=j+"px",l.style.maxHeight=A+"px",i==null||i(),requestAnimationFrame(()=>f.current=!0)}},[d,s.trigger,s.valueNode,l,c,_,S,m,s.dir,i]);_t(()=>y(),[y]);const[w,b]=g.useState();_t(()=>{c&&b(window.getComputedStyle(c).zIndex)},[c]);const R=g.useCallback(x=>{x&&p.current===!0&&(y(),v==null||v(),p.current=!1)},[y,v]);return E.jsx(OI,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:R,children:E.jsx("div",{ref:a,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:E.jsx(ae.div,{...n,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});sC.displayName=DI;var NI="SelectPopperPosition",Pf=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:i="start",collisionPadding:n=yr,...s}=e,o=au(r);return E.jsx(Tw,{...o,...s,ref:t,align:i,collisionPadding:n,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pf.displayName=NI;var[OI,um]=Bs(Rn,{}),Tf="SelectViewport",oC=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:i,...n}=e,s=Zi(Tf,r),o=um(Tf,r),l=_e(t,s.onViewportChange),a=g.useRef(0);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),E.jsx(ou.Slot,{scope:r,children:E.jsx(ae.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:te(n.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:d}=o;if(d!=null&&d.current&&h){const f=Math.abs(a.current-u.scrollTop);if(f>0){const p=window.innerHeight-yr*2,_=parseFloat(h.style.minHeight),S=parseFloat(h.style.height),m=Math.max(_,S);if(m<p){const v=m+f,y=Math.min(p,v),w=v-y;h.style.height=y+"px",h.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,h.style.justifyContent="flex-end")}}}a.current=u.scrollTop})})})]})});oC.displayName=Tf;var lC="SelectGroup",[II,MI]=Bs(lC),aC=g.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,n=Xc();return E.jsx(II,{scope:r,id:n,children:E.jsx(ae.div,{role:"group","aria-labelledby":n,...i,ref:t})})});aC.displayName=lC;var cC="SelectLabel",uC=g.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,n=MI(cC,r);return E.jsx(ae.div,{id:n.id,...i,ref:t})});uC.displayName=cC;var Cc="SelectItem",[BI,hC]=Bs(Cc),dC=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:i,disabled:n=!1,textValue:s,...o}=e,l=Qi(Cc,r),a=Zi(Cc,r),c=l.value===i,[u,h]=g.useState(s??""),[d,f]=g.useState(!1),p=_e(t,v=>{var y;return(y=a.itemRefCallback)==null?void 0:y.call(a,v,i,n)}),_=Xc(),S=g.useRef("touch"),m=()=>{n||(l.onValueChange(i),l.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return E.jsx(BI,{scope:r,value:i,disabled:n,textId:_,isSelected:c,onItemTextChange:g.useCallback(v=>{h(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:E.jsx(ou.ItemSlot,{scope:r,value:i,disabled:n,textValue:u,children:E.jsx(ae.div,{role:"option","aria-labelledby":_,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:p,onFocus:te(o.onFocus,()=>f(!0)),onBlur:te(o.onBlur,()=>f(!1)),onClick:te(o.onClick,()=>{S.current!=="mouse"&&m()}),onPointerUp:te(o.onPointerUp,()=>{S.current==="mouse"&&m()}),onPointerDown:te(o.onPointerDown,v=>{S.current=v.pointerType}),onPointerMove:te(o.onPointerMove,v=>{var y;S.current=v.pointerType,n?(y=a.onItemLeave)==null||y.call(a):S.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(o.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=a.onItemLeave)==null||y.call(a))}),onKeyDown:te(o.onKeyDown,v=>{var w;((w=a.searchRef)==null?void 0:w.current)!==""&&v.key===" "||(bI.includes(v.key)&&m(),v.key===" "&&v.preventDefault())})})})})});dC.displayName=Cc;var _o="SelectItemText",fC=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:i,style:n,...s}=e,o=Qi(_o,r),l=Zi(_o,r),a=hC(_o,r),c=RI(_o,r),[u,h]=g.useState(null),d=_e(t,m=>h(m),a.onItemTextChange,m=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,m,a.value,a.disabled)}),f=u==null?void 0:u.textContent,p=g.useMemo(()=>E.jsx("option",{value:a.value,disabled:a.disabled,children:f},a.value),[a.disabled,a.value,f]),{onNativeOptionAdd:_,onNativeOptionRemove:S}=c;return _t(()=>(_(p),()=>S(p)),[_,S,p]),E.jsxs(E.Fragment,{children:[E.jsx(ae.span,{id:a.textId,...s,ref:d}),a.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ps.createPortal(s.children,o.valueNode):null]})});fC.displayName=_o;var pC="SelectItemIndicator",mC=g.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e;return hC(pC,r).isSelected?E.jsx(ae.span,{"aria-hidden":!0,...i,ref:t}):null});mC.displayName=pC;var Lf="SelectScrollUpButton",$I=g.forwardRef((e,t)=>{const r=Zi(Lf,e.__scopeSelect),i=um(Lf,e.__scopeSelect),[n,s]=g.useState(!1),o=_e(t,i.onScrollButtonChange);return _t(()=>{if(r.viewport&&r.isPositioned){let l=function(){const c=a.scrollTop>0;s(c)};const a=r.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?E.jsx(_C,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=r;l&&a&&(l.scrollTop=l.scrollTop-a.offsetHeight)}}):null});$I.displayName=Lf;var Af="SelectScrollDownButton",FI=g.forwardRef((e,t)=>{const r=Zi(Af,e.__scopeSelect),i=um(Af,e.__scopeSelect),[n,s]=g.useState(!1),o=_e(t,i.onScrollButtonChange);return _t(()=>{if(r.viewport&&r.isPositioned){let l=function(){const c=a.scrollHeight-a.clientHeight,u=Math.ceil(a.scrollTop)<c;s(u)};const a=r.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?E.jsx(_C,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=r;l&&a&&(l.scrollTop=l.scrollTop+a.offsetHeight)}}):null});FI.displayName=Af;var _C=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:i,...n}=e,s=Zi("SelectScrollButton",r),o=g.useRef(null),l=lu(r),a=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>a(),[a]),_t(()=>{var u;const c=l().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),E.jsx(ae.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:te(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:te(n.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:te(n.onPointerLeave,()=>{a()})})}),zI="SelectSeparator",gC=g.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e;return E.jsx(ae.div,{"aria-hidden":!0,...i,ref:t})});gC.displayName=zI;var Df="SelectArrow",HI=g.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,n=au(r),s=Qi(Df,r),o=Zi(Df,r);return s.open&&o.position==="popper"?E.jsx(Lw,{...n,...i,ref:t}):null});HI.displayName=Df;var WI="SelectBubbleInput",vC=g.forwardRef(({__scopeSelect:e,value:t,...r},i)=>{const n=g.useRef(null),s=_e(i,n),o=sw(t);return g.useEffect(()=>{const l=n.current;if(!l)return;const a=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(a,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),E.jsx(ae.select,{...r,style:{...z1,...r.style},ref:s,defaultValue:t})});vC.displayName=WI;function yC(e){return e===""||e===void 0}function SC(e){const t=Pt(e),r=g.useRef(""),i=g.useRef(0),n=g.useCallback(o=>{const l=r.current+o;t(l),function a(c){r.current=c,window.clearTimeout(i.current),c!==""&&(i.current=window.setTimeout(()=>a(""),1e3))}(l)},[t]),s=g.useCallback(()=>{r.current="",window.clearTimeout(i.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(i.current),[]),[r,n,s]}function wC(e,t,r){const n=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=VI(e,Math.max(s,0));n.length===1&&(o=o.filter(c=>c!==r));const a=o.find(c=>c.textValue.toLowerCase().startsWith(n.toLowerCase()));return a!==r?a:void 0}function VI(e,t){return e.map((r,i)=>e[(t+i)%e.length])}var jI=Yw,UI=Qw,GI=Jw,KI=eC,qI=tC,YI=rC,XI=oC,QI=aC,ZI=uC,JI=dC,eM=fC,tM=mC,rM=gC,cu="Switch",[iM,q3]=Xi(cu),[nM,sM]=iM(cu),CC=g.forwardRef((e,t)=>{const{__scopeSwitch:r,name:i,checked:n,defaultChecked:s,required:o,disabled:l,value:a="on",onCheckedChange:c,form:u,...h}=e,[d,f]=g.useState(null),p=_e(t,y=>f(y)),_=g.useRef(!1),S=d?u||!!d.closest("form"):!0,[m,v]=ji({prop:n,defaultProp:s??!1,onChange:c,caller:cu});return E.jsxs(nM,{scope:r,checked:m,disabled:l,children:[E.jsx(ae.button,{type:"button",role:"switch","aria-checked":m,"aria-required":o,"data-state":kC(m),"data-disabled":l?"":void 0,disabled:l,value:a,...h,ref:p,onClick:te(e.onClick,y=>{v(w=>!w),S&&(_.current=y.isPropagationStopped(),_.current||y.stopPropagation())})}),S&&E.jsx(xC,{control:d,bubbles:!_.current,name:i,value:a,checked:m,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});CC.displayName=cu;var bC="SwitchThumb",EC=g.forwardRef((e,t)=>{const{__scopeSwitch:r,...i}=e,n=sM(bC,r);return E.jsx(ae.span,{"data-state":kC(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:t})});EC.displayName=bC;var oM="SwitchBubbleInput",xC=g.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:i=!0,...n},s)=>{const o=g.useRef(null),l=_e(o,s),a=sw(r),c=ow(t);return g.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==r&&f){const p=new Event("click",{bubbles:i});f.call(u,r),u.dispatchEvent(p)}},[a,r,i]),E.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:l,style:{...n.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});xC.displayName=oM;function kC(e){return e?"checked":"unchecked"}var lM=CC,aM=EC,RC="Toggle",PC=g.forwardRef((e,t)=>{const{pressed:r,defaultPressed:i,onPressedChange:n,...s}=e,[o,l]=ji({prop:r,onChange:n,defaultProp:i??!1,caller:RC});return E.jsx(ae.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:te(e.onClick,()=>{e.disabled||l(!o)})})});PC.displayName=RC;var Ji="ToggleGroup",[TC,Y3]=Xi(Ji,[Dw]),LC=Dw(),hm=fe.forwardRef((e,t)=>{const{type:r,...i}=e;if(r==="single"){const n=i;return E.jsx(cM,{...n,ref:t})}if(r==="multiple"){const n=i;return E.jsx(uM,{...n,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Ji}\``)});hm.displayName=Ji;var[AC,DC]=TC(Ji),cM=fe.forwardRef((e,t)=>{const{value:r,defaultValue:i,onValueChange:n=()=>{},...s}=e,[o,l]=ji({prop:r,defaultProp:i??"",onChange:n,caller:Ji});return E.jsx(AC,{scope:e.__scopeToggleGroup,type:"single",value:fe.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:fe.useCallback(()=>l(""),[l]),children:E.jsx(NC,{...s,ref:t})})}),uM=fe.forwardRef((e,t)=>{const{value:r,defaultValue:i,onValueChange:n=()=>{},...s}=e,[o,l]=ji({prop:r,defaultProp:i??[],onChange:n,caller:Ji}),a=fe.useCallback(u=>l((h=[])=>[...h,u]),[l]),c=fe.useCallback(u=>l((h=[])=>h.filter(d=>d!==u)),[l]);return E.jsx(AC,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:a,onItemDeactivate:c,children:E.jsx(NC,{...s,ref:t})})});hm.displayName=Ji;var[hM,dM]=TC(Ji),NC=fe.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:i=!1,rovingFocus:n=!0,orientation:s,dir:o,loop:l=!0,...a}=e,c=LC(r),u=Qc(o),h={role:"group",dir:u,...a};return E.jsx(hM,{scope:r,rovingFocus:n,disabled:i,children:n?E.jsx(nI,{asChild:!0,...c,orientation:s,dir:u,loop:l,children:E.jsx(ae.div,{...h,ref:t})}):E.jsx(ae.div,{...h,ref:t})})}),bc="ToggleGroupItem",OC=fe.forwardRef((e,t)=>{const r=DC(bc,e.__scopeToggleGroup),i=dM(bc,e.__scopeToggleGroup),n=LC(e.__scopeToggleGroup),s=r.value.includes(e.value),o=i.disabled||e.disabled,l={...e,pressed:s,disabled:o},a=fe.useRef(null);return i.rovingFocus?E.jsx(sI,{asChild:!0,...n,focusable:!o,active:s,ref:a,children:E.jsx(Ov,{...l,ref:t})}):E.jsx(Ov,{...l,ref:t})});OC.displayName=bc;var Ov=fe.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:i,...n}=e,s=DC(bc,r),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=s.type==="single"?o:void 0;return E.jsx(PC,{...l,...n,ref:t,onPressedChange:a=>{a?s.onItemActivate(i):s.onItemDeactivate(i)}})}),fM=hm,pM=OC,[uu,X3]=Xi("Tooltip",[iu]),dm=iu(),IC="TooltipProvider",mM=700,Iv="tooltip.open",[_M,MC]=uu(IC),BC=e=>{const{__scopeTooltip:t,delayDuration:r=mM,skipDelayDuration:i=300,disableHoverableContent:n=!1,children:s}=e,o=g.useRef(!0),l=g.useRef(!1),a=g.useRef(0);return g.useEffect(()=>{const c=a.current;return()=>window.clearTimeout(c)},[]),E.jsx(_M,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(a.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(c=>{l.current=c},[]),disableHoverableContent:n,children:s})};BC.displayName=IC;var $C="Tooltip",[Q3,hu]=uu($C),Nf="TooltipTrigger",gM=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...i}=e,n=hu(Nf,r),s=MC(Nf,r),o=dm(r),l=g.useRef(null),a=_e(t,l,n.onTriggerChange),c=g.useRef(!1),u=g.useRef(!1),h=g.useCallback(()=>c.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),E.jsx(Pw,{asChild:!0,...o,children:E.jsx(ae.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...i,ref:a,onPointerMove:te(e.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:te(e.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:te(e.onPointerDown,()=>{n.open&&n.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:te(e.onFocus,()=>{c.current||n.onOpen()}),onBlur:te(e.onBlur,n.onClose),onClick:te(e.onClick,n.onClose)})})});gM.displayName=Nf;var vM="TooltipPortal",[Z3,yM]=uu(vM,{forceMount:void 0}),Es="TooltipContent",SM=g.forwardRef((e,t)=>{const r=yM(Es,e.__scopeTooltip),{forceMount:i=r.forceMount,side:n="top",...s}=e,o=hu(Es,e.__scopeTooltip);return E.jsx(Os,{present:i||o.open,children:o.disableHoverableContent?E.jsx(FC,{side:n,...s,ref:t}):E.jsx(wM,{side:n,...s,ref:t})})}),wM=g.forwardRef((e,t)=>{const r=hu(Es,e.__scopeTooltip),i=MC(Es,e.__scopeTooltip),n=g.useRef(null),s=_e(t,n),[o,l]=g.useState(null),{trigger:a,onClose:c}=r,u=n.current,{onPointerInTransitChange:h}=i,d=g.useCallback(()=>{l(null),h(!1)},[h]),f=g.useCallback((p,_)=>{const S=p.currentTarget,m={x:p.clientX,y:p.clientY},v=kM(m,S.getBoundingClientRect()),y=RM(m,v),w=PM(_.getBoundingClientRect()),b=LM([...y,...w]);l(b),h(!0)},[h]);return g.useEffect(()=>()=>d(),[d]),g.useEffect(()=>{if(a&&u){const p=S=>f(S,u),_=S=>f(S,a);return a.addEventListener("pointerleave",p),u.addEventListener("pointerleave",_),()=>{a.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",_)}}},[a,u,f,d]),g.useEffect(()=>{if(o){const p=_=>{const S=_.target,m={x:_.clientX,y:_.clientY},v=(a==null?void 0:a.contains(S))||(u==null?void 0:u.contains(S)),y=!TM(m,o);v?d():y&&(d(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[a,u,o,c,d]),E.jsx(FC,{...e,ref:s})}),[CM,bM]=uu($C,{isInside:!1}),EM=aD("TooltipContent"),FC=g.forwardRef((e,t)=>{const{__scopeTooltip:r,children:i,"aria-label":n,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,a=hu(Es,r),c=dm(r),{onClose:u}=a;return g.useEffect(()=>(document.addEventListener(Iv,u),()=>document.removeEventListener(Iv,u)),[u]),g.useEffect(()=>{if(a.trigger){const h=d=>{const f=d.target;f!=null&&f.contains(a.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[a.trigger,u]),E.jsx(Zp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:E.jsxs(Tw,{"data-state":a.stateAttribute,...c,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(EM,{children:i}),E.jsx(CM,{scope:r,isInside:!0,children:E.jsx(W1,{id:a.contentId,role:"tooltip",children:n||i})})]})})});SM.displayName=Es;var zC="TooltipArrow",xM=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...i}=e,n=dm(r);return bM(zC,r).isInside?null:E.jsx(Lw,{...n,...i,ref:t})});xM.displayName=zC;function kM(e,t){const r=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,i,n,s)){case s:return"left";case n:return"right";case r:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function RM(e,t,r=5){const i=[];switch(t){case"top":i.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":i.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":i.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":i.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return i}function PM(e){const{top:t,right:r,bottom:i,left:n}=e;return[{x:n,y:t},{x:r,y:t},{x:r,y:i},{x:n,y:i}]}function TM(e,t){const{x:r,y:i}=e;let n=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],a=t[o],c=l.x,u=l.y,h=a.x,d=a.y;u>i!=d>i&&r<(h-c)*(i-u)/(d-u)+c&&(n=!n)}return n}function LM(e){const t=e.slice();return t.sort((r,i)=>r.x<i.x?-1:r.x>i.x?1:r.y<i.y?-1:r.y>i.y?1:0),AM(t)}function AM(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const n=e[i];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(n.y-o.y)>=(s.y-o.y)*(n.x-o.x))t.pop();else break}t.push(n)}t.pop();const r=[];for(let i=e.length-1;i>=0;i--){const n=e[i];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(n.y-o.y)>=(s.y-o.y)*(n.x-o.x))r.pop();else break}r.push(n)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var DM=BC,HC={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=n(s,i(l)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)t.call(s,l)&&s[l]&&(o=n(o,l));return o}function n(s,o){return o?s?s+" "+o:s+o:s}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(HC);var NM=HC.exports;const ye=Mf(NM),Ar={asChild:{type:"boolean"}},WC={width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0}},VC={height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0}},fm=["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","lime","mint","sky"],OM=["auto","gray","mauve","slate","sage","olive","sand"],vl={color:{type:"enum",values:fm,default:void 0}},pm={color:{type:"enum",values:fm,default:""}},An={highContrast:{type:"boolean",className:"rt-high-contrast",default:void 0}},IM=["normal","start","end","both"],mm={trim:{type:"enum",className:"rt-r-lt",values:IM,responsive:!0}},MM=["left","center","right"],jC={align:{type:"enum",className:"rt-r-ta",values:MM,responsive:!0}},BM=["wrap","nowrap","pretty","balance"],du={wrap:{type:"enum",className:"rt-r-tw",values:BM,responsive:!0}},fu={truncate:{type:"boolean",className:"rt-truncate"}},$M=["light","regular","medium","bold"],pu={weight:{type:"enum",className:"rt-r-weight",values:$M,responsive:!0}},FM=["h1","h2","h3","h4","h5","h6"],zM=["1","2","3","4","5","6","7","8","9"],HM={as:{type:"enum",values:FM,default:"h1"},...Ar,size:{type:"enum",className:"rt-r-size",values:zM,default:"6",responsive:!0},...pu,...jC,...mm,...fu,...du,...vl,...An},_m=["initial","xs","sm","md","lg","xl"];function UC(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function To(e){return typeof e=="object"&&Object.keys(e).some(t=>_m.includes(t))}function WM({className:e,customProperties:t,...r}){const i=GC({allowArbitraryValues:!0,className:e,...r}),n=VM({customProperties:t,...r});return[i,n]}function GC({allowArbitraryValues:e,value:t,className:r,propValues:i,parseValue:n=s=>s}){const s=[];if(t){if(typeof t=="string"&&i.includes(t))return Mv(r,t,n);if(To(t)){const o=t;for(const l in o){if(!UC(o,l)||!_m.includes(l))continue;const a=o[l];if(a!==void 0){if(i.includes(a)){const c=Mv(r,a,n),u=l==="initial"?c:`${l}:${c}`;s.push(u)}else if(e){const c=l==="initial"?r:`${l}:${r}`;s.push(c)}}}return s.join(" ")}if(e)return r}}function Mv(e,t,r){const i=e?"-":"",n=r(t),s=n==null?void 0:n.startsWith("-"),o=s?"-":"",l=s?n==null?void 0:n.substring(1):n;return`${o}${e}${i}${l}`}function VM({customProperties:e,value:t,propValues:r,parseValue:i=n=>n}){let n={};if(!(!t||typeof t=="string"&&r.includes(t))){if(typeof t=="string"&&(n=Object.fromEntries(e.map(s=>[s,t]))),To(t)){const s=t;for(const o in s){if(!UC(s,o)||!_m.includes(o))continue;const l=s[o];if(!r.includes(l))for(const a of e)n={[o==="initial"?a:`${a}-${o}`]:l,...n}}}for(const s in n){const o=n[s];o!==void 0&&(n[s]=i(o))}return n}}function Bv(...e){let t={};for(const r of e)r&&(t={...t,...r});return Object.keys(t).length?t:void 0}function jM(...e){return Object.assign({},...e)}function xt(e,...t){let r,i;const n={...e},s=jM(...t);for(const o in s){let l=n[o];const a=s[o];if(a.default!==void 0&&l===void 0&&(l=a.default),a.type==="enum"&&![a.default,...a.values].includes(l)&&!To(l)&&(l=a.default),n[o]=l,"className"in a&&a.className){delete n[o];const c="responsive"in a;if(!l||To(l)&&!c)continue;if(To(l)&&(a.default!==void 0&&l.initial===void 0&&(l.initial=a.default),a.type==="enum"&&([a.default,...a.values].includes(l.initial)||(l.initial=a.default))),a.type==="enum"){const u=GC({allowArbitraryValues:!1,value:l,className:a.className,propValues:a.values,parseValue:a.parseValue});r=ye(r,u);continue}if(a.type==="string"||a.type==="enum | string"){const u=a.type==="string"?[]:a.values,[h,d]=WM({className:a.className,customProperties:a.customProperties,propValues:u,parseValue:a.parseValue,value:l});i=Bv(i,d),r=ye(r,h);continue}if(a.type==="boolean"&&l){r=ye(r,a.className);continue}}}return n.className=ye(r,e.className),n.style=Bv(i,e.style),n}const rn=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],rr={m:{type:"enum | string",values:rn,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:rn,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:rn,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:rn,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:rn,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:rn,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:rn,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}},go=g.forwardRef((e,t)=>{const{children:r,className:i,asChild:n,as:s="h1",color:o,...l}=xt(e,HM,rr);return g.createElement(pi,{"data-accent-color":o,...l,ref:t,className:ye("rt-Heading",i)},n?r:g.createElement(s,null,r))});go.displayName="Heading";const UM=["span","div","label","p"],GM=["1","2","3","4","5","6","7","8","9"],KM={as:{type:"enum",values:UM,default:"span"},...Ar,size:{type:"enum",className:"rt-r-size",values:GM,responsive:!0},...pu,...jC,...mm,...fu,...du,...vl,...An},Gt=g.forwardRef((e,t)=>{const{children:r,className:i,asChild:n,as:s="span",color:o,...l}=xt(e,KM,rr);return g.createElement(pi,{"data-accent-color":o,...l,ref:t,className:ye("rt-Text",i)},n?r:g.createElement(s,null,r))});Gt.displayName="Text";function qM(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand";case"gray":return"gray"}}const KC=["none","small","medium","large","full"],mu={radius:{type:"enum",values:KC,default:void 0}},YM=["inherit","light","dark"],XM=["solid","translucent"],QM=["90%","95%","100%","105%","110%"],qt={...Ar,hasBackground:{type:"boolean",default:!0},appearance:{type:"enum",values:YM,default:"inherit"},accentColor:{type:"enum",values:fm,default:"indigo"},grayColor:{type:"enum",values:OM,default:"auto"},panelBackground:{type:"enum",values:XM,default:"translucent"},radius:{type:"enum",values:KC,default:"medium"},scaling:{type:"enum",values:QM,default:"100%"}},$n=()=>{},Ec=g.createContext(void 0);function ZM(){const e=g.useContext(Ec);if(e===void 0)throw new Error("`useThemeContext` must be used within a `Theme`");return e}const gm=g.forwardRef((e,t)=>g.useContext(Ec)===void 0?g.createElement(DM,{delayDuration:200},g.createElement(ED,{dir:"ltr"},g.createElement(qC,{...e,ref:t}))):g.createElement(vm,{...e,ref:t}));gm.displayName="Theme";const qC=g.forwardRef((e,t)=>{const{appearance:r=qt.appearance.default,accentColor:i=qt.accentColor.default,grayColor:n=qt.grayColor.default,panelBackground:s=qt.panelBackground.default,radius:o=qt.radius.default,scaling:l=qt.scaling.default,hasBackground:a=qt.hasBackground.default,...c}=e,[u,h]=g.useState(r);g.useEffect(()=>h(r),[r]);const[d,f]=g.useState(i);g.useEffect(()=>f(i),[i]);const[p,_]=g.useState(n);g.useEffect(()=>_(n),[n]);const[S,m]=g.useState(s);g.useEffect(()=>m(s),[s]);const[v,y]=g.useState(o);g.useEffect(()=>y(o),[o]);const[w,b]=g.useState(l);return g.useEffect(()=>b(l),[l]),g.createElement(vm,{...c,ref:t,isRoot:!0,hasBackground:a,appearance:u,accentColor:d,grayColor:p,panelBackground:S,radius:v,scaling:w,onAppearanceChange:h,onAccentColorChange:f,onGrayColorChange:_,onPanelBackgroundChange:m,onRadiusChange:y,onScalingChange:b})});qC.displayName="ThemeRoot";const vm=g.forwardRef((e,t)=>{const r=g.useContext(Ec),{asChild:i,isRoot:n,hasBackground:s,appearance:o=(r==null?void 0:r.appearance)??qt.appearance.default,accentColor:l=(r==null?void 0:r.accentColor)??qt.accentColor.default,grayColor:a=(r==null?void 0:r.resolvedGrayColor)??qt.grayColor.default,panelBackground:c=(r==null?void 0:r.panelBackground)??qt.panelBackground.default,radius:u=(r==null?void 0:r.radius)??qt.radius.default,scaling:h=(r==null?void 0:r.scaling)??qt.scaling.default,onAppearanceChange:d=$n,onAccentColorChange:f=$n,onGrayColorChange:p=$n,onPanelBackgroundChange:_=$n,onRadiusChange:S=$n,onScalingChange:m=$n,...v}=e,y=i?pi:"div",w=a==="auto"?qM(l):a,b=e.appearance==="light"||e.appearance==="dark",R=s===void 0?n||b:s;return g.createElement(Ec.Provider,{value:g.useMemo(()=>({appearance:o,accentColor:l,grayColor:a,resolvedGrayColor:w,panelBackground:c,radius:u,scaling:h,onAppearanceChange:d,onAccentColorChange:f,onGrayColorChange:p,onPanelBackgroundChange:_,onRadiusChange:S,onScalingChange:m}),[o,l,a,w,c,u,h,d,f,p,_,S,m])},g.createElement(y,{"data-is-root-theme":n?"true":"false","data-accent-color":l,"data-gray-color":w,"data-has-background":R?"true":"false","data-panel-background":c,"data-radius":u,"data-scaling":h,ref:t,...v,className:ye("radix-themes",{light:o==="light",dark:o==="dark"},v.className)}))});vm.displayName="ThemeImpl";function JM(e,t){const{asChild:r,children:i}=e;if(!r)return typeof t=="function"?t(i):t;const n=g.Children.only(i);return g.cloneElement(n,{children:typeof t=="function"?t(n.props.children):t})}const YC=pi,e5=["div","span"],t5=["none","inline","inline-block","block","contents"],r5={as:{type:"enum",values:e5,default:"div"},...Ar,display:{type:"enum",className:"rt-r-display",values:t5,responsive:!0}},nn=["0","1","2","3","4","5","6","7","8","9"],i5={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:nn,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:nn,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:nn,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:nn,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:nn,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:nn,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:nn,responsive:!0}},bh=["visible","hidden","clip","scroll","auto"],n5=["static","relative","absolute","fixed","sticky"],ro=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],s5=["0","1"],o5=["0","1"],_u={...i5,...WC,...VC,position:{type:"enum",className:"rt-r-position",values:n5,responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:ro,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:ro,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:ro,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:ro,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:ro,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:bh,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:bh,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:bh,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:s5,responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:o5,responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0}},XC=g.forwardRef((e,t)=>{const{className:r,asChild:i,as:n="div",...s}=xt(e,r5,_u,rr);return g.createElement(i?YC:n,{...s,ref:t,className:ye("rt-Box",r)})});XC.displayName="Box";const l5=["1","2","3","4"],a5=["classic","solid","soft","surface","outline","ghost"],$v={...Ar,size:{type:"enum",className:"rt-r-size",values:l5,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:a5,default:"solid"},...pm,...An,...mu,loading:{type:"boolean",className:"rt-loading",default:!1}},Eh=["0","1","2","3","4","5","6","7","8","9"],c5={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:Eh,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:Eh,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:Eh,responsive:!0}},u5=["div","span"],h5=["none","inline-flex","flex"],d5=["row","column","row-reverse","column-reverse"],f5=["start","center","end","baseline","stretch"],p5=["start","center","end","between"],m5=["nowrap","wrap","wrap-reverse"],_5={as:{type:"enum",values:u5,default:"div"},...Ar,display:{type:"enum",className:"rt-r-display",values:h5,responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:d5,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:f5,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:p5,parseValue:g5,responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:m5,responsive:!0},...c5};function g5(e){return e==="between"?"space-between":e}const It=g.forwardRef((e,t)=>{const{className:r,asChild:i,as:n="div",...s}=xt(e,_5,_u,rr);return g.createElement(i?YC:n,{...s,ref:t,className:ye("rt-Flex",r)})});It.displayName="Flex";const v5=["1","2","3"],y5={size:{type:"enum",className:"rt-r-size",values:v5,default:"2",responsive:!0},loading:{type:"boolean",default:!0}},QC=g.forwardRef((e,t)=>{const{className:r,children:i,loading:n,...s}=xt(e,y5,rr);if(!n)return i;const o=g.createElement("span",{...s,ref:t,className:ye("rt-Spinner",r)},g.createElement("span",{className:"rt-SpinnerLeaf"}),g.createElement("span",{className:"rt-SpinnerLeaf"}),g.createElement("span",{className:"rt-SpinnerLeaf"}),g.createElement("span",{className:"rt-SpinnerLeaf"}),g.createElement("span",{className:"rt-SpinnerLeaf"}),g.createElement("span",{className:"rt-SpinnerLeaf"}),g.createElement("span",{className:"rt-SpinnerLeaf"}),g.createElement("span",{className:"rt-SpinnerLeaf"}));return i===void 0?o:g.createElement(It,{asChild:!0,position:"relative",align:"center",justify:"center"},g.createElement("span",null,g.createElement("span",{"aria-hidden":!0,style:{display:"contents",visibility:"hidden"},inert:void 0},i),g.createElement(It,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},g.createElement("span",null,o))))});QC.displayName="Spinner";const S5=W1;function w5(e,t){if(e!==void 0)return typeof e=="string"?t(e):Object.fromEntries(Object.entries(e).map(([r,i])=>[r,t(i)]))}function C5(e){switch(e){case"1":return"1";case"2":case"3":return"2";case"4":return"3"}}const ZC=g.forwardRef((e,t)=>{const{size:r=$v.size.default}=e,{className:i,children:n,asChild:s,color:o,radius:l,disabled:a=e.loading,...c}=xt(e,$v,rr),u=s?pi:"button";return g.createElement(u,{"data-disabled":a||void 0,"data-accent-color":o,"data-radius":l,...c,ref:t,className:ye("rt-reset","rt-BaseButton",i),disabled:a},e.loading?g.createElement(g.Fragment,null,g.createElement("span",{style:{display:"contents",visibility:"hidden"},"aria-hidden":!0},n),g.createElement(S5,null,n),g.createElement(It,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},g.createElement("span",null,g.createElement(QC,{size:w5(r,C5)})))):n)});ZC.displayName="BaseButton";const xa=g.forwardRef(({className:e,...t},r)=>g.createElement(ZC,{...t,ref:r,className:ye("rt-Button",e)}));xa.displayName="Button";const b5=["1","2","3","4","5"],E5=["surface","classic","ghost"],x5={...Ar,size:{type:"enum",className:"rt-r-size",values:b5,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:E5,default:"surface"}},Of=g.forwardRef((e,t)=>{const{asChild:r,className:i,...n}=xt(e,x5,rr),s=r?pi:"div";return g.createElement(s,{ref:t,...n,className:ye("rt-reset","rt-BaseCard","rt-Card",i)})});Of.displayName="Card";var JC=ae;JC.dispatchDiscreteCustomEvent=F1;JC.Root=ae;const k5=fe.forwardRef((e,t)=>fe.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},fe.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.75 4.5C0.75 4.08579 1.08579 3.75 1.5 3.75H7.5C7.91421 3.75 8.25 4.08579 8.25 4.5C8.25 4.91421 7.91421 5.25 7.5 5.25H1.5C1.08579 5.25 0.75 4.91421 0.75 4.5Z"})));k5.displayName="ThickDividerHorizontalIcon";const eb=fe.forwardRef((e,t)=>fe.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},fe.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53547 0.62293C8.88226 0.849446 8.97976 1.3142 8.75325 1.66099L4.5083 8.1599C4.38833 8.34356 4.19397 8.4655 3.9764 8.49358C3.75883 8.52167 3.53987 8.45309 3.3772 8.30591L0.616113 5.80777C0.308959 5.52987 0.285246 5.05559 0.563148 4.74844C0.84105 4.44128 1.31533 4.41757 1.62249 4.69547L3.73256 6.60459L7.49741 0.840706C7.72393 0.493916 8.18868 0.396414 8.53547 0.62293Z"})));eb.displayName="ThickCheckIcon";const tb=fe.forwardRef((e,t)=>fe.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},fe.createElement("path",{d:"M0.135232 3.15803C0.324102 2.95657 0.640521 2.94637 0.841971 3.13523L4.5 6.56464L8.158 3.13523C8.3595 2.94637 8.6759 2.95657 8.8648 3.15803C9.0536 3.35949 9.0434 3.67591 8.842 3.86477L4.84197 7.6148C4.64964 7.7951 4.35036 7.7951 4.15803 7.6148L0.158031 3.86477C-0.0434285 3.67591 -0.0536285 3.35949 0.135232 3.15803Z"})));tb.displayName="ChevronDownIcon";const R5=fe.forwardRef((e,t)=>fe.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},fe.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.23826 0.201711C3.54108 -0.0809141 4.01567 -0.0645489 4.29829 0.238264L7.79829 3.98826C8.06724 4.27642 8.06724 4.72359 7.79829 5.01174L4.29829 8.76174C4.01567 9.06455 3.54108 9.08092 3.23826 8.79829C2.93545 8.51567 2.91909 8.04108 3.20171 7.73826L6.22409 4.5L3.20171 1.26174C2.91909 0.958928 2.93545 0.484337 3.23826 0.201711Z"})));R5.displayName="ThickChevronRightIcon";const P5=["1","2","3","4","5","6","7","8","9"],T5=["solid","soft","outline","ghost"],L5={...Ar,size:{type:"enum",className:"rt-r-size",values:P5,responsive:!0},variant:{type:"enum",className:"rt-variant",values:T5,default:"soft"},...pu,...pm,...An,...fu,...du},ka=g.forwardRef((e,t)=>{const{asChild:r,className:i,color:n,...s}=xt(e,L5,rr),o=e.variant==="ghost"?n||void 0:n,l=r?pi:"code";return g.createElement(l,{"data-accent-color":o,...s,ref:t,className:ye("rt-reset","rt-Code",i)})});ka.displayName="Code";const A5=["1","2","3","4"],D5=["none","initial"],N5=["left","center","right"],O5={...Ar,size:{type:"enum",className:"rt-r-size",values:A5,default:"4",responsive:!0},display:{type:"enum",className:"rt-r-display",values:D5,parseValue:I5,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:N5,parseValue:M5,responsive:!0}};function I5(e){return e==="initial"?"flex":e}function M5(e){return e==="left"?"start":e==="right"?"end":e}const Fn=g.forwardRef(({width:e,minWidth:t,maxWidth:r,height:i,minHeight:n,maxHeight:s,...o},l)=>{const{asChild:a,children:c,className:u,...h}=xt(o,O5,_u,rr),{className:d,style:f}=xt({width:e,minWidth:t,maxWidth:r,height:i,minHeight:n,maxHeight:s},WC,VC),p=a?pi:"div";return g.createElement(p,{...h,ref:l,className:ye("rt-Container",u)},JM({asChild:a,children:c},_=>g.createElement("div",{className:ye("rt-ContainerInner",d),style:f},_)))});Fn.displayName="Container";const B5=["1","2","3","4","5","6","7","8","9"],$5=["auto","always","hover","none"],F5={...Ar,size:{type:"enum",className:"rt-r-size",values:B5,responsive:!0},...pu,...mm,...fu,...du,underline:{type:"enum",className:"rt-underline",values:$5,default:"auto"},...pm,...An},rb=g.forwardRef((e,t)=>{const{children:r,className:i,color:n,asChild:s,...o}=xt(e,F5);return g.createElement(Gt,{...o,"data-accent-color":n,ref:t,asChild:!0,className:ye("rt-reset","rt-Link",i)},s?r:g.createElement("a",null,r))});rb.displayName="Link";const z5=["1","2","3"],H5=["surface","classic"],W5={disabled:{type:"boolean",className:"disabled",default:!1},size:{type:"enum",className:"rt-r-size",values:z5,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:H5,default:"surface"},...mu},ib=g.forwardRef((e,t)=>{const{className:r,children:i,radius:n,value:s,defaultValue:o,onValueChange:l,...a}=xt(e,W5,rr),[c,u]=ji({prop:s,onChange:l,defaultProp:o});return g.createElement(fM,{"data-disabled":e.disabled||void 0,"data-radius":n,ref:t,className:ye("rt-SegmentedControlRoot",r),onValueChange:h=>{h&&u(h)},...a,type:"single",value:c,asChild:!1,disabled:!!e.disabled},i,g.createElement("div",{className:"rt-SegmentedControlIndicator"}))});ib.displayName="SegmentedControl.Root";const If=g.forwardRef(({children:e,className:t,...r},i)=>g.createElement(pM,{ref:i,className:ye("rt-reset","rt-SegmentedControlItem",t),...r,disabled:!1,asChild:!1},g.createElement("span",{className:"rt-SegmentedControlItemSeparator"}),g.createElement("span",{className:"rt-SegmentedControlItemLabel"},g.createElement("span",{className:"rt-SegmentedControlItemLabelActive"},e),g.createElement("span",{className:"rt-SegmentedControlItemLabelInactive","aria-hidden":!0},e))));If.displayName="SegmentedControl.Item";const V5=["1","2","3","4"],j5=["none","initial"],U5={...Ar,size:{type:"enum",className:"rt-r-size",values:V5,default:"3",responsive:!0},display:{type:"enum",className:"rt-r-display",values:j5,parseValue:G5,responsive:!0}};function G5(e){return e==="initial"?"block":e}const zn=g.forwardRef((e,t)=>{const{asChild:r,className:i,...n}=xt(e,U5,_u,rr),s=r?pi:"section";return g.createElement(s,{...n,ref:t,className:ye("rt-Section",i)})});zn.displayName="Section";const K5=["1","2","3"],ym={size:{type:"enum",className:"rt-r-size",values:K5,default:"2",responsive:!0}},q5=["classic","surface","soft","ghost"],Y5={variant:{type:"enum",className:"rt-variant",values:q5,default:"surface"},...vl,...mu,placeholder:{type:"string"}},X5=["solid","soft"],Q5={variant:{type:"enum",className:"rt-variant",values:X5,default:"solid"},...vl,...An},Sm=g.createContext({}),nb=e=>{const{children:t,size:r=ym.size.default,...i}=e;return g.createElement(jI,{...i},g.createElement(Sm.Provider,{value:g.useMemo(()=>({size:r}),[r])},t))};nb.displayName="Select.Root";const sb=g.forwardRef((e,t)=>{const r=g.useContext(Sm),{children:i,className:n,color:s,radius:o,placeholder:l,...a}=xt({size:r==null?void 0:r.size,...e},{size:ym.size},Y5,rr);return g.createElement(UI,{asChild:!0},g.createElement("button",{"data-accent-color":s,"data-radius":o,...a,ref:t,className:ye("rt-reset","rt-SelectTrigger",n)},g.createElement("span",{className:"rt-SelectTriggerInner"},g.createElement(GI,{placeholder:l},i)),g.createElement(KI,{asChild:!0},g.createElement(tb,{className:"rt-SelectIcon"}))))});sb.displayName="Select.Trigger";const ob=g.forwardRef((e,t)=>{const r=g.useContext(Sm),{className:i,children:n,color:s,container:o,...l}=xt({size:r==null?void 0:r.size,...e},{size:ym.size},Q5),a=ZM(),c=s||a.accentColor;return g.createElement(qI,{container:o},g.createElement(gm,{asChild:!0},g.createElement(YI,{"data-accent-color":c,sideOffset:4,...l,asChild:!1,ref:t,className:ye({"rt-PopperContent":l.position==="popper"},"rt-SelectContent",i)},g.createElement(vI,{type:"auto",className:"rt-ScrollAreaRoot"},g.createElement(XI,{asChild:!0,className:"rt-SelectViewport"},g.createElement(yI,{className:"rt-ScrollAreaViewport",style:{overflowY:void 0}},n)),g.createElement(SI,{className:"rt-ScrollAreaScrollbar rt-r-size-1",orientation:"vertical"},g.createElement(wI,{className:"rt-ScrollAreaThumb"}))))))});ob.displayName="Select.Content";const lb=g.forwardRef((e,t)=>{const{className:r,children:i,...n}=e;return g.createElement(JI,{...n,asChild:!1,ref:t,className:ye("rt-SelectItem",r)},g.createElement(tM,{className:"rt-SelectItemIndicator"},g.createElement(eb,{className:"rt-SelectItemIndicatorIcon"})),g.createElement(eM,null,i))});lb.displayName="Select.Item";const Z5=g.forwardRef(({className:e,...t},r)=>g.createElement(QI,{...t,asChild:!1,ref:r,className:ye("rt-SelectGroup",e)}));Z5.displayName="Select.Group";const J5=g.forwardRef(({className:e,...t},r)=>g.createElement(ZI,{...t,asChild:!1,ref:r,className:ye("rt-SelectLabel",e)}));J5.displayName="Select.Label";const e3=g.forwardRef(({className:e,...t},r)=>g.createElement(rM,{...t,asChild:!1,ref:r,className:ye("rt-SelectSeparator",e)}));e3.displayName="Select.Separator";const t3=["1","2","3"],r3=["classic","surface","soft"],i3={size:{type:"enum",className:"rt-r-size",values:t3,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:r3,default:"surface"},...vl,...An,...mu},ab=g.forwardRef((e,t)=>{const{className:r,color:i,radius:n,...s}=xt(e,i3,rr);return g.createElement(lM,{"data-accent-color":i,"data-radius":n,...s,asChild:!1,ref:t,className:ye("rt-reset","rt-SwitchRoot",r)},g.createElement(aM,{className:ye("rt-SwitchThumb",{"rt-high-contrast":e.highContrast})}))});ab.displayName="Switch";function cb(e,t){if(e==null)return{};var r={},i=Object.keys(e),n,s;for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}var n3=["color"],s3=g.forwardRef(function(e,t){var r=e.color,i=r===void 0?"currentColor":r,n=cb(e,n3);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),g.createElement("path",{d:"M3 2C2.44772 2 2 2.44772 2 3V12C2 12.5523 2.44772 13 3 13H12C12.5523 13 13 12.5523 13 12V8.5C13 8.22386 12.7761 8 12.5 8C12.2239 8 12 8.22386 12 8.5V12H3V3L6.5 3C6.77614 3 7 2.77614 7 2.5C7 2.22386 6.77614 2 6.5 2H3ZM12.8536 2.14645C12.9015 2.19439 12.9377 2.24964 12.9621 2.30861C12.9861 2.36669 12.9996 2.4303 13 2.497L13 2.5V2.50049V5.5C13 5.77614 12.7761 6 12.5 6C12.2239 6 12 5.77614 12 5.5V3.70711L6.85355 8.85355C6.65829 9.04882 6.34171 9.04882 6.14645 8.85355C5.95118 8.65829 5.95118 8.34171 6.14645 8.14645L11.2929 3H9.5C9.22386 3 9 2.77614 9 2.5C9 2.22386 9.22386 2 9.5 2H12.4999H12.5C12.5678 2 12.6324 2.01349 12.6914 2.03794C12.7504 2.06234 12.8056 2.09851 12.8536 2.14645Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),o3=["color"],l3=g.forwardRef(function(e,t){var r=e.color,i=r===void 0?"currentColor":r,n=cb(e,o3);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),g.createElement("path",{d:"M7.49933 0.25C3.49635 0.25 0.25 3.49593 0.25 7.50024C0.25 10.703 2.32715 13.4206 5.2081 14.3797C5.57084 14.446 5.70302 14.2222 5.70302 14.0299C5.70302 13.8576 5.69679 13.4019 5.69323 12.797C3.67661 13.235 3.25112 11.825 3.25112 11.825C2.92132 10.9874 2.44599 10.7644 2.44599 10.7644C1.78773 10.3149 2.49584 10.3238 2.49584 10.3238C3.22353 10.375 3.60629 11.0711 3.60629 11.0711C4.25298 12.1788 5.30335 11.8588 5.71638 11.6732C5.78225 11.205 5.96962 10.8854 6.17658 10.7043C4.56675 10.5209 2.87415 9.89918 2.87415 7.12104C2.87415 6.32925 3.15677 5.68257 3.62053 5.17563C3.54576 4.99226 3.29697 4.25521 3.69174 3.25691C3.69174 3.25691 4.30015 3.06196 5.68522 3.99973C6.26337 3.83906 6.8838 3.75895 7.50022 3.75583C8.1162 3.75895 8.73619 3.83906 9.31523 3.99973C10.6994 3.06196 11.3069 3.25691 11.3069 3.25691C11.7026 4.25521 11.4538 4.99226 11.3795 5.17563C11.8441 5.68257 12.1245 6.32925 12.1245 7.12104C12.1245 9.9063 10.4292 10.5192 8.81452 10.6985C9.07444 10.9224 9.30633 11.3648 9.30633 12.0413C9.30633 13.0102 9.29742 13.7922 9.29742 14.0299C9.29742 14.2239 9.42828 14.4496 9.79591 14.3788C12.6746 13.4179 14.75 10.7025 14.75 7.50024C14.75 3.49593 11.5036 0.25 7.49933 0.25Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))});const a3="_page_8cp7n_1",c3="_hero_8cp7n_5",u3="_installCode_8cp7n_10",h3="_codeExample_8cp7n_15",d3="_featuresGrid_8cp7n_21",f3="_featureCard_8cp7n_27",p3="_demoCard_8cp7n_31",m3="_demoToolbar_8cp7n_35",_3="_demoContainer_8cp7n_40",g3="_editorLeft_8cp7n_48",v3="_editorRight_8cp7n_52",y3="_terminalContainer_8cp7n_56",S3="_terminal_8cp7n_56",w3="_domRenderer_8cp7n_97",C3="_footer_8cp7n_103",yt={page:a3,hero:c3,installCode:u3,codeExample:h3,featuresGrid:d3,featureCard:f3,demoCard:p3,demoToolbar:m3,demoContainer:_3,editorLeft:g3,editorRight:v3,terminalContainer:y3,terminal:S3,domRenderer:w3,footer:C3},xh=[15,30],kh=[0,30],Fv=15,b3=`import { niftty } from "niftty";

process.stdout.write(
  await niftty({
    code: "let foo = 123;",
    diffWith: "let foo = 456;",
    lang: "tsx",
    theme: "catppuccin-frappe",
    lineNumbers: "both",
  })
);`,E3=[{title:"Syntax Highlighting",description:"Powered by Shiki with support for 200+ languages and any VSCode theme"},{title:"Diff Rendering",description:"Show additions, removals, and intra-line changes with collapsible unchanged regions"},{title:"Streaming Support",description:"Perfect for LLM code generation with live diff preview as code streams in"},{title:"Dual Output",description:"ANSI output for terminals via niftty() or structured tokens via tokenize() for custom rendering"}];function x3(){const[e,t]=g.useState(),[r,i]=g.useState("Loading..."),[n,s]=g.useState("Loading..."),[o,l]=g.useState("catppuccin-macchiato"),[a,c]=g.useState(),[u,h]=g.useState(!0),[d,f]=g.useState("terminal"),[p,_]=g.useState(!1),[S,m]=g.useState(null),v=g.useRef(null);v.current=S;const y=g.useRef({source:"left",time:0}),w=g.useRef(null),b=g.useRef(null),R=g.useRef(null),x=g.useRef();g.useEffect(()=>{let T=!1;return(async()=>{let N=await aA({langs:["tsx","typescript"],themes:[o]});T||c(N)})(),()=>{T=!0}},[o]);const L=(T,N)=>{var D,A;v.current||y.current.source!==N&&y.current.time>Date.now()-500||(y.current={source:N,time:Date.now()},N!=="term"&&((A=x.current)==null||A.terminal.scrollToLine(Math.floor(T*(((D=x.current)==null?void 0:D.terminal.buffer.active.baseY)||0)))),N!=="dom"&&R.current&&(R.current.scrollTop=(R.current.scrollHeight-R.current.clientHeight)*T),N!=="left"&&w.current&&(w.current.scrollTop=(w.current.scrollHeight-w.current.clientHeight)*T),N!=="right"&&b.current&&(b.current.scrollTop=(b.current.scrollHeight-b.current.clientHeight)*T))};return JA(()=>{var T;return(T=x.current)==null?void 0:T.fitAddon.fit()},e,[]),g.useEffect(()=>{if(!e)return;const T=new XR({convertEol:!0,fontFamily:"Google Sans Code",fontSize:12}),N=new Hx;return T.loadAddon(N),T.open(e),T.onScroll(D=>{y.current.source!=="term"&&y.current.time>Date.now()-500||L(D/(T.buffer.active.baseY||1),"term")}),x.current={terminal:T,fitAddon:N},N.fit(),(async()=>{const[D,A]=await Promise.all([fetch("fs/before").then(P=>P.text()),fetch("fs/after").then(P=>P.text())]);i(D),s(A)})(),()=>{x.current=void 0,T.dispose()}},[e]),g.useEffect(()=>{var N;if(!p||!a)return;let T=!1;return(N=x.current)==null||N.terminal.clear(),m(""),(async()=>{let D=0;for(;!T&&D<n.length;){D+=xh[0]+Math.floor(Math.random()*(xh[1]-xh[0]));let A=n.substring(0,D);m(A),await new Promise(P=>{setTimeout(P,kh[0]+Math.floor(Math.random()*(kh[1]-kh[0])))})}_(!1),m(null)})(),()=>{T=!0,m(null)}},[p,a,n]),g.useEffect(()=>{if(!x.current||!a)return;let T=!1,N=x.current.terminal;return(async()=>{if(S!==null){let D=await ov({highlighter:a,code:S,diffWith:r,streaming:Fv,lang:"tsx",theme:o,lineNumbers:!0});if(T)return;N.write("\x1B[H"),N.write(`${(S.length/n.length*100).toFixed(0)}%

`),N.write(D)}else{let D=await ov({highlighter:a,code:n,diffWith:r,lang:"tsx",theme:o,lineNumbers:"both",collapseUnchanged:u?{padding:3,separator:A=>`
 ${A} unchanged 
`}:void 0});if(T)return;y.current={source:"left",time:Date.now()},N.reset(),N.clear(),N.write(D),setTimeout(()=>N.scrollToTop())}})(),()=>{T=!0}},[S,a,o,r,n,u]),E.jsx(gm,{appearance:"dark",accentColor:"iris",grayColor:"slate",radius:"medium",children:E.jsxs("div",{className:yt.page,children:[E.jsx(zn,{size:"3",className:yt.hero,children:E.jsx(Fn,{size:"2",children:E.jsxs(It,{direction:"column",align:"center",gap:"4",children:[E.jsx(go,{size:"9",align:"center",children:"Niftty"}),E.jsx(Gt,{size:"5",color:"gray",align:"center",style:{maxWidth:500},children:"A nifty code syntax highlighter for the terminal, powered by Shiki"}),E.jsx(It,{align:"center",gap:"2",mt:"2",children:E.jsx(ka,{size:"4",className:yt.installCode,children:"npm install niftty"})}),E.jsxs(It,{gap:"3",mt:"2",children:[E.jsx(xa,{asChild:!0,variant:"soft",children:E.jsxs("a",{href:"https://github.com/romannurik/niftty",target:"_blank",rel:"noopener",children:[E.jsx(l3,{})," GitHub"]})}),E.jsx(xa,{asChild:!0,variant:"soft",children:E.jsxs("a",{href:"https://npmjs.com/package/niftty",target:"_blank",rel:"noopener",children:[E.jsx(s3,{})," NPM"]})})]})]})})}),E.jsx(zn,{size:"2",children:E.jsx(Fn,{size:"2",children:E.jsxs(It,{direction:"column",gap:"3",children:[E.jsx(go,{size:"5",align:"center",children:"Quick Start"}),E.jsx(XC,{className:yt.codeExample,children:a?E.jsx(lv,{highlighter:a,code:b3,lang:"typescript",theme:o,lineNumbers:!1}):E.jsx(Gt,{color:"gray",children:"Loading..."})})]})})}),E.jsx(zn,{size:"2",children:E.jsx(Fn,{size:"3",children:E.jsxs(It,{direction:"column",gap:"4",children:[E.jsx(go,{size:"5",align:"center",children:"Features"}),E.jsx("div",{className:yt.featuresGrid,children:E3.map(T=>E.jsx(Of,{className:yt.featureCard,children:E.jsxs(It,{direction:"column",gap:"1",children:[E.jsx(Gt,{weight:"bold",children:T.title}),E.jsx(Gt,{size:"2",color:"gray",children:T.description})]})},T.title))})]})})}),E.jsx(zn,{size:"2",children:E.jsx(Fn,{size:"4",children:E.jsxs(It,{direction:"column",gap:"3",children:[E.jsx(go,{size:"5",align:"center",children:"Interactive Demo"}),E.jsx(Gt,{size:"2",color:"gray",align:"center",children:"Edit the code on either side to see the diff update in real-time"}),E.jsxs(Of,{className:yt.demoCard,children:[E.jsxs(It,{className:yt.demoToolbar,align:"center",gap:"5",p:"3",children:[E.jsxs(nb,{size:"1",value:o,onValueChange:T=>{l(T),c(void 0)},children:[E.jsx(sb,{placeholder:"Theme"}),E.jsx(ob,{children:A1.map(T=>E.jsx(lb,{value:T.id,children:T.displayName},T.id))})]}),E.jsx(It,{align:"center",gap:"2",asChild:!0,children:E.jsxs(Gt,{as:"label",size:"1",children:[E.jsx(ab,{size:"2",checked:u,onCheckedChange:h}),"Collapse common lines"]})}),E.jsx(xa,{size:"1",disabled:p,onClick:()=>_(!0),children:"Stream"}),E.jsx("div",{style:{flex:1}}),E.jsxs(ib,{size:"1",value:d,onValueChange:T=>f(T),children:[E.jsxs(If,{value:"terminal",children:["ANSI via"," ",E.jsx(ka,{color:"gray",variant:"ghost",children:"niftty()"})]}),E.jsxs(If,{value:"dom",children:["DOM via"," ",E.jsx(ka,{color:"gray",variant:"ghost",children:"tokenize()"})]})]})]}),E.jsxs("div",{className:yt.demoContainer,children:[E.jsxs("div",{className:yt.editorLeft,children:[E.jsx(Gt,{size:"1",color:"gray",mb:"1",children:"diffWith (before)"}),E.jsx("textarea",{ref:w,value:r,onScroll:T=>{L(T.currentTarget.scrollTop/(T.currentTarget.scrollHeight-T.currentTarget.clientHeight),"left")},onInput:T=>i(T.currentTarget.value)})]}),E.jsxs("div",{className:yt.terminalContainer,children:[E.jsx(Gt,{size:"1",color:"gray",mb:"1",children:"Output"}),E.jsx("div",{className:yt.terminal,ref:T=>t(T||void 0),style:{display:d==="terminal"?void 0:"none"}}),d==="dom"&&(a?E.jsx(lv,{className:yt.domRenderer,ref:R,onScroll:T=>{L(T.currentTarget.scrollTop/(T.currentTarget.scrollHeight-T.currentTarget.clientHeight),"dom")},highlighter:a,code:S??n,diffWith:r,lang:"tsx",theme:o,lineNumbers:S!==null?!0:"both",streaming:S!==null?Fv:void 0,collapseUnchanged:S!==null?void 0:u?{padding:3,separator:T=>` ${T} unchanged `}:void 0}):E.jsx("div",{className:yt.domRenderer,children:"Loading highlighter..."}))]}),E.jsxs("div",{className:yt.editorRight,children:[E.jsx(Gt,{size:"1",color:"gray",mb:"1",children:"code (after)"}),E.jsx("textarea",{ref:b,value:n,onScroll:T=>{L(T.currentTarget.scrollTop/(T.currentTarget.scrollHeight-T.currentTarget.clientHeight),"right")},onInput:T=>s(T.currentTarget.value)})]})]})]})]})})}),E.jsx(zn,{size:"2",className:yt.footer,children:E.jsx(Fn,{size:"2",children:E.jsxs(It,{direction:"column",align:"center",gap:"2",children:[E.jsxs(Gt,{size:"2",color:"gray",children:["Made by"," ",E.jsx(rb,{href:"https://roman.nurik.net",target:"_blank",rel:"noopener",children:"Roman Nurik"})," ","at Google"]}),E.jsx(Gt,{size:"1",color:"gray",children:"Brought to you with  from New York"})]})})})]})})}Rh.createRoot(document.getElementById("root")).render(E.jsx(fe.StrictMode,{children:E.jsx(x3,{})}));export{C as _};
