var kb=Object.defineProperty;var Rb=(e,t,r)=>t in e?kb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var P=(e,t,r)=>(Rb(e,typeof t!="symbol"?t+"":t,r),r);function Pb(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in e)){const s=Object.getOwnPropertyDescriptor(i,n);s&&Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();function Hf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jv={exports:{}},Ac={},e0={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=Symbol.for("react.element"),Tb=Symbol.for("react.portal"),Ab=Symbol.for("react.fragment"),Lb=Symbol.for("react.strict_mode"),Db=Symbol.for("react.profiler"),Nb=Symbol.for("react.provider"),Ob=Symbol.for("react.context"),Ib=Symbol.for("react.forward_ref"),Mb=Symbol.for("react.suspense"),Bb=Symbol.for("react.memo"),zb=Symbol.for("react.lazy"),Pm=Symbol.iterator;function $b(e){return e===null||typeof e!="object"?null:(e=Pm&&e[Pm]||e["@@iterator"],typeof e=="function"?e:null)}var t0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r0=Object.assign,i0={};function Ps(e,t,r){this.props=e,this.context=t,this.refs=i0,this.updater=r||t0}Ps.prototype.isReactComponent={};Ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function n0(){}n0.prototype=Ps.prototype;function Vf(e,t,r){this.props=e,this.context=t,this.refs=i0,this.updater=r||t0}var Wf=Vf.prototype=new n0;Wf.constructor=Vf;r0(Wf,Ps.prototype);Wf.isPureReactComponent=!0;var Tm=Array.isArray,s0=Object.prototype.hasOwnProperty,Uf={current:null},o0={key:!0,ref:!0,__self:!0,__source:!0};function a0(e,t,r){var i,n={},s=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)s0.call(t,i)&&!o0.hasOwnProperty(i)&&(n[i]=t[i]);var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];n.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)n[i]===void 0&&(n[i]=a[i]);return{$$typeof:aa,type:e,key:s,ref:o,props:n,_owner:Uf.current}}function Fb(e,t){return{$$typeof:aa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jf(e){return typeof e=="object"&&e!==null&&e.$$typeof===aa}function Hb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Am=/\/+/g;function Cu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hb(""+e.key):t.toString(36)}function nl(e,t,r,i,n){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case aa:case Tb:o=!0}}if(o)return o=e,n=n(o),e=i===""?"."+Cu(o,0):i,Tm(n)?(r="",e!=null&&(r=e.replace(Am,"$&/")+"/"),nl(n,t,r,"",function(c){return c})):n!=null&&(jf(n)&&(n=Fb(n,r+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(Am,"$&/")+"/")+e)),t.push(n)),1;if(o=0,i=i===""?".":i+":",Tm(e))for(var a=0;a<e.length;a++){s=e[a];var l=i+Cu(s,a);o+=nl(s,t,r,l,n)}else if(l=$b(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=i+Cu(s,a++),o+=nl(s,t,r,l,n);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function xa(e,t,r){if(e==null)return e;var i=[],n=0;return nl(e,i,"","",function(s){return t.call(r,s,n++)}),i}function Vb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lt={current:null},sl={transition:null},Wb={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:sl,ReactCurrentOwner:Uf};function l0(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:xa,forEach:function(e,t,r){xa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return xa(e,function(){t++}),t},toArray:function(e){return xa(e,function(t){return t})||[]},only:function(e){if(!jf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Ps;ae.Fragment=Ab;ae.Profiler=Db;ae.PureComponent=Vf;ae.StrictMode=Lb;ae.Suspense=Mb;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wb;ae.act=l0;ae.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=r0({},e.props),n=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Uf.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)s0.call(t,l)&&!o0.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:aa,type:e.type,key:n,ref:s,props:i,_owner:o}};ae.createContext=function(e){return e={$$typeof:Ob,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nb,_context:e},e.Consumer=e};ae.createElement=a0;ae.createFactory=function(e){var t=a0.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:Ib,render:e}};ae.isValidElement=jf;ae.lazy=function(e){return{$$typeof:zb,_payload:{_status:-1,_result:e},_init:Vb}};ae.memo=function(e,t){return{$$typeof:Bb,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=sl.transition;sl.transition={};try{e()}finally{sl.transition=t}};ae.unstable_act=l0;ae.useCallback=function(e,t){return Lt.current.useCallback(e,t)};ae.useContext=function(e){return Lt.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return Lt.current.useDeferredValue(e)};ae.useEffect=function(e,t){return Lt.current.useEffect(e,t)};ae.useId=function(){return Lt.current.useId()};ae.useImperativeHandle=function(e,t,r){return Lt.current.useImperativeHandle(e,t,r)};ae.useInsertionEffect=function(e,t){return Lt.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return Lt.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return Lt.current.useMemo(e,t)};ae.useReducer=function(e,t,r){return Lt.current.useReducer(e,t,r)};ae.useRef=function(e){return Lt.current.useRef(e)};ae.useState=function(e){return Lt.current.useState(e)};ae.useSyncExternalStore=function(e,t,r){return Lt.current.useSyncExternalStore(e,t,r)};ae.useTransition=function(){return Lt.current.useTransition()};ae.version="18.3.1";e0.exports=ae;var _=e0.exports;const fe=Hf(_),c0=Pb({__proto__:null,default:fe},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub=_,jb=Symbol.for("react.element"),Gb=Symbol.for("react.fragment"),Kb=Object.prototype.hasOwnProperty,qb=Ub.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yb={key:!0,ref:!0,__self:!0,__source:!0};function u0(e,t,r){var i,n={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)Kb.call(t,i)&&!Yb.hasOwnProperty(i)&&(n[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)n[i]===void 0&&(n[i]=t[i]);return{$$typeof:jb,type:e,key:s,ref:o,props:n,_owner:qb.current}}Ac.Fragment=Gb;Ac.jsx=u0;Ac.jsxs=u0;Jv.exports=Ac;var x=Jv.exports,Nh={},h0={exports:{}},tr={},d0={exports:{}},f0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,$){var U=k.length;k.push($);e:for(;0<U;){var J=U-1>>>1,se=k[J];if(0<n(se,$))k[J]=$,k[U]=se,U=J;else break e}}function r(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var $=k[0],U=k.pop();if(U!==$){k[0]=U;e:for(var J=0,se=k.length,Se=se>>>1;J<Se;){var ce=2*(J+1)-1,Re=k[ce],pe=ce+1,q=k[pe];if(0>n(Re,U))pe<se&&0>n(q,Re)?(k[J]=q,k[pe]=U,J=pe):(k[J]=Re,k[ce]=U,J=ce);else if(pe<se&&0>n(q,U))k[J]=q,k[pe]=U,J=pe;else break e}}return $}function n(k,$){var U=k.sortIndex-$.sortIndex;return U!==0?U:k.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(k){for(var $=r(c);$!==null;){if($.callback===null)i(c);else if($.startTime<=k)i(c),$.sortIndex=$.expirationTime,t(l,$);else break;$=r(c)}}function w(k){if(g=!1,y(k),!p)if(r(l)!==null)p=!0,M(b);else{var $=r(c);$!==null&&W(w,$.startTime-k)}}function b(k,$){p=!1,g&&(g=!1,m(L),L=-1),f=!0;var U=d;try{for(y($),h=r(l);h!==null&&(!(h.expirationTime>$)||k&&!N());){var J=h.callback;if(typeof J=="function"){h.callback=null,d=h.priorityLevel;var se=J(h.expirationTime<=$);$=e.unstable_now(),typeof se=="function"?h.callback=se:h===r(l)&&i(l),y($)}else i(l);h=r(l)}if(h!==null)var Se=!0;else{var ce=r(c);ce!==null&&W(w,ce.startTime-$),Se=!1}return Se}finally{h=null,d=U,f=!1}}var R=!1,E=null,L=-1,A=5,O=-1;function N(){return!(e.unstable_now()-O<A)}function D(){if(E!==null){var k=e.unstable_now();O=k;var $=!0;try{$=E(!0,k)}finally{$?T():(R=!1,E=null)}}else R=!1}var T;if(typeof v=="function")T=function(){v(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,z=I.port2;I.port1.onmessage=D,T=function(){z.postMessage(null)}}else T=function(){S(D,0)};function M(k){E=k,R||(R=!0,T())}function W(k,$){L=S(function(){k(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,M(b))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(k){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var U=d;d=$;try{return k()}finally{d=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,$){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var U=d;d=k;try{return $()}finally{d=U}},e.unstable_scheduleCallback=function(k,$,U){var J=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?J+U:J):U=J,k){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=U+se,k={id:u++,callback:$,priorityLevel:k,startTime:U,expirationTime:se,sortIndex:-1},U>J?(k.sortIndex=U,t(c,k),r(l)===null&&k===r(c)&&(g?(m(L),L=-1):g=!0,W(w,U-J))):(k.sortIndex=se,t(l,k),p||f||(p=!0,M(b))),k},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(k){var $=d;return function(){var U=d;d=$;try{return k.apply(this,arguments)}finally{d=U}}}})(f0);d0.exports=f0;var Xb=d0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb=_,er=Xb;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p0=new Set,No={};function Ln(e,t){ps(e,t),ps(e+"Capture",t)}function ps(e,t){for(No[e]=t,e=0;e<t.length;e++)p0.add(t[e])}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oh=Object.prototype.hasOwnProperty,Zb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lm={},Dm={};function Jb(e){return Oh.call(Dm,e)?!0:Oh.call(Lm,e)?!1:Zb.test(e)?Dm[e]=!0:(Lm[e]=!0,!1)}function ex(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tx(e,t,r,i){if(t===null||typeof t>"u"||ex(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dt(e,t,r,i,n,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new Dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new Dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new Dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new Dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new Dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new Dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new Dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new Dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new Dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gf=/[\-:]([a-z])/g;function Kf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gf,Kf);_t[t]=new Dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gf,Kf);_t[t]=new Dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gf,Kf);_t[t]=new Dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new Dt(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new Dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function qf(e,t,r,i){var n=_t.hasOwnProperty(t)?_t[t]:null;(n!==null?n.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tx(t,r,n,i)&&(r=null),i||n===null?Jb(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,i=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var fi=Qb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ea=Symbol.for("react.element"),Un=Symbol.for("react.portal"),jn=Symbol.for("react.fragment"),Yf=Symbol.for("react.strict_mode"),Ih=Symbol.for("react.profiler"),m0=Symbol.for("react.provider"),_0=Symbol.for("react.context"),Xf=Symbol.for("react.forward_ref"),Mh=Symbol.for("react.suspense"),Bh=Symbol.for("react.suspense_list"),Qf=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),g0=Symbol.for("react.offscreen"),Nm=Symbol.iterator;function Us(e){return e===null||typeof e!="object"?null:(e=Nm&&e[Nm]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,bu;function oo(e){if(bu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);bu=t&&t[1]||""}return`
`+bu+e}var xu=!1;function Eu(e,t){if(!e||xu)return"";xu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var n=c.stack.split(`
`),s=i.stack.split(`
`),o=n.length-1,a=s.length-1;1<=o&&0<=a&&n[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(n[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||n[o]!==s[a]){var l=`
`+n[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{xu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?oo(e):""}function rx(e){switch(e.tag){case 5:return oo(e.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 2:case 15:return e=Eu(e.type,!1),e;case 11:return e=Eu(e.type.render,!1),e;case 1:return e=Eu(e.type,!0),e;default:return""}}function zh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jn:return"Fragment";case Un:return"Portal";case Ih:return"Profiler";case Yf:return"StrictMode";case Mh:return"Suspense";case Bh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _0:return(e.displayName||"Context")+".Consumer";case m0:return(e._context.displayName||"Context")+".Provider";case Xf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qf:return t=e.displayName||null,t!==null?t:zh(e.type)||"Memo";case ki:t=e._payload,e=e._init;try{return zh(e(t))}catch{}}return null}function ix(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zh(t);case 8:return t===Yf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ji(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function v0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nx(e){var t=v0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ka(e){e._valueTracker||(e._valueTracker=nx(e))}function y0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=v0(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function Al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $h(e,t){var r=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Om(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=ji(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function S0(e,t){t=t.checked,t!=null&&qf(e,"checked",t,!1)}function Fh(e,t){S0(e,t);var r=ji(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Hh(e,t.type,ji(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Im(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hh(e,t,r){(t!=="number"||Al(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ao=Array.isArray;function ns(e,t,r,i){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&i&&(e[r].defaultSelected=!0)}else{for(r=""+ji(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,i&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Vh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(ao(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ji(r)}}function w0(e,t){var r=ji(t.value),i=ji(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function Bm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function C0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?C0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ra,b0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ra=Ra||document.createElement("div"),Ra.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ra.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var So={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sx=["Webkit","ms","Moz","O"];Object.keys(So).forEach(function(e){sx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),So[t]=So[e]})});function x0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||So.hasOwnProperty(e)&&So[e]?(""+t).trim():t+"px"}function E0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,n=x0(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,n):e[r]=n}}var ox=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uh(e,t){if(t){if(ox[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function jh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gh=null;function Zf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kh=null,ss=null,os=null;function zm(e){if(e=ua(e)){if(typeof Kh!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Ic(t),Kh(e.stateNode,e.type,t))}}function k0(e){ss?os?os.push(e):os=[e]:ss=e}function R0(){if(ss){var e=ss,t=os;if(os=ss=null,zm(e),t)for(e=0;e<t.length;e++)zm(t[e])}}function P0(e,t){return e(t)}function T0(){}var ku=!1;function A0(e,t,r){if(ku)return e(t,r);ku=!0;try{return P0(e,t,r)}finally{ku=!1,(ss!==null||os!==null)&&(T0(),R0())}}function Io(e,t){var r=e.stateNode;if(r===null)return null;var i=Ic(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var qh=!1;if(ai)try{var js={};Object.defineProperty(js,"passive",{get:function(){qh=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{qh=!1}function ax(e,t,r,i,n,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var wo=!1,Ll=null,Dl=!1,Yh=null,lx={onError:function(e){wo=!0,Ll=e}};function cx(e,t,r,i,n,s,o,a,l){wo=!1,Ll=null,ax.apply(lx,arguments)}function ux(e,t,r,i,n,s,o,a,l){if(cx.apply(this,arguments),wo){if(wo){var c=Ll;wo=!1,Ll=null}else throw Error(F(198));Dl||(Dl=!0,Yh=c)}}function Dn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function L0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $m(e){if(Dn(e)!==e)throw Error(F(188))}function hx(e){var t=e.alternate;if(!t){if(t=Dn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,i=t;;){var n=r.return;if(n===null)break;var s=n.alternate;if(s===null){if(i=n.return,i!==null){r=i;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===r)return $m(n),e;if(s===i)return $m(n),t;s=s.sibling}throw Error(F(188))}if(r.return!==i.return)r=n,i=s;else{for(var o=!1,a=n.child;a;){if(a===r){o=!0,r=n,i=s;break}if(a===i){o=!0,i=n,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,i=n;break}if(a===i){o=!0,i=s,r=n;break}a=a.sibling}if(!o)throw Error(F(189))}}if(r.alternate!==i)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function D0(e){return e=hx(e),e!==null?N0(e):null}function N0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=N0(e);if(t!==null)return t;e=e.sibling}return null}var O0=er.unstable_scheduleCallback,Fm=er.unstable_cancelCallback,dx=er.unstable_shouldYield,fx=er.unstable_requestPaint,He=er.unstable_now,px=er.unstable_getCurrentPriorityLevel,Jf=er.unstable_ImmediatePriority,I0=er.unstable_UserBlockingPriority,Nl=er.unstable_NormalPriority,mx=er.unstable_LowPriority,M0=er.unstable_IdlePriority,Lc=null,Ur=null;function _x(e){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(Lc,e,void 0,(e.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:yx,gx=Math.log,vx=Math.LN2;function yx(e){return e>>>=0,e===0?32:31-(gx(e)/vx|0)|0}var Pa=64,Ta=4194304;function lo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ol(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,n=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~n;a!==0?i=lo(a):(s&=o,s!==0&&(i=lo(s)))}else o=r&~n,o!==0?i=lo(o):s!==0&&(i=lo(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&n)&&(n=i&-i,s=t&-t,n>=s||n===16&&(s&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-Rr(t),n=1<<r,i|=e[r],t&=~n;return i}function Sx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wx(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Rr(s),a=1<<o,l=n[o];l===-1?(!(a&r)||a&i)&&(n[o]=Sx(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Xh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function B0(){var e=Pa;return Pa<<=1,!(Pa&4194240)&&(Pa=64),e}function Ru(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function la(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rr(t),e[t]=r}function Cx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-Rr(r),s=1<<n;t[n]=0,i[n]=-1,e[n]=-1,r&=~s}}function ep(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-Rr(r),n=1<<i;n&t|e[i]&t&&(e[i]|=t),r&=~n}}var me=0;function z0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $0,tp,F0,H0,V0,Qh=!1,Aa=[],Ii=null,Mi=null,Bi=null,Mo=new Map,Bo=new Map,Ti=[],bx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hm(e,t){switch(e){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":Mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(t.pointerId)}}function Gs(e,t,r,i,n,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:s,targetContainers:[n]},t!==null&&(t=ua(t),t!==null&&tp(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function xx(e,t,r,i,n){switch(t){case"focusin":return Ii=Gs(Ii,e,t,r,i,n),!0;case"dragenter":return Mi=Gs(Mi,e,t,r,i,n),!0;case"mouseover":return Bi=Gs(Bi,e,t,r,i,n),!0;case"pointerover":var s=n.pointerId;return Mo.set(s,Gs(Mo.get(s)||null,e,t,r,i,n)),!0;case"gotpointercapture":return s=n.pointerId,Bo.set(s,Gs(Bo.get(s)||null,e,t,r,i,n)),!0}return!1}function W0(e){var t=dn(e.target);if(t!==null){var r=Dn(t);if(r!==null){if(t=r.tag,t===13){if(t=L0(r),t!==null){e.blockedOn=t,V0(e.priority,function(){F0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Gh=i,r.target.dispatchEvent(i),Gh=null}else return t=ua(r),t!==null&&tp(t),e.blockedOn=r,!1;t.shift()}return!0}function Vm(e,t,r){ol(e)&&r.delete(t)}function Ex(){Qh=!1,Ii!==null&&ol(Ii)&&(Ii=null),Mi!==null&&ol(Mi)&&(Mi=null),Bi!==null&&ol(Bi)&&(Bi=null),Mo.forEach(Vm),Bo.forEach(Vm)}function Ks(e,t){e.blockedOn===t&&(e.blockedOn=null,Qh||(Qh=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,Ex)))}function zo(e){function t(n){return Ks(n,e)}if(0<Aa.length){Ks(Aa[0],e);for(var r=1;r<Aa.length;r++){var i=Aa[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Ii!==null&&Ks(Ii,e),Mi!==null&&Ks(Mi,e),Bi!==null&&Ks(Bi,e),Mo.forEach(t),Bo.forEach(t),r=0;r<Ti.length;r++)i=Ti[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Ti.length&&(r=Ti[0],r.blockedOn===null);)W0(r),r.blockedOn===null&&Ti.shift()}var as=fi.ReactCurrentBatchConfig,Il=!0;function kx(e,t,r,i){var n=me,s=as.transition;as.transition=null;try{me=1,rp(e,t,r,i)}finally{me=n,as.transition=s}}function Rx(e,t,r,i){var n=me,s=as.transition;as.transition=null;try{me=4,rp(e,t,r,i)}finally{me=n,as.transition=s}}function rp(e,t,r,i){if(Il){var n=Zh(e,t,r,i);if(n===null)Bu(e,t,i,Ml,r),Hm(e,i);else if(xx(n,e,t,r,i))i.stopPropagation();else if(Hm(e,i),t&4&&-1<bx.indexOf(e)){for(;n!==null;){var s=ua(n);if(s!==null&&$0(s),s=Zh(e,t,r,i),s===null&&Bu(e,t,i,Ml,r),s===n)break;n=s}n!==null&&i.stopPropagation()}else Bu(e,t,i,null,r)}}var Ml=null;function Zh(e,t,r,i){if(Ml=null,e=Zf(i),e=dn(e),e!==null)if(t=Dn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=L0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ml=e,null}function U0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(px()){case Jf:return 1;case I0:return 4;case Nl:case mx:return 16;case M0:return 536870912;default:return 16}default:return 16}}var Li=null,ip=null,al=null;function j0(){if(al)return al;var e,t=ip,r=t.length,i,n="value"in Li?Li.value:Li.textContent,s=n.length;for(e=0;e<r&&t[e]===n[e];e++);var o=r-e;for(i=1;i<=o&&t[r-i]===n[s-i];i++);return al=n.slice(e,1<i?1-i:void 0)}function ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function La(){return!0}function Wm(){return!1}function rr(e){function t(r,i,n,s,o){this._reactName=r,this._targetInst=n,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?La:Wm,this.isPropagationStopped=Wm,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),t}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},np=rr(Ts),ca=Ie({},Ts,{view:0,detail:0}),Px=rr(ca),Pu,Tu,qs,Dc=Ie({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qs&&(qs&&e.type==="mousemove"?(Pu=e.screenX-qs.screenX,Tu=e.screenY-qs.screenY):Tu=Pu=0,qs=e),Pu)},movementY:function(e){return"movementY"in e?e.movementY:Tu}}),Um=rr(Dc),Tx=Ie({},Dc,{dataTransfer:0}),Ax=rr(Tx),Lx=Ie({},ca,{relatedTarget:0}),Au=rr(Lx),Dx=Ie({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Nx=rr(Dx),Ox=Ie({},Ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ix=rr(Ox),Mx=Ie({},Ts,{data:0}),jm=rr(Mx),Bx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$x={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$x[e])?!!t[e]:!1}function sp(){return Fx}var Hx=Ie({},ca,{key:function(e){if(e.key){var t=Bx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sp,charCode:function(e){return e.type==="keypress"?ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vx=rr(Hx),Wx=Ie({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gm=rr(Wx),Ux=Ie({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sp}),jx=rr(Ux),Gx=Ie({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kx=rr(Gx),qx=Ie({},Dc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yx=rr(qx),Xx=[9,13,27,32],op=ai&&"CompositionEvent"in window,Co=null;ai&&"documentMode"in document&&(Co=document.documentMode);var Qx=ai&&"TextEvent"in window&&!Co,G0=ai&&(!op||Co&&8<Co&&11>=Co),Km=String.fromCharCode(32),qm=!1;function K0(e,t){switch(e){case"keyup":return Xx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function Zx(e,t){switch(e){case"compositionend":return q0(t);case"keypress":return t.which!==32?null:(qm=!0,Km);case"textInput":return e=t.data,e===Km&&qm?null:e;default:return null}}function Jx(e,t){if(Gn)return e==="compositionend"||!op&&K0(e,t)?(e=j0(),al=ip=Li=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return G0&&t.locale!=="ko"?null:t.data;default:return null}}var eE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ym(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eE[e.type]:t==="textarea"}function Y0(e,t,r,i){k0(i),t=Bl(t,"onChange"),0<t.length&&(r=new np("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var bo=null,$o=null;function tE(e){oy(e,0)}function Nc(e){var t=Yn(e);if(y0(t))return e}function rE(e,t){if(e==="change")return t}var X0=!1;if(ai){var Lu;if(ai){var Du="oninput"in document;if(!Du){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),Du=typeof Xm.oninput=="function"}Lu=Du}else Lu=!1;X0=Lu&&(!document.documentMode||9<document.documentMode)}function Qm(){bo&&(bo.detachEvent("onpropertychange",Q0),$o=bo=null)}function Q0(e){if(e.propertyName==="value"&&Nc($o)){var t=[];Y0(t,$o,e,Zf(e)),A0(tE,t)}}function iE(e,t,r){e==="focusin"?(Qm(),bo=t,$o=r,bo.attachEvent("onpropertychange",Q0)):e==="focusout"&&Qm()}function nE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nc($o)}function sE(e,t){if(e==="click")return Nc(t)}function oE(e,t){if(e==="input"||e==="change")return Nc(t)}function aE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tr=typeof Object.is=="function"?Object.is:aE;function Fo(e,t){if(Tr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var n=r[i];if(!Oh.call(t,n)||!Tr(e[n],t[n]))return!1}return!0}function Zm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jm(e,t){var r=Zm(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zm(r)}}function Z0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Z0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function J0(){for(var e=window,t=Al();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Al(e.document)}return t}function ap(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lE(e){var t=J0(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Z0(r.ownerDocument.documentElement,r)){if(i!==null&&ap(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,s=Math.min(i.start,n);i=i.end===void 0?s:Math.min(i.end,n),!e.extend&&s>i&&(n=i,i=s,s=n),n=Jm(r,s);var o=Jm(r,i);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cE=ai&&"documentMode"in document&&11>=document.documentMode,Kn=null,Jh=null,xo=null,ed=!1;function e_(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ed||Kn==null||Kn!==Al(i)||(i=Kn,"selectionStart"in i&&ap(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),xo&&Fo(xo,i)||(xo=i,i=Bl(Jh,"onSelect"),0<i.length&&(t=new np("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Kn)))}function Da(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qn={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionend:Da("Transition","TransitionEnd")},Nu={},ey={};ai&&(ey=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function Oc(e){if(Nu[e])return Nu[e];if(!qn[e])return e;var t=qn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ey)return Nu[e]=t[r];return e}var ty=Oc("animationend"),ry=Oc("animationiteration"),iy=Oc("animationstart"),ny=Oc("transitionend"),sy=new Map,t_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(e,t){sy.set(e,t),Ln(t,[e])}for(var Ou=0;Ou<t_.length;Ou++){var Iu=t_[Ou],uE=Iu.toLowerCase(),hE=Iu[0].toUpperCase()+Iu.slice(1);Xi(uE,"on"+hE)}Xi(ty,"onAnimationEnd");Xi(ry,"onAnimationIteration");Xi(iy,"onAnimationStart");Xi("dblclick","onDoubleClick");Xi("focusin","onFocus");Xi("focusout","onBlur");Xi(ny,"onTransitionEnd");ps("onMouseEnter",["mouseout","mouseover"]);ps("onMouseLeave",["mouseout","mouseover"]);ps("onPointerEnter",["pointerout","pointerover"]);ps("onPointerLeave",["pointerout","pointerover"]);Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dE=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function r_(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,ux(i,t,void 0,e),e.currentTarget=null}function oy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],n=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&n.isPropagationStopped())break e;r_(n,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&n.isPropagationStopped())break e;r_(n,a,c),s=l}}}if(Dl)throw e=Yh,Dl=!1,Yh=null,e}function xe(e,t){var r=t[sd];r===void 0&&(r=t[sd]=new Set);var i=e+"__bubble";r.has(i)||(ay(t,e,2,!1),r.add(i))}function Mu(e,t,r){var i=0;t&&(i|=4),ay(r,e,i,t)}var Na="_reactListening"+Math.random().toString(36).slice(2);function Ho(e){if(!e[Na]){e[Na]=!0,p0.forEach(function(r){r!=="selectionchange"&&(dE.has(r)||Mu(r,!1,e),Mu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Na]||(t[Na]=!0,Mu("selectionchange",!1,t))}}function ay(e,t,r,i){switch(U0(t)){case 1:var n=kx;break;case 4:n=Rx;break;default:n=rp}r=n.bind(null,t,r,e),n=void 0,!qh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),i?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Bu(e,t,r,i,n){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===n||a.nodeType===8&&a.parentNode===n)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;o=o.return}for(;a!==null;){if(o=dn(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}A0(function(){var c=s,u=Zf(r),h=[];e:{var d=sy.get(e);if(d!==void 0){var f=np,p=e;switch(e){case"keypress":if(ll(r)===0)break e;case"keydown":case"keyup":f=Vx;break;case"focusin":p="focus",f=Au;break;case"focusout":p="blur",f=Au;break;case"beforeblur":case"afterblur":f=Au;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Ax;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=jx;break;case ty:case ry:case iy:f=Nx;break;case ny:f=Kx;break;case"scroll":f=Px;break;case"wheel":f=Yx;break;case"copy":case"cut":case"paste":f=Ix;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Gm}var g=(t&4)!==0,S=!g&&e==="scroll",m=g?d!==null?d+"Capture":null:d;g=[];for(var v=c,y;v!==null;){y=v;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=Io(v,m),w!=null&&g.push(Vo(v,w,y)))),S)break;v=v.return}0<g.length&&(d=new f(d,p,null,r,u),h.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",d&&r!==Gh&&(p=r.relatedTarget||r.fromElement)&&(dn(p)||p[li]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=c,p=p?dn(p):null,p!==null&&(S=Dn(p),p!==S||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(g=Um,w="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Gm,w="onPointerLeave",m="onPointerEnter",v="pointer"),S=f==null?d:Yn(f),y=p==null?d:Yn(p),d=new g(w,v+"leave",f,r,u),d.target=S,d.relatedTarget=y,w=null,dn(u)===c&&(g=new g(m,v+"enter",p,r,u),g.target=y,g.relatedTarget=S,w=g),S=w,f&&p)t:{for(g=f,m=p,v=0,y=g;y;y=In(y))v++;for(y=0,w=m;w;w=In(w))y++;for(;0<v-y;)g=In(g),v--;for(;0<y-v;)m=In(m),y--;for(;v--;){if(g===m||m!==null&&g===m.alternate)break t;g=In(g),m=In(m)}g=null}else g=null;f!==null&&i_(h,d,f,g,!1),p!==null&&S!==null&&i_(h,S,p,g,!0)}}e:{if(d=c?Yn(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var b=rE;else if(Ym(d))if(X0)b=oE;else{b=nE;var R=iE}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=sE);if(b&&(b=b(e,c))){Y0(h,b,r,u);break e}R&&R(e,d,c),e==="focusout"&&(R=d._wrapperState)&&R.controlled&&d.type==="number"&&Hh(d,"number",d.value)}switch(R=c?Yn(c):window,e){case"focusin":(Ym(R)||R.contentEditable==="true")&&(Kn=R,Jh=c,xo=null);break;case"focusout":xo=Jh=Kn=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,e_(h,r,u);break;case"selectionchange":if(cE)break;case"keydown":case"keyup":e_(h,r,u)}var E;if(op)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Gn?K0(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(G0&&r.locale!=="ko"&&(Gn||L!=="onCompositionStart"?L==="onCompositionEnd"&&Gn&&(E=j0()):(Li=u,ip="value"in Li?Li.value:Li.textContent,Gn=!0)),R=Bl(c,L),0<R.length&&(L=new jm(L,e,null,r,u),h.push({event:L,listeners:R}),E?L.data=E:(E=q0(r),E!==null&&(L.data=E)))),(E=Qx?Zx(e,r):Jx(e,r))&&(c=Bl(c,"onBeforeInput"),0<c.length&&(u=new jm("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=E))}oy(h,t)})}function Vo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bl(e,t){for(var r=t+"Capture",i=[];e!==null;){var n=e,s=n.stateNode;n.tag===5&&s!==null&&(n=s,s=Io(e,r),s!=null&&i.unshift(Vo(e,s,n)),s=Io(e,t),s!=null&&i.push(Vo(e,s,n))),e=e.return}return i}function In(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function i_(e,t,r,i,n){for(var s=t._reactName,o=[];r!==null&&r!==i;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,n?(l=Io(r,s),l!=null&&o.unshift(Vo(r,l,a))):n||(l=Io(r,s),l!=null&&o.push(Vo(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var fE=/\r\n?/g,pE=/\u0000|\uFFFD/g;function n_(e){return(typeof e=="string"?e:""+e).replace(fE,`
`).replace(pE,"")}function Oa(e,t,r){if(t=n_(t),n_(e)!==t&&r)throw Error(F(425))}function zl(){}var td=null,rd=null;function id(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nd=typeof setTimeout=="function"?setTimeout:void 0,mE=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,_E=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(e){return s_.resolve(null).then(e).catch(gE)}:nd;function gE(e){setTimeout(function(){throw e})}function zu(e,t){var r=t,i=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){e.removeChild(n),zo(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=n}while(r);zo(t)}function zi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function o_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var As=Math.random().toString(36).slice(2),Hr="__reactFiber$"+As,Wo="__reactProps$"+As,li="__reactContainer$"+As,sd="__reactEvents$"+As,vE="__reactListeners$"+As,yE="__reactHandles$"+As;function dn(e){var t=e[Hr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[li]||r[Hr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=o_(e);e!==null;){if(r=e[Hr])return r;e=o_(e)}return t}e=r,r=e.parentNode}return null}function ua(e){return e=e[Hr]||e[li],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Ic(e){return e[Wo]||null}var od=[],Xn=-1;function Qi(e){return{current:e}}function ke(e){0>Xn||(e.current=od[Xn],od[Xn]=null,Xn--)}function be(e,t){Xn++,od[Xn]=e.current,e.current=t}var Gi={},Et=Qi(Gi),$t=Qi(!1),wn=Gi;function ms(e,t){var r=e.type.contextTypes;if(!r)return Gi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var n={},s;for(s in r)n[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Ft(e){return e=e.childContextTypes,e!=null}function $l(){ke($t),ke(Et)}function a_(e,t,r){if(Et.current!==Gi)throw Error(F(168));be(Et,t),be($t,r)}function ly(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var n in i)if(!(n in t))throw Error(F(108,ix(e)||"Unknown",n));return Ie({},r,i)}function Fl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gi,wn=Et.current,be(Et,e),be($t,$t.current),!0}function l_(e,t,r){var i=e.stateNode;if(!i)throw Error(F(169));r?(e=ly(e,t,wn),i.__reactInternalMemoizedMergedChildContext=e,ke($t),ke(Et),be(Et,e)):ke($t),be($t,r)}var ii=null,Mc=!1,$u=!1;function cy(e){ii===null?ii=[e]:ii.push(e)}function SE(e){Mc=!0,cy(e)}function Zi(){if(!$u&&ii!==null){$u=!0;var e=0,t=me;try{var r=ii;for(me=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}ii=null,Mc=!1}catch(n){throw ii!==null&&(ii=ii.slice(e+1)),O0(Jf,Zi),n}finally{me=t,$u=!1}}return null}var Qn=[],Zn=0,Hl=null,Vl=0,lr=[],cr=0,Cn=null,ni=1,si="";function ln(e,t){Qn[Zn++]=Vl,Qn[Zn++]=Hl,Hl=e,Vl=t}function uy(e,t,r){lr[cr++]=ni,lr[cr++]=si,lr[cr++]=Cn,Cn=e;var i=ni;e=si;var n=32-Rr(i)-1;i&=~(1<<n),r+=1;var s=32-Rr(t)+n;if(30<s){var o=n-n%5;s=(i&(1<<o)-1).toString(32),i>>=o,n-=o,ni=1<<32-Rr(t)+n|r<<n|i,si=s+e}else ni=1<<s|r<<n|i,si=e}function lp(e){e.return!==null&&(ln(e,1),uy(e,1,0))}function cp(e){for(;e===Hl;)Hl=Qn[--Zn],Qn[Zn]=null,Vl=Qn[--Zn],Qn[Zn]=null;for(;e===Cn;)Cn=lr[--cr],lr[cr]=null,si=lr[--cr],lr[cr]=null,ni=lr[--cr],lr[cr]=null}var Zt=null,Qt=null,Ae=!1,br=null;function hy(e,t){var r=ur(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function c_(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zt=e,Qt=zi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zt=e,Qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cn!==null?{id:ni,overflow:si}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ur(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Zt=e,Qt=null,!0):!1;default:return!1}}function ad(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ld(e){if(Ae){var t=Qt;if(t){var r=t;if(!c_(e,t)){if(ad(e))throw Error(F(418));t=zi(r.nextSibling);var i=Zt;t&&c_(e,t)?hy(i,r):(e.flags=e.flags&-4097|2,Ae=!1,Zt=e)}}else{if(ad(e))throw Error(F(418));e.flags=e.flags&-4097|2,Ae=!1,Zt=e}}}function u_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zt=e}function Ia(e){if(e!==Zt)return!1;if(!Ae)return u_(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!id(e.type,e.memoizedProps)),t&&(t=Qt)){if(ad(e))throw dy(),Error(F(418));for(;t;)hy(e,t),t=zi(t.nextSibling)}if(u_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qt=zi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qt=null}}else Qt=Zt?zi(e.stateNode.nextSibling):null;return!0}function dy(){for(var e=Qt;e;)e=zi(e.nextSibling)}function _s(){Qt=Zt=null,Ae=!1}function up(e){br===null?br=[e]:br.push(e)}var wE=fi.ReactCurrentBatchConfig;function Ys(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var i=r.stateNode}if(!i)throw Error(F(147,e));var n=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=n.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function Ma(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function h_(e){var t=e._init;return t(e._payload)}function fy(e){function t(m,v){if(e){var y=m.deletions;y===null?(m.deletions=[v],m.flags|=16):y.push(v)}}function r(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function i(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function n(m,v){return m=Vi(m,v),m.index=0,m.sibling=null,m}function s(m,v,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<v?(m.flags|=2,v):y):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,v,y,w){return v===null||v.tag!==6?(v=Gu(y,m.mode,w),v.return=m,v):(v=n(v,y),v.return=m,v)}function l(m,v,y,w){var b=y.type;return b===jn?u(m,v,y.props.children,w,y.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ki&&h_(b)===v.type)?(w=n(v,y.props),w.ref=Ys(m,v,y),w.return=m,w):(w=ml(y.type,y.key,y.props,null,m.mode,w),w.ref=Ys(m,v,y),w.return=m,w)}function c(m,v,y,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=Ku(y,m.mode,w),v.return=m,v):(v=n(v,y.children||[]),v.return=m,v)}function u(m,v,y,w,b){return v===null||v.tag!==7?(v=yn(y,m.mode,w,b),v.return=m,v):(v=n(v,y),v.return=m,v)}function h(m,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Gu(""+v,m.mode,y),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ea:return y=ml(v.type,v.key,v.props,null,m.mode,y),y.ref=Ys(m,null,v),y.return=m,y;case Un:return v=Ku(v,m.mode,y),v.return=m,v;case ki:var w=v._init;return h(m,w(v._payload),y)}if(ao(v)||Us(v))return v=yn(v,m.mode,y,null),v.return=m,v;Ma(m,v)}return null}function d(m,v,y,w){var b=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:a(m,v,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ea:return y.key===b?l(m,v,y,w):null;case Un:return y.key===b?c(m,v,y,w):null;case ki:return b=y._init,d(m,v,b(y._payload),w)}if(ao(y)||Us(y))return b!==null?null:u(m,v,y,w,null);Ma(m,y)}return null}function f(m,v,y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,a(v,m,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ea:return m=m.get(w.key===null?y:w.key)||null,l(v,m,w,b);case Un:return m=m.get(w.key===null?y:w.key)||null,c(v,m,w,b);case ki:var R=w._init;return f(m,v,y,R(w._payload),b)}if(ao(w)||Us(w))return m=m.get(y)||null,u(v,m,w,b,null);Ma(v,w)}return null}function p(m,v,y,w){for(var b=null,R=null,E=v,L=v=0,A=null;E!==null&&L<y.length;L++){E.index>L?(A=E,E=null):A=E.sibling;var O=d(m,E,y[L],w);if(O===null){E===null&&(E=A);break}e&&E&&O.alternate===null&&t(m,E),v=s(O,v,L),R===null?b=O:R.sibling=O,R=O,E=A}if(L===y.length)return r(m,E),Ae&&ln(m,L),b;if(E===null){for(;L<y.length;L++)E=h(m,y[L],w),E!==null&&(v=s(E,v,L),R===null?b=E:R.sibling=E,R=E);return Ae&&ln(m,L),b}for(E=i(m,E);L<y.length;L++)A=f(E,m,L,y[L],w),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?L:A.key),v=s(A,v,L),R===null?b=A:R.sibling=A,R=A);return e&&E.forEach(function(N){return t(m,N)}),Ae&&ln(m,L),b}function g(m,v,y,w){var b=Us(y);if(typeof b!="function")throw Error(F(150));if(y=b.call(y),y==null)throw Error(F(151));for(var R=b=null,E=v,L=v=0,A=null,O=y.next();E!==null&&!O.done;L++,O=y.next()){E.index>L?(A=E,E=null):A=E.sibling;var N=d(m,E,O.value,w);if(N===null){E===null&&(E=A);break}e&&E&&N.alternate===null&&t(m,E),v=s(N,v,L),R===null?b=N:R.sibling=N,R=N,E=A}if(O.done)return r(m,E),Ae&&ln(m,L),b;if(E===null){for(;!O.done;L++,O=y.next())O=h(m,O.value,w),O!==null&&(v=s(O,v,L),R===null?b=O:R.sibling=O,R=O);return Ae&&ln(m,L),b}for(E=i(m,E);!O.done;L++,O=y.next())O=f(E,m,L,O.value,w),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?L:O.key),v=s(O,v,L),R===null?b=O:R.sibling=O,R=O);return e&&E.forEach(function(D){return t(m,D)}),Ae&&ln(m,L),b}function S(m,v,y,w){if(typeof y=="object"&&y!==null&&y.type===jn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ea:e:{for(var b=y.key,R=v;R!==null;){if(R.key===b){if(b=y.type,b===jn){if(R.tag===7){r(m,R.sibling),v=n(R,y.props.children),v.return=m,m=v;break e}}else if(R.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ki&&h_(b)===R.type){r(m,R.sibling),v=n(R,y.props),v.ref=Ys(m,R,y),v.return=m,m=v;break e}r(m,R);break}else t(m,R);R=R.sibling}y.type===jn?(v=yn(y.props.children,m.mode,w,y.key),v.return=m,m=v):(w=ml(y.type,y.key,y.props,null,m.mode,w),w.ref=Ys(m,v,y),w.return=m,m=w)}return o(m);case Un:e:{for(R=y.key;v!==null;){if(v.key===R)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){r(m,v.sibling),v=n(v,y.children||[]),v.return=m,m=v;break e}else{r(m,v);break}else t(m,v);v=v.sibling}v=Ku(y,m.mode,w),v.return=m,m=v}return o(m);case ki:return R=y._init,S(m,v,R(y._payload),w)}if(ao(y))return p(m,v,y,w);if(Us(y))return g(m,v,y,w);Ma(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(r(m,v.sibling),v=n(v,y),v.return=m,m=v):(r(m,v),v=Gu(y,m.mode,w),v.return=m,m=v),o(m)):r(m,v)}return S}var gs=fy(!0),py=fy(!1),Wl=Qi(null),Ul=null,Jn=null,hp=null;function dp(){hp=Jn=Ul=null}function fp(e){var t=Wl.current;ke(Wl),e._currentValue=t}function cd(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function ls(e,t){Ul=e,hp=Jn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zt=!0),e.firstContext=null)}function pr(e){var t=e._currentValue;if(hp!==e)if(e={context:e,memoizedValue:t,next:null},Jn===null){if(Ul===null)throw Error(F(308));Jn=e,Ul.dependencies={lanes:0,firstContext:e}}else Jn=Jn.next=e;return t}var fn=null;function pp(e){fn===null?fn=[e]:fn.push(e)}function my(e,t,r,i){var n=t.interleaved;return n===null?(r.next=r,pp(t)):(r.next=n.next,n.next=r),t.interleaved=r,ci(e,i)}function ci(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ri=!1;function mp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _y(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $i(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,he&2){var n=i.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),i.pending=t,ci(e,r)}return n=i.interleaved,n===null?(t.next=t,pp(i)):(t.next=n.next,n.next=t),i.interleaved=t,ci(e,r)}function cl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,ep(e,r)}}function d_(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var n=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?n=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?n=s=t:s=s.next=t}else n=s=t;r={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function jl(e,t,r,i){var n=e.updateQueue;Ri=!1;var s=n.firstBaseUpdate,o=n.lastBaseUpdate,a=n.shared.pending;if(a!==null){n.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=n.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Ie({},h,d);break e;case 2:Ri=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=n.effects,d===null?n.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=n.shared.pending,a===null)break;d=a,a=d.next,d.next=null,n.lastBaseUpdate=d,n.shared.pending=null}}while(1);if(u===null&&(l=h),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do o|=n.lane,n=n.next;while(n!==t)}else s===null&&(n.shared.lanes=0);xn|=o,e.lanes=o,e.memoizedState=h}}function f_(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],n=i.callback;if(n!==null){if(i.callback=null,i=r,typeof n!="function")throw Error(F(191,n));n.call(i)}}}var ha={},jr=Qi(ha),Uo=Qi(ha),jo=Qi(ha);function pn(e){if(e===ha)throw Error(F(174));return e}function _p(e,t){switch(be(jo,t),be(Uo,e),be(jr,ha),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wh(t,e)}ke(jr),be(jr,t)}function vs(){ke(jr),ke(Uo),ke(jo)}function gy(e){pn(jo.current);var t=pn(jr.current),r=Wh(t,e.type);t!==r&&(be(Uo,e),be(jr,r))}function gp(e){Uo.current===e&&(ke(jr),ke(Uo))}var Ne=Qi(0);function Gl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fu=[];function vp(){for(var e=0;e<Fu.length;e++)Fu[e]._workInProgressVersionPrimary=null;Fu.length=0}var ul=fi.ReactCurrentDispatcher,Hu=fi.ReactCurrentBatchConfig,bn=0,Oe=null,Ye=null,nt=null,Kl=!1,Eo=!1,Go=0,CE=0;function vt(){throw Error(F(321))}function yp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Tr(e[r],t[r]))return!1;return!0}function Sp(e,t,r,i,n,s){if(bn=s,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ul.current=e===null||e.memoizedState===null?kE:RE,e=r(i,n),Eo){s=0;do{if(Eo=!1,Go=0,25<=s)throw Error(F(301));s+=1,nt=Ye=null,t.updateQueue=null,ul.current=PE,e=r(i,n)}while(Eo)}if(ul.current=ql,t=Ye!==null&&Ye.next!==null,bn=0,nt=Ye=Oe=null,Kl=!1,t)throw Error(F(300));return e}function wp(){var e=Go!==0;return Go=0,e}function $r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Oe.memoizedState=nt=e:nt=nt.next=e,nt}function mr(){if(Ye===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=nt===null?Oe.memoizedState:nt.next;if(t!==null)nt=t,Ye=e;else{if(e===null)throw Error(F(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},nt===null?Oe.memoizedState=nt=e:nt=nt.next=e}return nt}function Ko(e,t){return typeof t=="function"?t(e):t}function Vu(e){var t=mr(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var i=Ye,n=i.baseQueue,s=r.pending;if(s!==null){if(n!==null){var o=n.next;n.next=s.next,s.next=o}i.baseQueue=n=s,r.pending=null}if(n!==null){s=n.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((bn&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Oe.lanes|=u,xn|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Tr(i,t.memoizedState)||(zt=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,r.lastRenderedState=i}if(e=r.interleaved,e!==null){n=e;do s=n.lane,Oe.lanes|=s,xn|=s,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wu(e){var t=mr(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var i=r.dispatch,n=r.pending,s=t.memoizedState;if(n!==null){r.pending=null;var o=n=n.next;do s=e(s,o.action),o=o.next;while(o!==n);Tr(s,t.memoizedState)||(zt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,i]}function vy(){}function yy(e,t){var r=Oe,i=mr(),n=t(),s=!Tr(i.memoizedState,n);if(s&&(i.memoizedState=n,zt=!0),i=i.queue,Cp(Cy.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||nt!==null&&nt.memoizedState.tag&1){if(r.flags|=2048,qo(9,wy.bind(null,r,i,n,t),void 0,null),lt===null)throw Error(F(349));bn&30||Sy(r,t,n)}return n}function Sy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function wy(e,t,r,i){t.value=r,t.getSnapshot=i,by(t)&&xy(e)}function Cy(e,t,r){return r(function(){by(t)&&xy(e)})}function by(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Tr(e,r)}catch{return!0}}function xy(e){var t=ci(e,1);t!==null&&Pr(t,e,1,-1)}function p_(e){var t=$r();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:e},t.queue=e,e=e.dispatch=EE.bind(null,Oe,e),[t.memoizedState,e]}function qo(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Ey(){return mr().memoizedState}function hl(e,t,r,i){var n=$r();Oe.flags|=e,n.memoizedState=qo(1|t,r,void 0,i===void 0?null:i)}function Bc(e,t,r,i){var n=mr();i=i===void 0?null:i;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,i!==null&&yp(i,o.deps)){n.memoizedState=qo(t,r,s,i);return}}Oe.flags|=e,n.memoizedState=qo(1|t,r,s,i)}function m_(e,t){return hl(8390656,8,e,t)}function Cp(e,t){return Bc(2048,8,e,t)}function ky(e,t){return Bc(4,2,e,t)}function Ry(e,t){return Bc(4,4,e,t)}function Py(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ty(e,t,r){return r=r!=null?r.concat([e]):null,Bc(4,4,Py.bind(null,t,e),r)}function bp(){}function Ay(e,t){var r=mr();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&yp(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Ly(e,t){var r=mr();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&yp(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function Dy(e,t,r){return bn&21?(Tr(r,t)||(r=B0(),Oe.lanes|=r,xn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zt=!0),e.memoizedState=r)}function bE(e,t){var r=me;me=r!==0&&4>r?r:4,e(!0);var i=Hu.transition;Hu.transition={};try{e(!1),t()}finally{me=r,Hu.transition=i}}function Ny(){return mr().memoizedState}function xE(e,t,r){var i=Hi(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Oy(e))Iy(t,r);else if(r=my(e,t,r,i),r!==null){var n=At();Pr(r,e,i,n),My(r,t,i)}}function EE(e,t,r){var i=Hi(e),n={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Oy(e))Iy(t,n);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(n.hasEagerState=!0,n.eagerState=a,Tr(a,o)){var l=t.interleaved;l===null?(n.next=n,pp(t)):(n.next=l.next,l.next=n),t.interleaved=n;return}}catch{}finally{}r=my(e,t,n,i),r!==null&&(n=At(),Pr(r,e,i,n),My(r,t,i))}}function Oy(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function Iy(e,t){Eo=Kl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function My(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,ep(e,r)}}var ql={readContext:pr,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},kE={readContext:pr,useCallback:function(e,t){return $r().memoizedState=[e,t===void 0?null:t],e},useContext:pr,useEffect:m_,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,hl(4194308,4,Py.bind(null,t,e),r)},useLayoutEffect:function(e,t){return hl(4194308,4,e,t)},useInsertionEffect:function(e,t){return hl(4,2,e,t)},useMemo:function(e,t){var r=$r();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=$r();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=xE.bind(null,Oe,e),[i.memoizedState,e]},useRef:function(e){var t=$r();return e={current:e},t.memoizedState=e},useState:p_,useDebugValue:bp,useDeferredValue:function(e){return $r().memoizedState=e},useTransition:function(){var e=p_(!1),t=e[0];return e=bE.bind(null,e[1]),$r().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Oe,n=$r();if(Ae){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),lt===null)throw Error(F(349));bn&30||Sy(i,t,r)}n.memoizedState=r;var s={value:r,getSnapshot:t};return n.queue=s,m_(Cy.bind(null,i,s,e),[e]),i.flags|=2048,qo(9,wy.bind(null,i,s,r,t),void 0,null),r},useId:function(){var e=$r(),t=lt.identifierPrefix;if(Ae){var r=si,i=ni;r=(i&~(1<<32-Rr(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Go++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=CE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},RE={readContext:pr,useCallback:Ay,useContext:pr,useEffect:Cp,useImperativeHandle:Ty,useInsertionEffect:ky,useLayoutEffect:Ry,useMemo:Ly,useReducer:Vu,useRef:Ey,useState:function(){return Vu(Ko)},useDebugValue:bp,useDeferredValue:function(e){var t=mr();return Dy(t,Ye.memoizedState,e)},useTransition:function(){var e=Vu(Ko)[0],t=mr().memoizedState;return[e,t]},useMutableSource:vy,useSyncExternalStore:yy,useId:Ny,unstable_isNewReconciler:!1},PE={readContext:pr,useCallback:Ay,useContext:pr,useEffect:Cp,useImperativeHandle:Ty,useInsertionEffect:ky,useLayoutEffect:Ry,useMemo:Ly,useReducer:Wu,useRef:Ey,useState:function(){return Wu(Ko)},useDebugValue:bp,useDeferredValue:function(e){var t=mr();return Ye===null?t.memoizedState=e:Dy(t,Ye.memoizedState,e)},useTransition:function(){var e=Wu(Ko)[0],t=mr().memoizedState;return[e,t]},useMutableSource:vy,useSyncExternalStore:yy,useId:Ny,unstable_isNewReconciler:!1};function wr(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ud(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:Ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var zc={isMounted:function(e){return(e=e._reactInternals)?Dn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=At(),n=Hi(e),s=oi(i,n);s.payload=t,r!=null&&(s.callback=r),t=$i(e,s,n),t!==null&&(Pr(t,e,n,i),cl(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=At(),n=Hi(e),s=oi(i,n);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=$i(e,s,n),t!==null&&(Pr(t,e,n,i),cl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=At(),i=Hi(e),n=oi(r,i);n.tag=2,t!=null&&(n.callback=t),t=$i(e,n,i),t!==null&&(Pr(t,e,i,r),cl(t,e,i))}};function __(e,t,r,i,n,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,o):t.prototype&&t.prototype.isPureReactComponent?!Fo(r,i)||!Fo(n,s):!0}function By(e,t,r){var i=!1,n=Gi,s=t.contextType;return typeof s=="object"&&s!==null?s=pr(s):(n=Ft(t)?wn:Et.current,i=t.contextTypes,s=(i=i!=null)?ms(e,n):Gi),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zc,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),t}function g_(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&zc.enqueueReplaceState(t,t.state,null)}function hd(e,t,r,i){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},mp(e);var s=t.contextType;typeof s=="object"&&s!==null?n.context=pr(s):(s=Ft(t)?wn:Et.current,n.context=ms(e,s)),n.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ud(e,t,s,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&zc.enqueueReplaceState(n,n.state,null),jl(e,r,n,i),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function ys(e,t){try{var r="",i=t;do r+=rx(i),i=i.return;while(i);var n=r}catch(s){n=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:n,digest:null}}function Uu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function dd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var TE=typeof WeakMap=="function"?WeakMap:Map;function zy(e,t,r){r=oi(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Xl||(Xl=!0,Cd=i),dd(e,t)},r}function $y(e,t,r){r=oi(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var n=t.value;r.payload=function(){return i(n)},r.callback=function(){dd(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){dd(e,t),typeof i!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function v_(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new TE;var n=new Set;i.set(t,n)}else n=i.get(t),n===void 0&&(n=new Set,i.set(t,n));n.has(r)||(n.add(r),e=WE.bind(null,e,t,r),t.then(e,e))}function y_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function S_(e,t,r,i,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=oi(-1,1),t.tag=2,$i(r,t,1))),r.lanes|=1),e)}var AE=fi.ReactCurrentOwner,zt=!1;function Pt(e,t,r,i){t.child=e===null?py(t,null,r,i):gs(t,e.child,r,i)}function w_(e,t,r,i,n){r=r.render;var s=t.ref;return ls(t,n),i=Sp(e,t,r,i,s,n),r=wp(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,ui(e,t,n)):(Ae&&r&&lp(t),t.flags|=1,Pt(e,t,i,n),t.child)}function C_(e,t,r,i,n){if(e===null){var s=r.type;return typeof s=="function"&&!Lp(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Fy(e,t,s,i,n)):(e=ml(r.type,null,i,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&n)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Fo,r(o,i)&&e.ref===t.ref)return ui(e,t,n)}return t.flags|=1,e=Vi(s,i),e.ref=t.ref,e.return=t,t.child=e}function Fy(e,t,r,i,n){if(e!==null){var s=e.memoizedProps;if(Fo(s,i)&&e.ref===t.ref)if(zt=!1,t.pendingProps=i=s,(e.lanes&n)!==0)e.flags&131072&&(zt=!0);else return t.lanes=e.lanes,ui(e,t,n)}return fd(e,t,r,i,n)}function Hy(e,t,r){var i=t.pendingProps,n=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(ts,Kt),Kt|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(ts,Kt),Kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:r,be(ts,Kt),Kt|=i}else s!==null?(i=s.baseLanes|r,t.memoizedState=null):i=r,be(ts,Kt),Kt|=i;return Pt(e,t,n,r),t.child}function Vy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function fd(e,t,r,i,n){var s=Ft(r)?wn:Et.current;return s=ms(t,s),ls(t,n),r=Sp(e,t,r,i,s,n),i=wp(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,ui(e,t,n)):(Ae&&i&&lp(t),t.flags|=1,Pt(e,t,r,n),t.child)}function b_(e,t,r,i,n){if(Ft(r)){var s=!0;Fl(t)}else s=!1;if(ls(t,n),t.stateNode===null)dl(e,t),By(t,r,i),hd(t,r,i,n),i=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=pr(c):(c=Ft(r)?wn:Et.current,c=ms(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&g_(t,o,i,c),Ri=!1;var d=t.memoizedState;o.state=d,jl(t,i,o,n),l=t.memoizedState,a!==i||d!==l||$t.current||Ri?(typeof u=="function"&&(ud(t,r,u,i),l=t.memoizedState),(a=Ri||__(t,r,a,i,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,_y(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:wr(t.type,a),o.props=c,h=t.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=pr(l):(l=Ft(r)?wn:Et.current,l=ms(t,l));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&g_(t,o,i,l),Ri=!1,d=t.memoizedState,o.state=d,jl(t,i,o,n);var p=t.memoizedState;a!==h||d!==p||$t.current||Ri?(typeof f=="function"&&(ud(t,r,f,i),p=t.memoizedState),(c=Ri||__(t,r,c,i,d,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return pd(e,t,r,i,s,n)}function pd(e,t,r,i,n,s){Vy(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return n&&l_(t,r,!1),ui(e,t,s);i=t.stateNode,AE.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=gs(t,e.child,null,s),t.child=gs(t,null,a,s)):Pt(e,t,a,s),t.memoizedState=i.state,n&&l_(t,r,!0),t.child}function Wy(e){var t=e.stateNode;t.pendingContext?a_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&a_(e,t.context,!1),_p(e,t.containerInfo)}function x_(e,t,r,i,n){return _s(),up(n),t.flags|=256,Pt(e,t,r,i),t.child}var md={dehydrated:null,treeContext:null,retryLane:0};function _d(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uy(e,t,r){var i=t.pendingProps,n=Ne.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(n&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),be(Ne,n&1),e===null)return ld(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hc(o,i,0,null),e=yn(e,i,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=_d(r),t.memoizedState=md,e):xp(t,o));if(n=e.memoizedState,n!==null&&(a=n.dehydrated,a!==null))return LE(e,t,o,i,a,n,r);if(s){s=i.fallback,o=t.mode,n=e.child,a=n.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&t.child!==n?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=Vi(n,l),i.subtreeFlags=n.subtreeFlags&14680064),a!==null?s=Vi(a,s):(s=yn(s,o,r,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o=o===null?_d(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=md,i}return s=e.child,e=s.sibling,i=Vi(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function xp(e,t){return t=Hc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ba(e,t,r,i){return i!==null&&up(i),gs(t,e.child,null,r),e=xp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LE(e,t,r,i,n,s,o){if(r)return t.flags&256?(t.flags&=-257,i=Uu(Error(F(422))),Ba(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,n=t.mode,i=Hc({mode:"visible",children:i.children},n,0,null),s=yn(s,n,o,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&gs(t,e.child,null,o),t.child.memoizedState=_d(o),t.memoizedState=md,s);if(!(t.mode&1))return Ba(e,t,o,null);if(n.data==="$!"){if(i=n.nextSibling&&n.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(F(419)),i=Uu(s,i,void 0),Ba(e,t,o,i)}if(a=(o&e.childLanes)!==0,zt||a){if(i=lt,i!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(i.suspendedLanes|o)?0:n,n!==0&&n!==s.retryLane&&(s.retryLane=n,ci(e,n),Pr(i,e,n,-1))}return Ap(),i=Uu(Error(F(421))),Ba(e,t,o,i)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=UE.bind(null,e),n._reactRetry=t,null):(e=s.treeContext,Qt=zi(n.nextSibling),Zt=t,Ae=!0,br=null,e!==null&&(lr[cr++]=ni,lr[cr++]=si,lr[cr++]=Cn,ni=e.id,si=e.overflow,Cn=t),t=xp(t,i.children),t.flags|=4096,t)}function E_(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),cd(e.return,t,r)}function ju(e,t,r,i,n){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=r,s.tailMode=n)}function jy(e,t,r){var i=t.pendingProps,n=i.revealOrder,s=i.tail;if(Pt(e,t,i.children,r),i=Ne.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&E_(e,r,t);else if(e.tag===19)E_(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(be(Ne,i),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&Gl(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),ju(t,!1,n,r,s);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Gl(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}ju(t,!0,r,null,s);break;case"together":ju(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ui(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=Vi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function DE(e,t,r){switch(t.tag){case 3:Wy(t),_s();break;case 5:gy(t);break;case 1:Ft(t.type)&&Fl(t);break;case 4:_p(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,n=t.memoizedProps.value;be(Wl,i._currentValue),i._currentValue=n;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(be(Ne,Ne.current&1),t.flags|=128,null):r&t.child.childLanes?Uy(e,t,r):(be(Ne,Ne.current&1),e=ui(e,t,r),e!==null?e.sibling:null);be(Ne,Ne.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return jy(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),be(Ne,Ne.current),i)break;return null;case 22:case 23:return t.lanes=0,Hy(e,t,r)}return ui(e,t,r)}var Gy,gd,Ky,qy;Gy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gd=function(){};Ky=function(e,t,r,i){var n=e.memoizedProps;if(n!==i){e=t.stateNode,pn(jr.current);var s=null;switch(r){case"input":n=$h(e,n),i=$h(e,i),s=[];break;case"select":n=Ie({},n,{value:void 0}),i=Ie({},i,{value:void 0}),s=[];break;case"textarea":n=Vh(e,n),i=Vh(e,i),s=[];break;default:typeof n.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=zl)}Uh(r,i);var o;r=null;for(c in n)if(!i.hasOwnProperty(c)&&n.hasOwnProperty(c)&&n[c]!=null)if(c==="style"){var a=n[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(No.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=n!=null?n[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(No.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&xe("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};qy=function(e,t,r,i){r!==i&&(t.flags|=4)};function Xs(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags&14680064,i|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function NE(e,t,r){var i=t.pendingProps;switch(cp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return Ft(t.type)&&$l(),yt(t),null;case 3:return i=t.stateNode,vs(),ke($t),ke(Et),vp(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,br!==null&&(Ed(br),br=null))),gd(e,t),yt(t),null;case 5:gp(t);var n=pn(jo.current);if(r=t.type,e!==null&&t.stateNode!=null)Ky(e,t,r,i,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(F(166));return yt(t),null}if(e=pn(jr.current),Ia(t)){i=t.stateNode,r=t.type;var s=t.memoizedProps;switch(i[Hr]=t,i[Wo]=s,e=(t.mode&1)!==0,r){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(n=0;n<co.length;n++)xe(co[n],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":Om(i,s),xe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},xe("invalid",i);break;case"textarea":Mm(i,s),xe("invalid",i)}Uh(r,s),n=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Oa(i.textContent,a,e),n=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Oa(i.textContent,a,e),n=["children",""+a]):No.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",i)}switch(r){case"input":ka(i),Im(i,s,!0);break;case"textarea":ka(i),Bm(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=zl)}i=n,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=C0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(r,{is:i.is}):(e=o.createElement(r),r==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,r),e[Hr]=t,e[Wo]=i,Gy(e,t,!1,!1),t.stateNode=e;e:{switch(o=jh(r,i),r){case"dialog":xe("cancel",e),xe("close",e),n=i;break;case"iframe":case"object":case"embed":xe("load",e),n=i;break;case"video":case"audio":for(n=0;n<co.length;n++)xe(co[n],e);n=i;break;case"source":xe("error",e),n=i;break;case"img":case"image":case"link":xe("error",e),xe("load",e),n=i;break;case"details":xe("toggle",e),n=i;break;case"input":Om(e,i),n=$h(e,i),xe("invalid",e);break;case"option":n=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},n=Ie({},i,{value:void 0}),xe("invalid",e);break;case"textarea":Mm(e,i),n=Vh(e,i),xe("invalid",e);break;default:n=i}Uh(r,n),a=n;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?E0(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&b0(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Oo(e,l):typeof l=="number"&&Oo(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(No.hasOwnProperty(s)?l!=null&&s==="onScroll"&&xe("scroll",e):l!=null&&qf(e,s,l,o))}switch(r){case"input":ka(e),Im(e,i,!1);break;case"textarea":ka(e),Bm(e);break;case"option":i.value!=null&&e.setAttribute("value",""+ji(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?ns(e,!!i.multiple,s,!1):i.defaultValue!=null&&ns(e,!!i.multiple,i.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=zl)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)qy(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(F(166));if(r=pn(jo.current),pn(jr.current),Ia(t)){if(i=t.stateNode,r=t.memoizedProps,i[Hr]=t,(s=i.nodeValue!==r)&&(e=Zt,e!==null))switch(e.tag){case 3:Oa(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oa(i.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Hr]=t,t.stateNode=i}return yt(t),null;case 13:if(ke(Ne),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&Qt!==null&&t.mode&1&&!(t.flags&128))dy(),_s(),t.flags|=98560,s=!1;else if(s=Ia(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(F(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[Hr]=t}else _s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yt(t),s=!1}else br!==null&&(Ed(br),br=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?Qe===0&&(Qe=3):Ap())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return vs(),gd(e,t),e===null&&Ho(t.stateNode.containerInfo),yt(t),null;case 10:return fp(t.type._context),yt(t),null;case 17:return Ft(t.type)&&$l(),yt(t),null;case 19:if(ke(Ne),s=t.memoizedState,s===null)return yt(t),null;if(i=(t.flags&128)!==0,o=s.rendering,o===null)if(i)Xs(s,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gl(e),o!==null){for(t.flags|=128,Xs(s,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)s=r,e=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return be(Ne,Ne.current&1|2),t.child}e=e.sibling}s.tail!==null&&He()>Ss&&(t.flags|=128,i=!0,Xs(s,!1),t.lanes=4194304)}else{if(!i)if(e=Gl(o),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ae)return yt(t),null}else 2*He()-s.renderingStartTime>Ss&&r!==1073741824&&(t.flags|=128,i=!0,Xs(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=He(),t.sibling=null,r=Ne.current,be(Ne,i?r&1|2:r&1),t):(yt(t),null);case 22:case 23:return Tp(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Kt&1073741824&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function OE(e,t){switch(cp(t),t.tag){case 1:return Ft(t.type)&&$l(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vs(),ke($t),ke(Et),vp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gp(t),null;case 13:if(ke(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Ne),null;case 4:return vs(),null;case 10:return fp(t.type._context),null;case 22:case 23:return Tp(),null;case 24:return null;default:return null}}var za=!1,bt=!1,IE=typeof WeakSet=="function"?WeakSet:Set,G=null;function es(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){ze(e,t,i)}else r.current=null}function vd(e,t,r){try{r()}catch(i){ze(e,t,i)}}var k_=!1;function ME(e,t){if(td=Il,e=J0(),ap(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var n=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=e,d=null;t:for(;;){for(var f;h!==r||n!==0&&h.nodeType!==3||(a=o+n),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===e)break t;if(d===r&&++c===n&&(a=o),d===s&&++u===i&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(rd={focusedElem:e,selectionRange:r},Il=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,S=p.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:wr(t.type,g),S);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(w){ze(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return p=k_,k_=!1,p}function ko(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var n=i=i.next;do{if((n.tag&e)===e){var s=n.destroy;n.destroy=void 0,s!==void 0&&vd(t,r,s)}n=n.next}while(n!==i)}}function $c(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function yd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Yy(e){var t=e.alternate;t!==null&&(e.alternate=null,Yy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hr],delete t[Wo],delete t[sd],delete t[vE],delete t[yE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xy(e){return e.tag===5||e.tag===3||e.tag===4}function R_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sd(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=zl));else if(i!==4&&(e=e.child,e!==null))for(Sd(e,t,r),e=e.sibling;e!==null;)Sd(e,t,r),e=e.sibling}function wd(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(wd(e,t,r),e=e.sibling;e!==null;)wd(e,t,r),e=e.sibling}var dt=null,Cr=!1;function vi(e,t,r){for(r=r.child;r!==null;)Qy(e,t,r),r=r.sibling}function Qy(e,t,r){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(Lc,r)}catch{}switch(r.tag){case 5:bt||es(r,t);case 6:var i=dt,n=Cr;dt=null,vi(e,t,r),dt=i,Cr=n,dt!==null&&(Cr?(e=dt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dt.removeChild(r.stateNode));break;case 18:dt!==null&&(Cr?(e=dt,r=r.stateNode,e.nodeType===8?zu(e.parentNode,r):e.nodeType===1&&zu(e,r),zo(e)):zu(dt,r.stateNode));break;case 4:i=dt,n=Cr,dt=r.stateNode.containerInfo,Cr=!0,vi(e,t,r),dt=i,Cr=n;break;case 0:case 11:case 14:case 15:if(!bt&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){n=i=i.next;do{var s=n,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&vd(r,t,o),n=n.next}while(n!==i)}vi(e,t,r);break;case 1:if(!bt&&(es(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(a){ze(r,t,a)}vi(e,t,r);break;case 21:vi(e,t,r);break;case 22:r.mode&1?(bt=(i=bt)||r.memoizedState!==null,vi(e,t,r),bt=i):vi(e,t,r);break;default:vi(e,t,r)}}function P_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new IE),t.forEach(function(i){var n=jE.bind(null,e,i);r.has(i)||(r.add(i),i.then(n,n))})}}function gr(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var n=r[i];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,Cr=!1;break e;case 3:dt=a.stateNode.containerInfo,Cr=!0;break e;case 4:dt=a.stateNode.containerInfo,Cr=!0;break e}a=a.return}if(dt===null)throw Error(F(160));Qy(s,o,n),dt=null,Cr=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(c){ze(n,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zy(t,e),t=t.sibling}function Zy(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gr(t,e),Nr(e),i&4){try{ko(3,e,e.return),$c(3,e)}catch(g){ze(e,e.return,g)}try{ko(5,e,e.return)}catch(g){ze(e,e.return,g)}}break;case 1:gr(t,e),Nr(e),i&512&&r!==null&&es(r,r.return);break;case 5:if(gr(t,e),Nr(e),i&512&&r!==null&&es(r,r.return),e.flags&32){var n=e.stateNode;try{Oo(n,"")}catch(g){ze(e,e.return,g)}}if(i&4&&(n=e.stateNode,n!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&S0(n,s),jh(a,o);var c=jh(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?E0(n,h):u==="dangerouslySetInnerHTML"?b0(n,h):u==="children"?Oo(n,h):qf(n,u,h,c)}switch(a){case"input":Fh(n,s);break;case"textarea":w0(n,s);break;case"select":var d=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ns(n,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?ns(n,!!s.multiple,s.defaultValue,!0):ns(n,!!s.multiple,s.multiple?[]:"",!1))}n[Wo]=s}catch(g){ze(e,e.return,g)}}break;case 6:if(gr(t,e),Nr(e),i&4){if(e.stateNode===null)throw Error(F(162));n=e.stateNode,s=e.memoizedProps;try{n.nodeValue=s}catch(g){ze(e,e.return,g)}}break;case 3:if(gr(t,e),Nr(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{zo(t.containerInfo)}catch(g){ze(e,e.return,g)}break;case 4:gr(t,e),Nr(e);break;case 13:gr(t,e),Nr(e),n=e.child,n.flags&8192&&(s=n.memoizedState!==null,n.stateNode.isHidden=s,!s||n.alternate!==null&&n.alternate.memoizedState!==null||(Rp=He())),i&4&&P_(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(bt=(c=bt)||u,gr(t,e),bt=c):gr(t,e),Nr(e),i&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(G=e,u=e.child;u!==null;){for(h=G=u;G!==null;){switch(d=G,f=d.child,d.tag){case 0:case 11:case 14:case 15:ko(4,d,d.return);break;case 1:es(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){i=d,r=d.return;try{t=i,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){ze(i,r,g)}}break;case 5:es(d,d.return);break;case 22:if(d.memoizedState!==null){A_(h);continue}}f!==null?(f.return=d,G=f):A_(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{n=h.stateNode,c?(s=n.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=x0("display",o))}catch(g){ze(e,e.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){ze(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gr(t,e),Nr(e),i&4&&P_(e);break;case 21:break;default:gr(t,e),Nr(e)}}function Nr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Xy(r)){var i=r;break e}r=r.return}throw Error(F(160))}switch(i.tag){case 5:var n=i.stateNode;i.flags&32&&(Oo(n,""),i.flags&=-33);var s=R_(e);wd(e,s,n);break;case 3:case 4:var o=i.stateNode.containerInfo,a=R_(e);Sd(e,a,o);break;default:throw Error(F(161))}}catch(l){ze(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BE(e,t,r){G=e,Jy(e)}function Jy(e,t,r){for(var i=(e.mode&1)!==0;G!==null;){var n=G,s=n.child;if(n.tag===22&&i){var o=n.memoizedState!==null||za;if(!o){var a=n.alternate,l=a!==null&&a.memoizedState!==null||bt;a=za;var c=bt;if(za=o,(bt=l)&&!c)for(G=n;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?L_(n):l!==null?(l.return=o,G=l):L_(n);for(;s!==null;)G=s,Jy(s),s=s.sibling;G=n,za=a,bt=c}T_(e)}else n.subtreeFlags&8772&&s!==null?(s.return=n,G=s):T_(e)}}function T_(e){for(;G!==null;){var t=G;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bt||$c(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!bt)if(r===null)i.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:wr(t.type,r.memoizedProps);i.componentDidUpdate(n,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&f_(t,s,i);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}f_(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&zo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}bt||t.flags&512&&yd(t)}catch(d){ze(t,t.return,d)}}if(t===e){G=null;break}if(r=t.sibling,r!==null){r.return=t.return,G=r;break}G=t.return}}function A_(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var r=t.sibling;if(r!==null){r.return=t.return,G=r;break}G=t.return}}function L_(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$c(4,t)}catch(l){ze(t,r,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var n=t.return;try{i.componentDidMount()}catch(l){ze(t,n,l)}}var s=t.return;try{yd(t)}catch(l){ze(t,s,l)}break;case 5:var o=t.return;try{yd(t)}catch(l){ze(t,o,l)}}}catch(l){ze(t,t.return,l)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var zE=Math.ceil,Yl=fi.ReactCurrentDispatcher,Ep=fi.ReactCurrentOwner,dr=fi.ReactCurrentBatchConfig,he=0,lt=null,Ge=null,mt=0,Kt=0,ts=Qi(0),Qe=0,Yo=null,xn=0,Fc=0,kp=0,Ro=null,Bt=null,Rp=0,Ss=1/0,ri=null,Xl=!1,Cd=null,Fi=null,$a=!1,Di=null,Ql=0,Po=0,bd=null,fl=-1,pl=0;function At(){return he&6?He():fl!==-1?fl:fl=He()}function Hi(e){return e.mode&1?he&2&&mt!==0?mt&-mt:wE.transition!==null?(pl===0&&(pl=B0()),pl):(e=me,e!==0||(e=window.event,e=e===void 0?16:U0(e.type)),e):1}function Pr(e,t,r,i){if(50<Po)throw Po=0,bd=null,Error(F(185));la(e,r,i),(!(he&2)||e!==lt)&&(e===lt&&(!(he&2)&&(Fc|=r),Qe===4&&Ai(e,mt)),Ht(e,i),r===1&&he===0&&!(t.mode&1)&&(Ss=He()+500,Mc&&Zi()))}function Ht(e,t){var r=e.callbackNode;wx(e,t);var i=Ol(e,e===lt?mt:0);if(i===0)r!==null&&Fm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Fm(r),t===1)e.tag===0?SE(D_.bind(null,e)):cy(D_.bind(null,e)),_E(function(){!(he&6)&&Zi()}),r=null;else{switch(z0(i)){case 1:r=Jf;break;case 4:r=I0;break;case 16:r=Nl;break;case 536870912:r=M0;break;default:r=Nl}r=aS(r,eS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function eS(e,t){if(fl=-1,pl=0,he&6)throw Error(F(327));var r=e.callbackNode;if(cs()&&e.callbackNode!==r)return null;var i=Ol(e,e===lt?mt:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Zl(e,i);else{t=i;var n=he;he|=2;var s=rS();(lt!==e||mt!==t)&&(ri=null,Ss=He()+500,vn(e,t));do try{HE();break}catch(a){tS(e,a)}while(1);dp(),Yl.current=s,he=n,Ge!==null?t=0:(lt=null,mt=0,t=Qe)}if(t!==0){if(t===2&&(n=Xh(e),n!==0&&(i=n,t=xd(e,n))),t===1)throw r=Yo,vn(e,0),Ai(e,i),Ht(e,He()),r;if(t===6)Ai(e,i);else{if(n=e.current.alternate,!(i&30)&&!$E(n)&&(t=Zl(e,i),t===2&&(s=Xh(e),s!==0&&(i=s,t=xd(e,s))),t===1))throw r=Yo,vn(e,0),Ai(e,i),Ht(e,He()),r;switch(e.finishedWork=n,e.finishedLanes=i,t){case 0:case 1:throw Error(F(345));case 2:cn(e,Bt,ri);break;case 3:if(Ai(e,i),(i&130023424)===i&&(t=Rp+500-He(),10<t)){if(Ol(e,0)!==0)break;if(n=e.suspendedLanes,(n&i)!==i){At(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=nd(cn.bind(null,e,Bt,ri),t);break}cn(e,Bt,ri);break;case 4:if(Ai(e,i),(i&4194240)===i)break;for(t=e.eventTimes,n=-1;0<i;){var o=31-Rr(i);s=1<<o,o=t[o],o>n&&(n=o),i&=~s}if(i=n,i=He()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*zE(i/1960))-i,10<i){e.timeoutHandle=nd(cn.bind(null,e,Bt,ri),i);break}cn(e,Bt,ri);break;case 5:cn(e,Bt,ri);break;default:throw Error(F(329))}}}return Ht(e,He()),e.callbackNode===r?eS.bind(null,e):null}function xd(e,t){var r=Ro;return e.current.memoizedState.isDehydrated&&(vn(e,t).flags|=256),e=Zl(e,t),e!==2&&(t=Bt,Bt=r,t!==null&&Ed(t)),e}function Ed(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function $E(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var n=r[i],s=n.getSnapshot;n=n.value;try{if(!Tr(s(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ai(e,t){for(t&=~kp,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Rr(t),i=1<<r;e[r]=-1,t&=~i}}function D_(e){if(he&6)throw Error(F(327));cs();var t=Ol(e,0);if(!(t&1))return Ht(e,He()),null;var r=Zl(e,t);if(e.tag!==0&&r===2){var i=Xh(e);i!==0&&(t=i,r=xd(e,i))}if(r===1)throw r=Yo,vn(e,0),Ai(e,t),Ht(e,He()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cn(e,Bt,ri),Ht(e,He()),null}function Pp(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(Ss=He()+500,Mc&&Zi())}}function En(e){Di!==null&&Di.tag===0&&!(he&6)&&cs();var t=he;he|=1;var r=dr.transition,i=me;try{if(dr.transition=null,me=1,e)return e()}finally{me=i,dr.transition=r,he=t,!(he&6)&&Zi()}}function Tp(){Kt=ts.current,ke(ts)}function vn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mE(r)),Ge!==null)for(r=Ge.return;r!==null;){var i=r;switch(cp(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&$l();break;case 3:vs(),ke($t),ke(Et),vp();break;case 5:gp(i);break;case 4:vs();break;case 13:ke(Ne);break;case 19:ke(Ne);break;case 10:fp(i.type._context);break;case 22:case 23:Tp()}r=r.return}if(lt=e,Ge=e=Vi(e.current,null),mt=Kt=t,Qe=0,Yo=null,kp=Fc=xn=0,Bt=Ro=null,fn!==null){for(t=0;t<fn.length;t++)if(r=fn[t],i=r.interleaved,i!==null){r.interleaved=null;var n=i.next,s=r.pending;if(s!==null){var o=s.next;s.next=n,i.next=o}r.pending=i}fn=null}return e}function tS(e,t){do{var r=Ge;try{if(dp(),ul.current=ql,Kl){for(var i=Oe.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}Kl=!1}if(bn=0,nt=Ye=Oe=null,Eo=!1,Go=0,Ep.current=null,r===null||r.return===null){Qe=1,Yo=t,Ge=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=y_(o);if(f!==null){f.flags&=-257,S_(f,o,a,s,t),f.mode&1&&v_(s,c,t),t=f,l=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){v_(s,c,t),Ap();break e}l=Error(F(426))}}else if(Ae&&a.mode&1){var S=y_(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),S_(S,o,a,s,t),up(ys(l,a));break e}}s=l=ys(l,a),Qe!==4&&(Qe=2),Ro===null?Ro=[s]:Ro.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=zy(s,l,t);d_(s,m);break e;case 1:a=l;var v=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Fi===null||!Fi.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=$y(s,a,t);d_(s,w);break e}}s=s.return}while(s!==null)}nS(r)}catch(b){t=b,Ge===r&&r!==null&&(Ge=r=r.return);continue}break}while(1)}function rS(){var e=Yl.current;return Yl.current=ql,e===null?ql:e}function Ap(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),lt===null||!(xn&268435455)&&!(Fc&268435455)||Ai(lt,mt)}function Zl(e,t){var r=he;he|=2;var i=rS();(lt!==e||mt!==t)&&(ri=null,vn(e,t));do try{FE();break}catch(n){tS(e,n)}while(1);if(dp(),he=r,Yl.current=i,Ge!==null)throw Error(F(261));return lt=null,mt=0,Qe}function FE(){for(;Ge!==null;)iS(Ge)}function HE(){for(;Ge!==null&&!dx();)iS(Ge)}function iS(e){var t=oS(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?nS(e):Ge=t,Ep.current=null}function nS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=OE(r,t),r!==null){r.flags&=32767,Ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,Ge=null;return}}else if(r=NE(r,t,Kt),r!==null){Ge=r;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);Qe===0&&(Qe=5)}function cn(e,t,r){var i=me,n=dr.transition;try{dr.transition=null,me=1,VE(e,t,r,i)}finally{dr.transition=n,me=i}return null}function VE(e,t,r,i){do cs();while(Di!==null);if(he&6)throw Error(F(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(Cx(e,s),e===lt&&(Ge=lt=null,mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$a||($a=!0,aS(Nl,function(){return cs(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=dr.transition,dr.transition=null;var o=me;me=1;var a=he;he|=4,Ep.current=null,ME(e,r),Zy(r,e),lE(rd),Il=!!td,rd=td=null,e.current=r,BE(r),fx(),he=a,me=o,dr.transition=s}else e.current=r;if($a&&($a=!1,Di=e,Ql=n),s=e.pendingLanes,s===0&&(Fi=null),_x(r.stateNode),Ht(e,He()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],i(n.value,{componentStack:n.stack,digest:n.digest});if(Xl)throw Xl=!1,e=Cd,Cd=null,e;return Ql&1&&e.tag!==0&&cs(),s=e.pendingLanes,s&1?e===bd?Po++:(Po=0,bd=e):Po=0,Zi(),null}function cs(){if(Di!==null){var e=z0(Ql),t=dr.transition,r=me;try{if(dr.transition=null,me=16>e?16:e,Di===null)var i=!1;else{if(e=Di,Di=null,Ql=0,he&6)throw Error(F(331));var n=he;for(he|=4,G=e.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(G=c;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:ko(8,u,s)}var h=u.child;if(h!==null)h.return=u,G=h;else for(;G!==null;){u=G;var d=u.sibling,f=u.return;if(Yy(u),u===c){G=null;break}if(d!==null){d.return=f,G=d;break}G=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var S=g.sibling;g.sibling=null,g=S}while(g!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ko(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,G=m;break e}G=s.return}}var v=e.current;for(G=v;G!==null;){o=G;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,G=y;else e:for(o=v;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$c(9,a)}}catch(b){ze(a,a.return,b)}if(a===o){G=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,G=w;break e}G=a.return}}if(he=n,Zi(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(Lc,e)}catch{}i=!0}return i}finally{me=r,dr.transition=t}}return!1}function N_(e,t,r){t=ys(r,t),t=zy(e,t,1),e=$i(e,t,1),t=At(),e!==null&&(la(e,1,t),Ht(e,t))}function ze(e,t,r){if(e.tag===3)N_(e,e,r);else for(;t!==null;){if(t.tag===3){N_(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Fi===null||!Fi.has(i))){e=ys(r,e),e=$y(t,e,1),t=$i(t,e,1),e=At(),t!==null&&(la(t,1,e),Ht(t,e));break}}t=t.return}}function WE(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=At(),e.pingedLanes|=e.suspendedLanes&r,lt===e&&(mt&r)===r&&(Qe===4||Qe===3&&(mt&130023424)===mt&&500>He()-Rp?vn(e,0):kp|=r),Ht(e,t)}function sS(e,t){t===0&&(e.mode&1?(t=Ta,Ta<<=1,!(Ta&130023424)&&(Ta=4194304)):t=1);var r=At();e=ci(e,t),e!==null&&(la(e,t,r),Ht(e,r))}function UE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sS(e,r)}function jE(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(F(314))}i!==null&&i.delete(t),sS(e,r)}var oS;oS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$t.current)zt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return zt=!1,DE(e,t,r);zt=!!(e.flags&131072)}else zt=!1,Ae&&t.flags&1048576&&uy(t,Vl,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;dl(e,t),e=t.pendingProps;var n=ms(t,Et.current);ls(t,r),n=Sp(null,t,i,e,n,r);var s=wp();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ft(i)?(s=!0,Fl(t)):s=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,mp(t),n.updater=zc,t.stateNode=n,n._reactInternals=t,hd(t,i,e,r),t=pd(null,t,i,!0,s,r)):(t.tag=0,Ae&&s&&lp(t),Pt(null,t,n,r),t=t.child),t;case 16:i=t.elementType;e:{switch(dl(e,t),e=t.pendingProps,n=i._init,i=n(i._payload),t.type=i,n=t.tag=KE(i),e=wr(i,e),n){case 0:t=fd(null,t,i,e,r);break e;case 1:t=b_(null,t,i,e,r);break e;case 11:t=w_(null,t,i,e,r);break e;case 14:t=C_(null,t,i,wr(i.type,e),r);break e}throw Error(F(306,i,""))}return t;case 0:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:wr(i,n),fd(e,t,i,n,r);case 1:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:wr(i,n),b_(e,t,i,n,r);case 3:e:{if(Wy(t),e===null)throw Error(F(387));i=t.pendingProps,s=t.memoizedState,n=s.element,_y(e,t),jl(t,i,null,r);var o=t.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){n=ys(Error(F(423)),t),t=x_(e,t,i,r,n);break e}else if(i!==n){n=ys(Error(F(424)),t),t=x_(e,t,i,r,n);break e}else for(Qt=zi(t.stateNode.containerInfo.firstChild),Zt=t,Ae=!0,br=null,r=py(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_s(),i===n){t=ui(e,t,r);break e}Pt(e,t,i,r)}t=t.child}return t;case 5:return gy(t),e===null&&ld(t),i=t.type,n=t.pendingProps,s=e!==null?e.memoizedProps:null,o=n.children,id(i,n)?o=null:s!==null&&id(i,s)&&(t.flags|=32),Vy(e,t),Pt(e,t,o,r),t.child;case 6:return e===null&&ld(t),null;case 13:return Uy(e,t,r);case 4:return _p(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=gs(t,null,i,r):Pt(e,t,i,r),t.child;case 11:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:wr(i,n),w_(e,t,i,n,r);case 7:return Pt(e,t,t.pendingProps,r),t.child;case 8:return Pt(e,t,t.pendingProps.children,r),t.child;case 12:return Pt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,n=t.pendingProps,s=t.memoizedProps,o=n.value,be(Wl,i._currentValue),i._currentValue=o,s!==null)if(Tr(s.value,o)){if(s.children===n.children&&!$t.current){t=ui(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=oi(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),cd(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),cd(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Pt(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,i=t.pendingProps.children,ls(t,r),n=pr(n),i=i(n),t.flags|=1,Pt(e,t,i,r),t.child;case 14:return i=t.type,n=wr(i,t.pendingProps),n=wr(i.type,n),C_(e,t,i,n,r);case 15:return Fy(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:wr(i,n),dl(e,t),t.tag=1,Ft(i)?(e=!0,Fl(t)):e=!1,ls(t,r),By(t,i,n),hd(t,i,n,r),pd(null,t,i,!0,e,r);case 19:return jy(e,t,r);case 22:return Hy(e,t,r)}throw Error(F(156,t.tag))};function aS(e,t){return O0(e,t)}function GE(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(e,t,r,i){return new GE(e,t,r,i)}function Lp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KE(e){if(typeof e=="function")return Lp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xf)return 11;if(e===Qf)return 14}return 2}function Vi(e,t){var r=e.alternate;return r===null?(r=ur(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ml(e,t,r,i,n,s){var o=2;if(i=e,typeof e=="function")Lp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case jn:return yn(r.children,n,s,t);case Yf:o=8,n|=8;break;case Ih:return e=ur(12,r,t,n|2),e.elementType=Ih,e.lanes=s,e;case Mh:return e=ur(13,r,t,n),e.elementType=Mh,e.lanes=s,e;case Bh:return e=ur(19,r,t,n),e.elementType=Bh,e.lanes=s,e;case g0:return Hc(r,n,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case m0:o=10;break e;case _0:o=9;break e;case Xf:o=11;break e;case Qf:o=14;break e;case ki:o=16,i=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=ur(o,r,t,n),t.elementType=e,t.type=i,t.lanes=s,t}function yn(e,t,r,i){return e=ur(7,e,i,t),e.lanes=r,e}function Hc(e,t,r,i){return e=ur(22,e,i,t),e.elementType=g0,e.lanes=r,e.stateNode={isHidden:!1},e}function Gu(e,t,r){return e=ur(6,e,null,t),e.lanes=r,e}function Ku(e,t,r){return t=ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qE(e,t,r,i,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ru(0),this.expirationTimes=Ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ru(0),this.identifierPrefix=i,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Dp(e,t,r,i,n,s,o,a,l){return e=new qE(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ur(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mp(s),e}function YE(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function lS(e){if(!e)return Gi;e=e._reactInternals;e:{if(Dn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(Ft(r))return ly(e,r,t)}return t}function cS(e,t,r,i,n,s,o,a,l){return e=Dp(r,i,!0,e,n,s,o,a,l),e.context=lS(null),r=e.current,i=At(),n=Hi(r),s=oi(i,n),s.callback=t??null,$i(r,s,n),e.current.lanes=n,la(e,n,i),Ht(e,i),e}function Vc(e,t,r,i){var n=t.current,s=At(),o=Hi(n);return r=lS(r),t.context===null?t.context=r:t.pendingContext=r,t=oi(s,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=$i(n,t,o),e!==null&&(Pr(e,n,o,s),cl(e,n,o)),o}function Jl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function O_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Np(e,t){O_(e,t),(e=e.alternate)&&O_(e,t)}function XE(){return null}var uS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Op(e){this._internalRoot=e}Wc.prototype.render=Op.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Vc(e,t,null,null)};Wc.prototype.unmount=Op.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;En(function(){Vc(null,e,null,null)}),t[li]=null}};function Wc(e){this._internalRoot=e}Wc.prototype.unstable_scheduleHydration=function(e){if(e){var t=H0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ti.length&&t!==0&&t<Ti[r].priority;r++);Ti.splice(r,0,e),r===0&&W0(e)}};function Ip(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Uc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function I_(){}function QE(e,t,r,i,n){if(n){if(typeof i=="function"){var s=i;i=function(){var c=Jl(o);s.call(c)}}var o=cS(t,i,e,0,null,!1,!1,"",I_);return e._reactRootContainer=o,e[li]=o.current,Ho(e.nodeType===8?e.parentNode:e),En(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof i=="function"){var a=i;i=function(){var c=Jl(l);a.call(c)}}var l=Dp(e,0,!1,null,null,!1,!1,"",I_);return e._reactRootContainer=l,e[li]=l.current,Ho(e.nodeType===8?e.parentNode:e),En(function(){Vc(t,l,r,i)}),l}function jc(e,t,r,i,n){var s=r._reactRootContainer;if(s){var o=s;if(typeof n=="function"){var a=n;n=function(){var l=Jl(o);a.call(l)}}Vc(t,o,e,n)}else o=QE(r,t,e,n,i);return Jl(o)}$0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=lo(t.pendingLanes);r!==0&&(ep(t,r|1),Ht(t,He()),!(he&6)&&(Ss=He()+500,Zi()))}break;case 13:En(function(){var i=ci(e,1);if(i!==null){var n=At();Pr(i,e,1,n)}}),Np(e,1)}};tp=function(e){if(e.tag===13){var t=ci(e,134217728);if(t!==null){var r=At();Pr(t,e,134217728,r)}Np(e,134217728)}};F0=function(e){if(e.tag===13){var t=Hi(e),r=ci(e,t);if(r!==null){var i=At();Pr(r,e,t,i)}Np(e,t)}};H0=function(){return me};V0=function(e,t){var r=me;try{return me=e,t()}finally{me=r}};Kh=function(e,t,r){switch(t){case"input":if(Fh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var n=Ic(i);if(!n)throw Error(F(90));y0(i),Fh(i,n)}}}break;case"textarea":w0(e,r);break;case"select":t=r.value,t!=null&&ns(e,!!r.multiple,t,!1)}};P0=Pp;T0=En;var ZE={usingClientEntryPoint:!1,Events:[ua,Yn,Ic,k0,R0,Pp]},Qs={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JE={bundleType:Qs.bundleType,version:Qs.version,rendererPackageName:Qs.rendererPackageName,rendererConfig:Qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=D0(e),e===null?null:e.stateNode},findFiberByHostInstance:Qs.findFiberByHostInstance||XE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fa.isDisabled&&Fa.supportsFiber)try{Lc=Fa.inject(JE),Ur=Fa}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZE;tr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ip(t))throw Error(F(200));return YE(e,t,null,r)};tr.createRoot=function(e,t){if(!Ip(e))throw Error(F(299));var r=!1,i="",n=uS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=Dp(e,1,!1,null,null,r,!1,i,n),e[li]=t.current,Ho(e.nodeType===8?e.parentNode:e),new Op(t)};tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=D0(t),e=e===null?null:e.stateNode,e};tr.flushSync=function(e){return En(e)};tr.hydrate=function(e,t,r){if(!Uc(t))throw Error(F(200));return jc(null,e,t,!0,r)};tr.hydrateRoot=function(e,t,r){if(!Ip(e))throw Error(F(405));var i=r!=null&&r.hydratedSources||null,n=!1,s="",o=uS;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=cS(t,null,e,1,r??null,n,!1,s,o),e[li]=t.current,Ho(e),i)for(e=0;e<i.length;e++)r=i[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new Wc(t)};tr.render=function(e,t,r){if(!Uc(t))throw Error(F(200));return jc(null,e,t,!1,r)};tr.unmountComponentAtNode=function(e){if(!Uc(e))throw Error(F(40));return e._reactRootContainer?(En(function(){jc(null,null,e,!1,function(){e._reactRootContainer=null,e[li]=null})}),!0):!1};tr.unstable_batchedUpdates=Pp;tr.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Uc(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return jc(e,t,r,!1,i)};tr.version="18.3.1-next-f1338f8080-20240426";function hS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hS)}catch(e){console.error(e)}}hS(),h0.exports=tr;var Ls=h0.exports;const ek=Hf(Ls);var M_=Ls;Nh.createRoot=M_.createRoot,Nh.hydrateRoot=M_.hydrateRoot;const tk=`#version 300 es
precision mediump float;

layout(location = 0) in vec4 a_position;

uniform vec2 u_resolution;
uniform float u_pixelRatio;
uniform float u_imageAspectRatio;

uniform float u_originX;
uniform float u_originY;
uniform float u_worldWidth;
uniform float u_worldHeight;
uniform float u_fit;

uniform float u_scale;
uniform float u_rotation;
uniform float u_offsetX;
uniform float u_offsetY;

uniform float u_pxSize;

out vec2 v_objectUV;
out vec2 v_objectBoxSize;
out vec2 v_objectHelperBox;

out vec2 v_responsiveUV;
out vec2 v_responsiveBoxSize;
out vec2 v_responsiveHelperBox;
out vec2 v_responsiveBoxGivenSize;

out vec2 v_patternUV;
out vec2 v_patternBoxSize;
out vec2 v_patternHelperBox;

out vec2 v_imageUV;

// #define ADD_HELPERS

vec3 getBoxSize(float boxRatio, vec2 givenBoxSize) {
  vec2 box = vec2(0.);
  // fit = none
  box.x = boxRatio * min(givenBoxSize.x / boxRatio, givenBoxSize.y);
  float noFitBoxWidth = box.x;
  if (u_fit == 1.) { // fit = contain
    box.x = boxRatio * min(u_resolution.x / boxRatio, u_resolution.y);
  } else if (u_fit == 2.) { // fit = cover
    box.x = boxRatio * max(u_resolution.x / boxRatio, u_resolution.y);
  }
  box.y = box.x / boxRatio;
  return vec3(box, noFitBoxWidth);
}

void main() {
  gl_Position = a_position;

  vec2 uv = gl_Position.xy * .5;
  vec2 boxOrigin = vec2(.5 - u_originX, u_originY - .5);
  vec2 givenBoxSize = vec2(u_worldWidth, u_worldHeight);
  givenBoxSize = max(givenBoxSize, vec2(1.)) * u_pixelRatio;
  float r = u_rotation * 3.14159265358979323846 / 180.;
  mat2 graphicRotation = mat2(cos(r), sin(r), -sin(r), cos(r));
  vec2 graphicOffset = vec2(-u_offsetX, u_offsetY);


  // ===================================================
  // Sizing api for graphic objects with fixed ratio
  // (currently supports only ratio = 1)

  float fixedRatio = 1.;
  vec2 fixedRatioBoxGivenSize = vec2(
  (u_worldWidth == 0.) ? u_resolution.x : givenBoxSize.x,
  (u_worldHeight == 0.) ? u_resolution.y : givenBoxSize.y
  );

  v_objectBoxSize = getBoxSize(fixedRatio, fixedRatioBoxGivenSize).xy;
  vec2 objectWorldScale = u_resolution.xy / v_objectBoxSize;

  #ifdef ADD_HELPERS
  v_objectHelperBox = uv;
  v_objectHelperBox *= objectWorldScale;
  v_objectHelperBox += boxOrigin * (objectWorldScale - 1.);
  #endif

  v_objectUV = uv;
  v_objectUV *= objectWorldScale;
  v_objectUV += boxOrigin * (objectWorldScale - 1.);
  v_objectUV += graphicOffset;
  v_objectUV /= u_scale;
  v_objectUV = graphicRotation * v_objectUV;


  // ===================================================


  // ===================================================
  // Sizing api for graphic objects with either givenBoxSize ratio or canvas ratio.
  // Full-screen mode available with u_worldWidth = u_worldHeight = 0

  v_responsiveBoxGivenSize = vec2(
  (u_worldWidth == 0.) ? u_resolution.x : givenBoxSize.x,
  (u_worldHeight == 0.) ? u_resolution.y : givenBoxSize.y
  );
  float responsiveRatio = v_responsiveBoxGivenSize.x / v_responsiveBoxGivenSize.y;
  v_responsiveBoxSize = getBoxSize(responsiveRatio, v_responsiveBoxGivenSize).xy;
  vec2 responsiveBoxScale = u_resolution.xy / v_responsiveBoxSize;

  #ifdef ADD_HELPERS
  v_responsiveHelperBox = uv;
  v_responsiveHelperBox *= responsiveBoxScale;
  v_responsiveHelperBox += boxOrigin * (responsiveBoxScale - 1.);
  #endif

  v_responsiveUV = uv;
  v_responsiveUV *= responsiveBoxScale;
  v_responsiveUV += boxOrigin * (responsiveBoxScale - 1.);
  v_responsiveUV += graphicOffset;
  v_responsiveUV /= u_scale;
  v_responsiveUV.x *= responsiveRatio;
  v_responsiveUV = graphicRotation * v_responsiveUV;
  v_responsiveUV.x /= responsiveRatio;

  // ===================================================


  // ===================================================
  // Sizing api for patterns
  // (treating graphics as a image u_worldWidth x u_worldHeight size)

  float patternBoxRatio = givenBoxSize.x / givenBoxSize.y;
  vec2 patternBoxGivenSize = vec2(
  (u_worldWidth == 0.) ? u_resolution.x : givenBoxSize.x,
  (u_worldHeight == 0.) ? u_resolution.y : givenBoxSize.y
  );
  patternBoxRatio = patternBoxGivenSize.x / patternBoxGivenSize.y;

  vec3 boxSizeData = getBoxSize(patternBoxRatio, patternBoxGivenSize);
  v_patternBoxSize = boxSizeData.xy;
  float patternBoxNoFitBoxWidth = boxSizeData.z;
  vec2 patternBoxScale = u_resolution.xy / v_patternBoxSize;

  #ifdef ADD_HELPERS
  v_patternHelperBox = uv;
  v_patternHelperBox *= patternBoxScale;
  v_patternHelperBox += boxOrigin * (patternBoxScale - 1.);
  #endif

  v_patternUV = uv;
  v_patternUV += graphicOffset / patternBoxScale;
  v_patternUV += boxOrigin;
  v_patternUV -= boxOrigin / patternBoxScale;
  v_patternUV *= u_resolution.xy;
  v_patternUV /= u_pixelRatio;
  if (u_fit > 0.) {
    v_patternUV *= (patternBoxNoFitBoxWidth / v_patternBoxSize.x);
  }
  v_patternUV /= u_scale;
  v_patternUV = graphicRotation * v_patternUV;
  v_patternUV += boxOrigin / patternBoxScale;
  v_patternUV -= boxOrigin;
  // x100 is a default multiplier between vertex and fragmant shaders
  // we use it to avoid UV presision issues
  v_patternUV *= .01;

  // ===================================================


  // ===================================================
  // Sizing api for images

  vec2 imageBoxSize;
  if (u_fit == 1.) { // contain
    imageBoxSize.x = min(u_resolution.x / u_imageAspectRatio, u_resolution.y) * u_imageAspectRatio;
  } else if (u_fit == 2.) { // cover
    imageBoxSize.x = max(u_resolution.x / u_imageAspectRatio, u_resolution.y) * u_imageAspectRatio;
  } else {
    imageBoxSize.x = min(10.0, 10.0 / u_imageAspectRatio * u_imageAspectRatio);
  }
  imageBoxSize.y = imageBoxSize.x / u_imageAspectRatio;
  vec2 imageBoxScale = u_resolution.xy / imageBoxSize;

  #ifdef ADD_HELPERS
  vec2 imageHelperBox = uv;
  imageHelperBox *= imageBoxScale;
  imageHelperBox += boxOrigin * (imageBoxScale - 1.);
  #endif

  v_imageUV = uv;
  v_imageUV *= imageBoxScale;
  v_imageUV += boxOrigin * (imageBoxScale - 1.);
  v_imageUV += graphicOffset;
  v_imageUV /= u_scale;
  v_imageUV.x *= u_imageAspectRatio;
  v_imageUV = graphicRotation * v_imageUV;
  v_imageUV.x /= u_imageAspectRatio;

  v_imageUV += .5;
  v_imageUV.y = 1. - v_imageUV.y;

  // ===================================================

}`,B_=1920*1080*4;let rk=class{constructor(t,r,i,n,s=0,o=0,a=2,l=B_,c=[]){P(this,"parentElement");P(this,"canvasElement");P(this,"gl");P(this,"program",null);P(this,"uniformLocations",{});P(this,"fragmentShader");P(this,"rafId",null);P(this,"lastRenderTime",0);P(this,"currentFrame",0);P(this,"speed",0);P(this,"currentSpeed",0);P(this,"providedUniforms");P(this,"mipmaps",[]);P(this,"hasBeenDisposed",!1);P(this,"resolutionChanged",!0);P(this,"textures",new Map);P(this,"minPixelRatio");P(this,"maxPixelCount");P(this,"isSafari",sk());P(this,"uniformCache",{});P(this,"textureUnitMap",new Map);P(this,"initProgram",()=>{const t=ik(this.gl,tk,this.fragmentShader);t&&(this.program=t)});P(this,"setupPositionAttribute",()=>{const t=this.gl.getAttribLocation(this.program,"a_position"),r=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r);const i=[-1,-1,1,-1,-1,1,-1,1,1,-1,1,1];this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(i),this.gl.STATIC_DRAW),this.gl.enableVertexAttribArray(t),this.gl.vertexAttribPointer(t,2,this.gl.FLOAT,!1,0,0)});P(this,"setupUniforms",()=>{const t={u_time:this.gl.getUniformLocation(this.program,"u_time"),u_pixelRatio:this.gl.getUniformLocation(this.program,"u_pixelRatio"),u_resolution:this.gl.getUniformLocation(this.program,"u_resolution")};Object.entries(this.providedUniforms).forEach(([r,i])=>{if(t[r]=this.gl.getUniformLocation(this.program,r),i instanceof HTMLImageElement){const n=`${r}AspectRatio`;t[n]=this.gl.getUniformLocation(this.program,n)}}),this.uniformLocations=t});P(this,"renderScale",1);P(this,"parentWidth",0);P(this,"parentHeight",0);P(this,"parentDevicePixelWidth",0);P(this,"parentDevicePixelHeight",0);P(this,"devicePixelsSupported",!1);P(this,"resizeObserver",null);P(this,"setupResizeObserver",()=>{this.resizeObserver=new ResizeObserver(([t])=>{var r;if(t!=null&&t.borderBoxSize[0]){const i=(r=t.devicePixelContentBoxSize)==null?void 0:r[0];i!==void 0&&(this.devicePixelsSupported=!0,this.parentDevicePixelWidth=i.inlineSize,this.parentDevicePixelHeight=i.blockSize),this.parentWidth=t.borderBoxSize[0].inlineSize,this.parentHeight=t.borderBoxSize[0].blockSize}this.handleResize()}),this.resizeObserver.observe(this.parentElement)});P(this,"handleVisualViewportChange",()=>{var t;(t=this.resizeObserver)==null||t.disconnect(),this.setupResizeObserver()});P(this,"handleResize",()=>{let t=0,r=0;const i=Math.max(1,window.devicePixelRatio),n=(visualViewport==null?void 0:visualViewport.scale)??1;if(this.devicePixelsSupported){const u=Math.max(1,this.minPixelRatio/i);t=this.parentDevicePixelWidth*u*n,r=this.parentDevicePixelHeight*u*n}else{let u=Math.max(i,this.minPixelRatio)*n;if(this.isSafari){const h=ok();u*=Math.max(1,h)}t=Math.round(this.parentWidth)*u,r=Math.round(this.parentHeight)*u}const s=Math.sqrt(this.maxPixelCount)/Math.sqrt(t*r),o=Math.min(1,s),a=Math.round(t*o),l=Math.round(r*o),c=a/Math.round(this.parentWidth);(this.canvasElement.width!==a||this.canvasElement.height!==l||this.renderScale!==c)&&(this.renderScale=c,this.canvasElement.width=a,this.canvasElement.height=l,this.resolutionChanged=!0,this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.render(performance.now()))});P(this,"render",t=>{if(this.hasBeenDisposed)return;if(this.program===null){console.warn("Tried to render before program or gl was initialized");return}const r=t-this.lastRenderTime;this.lastRenderTime=t,this.currentSpeed!==0&&(this.currentFrame+=r*this.currentSpeed),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.useProgram(this.program),this.gl.uniform1f(this.uniformLocations.u_time,this.currentFrame*.001),this.resolutionChanged&&(this.gl.uniform2f(this.uniformLocations.u_resolution,this.gl.canvas.width,this.gl.canvas.height),this.gl.uniform1f(this.uniformLocations.u_pixelRatio,this.renderScale),this.resolutionChanged=!1),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.currentSpeed!==0?this.requestRender():this.rafId=null});P(this,"requestRender",()=>{this.rafId!==null&&cancelAnimationFrame(this.rafId),this.rafId=requestAnimationFrame(this.render)});P(this,"setTextureUniform",(t,r)=>{if(!r.complete||r.naturalWidth===0)throw new Error(`Paper Shaders: image for uniform ${t} must be fully loaded`);const i=this.textures.get(t);i&&this.gl.deleteTexture(i),this.textureUnitMap.has(t)||this.textureUnitMap.set(t,this.textureUnitMap.size);const n=this.textureUnitMap.get(t);this.gl.activeTexture(this.gl.TEXTURE0+n);const s=this.gl.createTexture();this.gl.bindTexture(this.gl.TEXTURE_2D,s),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,r),this.mipmaps.includes(t)&&(this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR));const o=this.gl.getError();if(o!==this.gl.NO_ERROR||s===null){console.error("Paper Shaders: WebGL error when uploading texture:",o);return}this.textures.set(t,s);const a=this.uniformLocations[t];if(a){this.gl.uniform1i(a,n);const l=`${t}AspectRatio`,c=this.uniformLocations[l];if(c){const u=r.naturalWidth/r.naturalHeight;this.gl.uniform1f(c,u)}}});P(this,"areUniformValuesEqual",(t,r)=>t===r?!0:Array.isArray(t)&&Array.isArray(r)&&t.length===r.length?t.every((i,n)=>this.areUniformValuesEqual(i,r[n])):!1);P(this,"setUniformValues",t=>{this.gl.useProgram(this.program),Object.entries(t).forEach(([r,i])=>{let n=i;if(i instanceof HTMLImageElement&&(n=`${i.src.slice(0,200)}|${i.naturalWidth}x${i.naturalHeight}`),this.areUniformValuesEqual(this.uniformCache[r],n))return;this.uniformCache[r]=n;const s=this.uniformLocations[r];if(!s){console.warn(`Uniform location for ${r} not found`);return}if(i instanceof HTMLImageElement)this.setTextureUniform(r,i);else if(Array.isArray(i)){let o=null,a=null;if(i[0]!==void 0&&Array.isArray(i[0])){const l=i[0].length;if(i.every(c=>c.length===l))o=i.flat(),a=l;else{console.warn(`All child arrays must be the same length for ${r}`);return}}else o=i,a=o.length;switch(a){case 2:this.gl.uniform2fv(s,o);break;case 3:this.gl.uniform3fv(s,o);break;case 4:this.gl.uniform4fv(s,o);break;case 9:this.gl.uniformMatrix3fv(s,!1,o);break;case 16:this.gl.uniformMatrix4fv(s,!1,o);break;default:console.warn(`Unsupported uniform array length: ${a}`)}}else typeof i=="number"?this.gl.uniform1f(s,i):typeof i=="boolean"?this.gl.uniform1i(s,i?1:0):console.warn(`Unsupported uniform type for ${r}: ${typeof i}`)})});P(this,"getCurrentFrame",()=>this.currentFrame);P(this,"setFrame",t=>{this.currentFrame=t,this.lastRenderTime=performance.now(),this.render(performance.now())});P(this,"setSpeed",(t=1)=>{this.speed=t,this.setCurrentSpeed(document.hidden?0:t)});P(this,"setCurrentSpeed",t=>{this.currentSpeed=t,this.rafId===null&&t!==0&&(this.lastRenderTime=performance.now(),this.rafId=requestAnimationFrame(this.render)),this.rafId!==null&&t===0&&(cancelAnimationFrame(this.rafId),this.rafId=null)});P(this,"setMaxPixelCount",(t=B_)=>{this.maxPixelCount=t,this.handleResize()});P(this,"setMinPixelRatio",(t=2)=>{this.minPixelRatio=t,this.handleResize()});P(this,"setUniforms",t=>{this.setUniformValues(t),this.providedUniforms={...this.providedUniforms,...t},this.render(performance.now())});P(this,"handleDocumentVisibilityChange",()=>{this.setCurrentSpeed(document.hidden?0:this.speed)});P(this,"dispose",()=>{this.hasBeenDisposed=!0,this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null),this.gl&&this.program&&(this.textures.forEach(t=>{this.gl.deleteTexture(t)}),this.textures.clear(),this.gl.deleteProgram(this.program),this.program=null,this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,null),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.getError()),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),visualViewport==null||visualViewport.removeEventListener("resize",this.handleVisualViewportChange),document.removeEventListener("visibilitychange",this.handleDocumentVisibilityChange),this.uniformLocations={},this.canvasElement.remove(),delete this.parentElement.paperShaderMount});if(t instanceof HTMLElement)this.parentElement=t;else throw new Error("Paper Shaders: parent element must be an HTMLElement");if(!document.querySelector("style[data-paper-shader]")){const d=document.createElement("style");d.innerHTML=nk,d.setAttribute("data-paper-shader",""),document.head.prepend(d)}const u=document.createElement("canvas");this.canvasElement=u,this.parentElement.prepend(u),this.fragmentShader=r,this.providedUniforms=i,this.mipmaps=c,this.currentFrame=o,this.minPixelRatio=a,this.maxPixelCount=l;const h=u.getContext("webgl2",n);if(!h)throw new Error("Paper Shaders: WebGL is not supported in this browser");this.gl=h,this.initProgram(),this.setupPositionAttribute(),this.setupUniforms(),this.setUniformValues(this.providedUniforms),this.setupResizeObserver(),visualViewport==null||visualViewport.addEventListener("resize",this.handleVisualViewportChange),this.setSpeed(s),this.parentElement.setAttribute("data-paper-shader",""),this.parentElement.paperShaderMount=this,document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange)}};function z_(e,t,r){const i=e.createShader(t);return i?(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)?i:(console.error("An error occurred compiling the shaders: "+e.getShaderInfoLog(i)),e.deleteShader(i),null)):null}function ik(e,t,r){const i=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT),n=i?i.precision:null;n&&n<23&&(t=t.replace(/precision\s+(lowp|mediump)\s+float;/g,"precision highp float;"),r=r.replace(/precision\s+(lowp|mediump)\s+float/g,"precision highp float").replace(/\b(uniform|varying|attribute)\s+(lowp|mediump)\s+(\w+)/g,"$1 highp $3"));const s=z_(e,e.VERTEX_SHADER,t),o=z_(e,e.FRAGMENT_SHADER,r);if(!s||!o)return null;const a=e.createProgram();return a?(e.attachShader(a,s),e.attachShader(a,o),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)?(e.detachShader(a,s),e.detachShader(a,o),e.deleteShader(s),e.deleteShader(o),a):(console.error("Unable to initialize the shader program: "+e.getProgramInfoLog(a)),e.deleteProgram(a),e.deleteShader(s),e.deleteShader(o),null)):null}const nk=`@layer paper-shaders {
  :where([data-paper-shader]) {
    isolation: isolate;
    position: relative;

    & canvas {
      contain: strict;
      display: block;
      position: absolute;
      inset: 0;
      z-index: -1;
      width: 100%;
      height: 100%;
      border-radius: inherit;
      corner-shape: inherit;
    }
  }
}`;function sk(){const e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")&&!e.includes("android")}function ok(){const e=(visualViewport==null?void 0:visualViewport.scale)??1,t=(visualViewport==null?void 0:visualViewport.width)??window.innerWidth,r=window.innerWidth-document.documentElement.clientWidth,i=e*t+r,n=outerWidth/i,s=Math.round(100*n);return s%5===0?s/100:s===33?1/3:s===67?2/3:s===133?4/3:n}const ak=`
uniform float u_originX;
uniform float u_originY;
uniform float u_worldWidth;
uniform float u_worldHeight;
uniform float u_fit;

uniform float u_scale;
uniform float u_rotation;
uniform float u_offsetX;
uniform float u_offsetY;`,lk={fit:"contain",scale:1,rotation:0,offsetX:0,offsetY:0,originX:.5,originY:.5,worldWidth:0,worldHeight:0},ck={fit:"none",scale:1,rotation:0,offsetX:0,offsetY:0,originX:.5,originY:.5,worldWidth:0,worldHeight:0},dS={none:0,contain:1,cover:2},fS=`
#define TWO_PI 6.28318530718
#define PI 3.14159265358979323846
`,uk=`
  float hash11(float p) {
    p = fract(p * 0.3183099) + 0.1;
    p *= p + 19.19;
    return fract(p * p);
  }
`,pS=`
  float hash21(vec2 p) {
    p = fract(p * vec2(0.3183099, 0.3678794)) + 0.1;
    p += dot(p, p + 19.19);
    return fract(p.x * p.y);
  }
`,hk=`
vec3 permute(vec3 x) { return mod(((x * 34.0) + 1.0) * x, 289.0); }
float snoise(vec2 v) {
  const vec4 C = vec4(0.211324865405187, 0.366025403784439,
    -0.577350269189626, 0.024390243902439);
  vec2 i = floor(v + dot(v, C.yy));
  vec2 x0 = v - i + dot(i, C.xx);
  vec2 i1;
  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
  vec4 x12 = x0.xyxy + C.xxzz;
  x12.xy -= i1;
  i = mod(i, 289.0);
  vec3 p = permute(permute(i.y + vec3(0.0, i1.y, 1.0))
    + i.x + vec3(0.0, i1.x, 1.0));
  vec3 m = max(0.5 - vec3(dot(x0, x0), dot(x12.xy, x12.xy),
      dot(x12.zw, x12.zw)), 0.0);
  m = m * m;
  m = m * m;
  vec3 x = 2.0 * fract(p * C.www) - 1.0;
  vec3 h = abs(x) - 0.5;
  vec3 ox = floor(x + 0.5);
  vec3 a0 = x - ox;
  m *= 1.79284291400159 - 0.85373472095314 * (a0 * a0 + h * h);
  vec3 g;
  g.x = a0.x * x0.x + h.x * x0.y;
  g.yz = a0.yz * x12.xz + h.yz * x12.yw;
  return 130.0 * dot(m, g);
}
`,dk=`#version 300 es
precision mediump float;

uniform float u_time;
uniform vec2 u_resolution;
uniform float u_pixelRatio;

${ak}

uniform float u_pxSize;
uniform vec4 u_colorBack;
uniform vec4 u_colorFront;
uniform float u_shape;
uniform float u_type;

out vec4 fragColor;

${hk}
${fS}
${uk}
${pS}

float getSimplexNoise(vec2 uv, float t) {
  float noise = .5 * snoise(uv - vec2(0., .3 * t));
  noise += .5 * snoise(2. * uv + vec2(0., .32 * t));

  return noise;
}

const int bayer2x2[4] = int[4](0, 2, 3, 1);
const int bayer4x4[16] = int[16](
0, 8, 2, 10,
12, 4, 14, 6,
3, 11, 1, 9,
15, 7, 13, 5
);

const int bayer8x8[64] = int[64](
0, 32, 8, 40, 2, 34, 10, 42,
48, 16, 56, 24, 50, 18, 58, 26,
12, 44, 4, 36, 14, 46, 6, 38,
60, 28, 52, 20, 62, 30, 54, 22,
3, 35, 11, 43, 1, 33, 9, 41,
51, 19, 59, 27, 49, 17, 57, 25,
15, 47, 7, 39, 13, 45, 5, 37,
63, 31, 55, 23, 61, 29, 53, 21
);

float getBayerValue(vec2 uv, int size) {
  ivec2 pos = ivec2(fract(uv / float(size)) * float(size));
  int index = pos.y * size + pos.x;

  if (size == 2) {
    return float(bayer2x2[index]) / 4.0;
  } else if (size == 4) {
    return float(bayer4x4[index]) / 16.0;
  } else if (size == 8) {
    return float(bayer8x8[index]) / 64.0;
  }
  return 0.0;
}


void main() {
  float t = .5 * u_time;

  float pxSize = u_pxSize * u_pixelRatio;
  vec2 pxSizeUV = gl_FragCoord.xy - .5 * u_resolution;
  pxSizeUV /= pxSize;
  vec2 canvasPixelizedUV = (floor(pxSizeUV) + .5) * pxSize;
  vec2 normalizedUV = canvasPixelizedUV / u_resolution;

  vec2 ditheringNoiseUV = canvasPixelizedUV;
  vec2 shapeUV = normalizedUV;

  vec2 boxOrigin = vec2(.5 - u_originX, u_originY - .5);
  vec2 givenBoxSize = vec2(u_worldWidth, u_worldHeight);
  givenBoxSize = max(givenBoxSize, vec2(1.)) * u_pixelRatio;
  float r = u_rotation * PI / 180.;
  mat2 graphicRotation = mat2(cos(r), sin(r), -sin(r), cos(r));
  vec2 graphicOffset = vec2(-u_offsetX, u_offsetY);

  float patternBoxRatio = givenBoxSize.x / givenBoxSize.y;
  vec2 boxSize = vec2(
  (u_worldWidth == 0.) ? u_resolution.x : givenBoxSize.x,
  (u_worldHeight == 0.) ? u_resolution.y : givenBoxSize.y
  );
  
  if (u_shape > 3.5) {
    vec2 objectBoxSize = vec2(0.);
    // fit = none
    objectBoxSize.x = min(boxSize.x, boxSize.y);
    if (u_fit == 1.) { // fit = contain
      objectBoxSize.x = min(u_resolution.x, u_resolution.y);
    } else if (u_fit == 2.) { // fit = cover
      objectBoxSize.x = max(u_resolution.x, u_resolution.y);
    }
    objectBoxSize.y = objectBoxSize.x;
    vec2 objectWorldScale = u_resolution.xy / objectBoxSize;

    shapeUV *= objectWorldScale;
    shapeUV += boxOrigin * (objectWorldScale - 1.);
    shapeUV += vec2(-u_offsetX, u_offsetY);
    shapeUV /= u_scale;
    shapeUV = graphicRotation * shapeUV;
  } else {
    vec2 patternBoxSize = vec2(0.);
    // fit = none
    patternBoxSize.x = patternBoxRatio * min(boxSize.x / patternBoxRatio, boxSize.y);
    float patternWorldNoFitBoxWidth = patternBoxSize.x;
    if (u_fit == 1.) { // fit = contain
      patternBoxSize.x = patternBoxRatio * min(u_resolution.x / patternBoxRatio, u_resolution.y);
    } else if (u_fit == 2.) { // fit = cover
      patternBoxSize.x = patternBoxRatio * max(u_resolution.x / patternBoxRatio, u_resolution.y);
    }
    patternBoxSize.y = patternBoxSize.x / patternBoxRatio;
    vec2 patternWorldScale = u_resolution.xy / patternBoxSize;

    shapeUV += vec2(-u_offsetX, u_offsetY) / patternWorldScale;
    shapeUV += boxOrigin;
    shapeUV -= boxOrigin / patternWorldScale;
    shapeUV *= u_resolution.xy;
    shapeUV /= u_pixelRatio;
    if (u_fit > 0.) {
      shapeUV *= (patternWorldNoFitBoxWidth / patternBoxSize.x);
    }
    shapeUV /= u_scale;
    shapeUV = graphicRotation * shapeUV;
    shapeUV += boxOrigin / patternWorldScale;
    shapeUV -= boxOrigin;
    shapeUV += .5;
  }

  float shape = 0.;
  if (u_shape < 1.5) {
    // Simplex noise
    shapeUV *= .001;

    shape = 0.5 + 0.5 * getSimplexNoise(shapeUV, t);
    shape = smoothstep(0.3, 0.9, shape);

  } else if (u_shape < 2.5) {
    // Warp
    shapeUV *= .003;

    for (float i = 1.0; i < 6.0; i++) {
      shapeUV.x += 0.6 / i * cos(i * 2.5 * shapeUV.y + t);
      shapeUV.y += 0.6 / i * cos(i * 1.5 * shapeUV.x + t);
    }

    shape = .15 / max(0.001, abs(sin(t - shapeUV.y - shapeUV.x)));
    shape = smoothstep(0.02, 1., shape);

  } else if (u_shape < 3.5) {
    // Dots
    shapeUV *= .05;

    float stripeIdx = floor(2. * shapeUV.x / TWO_PI);
    float rand = hash11(stripeIdx * 10.);
    rand = sign(rand - .5) * pow(.1 + abs(rand), .4);
    shape = sin(shapeUV.x) * cos(shapeUV.y - 5. * rand * t);
    shape = pow(abs(shape), 6.);

  } else if (u_shape < 4.5) {
    // Sine wave
    shapeUV *= 4.;

    float wave = cos(.5 * shapeUV.x - 2. * t) * sin(1.5 * shapeUV.x + t) * (.75 + .25 * cos(3. * t));
    shape = 1. - smoothstep(-1., 1., shapeUV.y + wave);

  } else if (u_shape < 5.5) {
    // Ripple

    float dist = length(shapeUV);
    float waves = sin(pow(dist, 1.7) * 7. - 3. * t) * .5 + .5;
    shape = waves;

  } else if (u_shape < 6.5) {
    // Swirl

    float l = length(shapeUV);
    float angle = 6. * atan(shapeUV.y, shapeUV.x) + 4. * t;
    float twist = 1.2;
    float offset = 1. / pow(max(l, 1e-6), twist) + angle / TWO_PI;
    float mid = smoothstep(0., 1., pow(l, twist));
    shape = mix(0., fract(offset), mid);

  } else {
    // Sphere
    shapeUV *= 2.;

    float d = 1. - pow(length(shapeUV), 2.);
    vec3 pos = vec3(shapeUV, sqrt(max(0., d)));
    vec3 lightPos = normalize(vec3(cos(1.5 * t), .8, sin(1.25 * t)));
    shape = .5 + .5 * dot(lightPos, pos);
    shape *= step(0., d);
  }


  int type = int(floor(u_type));
  float dithering = 0.0;

  switch (type) {
    case 1: {
      dithering = step(hash21(ditheringNoiseUV), shape);
    } break;
    case 2:
    dithering = getBayerValue(pxSizeUV, 2);
    break;
    case 3:
    dithering = getBayerValue(pxSizeUV, 4);
    break;
    default :
    dithering = getBayerValue(pxSizeUV, 8);
    break;
  }

  dithering -= .5;
  float res = step(.5, shape + dithering);

  vec3 fgColor = u_colorFront.rgb * u_colorFront.a;
  float fgOpacity = u_colorFront.a;
  vec3 bgColor = u_colorBack.rgb * u_colorBack.a;
  float bgOpacity = u_colorBack.a;

  vec3 color = fgColor * res;
  float opacity = fgOpacity * res;

  color += bgColor * (1. - opacity);
  opacity += bgOpacity * (1. - opacity);

  fragColor = vec4(color, opacity);
}
`,fk={simplex:1,warp:2,dots:3,wave:4,ripple:5,swirl:6,sphere:7},mS={random:1,"2x2":2,"4x4":3,"8x8":4},pk=`#version 300 es
precision mediump float;

uniform vec2 u_resolution;
uniform float u_pixelRatio;
uniform float u_originX;
uniform float u_originY;
uniform float u_worldWidth;
uniform float u_worldHeight;
uniform float u_fit;

uniform float u_scale;
uniform float u_rotation;
uniform float u_offsetX;
uniform float u_offsetY;

uniform vec4 u_colorFront;
uniform vec4 u_colorBack;
uniform vec4 u_colorHighlight;

uniform sampler2D u_image;
uniform float u_imageAspectRatio;

uniform float u_type;
uniform float u_pxSize;
uniform bool u_originalColors;
uniform float u_colorSteps;

out vec4 fragColor;


${pS}
${fS}

float getUvFrame(vec2 uv, vec2 pad) {
  float aa = 0.0001;

  float left   = smoothstep(-pad.x, -pad.x + aa, uv.x);
  float right  = smoothstep(1.0 + pad.x, 1.0 + pad.x - aa, uv.x);
  float bottom = smoothstep(-pad.y, -pad.y + aa, uv.y);
  float top    = smoothstep(1.0 + pad.y, 1.0 + pad.y - aa, uv.y);

  return left * right * bottom * top;
}

vec2 getImageUV(vec2 uv) {
  vec2 boxOrigin = vec2(.5 - u_originX, u_originY - .5);
  float r = u_rotation * PI / 180.;
  mat2 graphicRotation = mat2(cos(r), sin(r), -sin(r), cos(r));
  vec2 graphicOffset = vec2(-u_offsetX, u_offsetY);

  vec2 imageBoxSize;
  if (u_fit == 1.) { // contain
    imageBoxSize.x = min(u_resolution.x / u_imageAspectRatio, u_resolution.y) * u_imageAspectRatio;
  } else if (u_fit == 2.) { // cover
    imageBoxSize.x = max(u_resolution.x / u_imageAspectRatio, u_resolution.y) * u_imageAspectRatio;
  } else {
    imageBoxSize.x = min(10.0, 10.0 / u_imageAspectRatio * u_imageAspectRatio);
  }
  imageBoxSize.y = imageBoxSize.x / u_imageAspectRatio;
  vec2 imageBoxScale = u_resolution.xy / imageBoxSize;

  vec2 imageUV = uv;
  imageUV *= imageBoxScale;
  imageUV += boxOrigin * (imageBoxScale - 1.);
  imageUV += graphicOffset;
  imageUV /= u_scale;
  imageUV.x *= u_imageAspectRatio;
  imageUV = graphicRotation * imageUV;
  imageUV.x /= u_imageAspectRatio;

  imageUV += .5;
  imageUV.y = 1. - imageUV.y;

  return imageUV;
}

const int bayer2x2[4] = int[4](0, 2, 3, 1);
const int bayer4x4[16] = int[16](
0, 8, 2, 10,
12, 4, 14, 6,
3, 11, 1, 9,
15, 7, 13, 5
);

const int bayer8x8[64] = int[64](
0, 32, 8, 40, 2, 34, 10, 42,
48, 16, 56, 24, 50, 18, 58, 26,
12, 44, 4, 36, 14, 46, 6, 38,
60, 28, 52, 20, 62, 30, 54, 22,
3, 35, 11, 43, 1, 33, 9, 41,
51, 19, 59, 27, 49, 17, 57, 25,
15, 47, 7, 39, 13, 45, 5, 37,
63, 31, 55, 23, 61, 29, 53, 21
);

float getBayerValue(vec2 uv, int size) {
  ivec2 pos = ivec2(fract(uv / float(size)) * float(size));
  int index = pos.y * size + pos.x;

  if (size == 2) {
    return float(bayer2x2[index]) / 4.0;
  } else if (size == 4) {
    return float(bayer4x4[index]) / 16.0;
  } else if (size == 8) {
    return float(bayer8x8[index]) / 64.0;
  }
  return 0.0;
}


void main() {

  float pxSize = u_pxSize * u_pixelRatio;
  vec2 pxSizeUV = gl_FragCoord.xy - .5 * u_resolution;
  pxSizeUV /= pxSize;
  vec2 canvasPixelizedUV = (floor(pxSizeUV) + .5) * pxSize;
  vec2 normalizedUV = canvasPixelizedUV / u_resolution;

  vec2 imageUV = getImageUV(normalizedUV);
  vec2 ditheringNoiseUV = canvasPixelizedUV;
  vec4 image = texture(u_image, imageUV);
  float frame = getUvFrame(imageUV, pxSize / u_resolution);

  int type = int(floor(u_type));
  float dithering = 0.0;

  float lum = dot(vec3(.2126, .7152, .0722), image.rgb);

  switch (type) {
    case 1: {
      dithering = step(hash21(ditheringNoiseUV), lum);
    } break;
    case 2:
    dithering = getBayerValue(pxSizeUV, 2);
    break;
    case 3:
    dithering = getBayerValue(pxSizeUV, 4);
    break;
    default :
    dithering = getBayerValue(pxSizeUV, 8);
    break;
  }

  float colorSteps = max(floor(u_colorSteps), 1.);
  vec3 color = vec3(0.0);
  float opacity = 1.;

  dithering -= .5;
  float brightness = clamp(lum + dithering / colorSteps, 0.0, 1.0);
  brightness = mix(0.0, brightness, frame);
  brightness = mix(0.0, brightness, image.a);
  float quantLum = floor(brightness * colorSteps + 0.5) / colorSteps;
  quantLum = mix(0.0, quantLum, frame);

  if (u_originalColors == true) {
    vec3 normColor = image.rgb / max(lum, 0.001);
    color = normColor * quantLum;

    float quantAlpha = floor(image.a * colorSteps + 0.5) / colorSteps;
    opacity = mix(quantLum, 1., quantAlpha);
  } else {
    vec3 fgColor = u_colorFront.rgb * u_colorFront.a;
    float fgOpacity = u_colorFront.a;
    vec3 bgColor = u_colorBack.rgb * u_colorBack.a;
    float bgOpacity = u_colorBack.a;
    vec3 hlColor = u_colorHighlight.rgb * u_colorHighlight.a;
    float hlOpacity = u_colorHighlight.a;

    fgColor = mix(fgColor, hlColor, step(1.02 - .02 * u_colorSteps, brightness));
    fgOpacity = mix(fgOpacity, hlOpacity, step(1.02 - .02 * u_colorSteps, brightness));

    color = fgColor * quantLum;
    opacity = fgOpacity * quantLum;
    color += bgColor * (1.0 - opacity);
    opacity += bgOpacity * (1.0 - opacity);
  }

  fragColor = vec4(color, opacity);
}
`;function To(e){if(Array.isArray(e))return e.length===4?e:e.length===3?[...e,1]:qu;if(typeof e!="string")return qu;let t,r,i,n=1;if(e.startsWith("#"))[t,r,i,n]=mk(e);else if(e.startsWith("rgb"))[t,r,i,n]=_k(e);else if(e.startsWith("hsl"))[t,r,i,n]=vk(gk(e));else return console.error("Unsupported color format",e),qu;return[Ha(t,0,1),Ha(r,0,1),Ha(i,0,1),Ha(n,0,1)]}function mk(e){e=e.replace(/^#/,""),e.length===3&&(e=e.split("").map(s=>s+s).join("")),e.length===6&&(e=e+"ff");const t=parseInt(e.slice(0,2),16)/255,r=parseInt(e.slice(2,4),16)/255,i=parseInt(e.slice(4,6),16)/255,n=parseInt(e.slice(6,8),16)/255;return[t,r,i,n]}function _k(e){const t=e.match(/^rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([0-9.]+))?\s*\)$/i);return t?[parseInt(t[1]??"0")/255,parseInt(t[2]??"0")/255,parseInt(t[3]??"0")/255,t[4]===void 0?1:parseFloat(t[4])]:[0,0,0,1]}function gk(e){const t=e.match(/^hsla?\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(?:,\s*([0-9.]+))?\s*\)$/i);return t?[parseInt(t[1]??"0"),parseInt(t[2]??"0"),parseInt(t[3]??"0"),t[4]===void 0?1:parseFloat(t[4])]:[0,0,0,1]}function vk(e){const[t,r,i,n]=e,s=t/360,o=r/100,a=i/100;let l,c,u;if(r===0)l=c=u=a;else{const h=(p,g,S)=>(S<0&&(S+=1),S>1&&(S-=1),S<.16666666666666666?p+(g-p)*6*S:S<.5?g:S<.6666666666666666?p+(g-p)*(.6666666666666666-S)*6:p),d=a<.5?a*(1+o):a+o-a*o,f=2*a-d;l=h(f,d,s+1/3),c=h(f,d,s),u=h(f,d,s-1/3)}return[l,c,u,n]}const Ha=(e,t,r)=>Math.min(Math.max(e,t),r),qu=[0,0,0,1];function yk(){if(typeof window>"u"){console.warn("Paper Shaders: cant create an image on the server");return}const e=new Image;return e.src=Sk,e}const Sk="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";function wk(e){const t=_.useRef(void 0),r=_.useCallback(i=>{const n=e.map(s=>{if(s!=null){if(typeof s=="function"){const o=s,a=o(i);return typeof a=="function"?a:()=>{o(null)}}return s.current=i,()=>{s.current=null}}});return()=>{n.forEach(s=>s==null?void 0:s())}},e);return _.useMemo(()=>e.every(i=>i==null)?null:i=>{t.current&&(t.current(),t.current=void 0),i!=null&&(t.current=r(i))},e)}async function $_(e){const t={},r=[],i=s=>{try{return s.startsWith("/")||new URL(s),!0}catch{return!1}},n=s=>{try{return s.startsWith("/")?!1:new URL(s,window.location.origin).origin!==window.location.origin}catch{return!1}};return Object.entries(e).forEach(([s,o])=>{if(typeof o=="string"){if(!o){t[s]=yk();return}if(!i(o)){console.warn(`Uniform "${s}" has invalid URL "${o}". Skipping image loading.`);return}const a=new Promise((l,c)=>{const u=new Image;n(o)&&(u.crossOrigin="anonymous"),u.onload=()=>{t[s]=u,l()},u.onerror=()=>{console.error(`Could not set uniforms. Failed to load image at ${o}`),c()},u.src=o});r.push(a)}else t[s]=o}),await Promise.all(r),t}const Mp=_.forwardRef(function({fragmentShader:t,uniforms:r,webGlContextAttributes:i,speed:n=0,frame:s=0,width:o,height:a,minPixelRatio:l,maxPixelCount:c,mipmaps:u,style:h,...d},f){const[p,g]=_.useState(!1),S=_.useRef(null),m=_.useRef(null),v=_.useRef(i);_.useEffect(()=>((async()=>{const b=await $_(r);S.current&&!m.current&&(m.current=new rk(S.current,t,b,v.current,n,s,l,c,u),g(!0))})(),()=>{var b;(b=m.current)==null||b.dispose(),m.current=null}),[t]),_.useEffect(()=>{let w=!1;return(async()=>{var E;const R=await $_(r);w||(E=m.current)==null||E.setUniforms(R)})(),()=>{w=!0}},[r,p]),_.useEffect(()=>{var w;(w=m.current)==null||w.setSpeed(n)},[n,p]),_.useEffect(()=>{var w;(w=m.current)==null||w.setMaxPixelCount(c)},[c,p]),_.useEffect(()=>{var w;(w=m.current)==null||w.setMinPixelRatio(l)},[l,p]),_.useEffect(()=>{var w;(w=m.current)==null||w.setFrame(s)},[s,p]);const y=wk([S,f]);return x.jsx("div",{ref:y,style:o!==void 0||a!==void 0?{width:typeof o=="string"&&isNaN(+o)===!1?+o:o,height:typeof a=="string"&&isNaN(+a)===!1?+a:a,...h}:h,...d})});Mp.displayName="ShaderMount";function Ck(e,t){var r,i,n;for(const s in e){if(s==="colors"){const o=Array.isArray(e.colors),a=Array.isArray(t.colors);if(!o||!a){if(Object.is(e.colors,t.colors)===!1)return!1;continue}if(((r=e.colors)==null?void 0:r.length)!==((i=t.colors)==null?void 0:i.length)||!((n=e.colors)!=null&&n.every((l,c)=>{var u;return l===((u=t.colors)==null?void 0:u[c])})))return!1;continue}if(Object.is(e[s],t[s])===!1)return!1}return!0}const St={name:"Default",params:{...ck,speed:1,frame:0,scale:.6,colorBack:"#000000",colorFront:"#00b2ff",shape:"sphere",type:"4x4",size:2}},bk=_.memo(function({speed:t=St.params.speed,frame:r=St.params.frame,colorBack:i=St.params.colorBack,colorFront:n=St.params.colorFront,shape:s=St.params.shape,type:o=St.params.type,pxSize:a,size:l=a===void 0?St.params.size:a,fit:c=St.params.fit,scale:u=St.params.scale,rotation:h=St.params.rotation,originX:d=St.params.originX,originY:f=St.params.originY,offsetX:p=St.params.offsetX,offsetY:g=St.params.offsetY,worldWidth:S=St.params.worldWidth,worldHeight:m=St.params.worldHeight,...v}){const y={u_colorBack:To(i),u_colorFront:To(n),u_shape:fk[s],u_type:mS[o],u_pxSize:l,u_fit:dS[c],u_scale:u,u_rotation:h,u_offsetX:p,u_offsetY:g,u_originX:d,u_originY:f,u_worldWidth:S,u_worldHeight:m};return x.jsx(Mp,{...v,speed:t,frame:r,fragmentShader:dk,uniforms:y})}),tt={name:"Default",params:{...lk,fit:"cover",speed:0,frame:0,colorFront:"#94ffaf",colorBack:"#000c38",colorHighlight:"#eaff94",type:"8x8",size:2,colorSteps:2,originalColors:!1}},xk=_.memo(function({speed:t=tt.params.speed,frame:r=tt.params.frame,colorFront:i=tt.params.colorFront,colorBack:n=tt.params.colorBack,colorHighlight:s=tt.params.colorHighlight,image:o="",type:a=tt.params.type,colorSteps:l=tt.params.colorSteps,originalColors:c=tt.params.originalColors,pxSize:u,size:h=u===void 0?tt.params.size:u,fit:d=tt.params.fit,scale:f=tt.params.scale,rotation:p=tt.params.rotation,originX:g=tt.params.originX,originY:S=tt.params.originY,offsetX:m=tt.params.offsetX,offsetY:v=tt.params.offsetY,worldWidth:y=tt.params.worldWidth,worldHeight:w=tt.params.worldHeight,...b}){const R={u_image:o,u_colorFront:To(i),u_colorBack:To(n),u_colorHighlight:To(s),u_type:mS[a],u_pxSize:h,u_colorSteps:l,u_originalColors:c,u_fit:dS[d],u_rotation:p,u_scale:f,u_offsetX:m,u_offsetY:v,u_originX:g,u_originY:S,u_worldWidth:y,u_worldHeight:w};return x.jsx(Mp,{...b,speed:t,frame:r,fragmentShader:pk,uniforms:R})},Ck);function _S(e,t){if(e==null)return{};var r={},i=Object.keys(e),n,s;for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}var Ek=["color"],kk=_.forwardRef(function(e,t){var r=e.color,i=r===void 0?"currentColor":r,n=_S(e,Ek);return _.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),_.createElement("path",{d:"M3 2C2.44772 2 2 2.44772 2 3V12C2 12.5523 2.44772 13 3 13H12C12.5523 13 13 12.5523 13 12V8.5C13 8.22386 12.7761 8 12.5 8C12.2239 8 12 8.22386 12 8.5V12H3V3L6.5 3C6.77614 3 7 2.77614 7 2.5C7 2.22386 6.77614 2 6.5 2H3ZM12.8536 2.14645C12.9015 2.19439 12.9377 2.24964 12.9621 2.30861C12.9861 2.36669 12.9996 2.4303 13 2.497L13 2.5V2.50049V5.5C13 5.77614 12.7761 6 12.5 6C12.2239 6 12 5.77614 12 5.5V3.70711L6.85355 8.85355C6.65829 9.04882 6.34171 9.04882 6.14645 8.85355C5.95118 8.65829 5.95118 8.34171 6.14645 8.14645L11.2929 3H9.5C9.22386 3 9 2.77614 9 2.5C9 2.22386 9.22386 2 9.5 2H12.4999H12.5C12.5678 2 12.6324 2.01349 12.6914 2.03794C12.7504 2.06234 12.8056 2.09851 12.8536 2.14645Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Rk=["color"],Pk=_.forwardRef(function(e,t){var r=e.color,i=r===void 0?"currentColor":r,n=_S(e,Rk);return _.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),_.createElement("path",{d:"M7.49933 0.25C3.49635 0.25 0.25 3.49593 0.25 7.50024C0.25 10.703 2.32715 13.4206 5.2081 14.3797C5.57084 14.446 5.70302 14.2222 5.70302 14.0299C5.70302 13.8576 5.69679 13.4019 5.69323 12.797C3.67661 13.235 3.25112 11.825 3.25112 11.825C2.92132 10.9874 2.44599 10.7644 2.44599 10.7644C1.78773 10.3149 2.49584 10.3238 2.49584 10.3238C3.22353 10.375 3.60629 11.0711 3.60629 11.0711C4.25298 12.1788 5.30335 11.8588 5.71638 11.6732C5.78225 11.205 5.96962 10.8854 6.17658 10.7043C4.56675 10.5209 2.87415 9.89918 2.87415 7.12104C2.87415 6.32925 3.15677 5.68257 3.62053 5.17563C3.54576 4.99226 3.29697 4.25521 3.69174 3.25691C3.69174 3.25691 4.30015 3.06196 5.68522 3.99973C6.26337 3.83906 6.8838 3.75895 7.50022 3.75583C8.1162 3.75895 8.73619 3.83906 9.31523 3.99973C10.6994 3.06196 11.3069 3.25691 11.3069 3.25691C11.7026 4.25521 11.4538 4.99226 11.3795 5.17563C11.8441 5.68257 12.1245 6.32925 12.1245 7.12104C12.1245 9.9063 10.4292 10.5192 8.81452 10.6985C9.07444 10.9224 9.30633 11.3648 9.30633 12.0413C9.30633 13.0102 9.29742 13.7922 9.29742 14.0299C9.29742 14.2239 9.42828 14.4496 9.79591 14.3788C12.6746 13.4179 14.75 10.7025 14.75 7.50024C14.75 3.49593 11.5036 0.25 7.49933 0.25Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))});function F_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gS(...e){return t=>{let r=!1;const i=e.map(n=>{const s=F_(n,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let n=0;n<i.length;n++){const s=i[n];typeof s=="function"?s():F_(e[n],null)}}}}function _e(...e){return _.useCallback(gS(...e),e)}function Xo(e){const t=Tk(e),r=_.forwardRef((i,n)=>{const{children:s,...o}=i,a=_.Children.toArray(s),l=a.find(Lk);if(l){const c=l.props.children,u=a.map(h=>h===l?_.Children.count(c)>1?_.Children.only(null):_.isValidElement(c)?c.props.children:null:h);return x.jsx(t,{...o,ref:n,children:_.isValidElement(c)?_.cloneElement(c,void 0,u):null})}return x.jsx(t,{...o,ref:n,children:s})});return r.displayName=`${e}.Slot`,r}var pi=Xo("Slot");function Tk(e){const t=_.forwardRef((r,i)=>{const{children:n,...s}=r;if(_.isValidElement(n)){const o=Nk(n),a=Dk(s,n.props);return n.type!==_.Fragment&&(a.ref=i?gS(i,o):o),_.cloneElement(n,a)}return _.Children.count(n)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vS=Symbol("radix.slottable");function Ak(e){const t=({children:r})=>x.jsx(x.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=vS,t}function Lk(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vS}function Dk(e,t){const r={...t};for(const i in t){const n=e[i],s=t[i];/^on[A-Z]/.test(i)?n&&s?r[i]=(...a)=>{const l=s(...a);return n(...a),l}:n&&(r[i]=n):i==="style"?r[i]={...n,...s}:i==="className"&&(r[i]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}function Nk(e){var i,n;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ok=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],le=Ok.reduce((e,t)=>{const r=Xo(`Primitive.${t}`),i=_.forwardRef((n,s)=>{const{asChild:o,...a}=n,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(l,{...a,ref:s})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function yS(e,t){e&&Ls.flushSync(()=>e.dispatchEvent(t))}var SS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ik="VisuallyHidden",wS=_.forwardRef((e,t)=>x.jsx(le.span,{...e,ref:t,style:{...SS,...e.style}}));wS.displayName=Ik;var CS=wS;function Ji(e,t=[]){let r=[];function i(s,o){const a=_.createContext(o),l=r.length;r=[...r,o];const c=h=>{var m;const{scope:d,children:f,...p}=h,g=((m=d==null?void 0:d[e])==null?void 0:m[l])||a,S=_.useMemo(()=>p,Object.values(p));return x.jsx(g.Provider,{value:S,children:f})};c.displayName=s+"Provider";function u(h,d){var g;const f=((g=d==null?void 0:d[e])==null?void 0:g[l])||a,p=_.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const n=()=>{const s=r.map(o=>_.createContext(o));return function(a){const l=(a==null?void 0:a[e])||s;return _.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return n.scopeName=e,[i,Mk(n,...t)]}function Mk(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const i=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function bS(e){const t=e+"CollectionProvider",[r,i]=Ji(t),[n,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:S,children:m}=g,v=fe.useRef(null),y=fe.useRef(new Map).current;return x.jsx(n,{scope:S,itemMap:y,collectionRef:v,children:m})};o.displayName=t;const a=e+"CollectionSlot",l=Xo(a),c=fe.forwardRef((g,S)=>{const{scope:m,children:v}=g,y=s(a,m),w=_e(S,y.collectionRef);return x.jsx(l,{ref:w,children:v})});c.displayName=a;const u=e+"CollectionItemSlot",h="data-radix-collection-item",d=Xo(u),f=fe.forwardRef((g,S)=>{const{scope:m,children:v,...y}=g,w=fe.useRef(null),b=_e(S,w),R=s(u,m);return fe.useEffect(()=>(R.itemMap.set(w,{ref:w,...y}),()=>void R.itemMap.delete(w))),x.jsx(d,{[h]:"",ref:b,children:v})});f.displayName=u;function p(g){const S=s(e+"CollectionConsumer",g);return fe.useCallback(()=>{const v=S.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((R,E)=>y.indexOf(R.ref.current)-y.indexOf(E.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},p,i]}function te(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e==null||e(n),r===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}var gt=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},Bk=c0[" useInsertionEffect ".trim().toString()]||gt;function Ki({prop:e,defaultProp:t,onChange:r=()=>{},caller:i}){const[n,s,o]=zk({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:n;{const u=_.useRef(e!==void 0);_.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${i} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,i])}const c=_.useCallback(u=>{var h;if(a){const d=$k(u)?u(e):u;d!==e&&((h=o.current)==null||h.call(o,d))}else s(u)},[a,e,s,o]);return[l,c]}function zk({defaultProp:e,onChange:t}){const[r,i]=_.useState(e),n=_.useRef(r),s=_.useRef(t);return Bk(()=>{s.current=t},[t]),_.useEffect(()=>{var o;n.current!==r&&((o=s.current)==null||o.call(s,r),n.current=r)},[r,n]),[r,i,s]}function $k(e){return typeof e=="function"}function Fk(e,t){return _.useReducer((r,i)=>t[r][i]??r,e)}var Ds=e=>{const{present:t,children:r}=e,i=Hk(t),n=typeof r=="function"?r({present:i.isPresent}):_.Children.only(r),s=_e(i.ref,Vk(n));return typeof r=="function"||i.isPresent?_.cloneElement(n,{ref:s}):null};Ds.displayName="Presence";function Hk(e){const[t,r]=_.useState(),i=_.useRef(null),n=_.useRef(e),s=_.useRef("none"),o=e?"mounted":"unmounted",[a,l]=Fk(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const c=Va(i.current);s.current=a==="mounted"?c:"none"},[a]),gt(()=>{const c=i.current,u=n.current;if(u!==e){const d=s.current,f=Va(c);e?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==f?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,l]),gt(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,h=f=>{const g=Va(i.current).includes(CSS.escape(f.animationName));if(f.target===t&&g&&(l("ANIMATION_END"),!n.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},d=f=>{f.target===t&&(s.current=Va(i.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:_.useCallback(c=>{i.current=c?getComputedStyle(c):null,r(c)},[])}}function Va(e){return(e==null?void 0:e.animationName)||"none"}function Vk(e){var i,n;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Wk=c0[" useId ".trim().toString()]||(()=>{}),Uk=0;function Gc(e){const[t,r]=_.useState(Wk());return gt(()=>{e||r(i=>i??String(Uk++))},[e]),e||(t?`radix-${t}`:"")}var xS=_.createContext(void 0),jk=e=>{const{dir:t,children:r}=e;return x.jsx(xS.Provider,{value:t,children:r})};function Kc(e){const t=_.useContext(xS);return e||t||"ltr"}var Gk=jk;function Tt(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...r)=>{var i;return(i=t.current)==null?void 0:i.call(t,...r)},[])}function Kk(e,t=globalThis==null?void 0:globalThis.document){const r=Tt(e);_.useEffect(()=>{const i=n=>{n.key==="Escape"&&r(n)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[r,t])}var qk="DismissableLayer",kd="dismissableLayer.update",Yk="dismissableLayer.pointerDownOutside",Xk="dismissableLayer.focusOutside",H_,ES=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bp=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:n,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=e,c=_.useContext(ES),[u,h]=_.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=_.useState({}),p=_e(t,E=>h(E)),g=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=g.indexOf(S),v=u?g.indexOf(u):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,w=v>=m,b=Jk(E=>{const L=E.target,A=[...c.branches].some(O=>O.contains(L));!w||A||(n==null||n(E),o==null||o(E),E.defaultPrevented||a==null||a())},d),R=e2(E=>{const L=E.target;[...c.branches].some(O=>O.contains(L))||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},d);return Kk(E=>{v===c.layers.size-1&&(i==null||i(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},d),_.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(H_=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),V_(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=H_)}},[u,d,r,c]),_.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),V_())},[u,c]),_.useEffect(()=>{const E=()=>f({});return document.addEventListener(kd,E),()=>document.removeEventListener(kd,E)},[]),x.jsx(le.div,{...l,ref:p,style:{pointerEvents:y?w?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,R.onFocusCapture),onBlurCapture:te(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,b.onPointerDownCapture)})});Bp.displayName=qk;var Qk="DismissableLayerBranch",Zk=_.forwardRef((e,t)=>{const r=_.useContext(ES),i=_.useRef(null),n=_e(t,i);return _.useEffect(()=>{const s=i.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),x.jsx(le.div,{...e,ref:n})});Zk.displayName=Qk;function Jk(e,t=globalThis==null?void 0:globalThis.document){const r=Tt(e),i=_.useRef(!1),n=_.useRef(()=>{});return _.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let l=function(){kS(Yk,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",n.current),n.current=l,t.addEventListener("click",n.current,{once:!0})):l()}else t.removeEventListener("click",n.current);i.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",n.current)}},[t,r]),{onPointerDownCapture:()=>i.current=!0}}function e2(e,t=globalThis==null?void 0:globalThis.document){const r=Tt(e),i=_.useRef(!1);return _.useEffect(()=>{const n=s=>{s.target&&!i.current&&kS(Xk,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",n),()=>t.removeEventListener("focusin",n)},[t,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function V_(){const e=new CustomEvent(kd);document.dispatchEvent(e)}function kS(e,t,r,{discrete:i}){const n=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),i?yS(n,s):n.dispatchEvent(s)}var Yu="focusScope.autoFocusOnMount",Xu="focusScope.autoFocusOnUnmount",W_={bubbles:!1,cancelable:!0},t2="FocusScope",RS=_.forwardRef((e,t)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:n,onUnmountAutoFocus:s,...o}=e,[a,l]=_.useState(null),c=Tt(n),u=Tt(s),h=_.useRef(null),d=_e(t,g=>l(g)),f=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(i){let g=function(y){if(f.paused||!a)return;const w=y.target;a.contains(w)?h.current=w:Ei(h.current,{select:!0})},S=function(y){if(f.paused||!a)return;const w=y.relatedTarget;w!==null&&(a.contains(w)||Ei(h.current,{select:!0}))},m=function(y){if(document.activeElement===document.body)for(const b of y)b.removedNodes.length>0&&Ei(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",S);const v=new MutationObserver(m);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",S),v.disconnect()}}},[i,a,f.paused]),_.useEffect(()=>{if(a){j_.add(f);const g=document.activeElement;if(!a.contains(g)){const m=new CustomEvent(Yu,W_);a.addEventListener(Yu,c),a.dispatchEvent(m),m.defaultPrevented||(r2(a2(PS(a)),{select:!0}),document.activeElement===g&&Ei(a))}return()=>{a.removeEventListener(Yu,c),setTimeout(()=>{const m=new CustomEvent(Xu,W_);a.addEventListener(Xu,u),a.dispatchEvent(m),m.defaultPrevented||Ei(g??document.body,{select:!0}),a.removeEventListener(Xu,u),j_.remove(f)},0)}}},[a,c,u,f]);const p=_.useCallback(g=>{if(!r&&!i||f.paused)return;const S=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,m=document.activeElement;if(S&&m){const v=g.currentTarget,[y,w]=i2(v);y&&w?!g.shiftKey&&m===w?(g.preventDefault(),r&&Ei(y,{select:!0})):g.shiftKey&&m===y&&(g.preventDefault(),r&&Ei(w,{select:!0})):m===v&&g.preventDefault()}},[r,i,f.paused]);return x.jsx(le.div,{tabIndex:-1,...o,ref:d,onKeyDown:p})});RS.displayName=t2;function r2(e,{select:t=!1}={}){const r=document.activeElement;for(const i of e)if(Ei(i,{select:t}),document.activeElement!==r)return}function i2(e){const t=PS(e),r=U_(t,e),i=U_(t.reverse(),e);return[r,i]}function PS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const n=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||n?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function U_(e,t){for(const r of e)if(!n2(r,{upTo:t}))return r}function n2(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function s2(e){return e instanceof HTMLInputElement&&"select"in e}function Ei(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&s2(e)&&t&&e.select()}}var j_=o2();function o2(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=G_(e,t),e.unshift(t)},remove(t){var r;e=G_(e,t),(r=e[0])==null||r.resume()}}}function G_(e,t){const r=[...e],i=r.indexOf(t);return i!==-1&&r.splice(i,1),r}function a2(e){return e.filter(t=>t.tagName!=="A")}var l2="Portal",TS=_.forwardRef((e,t)=>{var a;const{container:r,...i}=e,[n,s]=_.useState(!1);gt(()=>s(!0),[]);const o=r||n&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?ek.createPortal(x.jsx(le.div,{...i,ref:t}),o):null});TS.displayName=l2;var Qu=0;function c2(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??K_()),document.body.insertAdjacentElement("beforeend",e[1]??K_()),Qu++,()=>{Qu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Qu--}},[])}function K_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vr=function(){return Vr=Object.assign||function(t){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Vr.apply(this,arguments)};function AS(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function u2(e,t,r){if(r||arguments.length===2)for(var i=0,n=t.length,s;i<n;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}var _l="right-scroll-bar-position",gl="width-before-scroll-bar",h2="with-scroll-bars-hidden",d2="--removed-body-scroll-bar-size";function Zu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function f2(e,t){var r=_.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(i){var n=r.value;n!==i&&(r.value=i,r.callback(i,n))}}}})[0];return r.callback=t,r.facade}var p2=typeof window<"u"?_.useLayoutEffect:_.useEffect,q_=new WeakMap;function m2(e,t){var r=f2(t||null,function(i){return e.forEach(function(n){return Zu(n,i)})});return p2(function(){var i=q_.get(r);if(i){var n=new Set(i),s=new Set(e),o=r.current;n.forEach(function(a){s.has(a)||Zu(a,null)}),s.forEach(function(a){n.has(a)||Zu(a,o)})}q_.set(r,e)},[e]),r}function _2(e){return e}function g2(e,t){t===void 0&&(t=_2);var r=[],i=!1,n={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,i);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(i=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(a){return s(a)},filter:function(){return r}}},assignMedium:function(s){i=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(s),o=r}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),r}}}};return n}function v2(e){e===void 0&&(e={});var t=g2(null);return t.options=Vr({async:!0,ssr:!1},e),t}var LS=function(e){var t=e.sideCar,r=AS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return _.createElement(i,Vr({},r))};LS.isSideCarExport=!0;function y2(e,t){return e.useMedium(t),LS}var DS=v2(),Ju=function(){},qc=_.forwardRef(function(e,t){var r=_.useRef(null),i=_.useState({onScrollCapture:Ju,onWheelCapture:Ju,onTouchMoveCapture:Ju}),n=i[0],s=i[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,h=e.shards,d=e.sideCar,f=e.noRelative,p=e.noIsolation,g=e.inert,S=e.allowPinchZoom,m=e.as,v=m===void 0?"div":m,y=e.gapMode,w=AS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=d,R=m2([r,t]),E=Vr(Vr({},w),n);return _.createElement(_.Fragment,null,u&&_.createElement(b,{sideCar:DS,removeScrollBar:c,shards:h,noRelative:f,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!S,lockRef:r,gapMode:y}),o?_.cloneElement(_.Children.only(a),Vr(Vr({},E),{ref:R})):_.createElement(v,Vr({},E,{className:l,ref:R}),a))});qc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qc.classNames={fullWidth:gl,zeroRight:_l};var Y_,S2=function(){if(Y_)return Y_;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function w2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=S2();return t&&e.setAttribute("nonce",t),e}function C2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function b2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var x2=function(){var e=0,t=null;return{add:function(r){e==0&&(t=w2())&&(C2(t,r),b2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},E2=function(){var e=x2();return function(t,r){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},NS=function(){var e=E2(),t=function(r){var i=r.styles,n=r.dynamic;return e(i,n),null};return t},k2={left:0,top:0,right:0,gap:0},eh=function(e){return parseInt(e||"",10)||0},R2=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],n=t[e==="padding"?"paddingRight":"marginRight"];return[eh(r),eh(i),eh(n)]},P2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return k2;var t=R2(e),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-r+t[2]-t[0])}},T2=NS(),us="data-scroll-locked",A2=function(e,t,r,i){var n=e.left,s=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(h2,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(a,"px ").concat(i,`;
  }
  body[`).concat(us,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_l,` {
    right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(gl,` {
    margin-right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(_l," .").concat(_l,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(gl," .").concat(gl,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(us,`] {
    `).concat(d2,": ").concat(a,`px;
  }
`)},X_=function(){var e=parseInt(document.body.getAttribute(us)||"0",10);return isFinite(e)?e:0},L2=function(){_.useEffect(function(){return document.body.setAttribute(us,(X_()+1).toString()),function(){var e=X_()-1;e<=0?document.body.removeAttribute(us):document.body.setAttribute(us,e.toString())}},[])},D2=function(e){var t=e.noRelative,r=e.noImportant,i=e.gapMode,n=i===void 0?"margin":i;L2();var s=_.useMemo(function(){return P2(n)},[n]);return _.createElement(T2,{styles:A2(s,!t,n,r?"":"!important")})},Rd=!1;if(typeof window<"u")try{var Wa=Object.defineProperty({},"passive",{get:function(){return Rd=!0,!0}});window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Rd=!1}var Mn=Rd?{passive:!1}:!1,N2=function(e){return e.tagName==="TEXTAREA"},OS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!N2(e)&&r[t]==="visible")},O2=function(e){return OS(e,"overflowY")},I2=function(e){return OS(e,"overflowX")},Q_=function(e,t){var r=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var n=IS(e,i);if(n){var s=MS(e,i),o=s[1],a=s[2];if(o>a)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},M2=function(e){var t=e.scrollTop,r=e.scrollHeight,i=e.clientHeight;return[t,r,i]},B2=function(e){var t=e.scrollLeft,r=e.scrollWidth,i=e.clientWidth;return[t,r,i]},IS=function(e,t){return e==="v"?O2(t):I2(t)},MS=function(e,t){return e==="v"?M2(t):B2(t)},z2=function(e,t){return e==="h"&&t==="rtl"?-1:1},$2=function(e,t,r,i,n){var s=z2(e,window.getComputedStyle(t).direction),o=s*i,a=r.target,l=t.contains(a),c=!1,u=o>0,h=0,d=0;do{if(!a)break;var f=MS(e,a),p=f[0],g=f[1],S=f[2],m=g-S-s*p;(p||m)&&IS(e,a)&&(h+=m,d+=p);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(n&&Math.abs(h)<1||!n&&o>h)||!u&&(n&&Math.abs(d)<1||!n&&-o>d))&&(c=!0),c},Ua=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Z_=function(e){return[e.deltaX,e.deltaY]},J_=function(e){return e&&"current"in e?e.current:e},F2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},H2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},V2=0,Bn=[];function W2(e){var t=_.useRef([]),r=_.useRef([0,0]),i=_.useRef(),n=_.useState(V2++)[0],s=_.useState(NS)[0],o=_.useRef(e);_.useEffect(function(){o.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var g=u2([e.lockRef.current],(e.shards||[]).map(J_),!0).filter(Boolean);return g.forEach(function(S){return S.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),g.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var a=_.useCallback(function(g,S){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var m=Ua(g),v=r.current,y="deltaX"in g?g.deltaX:v[0]-m[0],w="deltaY"in g?g.deltaY:v[1]-m[1],b,R=g.target,E=Math.abs(y)>Math.abs(w)?"h":"v";if("touches"in g&&E==="h"&&R.type==="range")return!1;var L=window.getSelection(),A=L&&L.anchorNode,O=A?A===R||A.contains(R):!1;if(O)return!1;var N=Q_(E,R);if(!N)return!0;if(N?b=E:(b=E==="v"?"h":"v",N=Q_(E,R)),!N)return!1;if(!i.current&&"changedTouches"in g&&(y||w)&&(i.current=b),!b)return!0;var D=i.current||b;return $2(D,S,g,D==="h"?y:w,!0)},[]),l=_.useCallback(function(g){var S=g;if(!(!Bn.length||Bn[Bn.length-1]!==s)){var m="deltaY"in S?Z_(S):Ua(S),v=t.current.filter(function(b){return b.name===S.type&&(b.target===S.target||S.target===b.shadowParent)&&F2(b.delta,m)})[0];if(v&&v.should){S.cancelable&&S.preventDefault();return}if(!v){var y=(o.current.shards||[]).map(J_).filter(Boolean).filter(function(b){return b.contains(S.target)}),w=y.length>0?a(S,y[0]):!o.current.noIsolation;w&&S.cancelable&&S.preventDefault()}}},[]),c=_.useCallback(function(g,S,m,v){var y={name:g,delta:S,target:m,should:v,shadowParent:U2(m)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(w){return w!==y})},1)},[]),u=_.useCallback(function(g){r.current=Ua(g),i.current=void 0},[]),h=_.useCallback(function(g){c(g.type,Z_(g),g.target,a(g,e.lockRef.current))},[]),d=_.useCallback(function(g){c(g.type,Ua(g),g.target,a(g,e.lockRef.current))},[]);_.useEffect(function(){return Bn.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",l,Mn),document.addEventListener("touchmove",l,Mn),document.addEventListener("touchstart",u,Mn),function(){Bn=Bn.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,Mn),document.removeEventListener("touchmove",l,Mn),document.removeEventListener("touchstart",u,Mn)}},[]);var f=e.removeScrollBar,p=e.inert;return _.createElement(_.Fragment,null,p?_.createElement(s,{styles:H2(n)}):null,f?_.createElement(D2,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function U2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const j2=y2(DS,W2);var BS=_.forwardRef(function(e,t){return _.createElement(qc,Vr({},e,{ref:t,sideCar:j2}))});BS.classNames=qc.classNames;const G2=BS;var K2=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zn=new WeakMap,ja=new WeakMap,Ga={},th=0,zS=function(e){return e&&(e.host||zS(e.parentNode))},q2=function(e,t){return t.map(function(r){if(e.contains(r))return r;var i=zS(r);return i&&e.contains(i)?i:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Y2=function(e,t,r,i){var n=q2(t,Array.isArray(e)?e:[e]);Ga[r]||(Ga[r]=new WeakMap);var s=Ga[r],o=[],a=new Set,l=new Set(n),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};n.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(d){if(a.has(d))u(d);else try{var f=d.getAttribute(i),p=f!==null&&f!=="false",g=(zn.get(d)||0)+1,S=(s.get(d)||0)+1;zn.set(d,g),s.set(d,S),o.push(d),g===1&&p&&ja.set(d,!0),S===1&&d.setAttribute(r,"true"),p||d.setAttribute(i,"true")}catch(m){console.error("aria-hidden: cannot operate on ",d,m)}})};return u(t),a.clear(),th++,function(){o.forEach(function(h){var d=zn.get(h)-1,f=s.get(h)-1;zn.set(h,d),s.set(h,f),d||(ja.has(h)||h.removeAttribute(i),ja.delete(h)),f||h.removeAttribute(r)}),th--,th||(zn=new WeakMap,zn=new WeakMap,ja=new WeakMap,Ga={})}},X2=function(e,t,r){r===void 0&&(r="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),n=t||K2(e);return n?(i.push.apply(i,Array.from(n.querySelectorAll("[aria-live], script"))),Y2(i,n,r,"aria-hidden")):function(){return null}};function $S(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function FS(e){const[t,r]=_.useState(void 0);return gt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const s=n[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else r(void 0)},[e]),t}const Q2=["top","right","bottom","left"],qi=Math.min,Xt=Math.max,ec=Math.round,Ka=Math.floor,Gr=e=>({x:e,y:e}),Z2={left:"right",right:"left",bottom:"top",top:"bottom"},J2={start:"end",end:"start"};function Pd(e,t,r){return Xt(e,qi(t,r))}function hi(e,t){return typeof e=="function"?e(t):e}function di(e){return e.split("-")[0]}function Ns(e){return e.split("-")[1]}function zp(e){return e==="x"?"y":"x"}function $p(e){return e==="y"?"height":"width"}const eR=new Set(["top","bottom"]);function Wr(e){return eR.has(di(e))?"y":"x"}function Fp(e){return zp(Wr(e))}function tR(e,t,r){r===void 0&&(r=!1);const i=Ns(e),n=Fp(e),s=$p(n);let o=n==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=tc(o)),[o,tc(o)]}function rR(e){const t=tc(e);return[Td(e),t,Td(t)]}function Td(e){return e.replace(/start|end/g,t=>J2[t])}const eg=["left","right"],tg=["right","left"],iR=["top","bottom"],nR=["bottom","top"];function sR(e,t,r){switch(e){case"top":case"bottom":return r?t?tg:eg:t?eg:tg;case"left":case"right":return t?iR:nR;default:return[]}}function oR(e,t,r,i){const n=Ns(e);let s=sR(di(e),r==="start",i);return n&&(s=s.map(o=>o+"-"+n),t&&(s=s.concat(s.map(Td)))),s}function tc(e){return e.replace(/left|right|bottom|top/g,t=>Z2[t])}function aR(e){return{top:0,right:0,bottom:0,left:0,...e}}function HS(e){return typeof e!="number"?aR(e):{top:e,right:e,bottom:e,left:e}}function rc(e){const{x:t,y:r,width:i,height:n}=e;return{width:i,height:n,top:r,left:t,right:t+i,bottom:r+n,x:t,y:r}}function rg(e,t,r){let{reference:i,floating:n}=e;const s=Wr(t),o=Fp(t),a=$p(o),l=di(t),c=s==="y",u=i.x+i.width/2-n.width/2,h=i.y+i.height/2-n.height/2,d=i[a]/2-n[a]/2;let f;switch(l){case"top":f={x:u,y:i.y-n.height};break;case"bottom":f={x:u,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:h};break;case"left":f={x:i.x-n.width,y:h};break;default:f={x:i.x,y:i.y}}switch(Ns(t)){case"start":f[o]-=d*(r&&c?-1:1);break;case"end":f[o]+=d*(r&&c?-1:1);break}return f}const lR=async(e,t,r)=>{const{placement:i="bottom",strategy:n="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:n}),{x:u,y:h}=rg(c,i,l),d=i,f={},p=0;for(let g=0;g<a.length;g++){const{name:S,fn:m}=a[g],{x:v,y,data:w,reset:b}=await m({x:u,y:h,initialPlacement:i,placement:d,strategy:n,middlewareData:f,rects:c,platform:o,elements:{reference:e,floating:t}});u=v??u,h=y??h,f={...f,[S]:{...f[S],...w}},b&&p<=50&&(p++,typeof b=="object"&&(b.placement&&(d=b.placement),b.rects&&(c=b.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:n}):b.rects),{x:u,y:h}=rg(c,d,l)),g=-1)}return{x:u,y:h,placement:d,strategy:n,middlewareData:f}};async function Qo(e,t){var r;t===void 0&&(t={});const{x:i,y:n,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=hi(t,e),p=HS(f),S=a[d?h==="floating"?"reference":"floating":h],m=rc(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(S)))==null||r?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=h==="floating"?{x:i,y:n,width:o.floating.width,height:o.floating.height}:o.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},b=rc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(m.top-b.top+p.top)/w.y,bottom:(b.bottom-m.bottom+p.bottom)/w.y,left:(m.left-b.left+p.left)/w.x,right:(b.right-m.right+p.right)/w.x}}const cR=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:i,placement:n,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=hi(e,t)||{};if(c==null)return{};const h=HS(u),d={x:r,y:i},f=Fp(n),p=$p(f),g=await o.getDimensions(c),S=f==="y",m=S?"top":"left",v=S?"bottom":"right",y=S?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[f]-d[f]-s.floating[p],b=d[f]-s.reference[f],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=R?R[y]:0;(!E||!await(o.isElement==null?void 0:o.isElement(R)))&&(E=a.floating[y]||s.floating[p]);const L=w/2-b/2,A=E/2-g[p]/2-1,O=qi(h[m],A),N=qi(h[v],A),D=O,T=E-g[p]-N,I=E/2-g[p]/2+L,z=Pd(D,I,T),M=!l.arrow&&Ns(n)!=null&&I!==z&&s.reference[p]/2-(I<D?O:N)-g[p]/2<0,W=M?I<D?I-D:I-T:0;return{[f]:d[f]+W,data:{[f]:z,centerOffset:I-z-W,...M&&{alignmentOffset:W}},reset:M}}}),uR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,i;const{placement:n,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...S}=hi(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const m=di(n),v=Wr(a),y=di(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),b=d||(y||!g?[tc(a)]:rR(a)),R=p!=="none";!d&&R&&b.push(...oR(a,g,p,w));const E=[a,...b],L=await Qo(t,S),A=[];let O=((i=s.flip)==null?void 0:i.overflows)||[];if(u&&A.push(L[m]),h){const I=tR(n,o,w);A.push(L[I[0]],L[I[1]])}if(O=[...O,{placement:n,overflows:A}],!A.every(I=>I<=0)){var N,D;const I=(((N=s.flip)==null?void 0:N.index)||0)+1,z=E[I];if(z&&(!(h==="alignment"?v!==Wr(z):!1)||O.every(k=>Wr(k.placement)===v?k.overflows[0]>0:!0)))return{data:{index:I,overflows:O},reset:{placement:z}};let M=(D=O.filter(W=>W.overflows[0]<=0).sort((W,k)=>W.overflows[1]-k.overflows[1])[0])==null?void 0:D.placement;if(!M)switch(f){case"bestFit":{var T;const W=(T=O.filter(k=>{if(R){const $=Wr(k.placement);return $===v||$==="y"}return!0}).map(k=>[k.placement,k.overflows.filter($=>$>0).reduce(($,U)=>$+U,0)]).sort((k,$)=>k[1]-$[1])[0])==null?void 0:T[0];W&&(M=W);break}case"initialPlacement":M=a;break}if(n!==M)return{reset:{placement:M}}}return{}}}};function ig(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ng(e){return Q2.some(t=>e[t]>=0)}const hR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:i="referenceHidden",...n}=hi(e,t);switch(i){case"referenceHidden":{const s=await Qo(t,{...n,elementContext:"reference"}),o=ig(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ng(o)}}}case"escaped":{const s=await Qo(t,{...n,altBoundary:!0}),o=ig(s,r.floating);return{data:{escapedOffsets:o,escaped:ng(o)}}}default:return{}}}}},VS=new Set(["left","top"]);async function dR(e,t){const{placement:r,platform:i,elements:n}=e,s=await(i.isRTL==null?void 0:i.isRTL(n.floating)),o=di(r),a=Ns(r),l=Wr(r)==="y",c=VS.has(o)?-1:1,u=s&&l?-1:1,h=hi(t,e);let{mainAxis:d,crossAxis:f,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*u,y:d*c}:{x:d*c,y:f*u}}const fR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,i;const{x:n,y:s,placement:o,middlewareData:a}=t,l=await dR(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:n+l.x,y:s+l.y,data:{...l,placement:o}}}}},pR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:i,placement:n}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:m,y:v}=S;return{x:m,y:v}}},...l}=hi(e,t),c={x:r,y:i},u=await Qo(t,l),h=Wr(di(n)),d=zp(h);let f=c[d],p=c[h];if(s){const S=d==="y"?"top":"left",m=d==="y"?"bottom":"right",v=f+u[S],y=f-u[m];f=Pd(v,f,y)}if(o){const S=h==="y"?"top":"left",m=h==="y"?"bottom":"right",v=p+u[S],y=p-u[m];p=Pd(v,p,y)}const g=a.fn({...t,[d]:f,[h]:p});return{...g,data:{x:g.x-r,y:g.y-i,enabled:{[d]:s,[h]:o}}}}}},mR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:i,placement:n,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=hi(e,t),u={x:r,y:i},h=Wr(n),d=zp(h);let f=u[d],p=u[h];const g=hi(a,t),S=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const y=d==="y"?"height":"width",w=s.reference[d]-s.floating[y]+S.mainAxis,b=s.reference[d]+s.reference[y]-S.mainAxis;f<w?f=w:f>b&&(f=b)}if(c){var m,v;const y=d==="y"?"width":"height",w=VS.has(di(n)),b=s.reference[h]-s.floating[y]+(w&&((m=o.offset)==null?void 0:m[h])||0)+(w?0:S.crossAxis),R=s.reference[h]+s.reference[y]+(w?0:((v=o.offset)==null?void 0:v[h])||0)-(w?S.crossAxis:0);p<b?p=b:p>R&&(p=R)}return{[d]:f,[h]:p}}}},_R=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,i;const{placement:n,rects:s,platform:o,elements:a}=t,{apply:l=()=>{},...c}=hi(e,t),u=await Qo(t,c),h=di(n),d=Ns(n),f=Wr(n)==="y",{width:p,height:g}=s.floating;let S,m;h==="top"||h==="bottom"?(S=h,m=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(m=h,S=d==="end"?"top":"bottom");const v=g-u.top-u.bottom,y=p-u.left-u.right,w=qi(g-u[S],v),b=qi(p-u[m],y),R=!t.middlewareData.shift;let E=w,L=b;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(L=y),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(E=v),R&&!d){const O=Xt(u.left,0),N=Xt(u.right,0),D=Xt(u.top,0),T=Xt(u.bottom,0);f?L=p-2*(O!==0||N!==0?O+N:Xt(u.left,u.right)):E=g-2*(D!==0||T!==0?D+T:Xt(u.top,u.bottom))}await l({...t,availableWidth:L,availableHeight:E});const A=await o.getDimensions(a.floating);return p!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function Yc(){return typeof window<"u"}function Os(e){return WS(e)?(e.nodeName||"").toLowerCase():"#document"}function Jt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xr(e){var t;return(t=(WS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function WS(e){return Yc()?e instanceof Node||e instanceof Jt(e).Node:!1}function Ar(e){return Yc()?e instanceof Element||e instanceof Jt(e).Element:!1}function qr(e){return Yc()?e instanceof HTMLElement||e instanceof Jt(e).HTMLElement:!1}function sg(e){return!Yc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jt(e).ShadowRoot}const gR=new Set(["inline","contents"]);function da(e){const{overflow:t,overflowX:r,overflowY:i,display:n}=Lr(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!gR.has(n)}const vR=new Set(["table","td","th"]);function yR(e){return vR.has(Os(e))}const SR=[":popover-open",":modal"];function Xc(e){return SR.some(t=>{try{return e.matches(t)}catch{return!1}})}const wR=["transform","translate","scale","rotate","perspective"],CR=["transform","translate","scale","rotate","perspective","filter"],bR=["paint","layout","strict","content"];function Hp(e){const t=Vp(),r=Ar(e)?Lr(e):e;return wR.some(i=>r[i]?r[i]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||CR.some(i=>(r.willChange||"").includes(i))||bR.some(i=>(r.contain||"").includes(i))}function xR(e){let t=Yi(e);for(;qr(t)&&!ws(t);){if(Hp(t))return t;if(Xc(t))return null;t=Yi(t)}return null}function Vp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ER=new Set(["html","body","#document"]);function ws(e){return ER.has(Os(e))}function Lr(e){return Jt(e).getComputedStyle(e)}function Qc(e){return Ar(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yi(e){if(Os(e)==="html")return e;const t=e.assignedSlot||e.parentNode||sg(e)&&e.host||Xr(e);return sg(t)?t.host:t}function US(e){const t=Yi(e);return ws(t)?e.ownerDocument?e.ownerDocument.body:e.body:qr(t)&&da(t)?t:US(t)}function Zo(e,t,r){var i;t===void 0&&(t=[]),r===void 0&&(r=!0);const n=US(e),s=n===((i=e.ownerDocument)==null?void 0:i.body),o=Jt(n);if(s){const a=Ad(o);return t.concat(o,o.visualViewport||[],da(n)?n:[],a&&r?Zo(a):[])}return t.concat(n,Zo(n,[],r))}function Ad(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jS(e){const t=Lr(e);let r=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const n=qr(e),s=n?e.offsetWidth:r,o=n?e.offsetHeight:i,a=ec(r)!==s||ec(i)!==o;return a&&(r=s,i=o),{width:r,height:i,$:a}}function Wp(e){return Ar(e)?e:e.contextElement}function hs(e){const t=Wp(e);if(!qr(t))return Gr(1);const r=t.getBoundingClientRect(),{width:i,height:n,$:s}=jS(t);let o=(s?ec(r.width):r.width)/i,a=(s?ec(r.height):r.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const kR=Gr(0);function GS(e){const t=Jt(e);return!Vp()||!t.visualViewport?kR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function RR(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Jt(e)?!1:t}function kn(e,t,r,i){t===void 0&&(t=!1),r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=Wp(e);let o=Gr(1);t&&(i?Ar(i)&&(o=hs(i)):o=hs(e));const a=RR(s,r,i)?GS(s):Gr(0);let l=(n.left+a.x)/o.x,c=(n.top+a.y)/o.y,u=n.width/o.x,h=n.height/o.y;if(s){const d=Jt(s),f=i&&Ar(i)?Jt(i):i;let p=d,g=Ad(p);for(;g&&i&&f!==p;){const S=hs(g),m=g.getBoundingClientRect(),v=Lr(g),y=m.left+(g.clientLeft+parseFloat(v.paddingLeft))*S.x,w=m.top+(g.clientTop+parseFloat(v.paddingTop))*S.y;l*=S.x,c*=S.y,u*=S.x,h*=S.y,l+=y,c+=w,p=Jt(g),g=Ad(p)}}return rc({width:u,height:h,x:l,y:c})}function Zc(e,t){const r=Qc(e).scrollLeft;return t?t.left+r:kn(Xr(e)).left+r}function KS(e,t){const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-Zc(e,r),n=r.top+t.scrollTop;return{x:i,y:n}}function PR(e){let{elements:t,rect:r,offsetParent:i,strategy:n}=e;const s=n==="fixed",o=Xr(i),a=t?Xc(t.floating):!1;if(i===o||a&&s)return r;let l={scrollLeft:0,scrollTop:0},c=Gr(1);const u=Gr(0),h=qr(i);if((h||!h&&!s)&&((Os(i)!=="body"||da(o))&&(l=Qc(i)),qr(i))){const f=kn(i);c=hs(i),u.x=f.x+i.clientLeft,u.y=f.y+i.clientTop}const d=o&&!h&&!s?KS(o,l):Gr(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:r.y*c.y-l.scrollTop*c.y+u.y+d.y}}function TR(e){return Array.from(e.getClientRects())}function AR(e){const t=Xr(e),r=Qc(e),i=e.ownerDocument.body,n=Xt(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=Xt(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let o=-r.scrollLeft+Zc(e);const a=-r.scrollTop;return Lr(i).direction==="rtl"&&(o+=Xt(t.clientWidth,i.clientWidth)-n),{width:n,height:s,x:o,y:a}}const og=25;function LR(e,t){const r=Jt(e),i=Xr(e),n=r.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;const u=Vp();(!u||u&&t==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}const c=Zc(i);if(c<=0){const u=i.ownerDocument,h=u.body,d=getComputedStyle(h),f=u.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,p=Math.abs(i.clientWidth-h.clientWidth-f);p<=og&&(s-=p)}else c<=og&&(s+=c);return{width:s,height:o,x:a,y:l}}const DR=new Set(["absolute","fixed"]);function NR(e,t){const r=kn(e,!0,t==="fixed"),i=r.top+e.clientTop,n=r.left+e.clientLeft,s=qr(e)?hs(e):Gr(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=n*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function ag(e,t,r){let i;if(t==="viewport")i=LR(e,r);else if(t==="document")i=AR(Xr(e));else if(Ar(t))i=NR(t,r);else{const n=GS(e);i={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return rc(i)}function qS(e,t){const r=Yi(e);return r===t||!Ar(r)||ws(r)?!1:Lr(r).position==="fixed"||qS(r,t)}function OR(e,t){const r=t.get(e);if(r)return r;let i=Zo(e,[],!1).filter(a=>Ar(a)&&Os(a)!=="body"),n=null;const s=Lr(e).position==="fixed";let o=s?Yi(e):e;for(;Ar(o)&&!ws(o);){const a=Lr(o),l=Hp(o);!l&&a.position==="fixed"&&(n=null),(s?!l&&!n:!l&&a.position==="static"&&!!n&&DR.has(n.position)||da(o)&&!l&&qS(e,o))?i=i.filter(u=>u!==o):n=a,o=Yi(o)}return t.set(e,i),i}function IR(e){let{element:t,boundary:r,rootBoundary:i,strategy:n}=e;const o=[...r==="clippingAncestors"?Xc(t)?[]:OR(t,this._c):[].concat(r),i],a=o[0],l=o.reduce((c,u)=>{const h=ag(t,u,n);return c.top=Xt(h.top,c.top),c.right=qi(h.right,c.right),c.bottom=qi(h.bottom,c.bottom),c.left=Xt(h.left,c.left),c},ag(t,a,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function MR(e){const{width:t,height:r}=jS(e);return{width:t,height:r}}function BR(e,t,r){const i=qr(t),n=Xr(t),s=r==="fixed",o=kn(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Gr(0);function c(){l.x=Zc(n)}if(i||!i&&!s)if((Os(t)!=="body"||da(n))&&(a=Qc(t)),i){const f=kn(t,!0,s,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else n&&c();s&&!i&&n&&c();const u=n&&!i&&!s?KS(n,a):Gr(0),h=o.left+a.scrollLeft-l.x-u.x,d=o.top+a.scrollTop-l.y-u.y;return{x:h,y:d,width:o.width,height:o.height}}function rh(e){return Lr(e).position==="static"}function lg(e,t){if(!qr(e)||Lr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Xr(e)===r&&(r=r.ownerDocument.body),r}function YS(e,t){const r=Jt(e);if(Xc(e))return r;if(!qr(e)){let n=Yi(e);for(;n&&!ws(n);){if(Ar(n)&&!rh(n))return n;n=Yi(n)}return r}let i=lg(e,t);for(;i&&yR(i)&&rh(i);)i=lg(i,t);return i&&ws(i)&&rh(i)&&!Hp(i)?r:i||xR(e)||r}const zR=async function(e){const t=this.getOffsetParent||YS,r=this.getDimensions,i=await r(e.floating);return{reference:BR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function $R(e){return Lr(e).direction==="rtl"}const FR={convertOffsetParentRelativeRectToViewportRelativeRect:PR,getDocumentElement:Xr,getClippingRect:IR,getOffsetParent:YS,getElementRects:zR,getClientRects:TR,getDimensions:MR,getScale:hs,isElement:Ar,isRTL:$R};function XS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function HR(e,t){let r=null,i;const n=Xr(e);function s(){var a;clearTimeout(i),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:u,top:h,width:d,height:f}=c;if(a||t(),!d||!f)return;const p=Ka(h),g=Ka(n.clientWidth-(u+d)),S=Ka(n.clientHeight-(h+f)),m=Ka(u),y={rootMargin:-p+"px "+-g+"px "+-S+"px "+-m+"px",threshold:Xt(0,qi(1,l))||1};let w=!0;function b(R){const E=R[0].intersectionRatio;if(E!==l){if(!w)return o();E?o(!1,E):i=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!XS(c,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(b,{...y,root:n.ownerDocument})}catch{r=new IntersectionObserver(b,y)}r.observe(e)}return o(!0),s}function VR(e,t,r,i){i===void 0&&(i={});const{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=Wp(e),u=n||s?[...c?Zo(c):[],...Zo(t)]:[];u.forEach(m=>{n&&m.addEventListener("scroll",r,{passive:!0}),s&&m.addEventListener("resize",r)});const h=c&&a?HR(c,r):null;let d=-1,f=null;o&&(f=new ResizeObserver(m=>{let[v]=m;v&&v.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var y;(y=f)==null||y.observe(t)})),r()}),c&&!l&&f.observe(c),f.observe(t));let p,g=l?kn(e):null;l&&S();function S(){const m=kn(e);g&&!XS(g,m)&&r(),g=m,p=requestAnimationFrame(S)}return r(),()=>{var m;u.forEach(v=>{n&&v.removeEventListener("scroll",r),s&&v.removeEventListener("resize",r)}),h==null||h(),(m=f)==null||m.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const WR=fR,UR=pR,jR=uR,GR=_R,KR=hR,cg=cR,qR=mR,YR=(e,t,r)=>{const i=new Map,n={platform:FR,...r},s={...n.platform,_c:i};return lR(e,t,{...n,platform:s})};var XR=typeof document<"u",QR=function(){},vl=XR?_.useLayoutEffect:QR;function ic(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,i,n;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(i=r;i--!==0;)if(!ic(e[i],t[i]))return!1;return!0}if(n=Object.keys(e),r=n.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(t,n[i]))return!1;for(i=r;i--!==0;){const s=n[i];if(!(s==="_owner"&&e.$$typeof)&&!ic(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function QS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ug(e,t){const r=QS(e);return Math.round(t*r)/r}function ih(e){const t=_.useRef(e);return vl(()=>{t.current=e}),t}function ZR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:i=[],platform:n,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,h]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[d,f]=_.useState(i);ic(d,i)||f(i);const[p,g]=_.useState(null),[S,m]=_.useState(null),v=_.useCallback(k=>{k!==R.current&&(R.current=k,g(k))},[]),y=_.useCallback(k=>{k!==E.current&&(E.current=k,m(k))},[]),w=s||p,b=o||S,R=_.useRef(null),E=_.useRef(null),L=_.useRef(u),A=l!=null,O=ih(l),N=ih(n),D=ih(c),T=_.useCallback(()=>{if(!R.current||!E.current)return;const k={placement:t,strategy:r,middleware:d};N.current&&(k.platform=N.current),YR(R.current,E.current,k).then($=>{const U={...$,isPositioned:D.current!==!1};I.current&&!ic(L.current,U)&&(L.current=U,Ls.flushSync(()=>{h(U)}))})},[d,t,r,N,D]);vl(()=>{c===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,h(k=>({...k,isPositioned:!1})))},[c]);const I=_.useRef(!1);vl(()=>(I.current=!0,()=>{I.current=!1}),[]),vl(()=>{if(w&&(R.current=w),b&&(E.current=b),w&&b){if(O.current)return O.current(w,b,T);T()}},[w,b,T,O,A]);const z=_.useMemo(()=>({reference:R,floating:E,setReference:v,setFloating:y}),[v,y]),M=_.useMemo(()=>({reference:w,floating:b}),[w,b]),W=_.useMemo(()=>{const k={position:r,left:0,top:0};if(!M.floating)return k;const $=ug(M.floating,u.x),U=ug(M.floating,u.y);return a?{...k,transform:"translate("+$+"px, "+U+"px)",...QS(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:U}},[r,a,M.floating,u.x,u.y]);return _.useMemo(()=>({...u,update:T,refs:z,elements:M,floatingStyles:W}),[u,T,z,M,W])}const JR=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:i,padding:n}=typeof e=="function"?e(r):e;return i&&t(i)?i.current!=null?cg({element:i.current,padding:n}).fn(r):{}:i?cg({element:i,padding:n}).fn(r):{}}}},eP=(e,t)=>({...WR(e),options:[e,t]}),tP=(e,t)=>({...UR(e),options:[e,t]}),rP=(e,t)=>({...qR(e),options:[e,t]}),iP=(e,t)=>({...jR(e),options:[e,t]}),nP=(e,t)=>({...GR(e),options:[e,t]}),sP=(e,t)=>({...KR(e),options:[e,t]}),oP=(e,t)=>({...JR(e),options:[e,t]});var aP="Arrow",ZS=_.forwardRef((e,t)=>{const{children:r,width:i=10,height:n=5,...s}=e;return x.jsx(le.svg,{...s,ref:t,width:i,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZS.displayName=aP;var lP=ZS,Up="Popper",[JS,Jc]=Ji(Up),[cP,e1]=JS(Up),t1=e=>{const{__scopePopper:t,children:r}=e,[i,n]=_.useState(null);return x.jsx(cP,{scope:t,anchor:i,onAnchorChange:n,children:r})};t1.displayName=Up;var r1="PopperAnchor",i1=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:i,...n}=e,s=e1(r1,r),o=_.useRef(null),a=_e(t,o),l=_.useRef(null);return _.useEffect(()=>{const c=l.current;l.current=(i==null?void 0:i.current)||o.current,c!==l.current&&s.onAnchorChange(l.current)}),i?null:x.jsx(le.div,{...n,ref:a})});i1.displayName=r1;var jp="PopperContent",[uP,hP]=JS(jp),n1=_.forwardRef((e,t)=>{var q,de,ge,ue,oe,re;const{__scopePopper:r,side:i="bottom",sideOffset:n=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:d=!1,updatePositionStrategy:f="optimized",onPlaced:p,...g}=e,S=e1(jp,r),[m,v]=_.useState(null),y=_e(t,Q=>v(Q)),[w,b]=_.useState(null),R=FS(w),E=(R==null?void 0:R.width)??0,L=(R==null?void 0:R.height)??0,A=i+(s!=="center"?"-"+s:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},N=Array.isArray(c)?c:[c],D=N.length>0,T={padding:O,boundary:N.filter(fP),altBoundary:D},{refs:I,floatingStyles:z,placement:M,isPositioned:W,middlewareData:k}=ZR({strategy:"fixed",placement:A,whileElementsMounted:(...Q)=>VR(...Q,{animationFrame:f==="always"}),elements:{reference:S.anchor},middleware:[eP({mainAxis:n+L,alignmentAxis:o}),l&&tP({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?rP():void 0,...T}),l&&iP({...T}),nP({...T,apply:({elements:Q,rects:ut,availableWidth:Z,availableHeight:Y})=>{const{width:we,height:ht}=ut.reference,et=Q.floating.style;et.setProperty("--radix-popper-available-width",`${Z}px`),et.setProperty("--radix-popper-available-height",`${Y}px`),et.setProperty("--radix-popper-anchor-width",`${we}px`),et.setProperty("--radix-popper-anchor-height",`${ht}px`)}}),w&&oP({element:w,padding:a}),pP({arrowWidth:E,arrowHeight:L}),d&&sP({strategy:"referenceHidden",...T})]}),[$,U]=a1(M),J=Tt(p);gt(()=>{W&&(J==null||J())},[W,J]);const se=(q=k.arrow)==null?void 0:q.x,Se=(de=k.arrow)==null?void 0:de.y,ce=((ge=k.arrow)==null?void 0:ge.centerOffset)!==0,[Re,pe]=_.useState();return gt(()=>{m&&pe(window.getComputedStyle(m).zIndex)},[m]),x.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:W?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(ue=k.transformOrigin)==null?void 0:ue.x,(oe=k.transformOrigin)==null?void 0:oe.y].join(" "),...((re=k.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:x.jsx(uP,{scope:r,placedSide:$,onArrowChange:b,arrowX:se,arrowY:Se,shouldHideArrow:ce,children:x.jsx(le.div,{"data-side":$,"data-align":U,...g,ref:y,style:{...g.style,animation:W?void 0:"none"}})})})});n1.displayName=jp;var s1="PopperArrow",dP={top:"bottom",right:"left",bottom:"top",left:"right"},o1=_.forwardRef(function(t,r){const{__scopePopper:i,...n}=t,s=hP(s1,i),o=dP[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(lP,{...n,ref:r,style:{...n.style,display:"block"}})})});o1.displayName=s1;function fP(e){return e!==null}var pP=e=>({name:"transformOrigin",options:e,fn(t){var S,m,v;const{placement:r,rects:i,middlewareData:n}=t,o=((S=n.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,u]=a1(r),h={start:"0%",center:"50%",end:"100%"}[u],d=(((m=n.arrow)==null?void 0:m.x)??0)+a/2,f=(((v=n.arrow)==null?void 0:v.y)??0)+l/2;let p="",g="";return c==="bottom"?(p=o?h:`${d}px`,g=`${-l}px`):c==="top"?(p=o?h:`${d}px`,g=`${i.floating.height+l}px`):c==="right"?(p=`${-l}px`,g=o?h:`${f}px`):c==="left"&&(p=`${i.floating.width+l}px`,g=o?h:`${f}px`),{data:{x:p,y:g}}}});function a1(e){const[t,r="center"]=e.split("-");return[t,r]}var mP=t1,l1=i1,c1=n1,u1=o1,nh="rovingFocusGroup.onEntryFocus",_P={bubbles:!1,cancelable:!0},fa="RovingFocusGroup",[Ld,h1,gP]=bS(fa),[vP,d1]=Ji(fa,[gP]),[yP,SP]=vP(fa),f1=_.forwardRef((e,t)=>x.jsx(Ld.Provider,{scope:e.__scopeRovingFocusGroup,children:x.jsx(Ld.Slot,{scope:e.__scopeRovingFocusGroup,children:x.jsx(wP,{...e,ref:t})})}));f1.displayName=fa;var wP=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:i,loop:n=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=e,d=_.useRef(null),f=_e(t,d),p=Kc(s),[g,S]=Ki({prop:o,defaultProp:a??null,onChange:l,caller:fa}),[m,v]=_.useState(!1),y=Tt(c),w=h1(r),b=_.useRef(!1),[R,E]=_.useState(0);return _.useEffect(()=>{const L=d.current;if(L)return L.addEventListener(nh,y),()=>L.removeEventListener(nh,y)},[y]),x.jsx(yP,{scope:r,orientation:i,dir:p,loop:n,currentTabStopId:g,onItemFocus:_.useCallback(L=>S(L),[S]),onItemShiftTab:_.useCallback(()=>v(!0),[]),onFocusableItemAdd:_.useCallback(()=>E(L=>L+1),[]),onFocusableItemRemove:_.useCallback(()=>E(L=>L-1),[]),children:x.jsx(le.div,{tabIndex:m||R===0?-1:0,"data-orientation":i,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:te(e.onMouseDown,()=>{b.current=!0}),onFocus:te(e.onFocus,L=>{const A=!b.current;if(L.target===L.currentTarget&&A&&!m){const O=new CustomEvent(nh,_P);if(L.currentTarget.dispatchEvent(O),!O.defaultPrevented){const N=w().filter(M=>M.focusable),D=N.find(M=>M.active),T=N.find(M=>M.id===g),z=[D,T,...N].filter(Boolean).map(M=>M.ref.current);_1(z,u)}}b.current=!1}),onBlur:te(e.onBlur,()=>v(!1))})})}),p1="RovingFocusGroupItem",m1=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:i=!0,active:n=!1,tabStopId:s,children:o,...a}=e,l=Gc(),c=s||l,u=SP(p1,r),h=u.currentTabStopId===c,d=h1(r),{onFocusableItemAdd:f,onFocusableItemRemove:p,currentTabStopId:g}=u;return _.useEffect(()=>{if(i)return f(),()=>p()},[i,f,p]),x.jsx(Ld.ItemSlot,{scope:r,id:c,focusable:i,active:n,children:x.jsx(le.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:te(e.onMouseDown,S=>{i?u.onItemFocus(c):S.preventDefault()}),onFocus:te(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:te(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){u.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const m=xP(S,u.orientation,u.dir);if(m!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let y=d().filter(w=>w.focusable).map(w=>w.ref.current);if(m==="last")y.reverse();else if(m==="prev"||m==="next"){m==="prev"&&y.reverse();const w=y.indexOf(S.currentTarget);y=u.loop?EP(y,w+1):y.slice(w+1)}setTimeout(()=>_1(y))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});m1.displayName=p1;var CP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bP(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xP(e,t,r){const i=bP(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return CP[i]}function _1(e,t=!1){const r=document.activeElement;for(const i of e)if(i===r||(i.focus({preventScroll:t}),document.activeElement!==r))return}function EP(e,t){return e.map((r,i)=>e[(t+i)%e.length])}var kP=f1,RP=m1;function Dd(e,[t,r]){return Math.min(r,Math.max(t,e))}function PP(e,t){return _.useReducer((r,i)=>t[r][i]??r,e)}var Gp="ScrollArea",[g1,vB]=Ji(Gp),[TP,_r]=g1(Gp),v1=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:i="hover",dir:n,scrollHideDelay:s=600,...o}=e,[a,l]=_.useState(null),[c,u]=_.useState(null),[h,d]=_.useState(null),[f,p]=_.useState(null),[g,S]=_.useState(null),[m,v]=_.useState(0),[y,w]=_.useState(0),[b,R]=_.useState(!1),[E,L]=_.useState(!1),A=_e(t,N=>l(N)),O=Kc(n);return x.jsx(TP,{scope:r,type:i,dir:O,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:u,content:h,onContentChange:d,scrollbarX:f,onScrollbarXChange:p,scrollbarXEnabled:b,onScrollbarXEnabledChange:R,scrollbarY:g,onScrollbarYChange:S,scrollbarYEnabled:E,onScrollbarYEnabledChange:L,onCornerWidthChange:v,onCornerHeightChange:w,children:x.jsx(le.div,{dir:O,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});v1.displayName=Gp;var y1="ScrollAreaViewport",S1=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:i,nonce:n,...s}=e,o=_r(y1,r),a=_.useRef(null),l=_e(t,a,o.onViewportChange);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),x.jsx(le.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:x.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});S1.displayName=y1;var Qr="ScrollAreaScrollbar",w1=_.forwardRef((e,t)=>{const{forceMount:r,...i}=e,n=_r(Qr,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=n,a=e.orientation==="horizontal";return _.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),n.type==="hover"?x.jsx(AP,{...i,ref:t,forceMount:r}):n.type==="scroll"?x.jsx(LP,{...i,ref:t,forceMount:r}):n.type==="auto"?x.jsx(C1,{...i,ref:t,forceMount:r}):n.type==="always"?x.jsx(Kp,{...i,ref:t}):null});w1.displayName=Qr;var AP=_.forwardRef((e,t)=>{const{forceMount:r,...i}=e,n=_r(Qr,e.__scopeScrollArea),[s,o]=_.useState(!1);return _.useEffect(()=>{const a=n.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),x.jsx(Ds,{present:r||s,children:x.jsx(C1,{"data-state":s?"visible":"hidden",...i,ref:t})})}),LP=_.forwardRef((e,t)=>{const{forceMount:r,...i}=e,n=_r(Qr,e.__scopeScrollArea),s=e.orientation==="horizontal",o=tu(()=>l("SCROLL_END"),100),[a,l]=PP("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,n.scrollHideDelay,l]),_.useEffect(()=>{const c=n.viewport,u=s?"scrollLeft":"scrollTop";if(c){let h=c[u];const d=()=>{const f=c[u];h!==f&&(l("SCROLL"),o()),h=f};return c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[n.viewport,s,l,o]),x.jsx(Ds,{present:r||a!=="hidden",children:x.jsx(Kp,{"data-state":a==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:te(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:te(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),C1=_.forwardRef((e,t)=>{const r=_r(Qr,e.__scopeScrollArea),{forceMount:i,...n}=e,[s,o]=_.useState(!1),a=e.orientation==="horizontal",l=tu(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?c:u)}},10);return Cs(r.viewport,l),Cs(r.content,l),x.jsx(Ds,{present:i||s,children:x.jsx(Kp,{"data-state":s?"visible":"hidden",...n,ref:t})})}),Kp=_.forwardRef((e,t)=>{const{orientation:r="vertical",...i}=e,n=_r(Qr,e.__scopeScrollArea),s=_.useRef(null),o=_.useRef(0),[a,l]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=k1(a.viewport,a.content),u={...i,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function h(d,f){return zP(d,o.current,a,f)}return r==="horizontal"?x.jsx(DP,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&s.current){const d=n.viewport.scrollLeft,f=hg(d,a,n.dir);s.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:d=>{n.viewport&&(n.viewport.scrollLeft=d)},onDragScroll:d=>{n.viewport&&(n.viewport.scrollLeft=h(d,n.dir))}}):r==="vertical"?x.jsx(NP,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&s.current){const d=n.viewport.scrollTop,f=hg(d,a);s.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:d=>{n.viewport&&(n.viewport.scrollTop=d)},onDragScroll:d=>{n.viewport&&(n.viewport.scrollTop=h(d))}}):null}),DP=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:i,...n}=e,s=_r(Qr,e.__scopeScrollArea),[o,a]=_.useState(),l=_.useRef(null),c=_e(t,l,s.onScrollbarXChange);return _.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),x.jsx(x1,{"data-orientation":"horizontal",...n,ref:c,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":eu(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(s.viewport){const d=s.viewport.scrollLeft+u.deltaX;e.onWheelScroll(d),P1(d,h)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&i({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:sc(o.paddingLeft),paddingEnd:sc(o.paddingRight)}})}})}),NP=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:i,...n}=e,s=_r(Qr,e.__scopeScrollArea),[o,a]=_.useState(),l=_.useRef(null),c=_e(t,l,s.onScrollbarYChange);return _.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),x.jsx(x1,{"data-orientation":"vertical",...n,ref:c,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":eu(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(s.viewport){const d=s.viewport.scrollTop+u.deltaY;e.onWheelScroll(d),P1(d,h)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&i({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:sc(o.paddingTop),paddingEnd:sc(o.paddingBottom)}})}})}),[OP,b1]=g1(Qr),x1=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:i,hasThumb:n,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h,...d}=e,f=_r(Qr,r),[p,g]=_.useState(null),S=_e(t,A=>g(A)),m=_.useRef(null),v=_.useRef(""),y=f.viewport,w=i.content-i.viewport,b=Tt(u),R=Tt(l),E=tu(h,10);function L(A){if(m.current){const O=A.clientX-m.current.left,N=A.clientY-m.current.top;c({x:O,y:N})}}return _.useEffect(()=>{const A=O=>{const N=O.target;(p==null?void 0:p.contains(N))&&b(O,w)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[y,p,w,b]),_.useEffect(R,[i,R]),Cs(p,E),Cs(f.content,E),x.jsx(OP,{scope:r,scrollbar:p,hasThumb:n,onThumbChange:Tt(s),onThumbPointerUp:Tt(o),onThumbPositionChange:R,onThumbPointerDown:Tt(a),children:x.jsx(le.div,{...d,ref:S,style:{position:"absolute",...d.style},onPointerDown:te(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),m.current=p.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),L(A))}),onPointerMove:te(e.onPointerMove,L),onPointerUp:te(e.onPointerUp,A=>{const O=A.target;O.hasPointerCapture(A.pointerId)&&O.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=v.current,f.viewport&&(f.viewport.style.scrollBehavior=""),m.current=null})})})}),nc="ScrollAreaThumb",E1=_.forwardRef((e,t)=>{const{forceMount:r,...i}=e,n=b1(nc,e.__scopeScrollArea);return x.jsx(Ds,{present:r||n.hasThumb,children:x.jsx(IP,{ref:t,...i})})}),IP=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:i,...n}=e,s=_r(nc,r),o=b1(nc,r),{onThumbPositionChange:a}=o,l=_e(t,h=>o.onThumbChange(h)),c=_.useRef(void 0),u=tu(()=>{c.current&&(c.current(),c.current=void 0)},100);return _.useEffect(()=>{const h=s.viewport;if(h){const d=()=>{if(u(),!c.current){const f=$P(h,a);c.current=f,a()}};return a(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[s.viewport,u,a]),x.jsx(le.div,{"data-state":o.hasThumb?"visible":"hidden",...n,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:te(e.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),p=h.clientX-f.left,g=h.clientY-f.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:te(e.onPointerUp,o.onThumbPointerUp)})});E1.displayName=nc;var qp="ScrollAreaCorner",MP=_.forwardRef((e,t)=>{const r=_r(qp,e.__scopeScrollArea),i=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&i?x.jsx(BP,{...e,ref:t}):null});MP.displayName=qp;var BP=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,...i}=e,n=_r(qp,r),[s,o]=_.useState(0),[a,l]=_.useState(0),c=!!(s&&a);return Cs(n.scrollbarX,()=>{var h;const u=((h=n.scrollbarX)==null?void 0:h.offsetHeight)||0;n.onCornerHeightChange(u),l(u)}),Cs(n.scrollbarY,()=>{var h;const u=((h=n.scrollbarY)==null?void 0:h.offsetWidth)||0;n.onCornerWidthChange(u),o(u)}),c?x.jsx(le.div,{...i,ref:t,style:{width:s,height:a,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function sc(e){return e?parseInt(e,10):0}function k1(e,t){const r=e/t;return isNaN(r)?0:r}function eu(e){const t=k1(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-r)*t;return Math.max(i,18)}function zP(e,t,r,i="ltr"){const n=eu(r),s=n/2,o=t||s,a=n-o,l=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-a,u=r.content-r.viewport,h=i==="ltr"?[0,u]:[u*-1,0];return R1([l,c],h)(e)}function hg(e,t,r="ltr"){const i=eu(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-n,o=t.content-t.viewport,a=s-i,l=r==="ltr"?[0,o]:[o*-1,0],c=Dd(e,l);return R1([0,o],[0,a])(c)}function R1(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(r-e[0])}}function P1(e,t){return e>0&&e<t}var $P=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},i=0;return function n(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,a=r.top!==s.top;(o||a)&&t(),r=s,i=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(i)};function tu(e,t){const r=Tt(e),i=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(i.current),[]),_.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(r,t)},[r,t])}function Cs(e,t){const r=Tt(t);gt(()=>{let i=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(i),n.unobserve(e)}}},[e,r])}var FP=v1,HP=S1,VP=w1,WP=E1,UP=[" ","Enter","ArrowUp","ArrowDown"],jP=[" ","Enter"],Rn="Select",[ru,iu,GP]=bS(Rn),[Is,yB]=Ji(Rn,[GP,Jc]),nu=Jc(),[KP,en]=Is(Rn),[qP,YP]=Is(Rn),T1=e=>{const{__scopeSelect:t,children:r,open:i,defaultOpen:n,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:d,required:f,form:p}=e,g=nu(t),[S,m]=_.useState(null),[v,y]=_.useState(null),[w,b]=_.useState(!1),R=Kc(c),[E,L]=Ki({prop:i,defaultProp:n??!1,onChange:s,caller:Rn}),[A,O]=Ki({prop:o,defaultProp:a,onChange:l,caller:Rn}),N=_.useRef(null),D=S?p||!!S.closest("form"):!0,[T,I]=_.useState(new Set),z=Array.from(T).map(M=>M.props.value).join(";");return x.jsx(mP,{...g,children:x.jsxs(KP,{required:f,scope:t,trigger:S,onTriggerChange:m,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:b,contentId:Gc(),value:A,onValueChange:O,open:E,onOpenChange:L,dir:R,triggerPointerDownPosRef:N,disabled:d,children:[x.jsx(ru.Provider,{scope:t,children:x.jsx(qP,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(M=>{I(W=>new Set(W).add(M))},[]),onNativeOptionRemove:_.useCallback(M=>{I(W=>{const k=new Set(W);return k.delete(M),k})},[]),children:r})}),D?x.jsxs(Z1,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:A,onChange:M=>O(M.target.value),disabled:d,form:p,children:[A===void 0?x.jsx("option",{value:""}):null,Array.from(T)]},z):null]})})};T1.displayName=Rn;var A1="SelectTrigger",L1=_.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:i=!1,...n}=e,s=nu(r),o=en(A1,r),a=o.disabled||i,l=_e(t,o.onTriggerChange),c=iu(r),u=_.useRef("touch"),[h,d,f]=ew(g=>{const S=c().filter(y=>!y.disabled),m=S.find(y=>y.value===o.value),v=tw(S,g,m);v!==void 0&&o.onValueChange(v.value)}),p=g=>{a||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return x.jsx(l1,{asChild:!0,...s,children:x.jsx(le.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":J1(o.value)?"":void 0,...n,ref:l,onClick:te(n.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&p(g)}),onPointerDown:te(n.onPointerDown,g=>{u.current=g.pointerType;const S=g.target;S.hasPointerCapture(g.pointerId)&&S.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:te(n.onKeyDown,g=>{const S=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&d(g.key),!(S&&g.key===" ")&&UP.includes(g.key)&&(p(),g.preventDefault())})})})});L1.displayName=A1;var D1="SelectValue",N1=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:i,style:n,children:s,placeholder:o="",...a}=e,l=en(D1,r),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,h=_e(t,l.onValueNodeChange);return gt(()=>{c(u)},[c,u]),x.jsx(le.span,{...a,ref:h,style:{pointerEvents:"none"},children:J1(l.value)?x.jsx(x.Fragment,{children:o}):s})});N1.displayName=D1;var XP="SelectIcon",O1=_.forwardRef((e,t)=>{const{__scopeSelect:r,children:i,...n}=e;return x.jsx(le.span,{"aria-hidden":!0,...n,ref:t,children:i||""})});O1.displayName=XP;var QP="SelectPortal",I1=e=>x.jsx(TS,{asChild:!0,...e});I1.displayName=QP;var Pn="SelectContent",M1=_.forwardRef((e,t)=>{const r=en(Pn,e.__scopeSelect),[i,n]=_.useState();if(gt(()=>{n(new DocumentFragment)},[]),!r.open){const s=i;return s?Ls.createPortal(x.jsx(B1,{scope:e.__scopeSelect,children:x.jsx(ru.Slot,{scope:e.__scopeSelect,children:x.jsx("div",{children:e.children})})}),s):null}return x.jsx(z1,{...e,ref:t})});M1.displayName=Pn;var Sr=10,[B1,tn]=Is(Pn),ZP="SelectContentImpl",JP=Xo("SelectContent.RemoveScroll"),z1=_.forwardRef((e,t)=>{const{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:f,sticky:p,hideWhenDetached:g,avoidCollisions:S,...m}=e,v=en(Pn,r),[y,w]=_.useState(null),[b,R]=_.useState(null),E=_e(t,q=>w(q)),[L,A]=_.useState(null),[O,N]=_.useState(null),D=iu(r),[T,I]=_.useState(!1),z=_.useRef(!1);_.useEffect(()=>{if(y)return X2(y)},[y]),c2();const M=_.useCallback(q=>{const[de,...ge]=D().map(re=>re.ref.current),[ue]=ge.slice(-1),oe=document.activeElement;for(const re of q)if(re===oe||(re==null||re.scrollIntoView({block:"nearest"}),re===de&&b&&(b.scrollTop=0),re===ue&&b&&(b.scrollTop=b.scrollHeight),re==null||re.focus(),document.activeElement!==oe))return},[D,b]),W=_.useCallback(()=>M([L,y]),[M,L,y]);_.useEffect(()=>{T&&W()},[T,W]);const{onOpenChange:k,triggerPointerDownPosRef:$}=v;_.useEffect(()=>{if(y){let q={x:0,y:0};const de=ue=>{var oe,re;q={x:Math.abs(Math.round(ue.pageX)-(((oe=$.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((re=$.current)==null?void 0:re.y)??0))}},ge=ue=>{q.x<=10&&q.y<=10?ue.preventDefault():y.contains(ue.target)||k(!1),document.removeEventListener("pointermove",de),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ge,{capture:!0})}}},[y,k,$]),_.useEffect(()=>{const q=()=>k(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[k]);const[U,J]=ew(q=>{const de=D().filter(oe=>!oe.disabled),ge=de.find(oe=>oe.ref.current===document.activeElement),ue=tw(de,q,ge);ue&&setTimeout(()=>ue.ref.current.focus())}),se=_.useCallback((q,de,ge)=>{const ue=!z.current&&!ge;(v.value!==void 0&&v.value===de||ue)&&(A(q),ue&&(z.current=!0))},[v.value]),Se=_.useCallback(()=>y==null?void 0:y.focus(),[y]),ce=_.useCallback((q,de,ge)=>{const ue=!z.current&&!ge;(v.value!==void 0&&v.value===de||ue)&&N(q)},[v.value]),Re=i==="popper"?Nd:$1,pe=Re===Nd?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:f,sticky:p,hideWhenDetached:g,avoidCollisions:S}:{};return x.jsx(B1,{scope:r,content:y,viewport:b,onViewportChange:R,itemRefCallback:se,selectedItem:L,onItemLeave:Se,itemTextRefCallback:ce,focusSelectedItem:W,selectedItemText:O,position:i,isPositioned:T,searchRef:U,children:x.jsx(G2,{as:JP,allowPinchZoom:!0,children:x.jsx(RS,{asChild:!0,trapped:v.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:te(n,q=>{var de;(de=v.trigger)==null||de.focus({preventScroll:!0}),q.preventDefault()}),children:x.jsx(Bp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:x.jsx(Re,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:q=>q.preventDefault(),...m,...pe,onPlaced:()=>I(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...m.style},onKeyDown:te(m.onKeyDown,q=>{const de=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!de&&q.key.length===1&&J(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let ue=D().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(q.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const oe=q.target,re=ue.indexOf(oe);ue=ue.slice(re+1)}setTimeout(()=>M(ue)),q.preventDefault()}})})})})})})});z1.displayName=ZP;var eT="SelectItemAlignedPosition",$1=_.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:i,...n}=e,s=en(Pn,r),o=tn(Pn,r),[a,l]=_.useState(null),[c,u]=_.useState(null),h=_e(t,E=>u(E)),d=iu(r),f=_.useRef(!1),p=_.useRef(!0),{viewport:g,selectedItem:S,selectedItemText:m,focusSelectedItem:v}=o,y=_.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&g&&S&&m){const E=s.trigger.getBoundingClientRect(),L=c.getBoundingClientRect(),A=s.valueNode.getBoundingClientRect(),O=m.getBoundingClientRect();if(s.dir!=="rtl"){const oe=O.left-L.left,re=A.left-oe,Q=E.left-re,ut=E.width+Q,Z=Math.max(ut,L.width),Y=window.innerWidth-Sr,we=Dd(re,[Sr,Math.max(Sr,Y-Z)]);a.style.minWidth=ut+"px",a.style.left=we+"px"}else{const oe=L.right-O.right,re=window.innerWidth-A.right-oe,Q=window.innerWidth-E.right-re,ut=E.width+Q,Z=Math.max(ut,L.width),Y=window.innerWidth-Sr,we=Dd(re,[Sr,Math.max(Sr,Y-Z)]);a.style.minWidth=ut+"px",a.style.right=we+"px"}const N=d(),D=window.innerHeight-Sr*2,T=g.scrollHeight,I=window.getComputedStyle(c),z=parseInt(I.borderTopWidth,10),M=parseInt(I.paddingTop,10),W=parseInt(I.borderBottomWidth,10),k=parseInt(I.paddingBottom,10),$=z+M+T+k+W,U=Math.min(S.offsetHeight*5,$),J=window.getComputedStyle(g),se=parseInt(J.paddingTop,10),Se=parseInt(J.paddingBottom,10),ce=E.top+E.height/2-Sr,Re=D-ce,pe=S.offsetHeight/2,q=S.offsetTop+pe,de=z+M+q,ge=$-de;if(de<=ce){const oe=N.length>0&&S===N[N.length-1].ref.current;a.style.bottom="0px";const re=c.clientHeight-g.offsetTop-g.offsetHeight,Q=Math.max(Re,pe+(oe?Se:0)+re+W),ut=de+Q;a.style.height=ut+"px"}else{const oe=N.length>0&&S===N[0].ref.current;a.style.top="0px";const Q=Math.max(ce,z+g.offsetTop+(oe?se:0)+pe)+ge;a.style.height=Q+"px",g.scrollTop=de-ce+g.offsetTop}a.style.margin=`${Sr}px 0`,a.style.minHeight=U+"px",a.style.maxHeight=D+"px",i==null||i(),requestAnimationFrame(()=>f.current=!0)}},[d,s.trigger,s.valueNode,a,c,g,S,m,s.dir,i]);gt(()=>y(),[y]);const[w,b]=_.useState();gt(()=>{c&&b(window.getComputedStyle(c).zIndex)},[c]);const R=_.useCallback(E=>{E&&p.current===!0&&(y(),v==null||v(),p.current=!1)},[y,v]);return x.jsx(rT,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:R,children:x.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:x.jsx(le.div,{...n,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});$1.displayName=eT;var tT="SelectPopperPosition",Nd=_.forwardRef((e,t)=>{const{__scopeSelect:r,align:i="start",collisionPadding:n=Sr,...s}=e,o=nu(r);return x.jsx(c1,{...o,...s,ref:t,align:i,collisionPadding:n,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Nd.displayName=tT;var[rT,Yp]=Is(Pn,{}),Od="SelectViewport",F1=_.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:i,...n}=e,s=tn(Od,r),o=Yp(Od,r),a=_e(t,s.onViewportChange),l=_.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),x.jsx(ru.Slot,{scope:r,children:x.jsx(le.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:te(n.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:d}=o;if(d!=null&&d.current&&h){const f=Math.abs(l.current-u.scrollTop);if(f>0){const p=window.innerHeight-Sr*2,g=parseFloat(h.style.minHeight),S=parseFloat(h.style.height),m=Math.max(g,S);if(m<p){const v=m+f,y=Math.min(p,v),w=v-y;h.style.height=y+"px",h.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});F1.displayName=Od;var H1="SelectGroup",[iT,nT]=Is(H1),V1=_.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,n=Gc();return x.jsx(iT,{scope:r,id:n,children:x.jsx(le.div,{role:"group","aria-labelledby":n,...i,ref:t})})});V1.displayName=H1;var W1="SelectLabel",U1=_.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,n=nT(W1,r);return x.jsx(le.div,{id:n.id,...i,ref:t})});U1.displayName=W1;var oc="SelectItem",[sT,j1]=Is(oc),G1=_.forwardRef((e,t)=>{const{__scopeSelect:r,value:i,disabled:n=!1,textValue:s,...o}=e,a=en(oc,r),l=tn(oc,r),c=a.value===i,[u,h]=_.useState(s??""),[d,f]=_.useState(!1),p=_e(t,v=>{var y;return(y=l.itemRefCallback)==null?void 0:y.call(l,v,i,n)}),g=Gc(),S=_.useRef("touch"),m=()=>{n||(a.onValueChange(i),a.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx(sT,{scope:r,value:i,disabled:n,textId:g,isSelected:c,onItemTextChange:_.useCallback(v=>{h(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:x.jsx(ru.ItemSlot,{scope:r,value:i,disabled:n,textValue:u,children:x.jsx(le.div,{role:"option","aria-labelledby":g,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:p,onFocus:te(o.onFocus,()=>f(!0)),onBlur:te(o.onBlur,()=>f(!1)),onClick:te(o.onClick,()=>{S.current!=="mouse"&&m()}),onPointerUp:te(o.onPointerUp,()=>{S.current==="mouse"&&m()}),onPointerDown:te(o.onPointerDown,v=>{S.current=v.pointerType}),onPointerMove:te(o.onPointerMove,v=>{var y;S.current=v.pointerType,n?(y=l.onItemLeave)==null||y.call(l):S.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(o.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=l.onItemLeave)==null||y.call(l))}),onKeyDown:te(o.onKeyDown,v=>{var w;((w=l.searchRef)==null?void 0:w.current)!==""&&v.key===" "||(jP.includes(v.key)&&m(),v.key===" "&&v.preventDefault())})})})})});G1.displayName=oc;var uo="SelectItemText",K1=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:i,style:n,...s}=e,o=en(uo,r),a=tn(uo,r),l=j1(uo,r),c=YP(uo,r),[u,h]=_.useState(null),d=_e(t,m=>h(m),l.onItemTextChange,m=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,m,l.value,l.disabled)}),f=u==null?void 0:u.textContent,p=_.useMemo(()=>x.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:S}=c;return gt(()=>(g(p),()=>S(p)),[g,S,p]),x.jsxs(x.Fragment,{children:[x.jsx(le.span,{id:l.textId,...s,ref:d}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ls.createPortal(s.children,o.valueNode):null]})});K1.displayName=uo;var q1="SelectItemIndicator",Y1=_.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e;return j1(q1,r).isSelected?x.jsx(le.span,{"aria-hidden":!0,...i,ref:t}):null});Y1.displayName=q1;var Id="SelectScrollUpButton",oT=_.forwardRef((e,t)=>{const r=tn(Id,e.__scopeSelect),i=Yp(Id,e.__scopeSelect),[n,s]=_.useState(!1),o=_e(t,i.onScrollButtonChange);return gt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),n?x.jsx(X1,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});oT.displayName=Id;var Md="SelectScrollDownButton",aT=_.forwardRef((e,t)=>{const r=tn(Md,e.__scopeSelect),i=Yp(Md,e.__scopeSelect),[n,s]=_.useState(!1),o=_e(t,i.onScrollButtonChange);return gt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),n?x.jsx(X1,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});aT.displayName=Md;var X1=_.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:i,...n}=e,s=tn("SelectScrollButton",r),o=_.useRef(null),a=iu(r),l=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>l(),[l]),gt(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),x.jsx(le.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:te(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:te(n.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:te(n.onPointerLeave,()=>{l()})})}),lT="SelectSeparator",Q1=_.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e;return x.jsx(le.div,{"aria-hidden":!0,...i,ref:t})});Q1.displayName=lT;var Bd="SelectArrow",cT=_.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,n=nu(r),s=en(Bd,r),o=tn(Bd,r);return s.open&&o.position==="popper"?x.jsx(u1,{...n,...i,ref:t}):null});cT.displayName=Bd;var uT="SelectBubbleInput",Z1=_.forwardRef(({__scopeSelect:e,value:t,...r},i)=>{const n=_.useRef(null),s=_e(i,n),o=$S(t);return _.useEffect(()=>{const a=n.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(a,t),a.dispatchEvent(h)}},[o,t]),x.jsx(le.select,{...r,style:{...SS,...r.style},ref:s,defaultValue:t})});Z1.displayName=uT;function J1(e){return e===""||e===void 0}function ew(e){const t=Tt(e),r=_.useRef(""),i=_.useRef(0),n=_.useCallback(o=>{const a=r.current+o;t(a),function l(c){r.current=c,window.clearTimeout(i.current),c!==""&&(i.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),s=_.useCallback(()=>{r.current="",window.clearTimeout(i.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(i.current),[]),[r,n,s]}function tw(e,t,r){const n=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=hT(e,Math.max(s,0));n.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(n.toLowerCase()));return l!==r?l:void 0}function hT(e,t){return e.map((r,i)=>e[(t+i)%e.length])}var dT=T1,fT=L1,pT=N1,mT=O1,_T=I1,gT=M1,vT=F1,yT=V1,ST=U1,wT=G1,CT=K1,bT=Y1,xT=Q1,su="Switch",[ET,SB]=Ji(su),[kT,RT]=ET(su),rw=_.forwardRef((e,t)=>{const{__scopeSwitch:r,name:i,checked:n,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...h}=e,[d,f]=_.useState(null),p=_e(t,y=>f(y)),g=_.useRef(!1),S=d?u||!!d.closest("form"):!0,[m,v]=Ki({prop:n,defaultProp:s??!1,onChange:c,caller:su});return x.jsxs(kT,{scope:r,checked:m,disabled:a,children:[x.jsx(le.button,{type:"button",role:"switch","aria-checked":m,"aria-required":o,"data-state":ow(m),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:p,onClick:te(e.onClick,y=>{v(w=>!w),S&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),S&&x.jsx(sw,{control:d,bubbles:!g.current,name:i,value:l,checked:m,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});rw.displayName=su;var iw="SwitchThumb",nw=_.forwardRef((e,t)=>{const{__scopeSwitch:r,...i}=e,n=RT(iw,r);return x.jsx(le.span,{"data-state":ow(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:t})});nw.displayName=iw;var PT="SwitchBubbleInput",sw=_.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:i=!0,...n},s)=>{const o=_.useRef(null),a=_e(o,s),l=$S(r),c=FS(t);return _.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&f){const p=new Event("click",{bubbles:i});f.call(u,r),u.dispatchEvent(p)}},[l,r,i]),x.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:a,style:{...n.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});sw.displayName=PT;function ow(e){return e?"checked":"unchecked"}var TT=rw,AT=nw,aw="Toggle",lw=_.forwardRef((e,t)=>{const{pressed:r,defaultPressed:i,onPressedChange:n,...s}=e,[o,a]=Ki({prop:r,onChange:n,defaultProp:i??!1,caller:aw});return x.jsx(le.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:te(e.onClick,()=>{e.disabled||a(!o)})})});lw.displayName=aw;var rn="ToggleGroup",[cw,wB]=Ji(rn,[d1]),uw=d1(),Xp=fe.forwardRef((e,t)=>{const{type:r,...i}=e;if(r==="single"){const n=i;return x.jsx(LT,{...n,ref:t})}if(r==="multiple"){const n=i;return x.jsx(DT,{...n,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${rn}\``)});Xp.displayName=rn;var[hw,dw]=cw(rn),LT=fe.forwardRef((e,t)=>{const{value:r,defaultValue:i,onValueChange:n=()=>{},...s}=e,[o,a]=Ki({prop:r,defaultProp:i??"",onChange:n,caller:rn});return x.jsx(hw,{scope:e.__scopeToggleGroup,type:"single",value:fe.useMemo(()=>o?[o]:[],[o]),onItemActivate:a,onItemDeactivate:fe.useCallback(()=>a(""),[a]),children:x.jsx(fw,{...s,ref:t})})}),DT=fe.forwardRef((e,t)=>{const{value:r,defaultValue:i,onValueChange:n=()=>{},...s}=e,[o,a]=Ki({prop:r,defaultProp:i??[],onChange:n,caller:rn}),l=fe.useCallback(u=>a((h=[])=>[...h,u]),[a]),c=fe.useCallback(u=>a((h=[])=>h.filter(d=>d!==u)),[a]);return x.jsx(hw,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:l,onItemDeactivate:c,children:x.jsx(fw,{...s,ref:t})})});Xp.displayName=rn;var[NT,OT]=cw(rn),fw=fe.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:i=!1,rovingFocus:n=!0,orientation:s,dir:o,loop:a=!0,...l}=e,c=uw(r),u=Kc(o),h={role:"group",dir:u,...l};return x.jsx(NT,{scope:r,rovingFocus:n,disabled:i,children:n?x.jsx(kP,{asChild:!0,...c,orientation:s,dir:u,loop:a,children:x.jsx(le.div,{...h,ref:t})}):x.jsx(le.div,{...h,ref:t})})}),ac="ToggleGroupItem",pw=fe.forwardRef((e,t)=>{const r=dw(ac,e.__scopeToggleGroup),i=OT(ac,e.__scopeToggleGroup),n=uw(e.__scopeToggleGroup),s=r.value.includes(e.value),o=i.disabled||e.disabled,a={...e,pressed:s,disabled:o},l=fe.useRef(null);return i.rovingFocus?x.jsx(RP,{asChild:!0,...n,focusable:!o,active:s,ref:l,children:x.jsx(dg,{...a,ref:t})}):x.jsx(dg,{...a,ref:t})});pw.displayName=ac;var dg=fe.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:i,...n}=e,s=dw(ac,r),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},a=s.type==="single"?o:void 0;return x.jsx(lw,{...a,...n,ref:t,onPressedChange:l=>{l?s.onItemActivate(i):s.onItemDeactivate(i)}})}),IT=Xp,MT=pw,[ou,CB]=Ji("Tooltip",[Jc]),Qp=Jc(),mw="TooltipProvider",BT=700,fg="tooltip.open",[zT,_w]=ou(mw),gw=e=>{const{__scopeTooltip:t,delayDuration:r=BT,skipDelayDuration:i=300,disableHoverableContent:n=!1,children:s}=e,o=_.useRef(!0),a=_.useRef(!1),l=_.useRef(0);return _.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),x.jsx(zT,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:a,onPointerInTransitChange:_.useCallback(c=>{a.current=c},[]),disableHoverableContent:n,children:s})};gw.displayName=mw;var vw="Tooltip",[bB,au]=ou(vw),zd="TooltipTrigger",$T=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...i}=e,n=au(zd,r),s=_w(zd,r),o=Qp(r),a=_.useRef(null),l=_e(t,a,n.onTriggerChange),c=_.useRef(!1),u=_.useRef(!1),h=_.useCallback(()=>c.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),x.jsx(l1,{asChild:!0,...o,children:x.jsx(le.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...i,ref:l,onPointerMove:te(e.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:te(e.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:te(e.onPointerDown,()=>{n.open&&n.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:te(e.onFocus,()=>{c.current||n.onOpen()}),onBlur:te(e.onBlur,n.onClose),onClick:te(e.onClick,n.onClose)})})});$T.displayName=zd;var FT="TooltipPortal",[xB,HT]=ou(FT,{forceMount:void 0}),bs="TooltipContent",VT=_.forwardRef((e,t)=>{const r=HT(bs,e.__scopeTooltip),{forceMount:i=r.forceMount,side:n="top",...s}=e,o=au(bs,e.__scopeTooltip);return x.jsx(Ds,{present:i||o.open,children:o.disableHoverableContent?x.jsx(yw,{side:n,...s,ref:t}):x.jsx(WT,{side:n,...s,ref:t})})}),WT=_.forwardRef((e,t)=>{const r=au(bs,e.__scopeTooltip),i=_w(bs,e.__scopeTooltip),n=_.useRef(null),s=_e(t,n),[o,a]=_.useState(null),{trigger:l,onClose:c}=r,u=n.current,{onPointerInTransitChange:h}=i,d=_.useCallback(()=>{a(null),h(!1)},[h]),f=_.useCallback((p,g)=>{const S=p.currentTarget,m={x:p.clientX,y:p.clientY},v=qT(m,S.getBoundingClientRect()),y=YT(m,v),w=XT(g.getBoundingClientRect()),b=ZT([...y,...w]);a(b),h(!0)},[h]);return _.useEffect(()=>()=>d(),[d]),_.useEffect(()=>{if(l&&u){const p=S=>f(S,u),g=S=>f(S,l);return l.addEventListener("pointerleave",p),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",g)}}},[l,u,f,d]),_.useEffect(()=>{if(o){const p=g=>{const S=g.target,m={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(S))||(u==null?void 0:u.contains(S)),y=!QT(m,o);v?d():y&&(d(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,u,o,c,d]),x.jsx(yw,{...e,ref:s})}),[UT,jT]=ou(vw,{isInside:!1}),GT=Ak("TooltipContent"),yw=_.forwardRef((e,t)=>{const{__scopeTooltip:r,children:i,"aria-label":n,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=e,l=au(bs,r),c=Qp(r),{onClose:u}=l;return _.useEffect(()=>(document.addEventListener(fg,u),()=>document.removeEventListener(fg,u)),[u]),_.useEffect(()=>{if(l.trigger){const h=d=>{const f=d.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),x.jsx(Bp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:x.jsxs(c1,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[x.jsx(GT,{children:i}),x.jsx(UT,{scope:r,isInside:!0,children:x.jsx(CS,{id:l.contentId,role:"tooltip",children:n||i})})]})})});VT.displayName=bs;var Sw="TooltipArrow",KT=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...i}=e,n=Qp(r);return jT(Sw,r).isInside?null:x.jsx(u1,{...n,...i,ref:t})});KT.displayName=Sw;function qT(e,t){const r=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,i,n,s)){case s:return"left";case n:return"right";case r:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function YT(e,t,r=5){const i=[];switch(t){case"top":i.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":i.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":i.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":i.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return i}function XT(e){const{top:t,right:r,bottom:i,left:n}=e;return[{x:n,y:t},{x:r,y:t},{x:r,y:i},{x:n,y:i}]}function QT(e,t){const{x:r,y:i}=e;let n=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s],l=t[o],c=a.x,u=a.y,h=l.x,d=l.y;u>i!=d>i&&r<(h-c)*(i-u)/(d-u)+c&&(n=!n)}return n}function ZT(e){const t=e.slice();return t.sort((r,i)=>r.x<i.x?-1:r.x>i.x?1:r.y<i.y?-1:r.y>i.y?1:0),JT(t)}function JT(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const n=e[i];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(n.y-o.y)>=(s.y-o.y)*(n.x-o.x))t.pop();else break}t.push(n)}t.pop();const r=[];for(let i=e.length-1;i>=0;i--){const n=e[i];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(n.y-o.y)>=(s.y-o.y)*(n.x-o.x))r.pop();else break}r.push(n)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var eA=gw,ww={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=n(s,i(a)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=n(o,a));return o}function n(s,o){return o?s?s+" "+o:s+o:s}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(ww);var tA=ww.exports;const ye=Hf(tA),Dr={asChild:{type:"boolean"}},Cw={width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0}},bw={height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0}},Zp=["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","lime","mint","sky"],rA=["auto","gray","mauve","slate","sage","olive","sand"],pa={color:{type:"enum",values:Zp,default:void 0}},Jp={color:{type:"enum",values:Zp,default:""}},Nn={highContrast:{type:"boolean",className:"rt-high-contrast",default:void 0}},iA=["normal","start","end","both"],em={trim:{type:"enum",className:"rt-r-lt",values:iA,responsive:!0}},nA=["left","center","right"],xw={align:{type:"enum",className:"rt-r-ta",values:nA,responsive:!0}},sA=["wrap","nowrap","pretty","balance"],lu={wrap:{type:"enum",className:"rt-r-tw",values:sA,responsive:!0}},cu={truncate:{type:"boolean",className:"rt-truncate"}},oA=["light","regular","medium","bold"],uu={weight:{type:"enum",className:"rt-r-weight",values:oA,responsive:!0}},aA=["h1","h2","h3","h4","h5","h6"],lA=["1","2","3","4","5","6","7","8","9"],cA={as:{type:"enum",values:aA,default:"h1"},...Dr,size:{type:"enum",className:"rt-r-size",values:lA,default:"6",responsive:!0},...uu,...xw,...em,...cu,...lu,...pa,...Nn},tm=["initial","xs","sm","md","lg","xl"];function Ew(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ao(e){return typeof e=="object"&&Object.keys(e).some(t=>tm.includes(t))}function uA({className:e,customProperties:t,...r}){const i=kw({allowArbitraryValues:!0,className:e,...r}),n=hA({customProperties:t,...r});return[i,n]}function kw({allowArbitraryValues:e,value:t,className:r,propValues:i,parseValue:n=s=>s}){const s=[];if(t){if(typeof t=="string"&&i.includes(t))return pg(r,t,n);if(Ao(t)){const o=t;for(const a in o){if(!Ew(o,a)||!tm.includes(a))continue;const l=o[a];if(l!==void 0){if(i.includes(l)){const c=pg(r,l,n),u=a==="initial"?c:`${a}:${c}`;s.push(u)}else if(e){const c=a==="initial"?r:`${a}:${r}`;s.push(c)}}}return s.join(" ")}if(e)return r}}function pg(e,t,r){const i=e?"-":"",n=r(t),s=n==null?void 0:n.startsWith("-"),o=s?"-":"",a=s?n==null?void 0:n.substring(1):n;return`${o}${e}${i}${a}`}function hA({customProperties:e,value:t,propValues:r,parseValue:i=n=>n}){let n={};if(!(!t||typeof t=="string"&&r.includes(t))){if(typeof t=="string"&&(n=Object.fromEntries(e.map(s=>[s,t]))),Ao(t)){const s=t;for(const o in s){if(!Ew(s,o)||!tm.includes(o))continue;const a=s[o];if(!r.includes(a))for(const l of e)n={[o==="initial"?l:`${l}-${o}`]:a,...n}}}for(const s in n){const o=n[s];o!==void 0&&(n[s]=i(o))}return n}}function mg(...e){let t={};for(const r of e)r&&(t={...t,...r});return Object.keys(t).length?t:void 0}function dA(...e){return Object.assign({},...e)}function kt(e,...t){let r,i;const n={...e},s=dA(...t);for(const o in s){let a=n[o];const l=s[o];if(l.default!==void 0&&a===void 0&&(a=l.default),l.type==="enum"&&![l.default,...l.values].includes(a)&&!Ao(a)&&(a=l.default),n[o]=a,"className"in l&&l.className){delete n[o];const c="responsive"in l;if(!a||Ao(a)&&!c)continue;if(Ao(a)&&(l.default!==void 0&&a.initial===void 0&&(a.initial=l.default),l.type==="enum"&&([l.default,...l.values].includes(a.initial)||(a.initial=l.default))),l.type==="enum"){const u=kw({allowArbitraryValues:!1,value:a,className:l.className,propValues:l.values,parseValue:l.parseValue});r=ye(r,u);continue}if(l.type==="string"||l.type==="enum | string"){const u=l.type==="string"?[]:l.values,[h,d]=uA({className:l.className,customProperties:l.customProperties,propValues:u,parseValue:l.parseValue,value:a});i=mg(i,d),r=ye(r,h);continue}if(l.type==="boolean"&&a){r=ye(r,l.className);continue}}}return n.className=ye(r,e.className),n.style=mg(i,e.style),n}const sn=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],ir={m:{type:"enum | string",values:sn,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:sn,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:sn,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:sn,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:sn,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:sn,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:sn,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}},yl=_.forwardRef((e,t)=>{const{children:r,className:i,asChild:n,as:s="h1",color:o,...a}=kt(e,cA,ir);return _.createElement(pi,{"data-accent-color":o,...a,ref:t,className:ye("rt-Heading",i)},n?r:_.createElement(s,null,r))});yl.displayName="Heading";const fA=["span","div","label","p"],pA=["1","2","3","4","5","6","7","8","9"],mA={as:{type:"enum",values:fA,default:"span"},...Dr,size:{type:"enum",className:"rt-r-size",values:pA,responsive:!0},...uu,...xw,...em,...cu,...lu,...pa,...Nn},qt=_.forwardRef((e,t)=>{const{children:r,className:i,asChild:n,as:s="span",color:o,...a}=kt(e,mA,ir);return _.createElement(pi,{"data-accent-color":o,...a,ref:t,className:ye("rt-Text",i)},n?r:_.createElement(s,null,r))});qt.displayName="Text";function _A(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand";case"gray":return"gray"}}const Rw=["none","small","medium","large","full"],hu={radius:{type:"enum",values:Rw,default:void 0}},gA=["inherit","light","dark"],vA=["solid","translucent"],yA=["90%","95%","100%","105%","110%"],Yt={...Dr,hasBackground:{type:"boolean",default:!0},appearance:{type:"enum",values:gA,default:"inherit"},accentColor:{type:"enum",values:Zp,default:"indigo"},grayColor:{type:"enum",values:rA,default:"auto"},panelBackground:{type:"enum",values:vA,default:"translucent"},radius:{type:"enum",values:Rw,default:"medium"},scaling:{type:"enum",values:yA,default:"100%"}},$n=()=>{},lc=_.createContext(void 0);function SA(){const e=_.useContext(lc);if(e===void 0)throw new Error("`useThemeContext` must be used within a `Theme`");return e}const rm=_.forwardRef((e,t)=>_.useContext(lc)===void 0?_.createElement(eA,{delayDuration:200},_.createElement(Gk,{dir:"ltr"},_.createElement(Pw,{...e,ref:t}))):_.createElement(im,{...e,ref:t}));rm.displayName="Theme";const Pw=_.forwardRef((e,t)=>{const{appearance:r=Yt.appearance.default,accentColor:i=Yt.accentColor.default,grayColor:n=Yt.grayColor.default,panelBackground:s=Yt.panelBackground.default,radius:o=Yt.radius.default,scaling:a=Yt.scaling.default,hasBackground:l=Yt.hasBackground.default,...c}=e,[u,h]=_.useState(r);_.useEffect(()=>h(r),[r]);const[d,f]=_.useState(i);_.useEffect(()=>f(i),[i]);const[p,g]=_.useState(n);_.useEffect(()=>g(n),[n]);const[S,m]=_.useState(s);_.useEffect(()=>m(s),[s]);const[v,y]=_.useState(o);_.useEffect(()=>y(o),[o]);const[w,b]=_.useState(a);return _.useEffect(()=>b(a),[a]),_.createElement(im,{...c,ref:t,isRoot:!0,hasBackground:l,appearance:u,accentColor:d,grayColor:p,panelBackground:S,radius:v,scaling:w,onAppearanceChange:h,onAccentColorChange:f,onGrayColorChange:g,onPanelBackgroundChange:m,onRadiusChange:y,onScalingChange:b})});Pw.displayName="ThemeRoot";const im=_.forwardRef((e,t)=>{const r=_.useContext(lc),{asChild:i,isRoot:n,hasBackground:s,appearance:o=(r==null?void 0:r.appearance)??Yt.appearance.default,accentColor:a=(r==null?void 0:r.accentColor)??Yt.accentColor.default,grayColor:l=(r==null?void 0:r.resolvedGrayColor)??Yt.grayColor.default,panelBackground:c=(r==null?void 0:r.panelBackground)??Yt.panelBackground.default,radius:u=(r==null?void 0:r.radius)??Yt.radius.default,scaling:h=(r==null?void 0:r.scaling)??Yt.scaling.default,onAppearanceChange:d=$n,onAccentColorChange:f=$n,onGrayColorChange:p=$n,onPanelBackgroundChange:g=$n,onRadiusChange:S=$n,onScalingChange:m=$n,...v}=e,y=i?pi:"div",w=l==="auto"?_A(a):l,b=e.appearance==="light"||e.appearance==="dark",R=s===void 0?n||b:s;return _.createElement(lc.Provider,{value:_.useMemo(()=>({appearance:o,accentColor:a,grayColor:l,resolvedGrayColor:w,panelBackground:c,radius:u,scaling:h,onAppearanceChange:d,onAccentColorChange:f,onGrayColorChange:p,onPanelBackgroundChange:g,onRadiusChange:S,onScalingChange:m}),[o,a,l,w,c,u,h,d,f,p,g,S,m])},_.createElement(y,{"data-is-root-theme":n?"true":"false","data-accent-color":a,"data-gray-color":w,"data-has-background":R?"true":"false","data-panel-background":c,"data-radius":u,"data-scaling":h,ref:t,...v,className:ye("radix-themes",{light:o==="light",dark:o==="dark"},v.className)}))});im.displayName="ThemeImpl";function wA(e,t){const{asChild:r,children:i}=e;if(!r)return typeof t=="function"?t(i):t;const n=_.Children.only(i);return _.cloneElement(n,{children:typeof t=="function"?t(n.props.children):t})}const Tw=pi,CA=["div","span"],bA=["none","inline","inline-block","block","contents"],xA={as:{type:"enum",values:CA,default:"div"},...Dr,display:{type:"enum",className:"rt-r-display",values:bA,responsive:!0}},on=["0","1","2","3","4","5","6","7","8","9"],EA={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:on,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:on,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:on,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:on,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:on,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:on,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:on,responsive:!0}},sh=["visible","hidden","clip","scroll","auto"],kA=["static","relative","absolute","fixed","sticky"],Zs=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],RA=["0","1"],PA=["0","1"],du={...EA,...Cw,...bw,position:{type:"enum",className:"rt-r-position",values:kA,responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:Zs,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:Zs,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:Zs,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:Zs,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:Zs,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:sh,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:sh,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:sh,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:RA,responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:PA,responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0}},Aw=_.forwardRef((e,t)=>{const{className:r,asChild:i,as:n="div",...s}=kt(e,xA,du,ir);return _.createElement(i?Tw:n,{...s,ref:t,className:ye("rt-Box",r)})});Aw.displayName="Box";const TA=["1","2","3","4"],AA=["classic","solid","soft","surface","outline","ghost"],_g={...Dr,size:{type:"enum",className:"rt-r-size",values:TA,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:AA,default:"solid"},...Jp,...Nn,...hu,loading:{type:"boolean",className:"rt-loading",default:!1}},oh=["0","1","2","3","4","5","6","7","8","9"],LA={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:oh,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:oh,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:oh,responsive:!0}},DA=["div","span"],NA=["none","inline-flex","flex"],OA=["row","column","row-reverse","column-reverse"],IA=["start","center","end","baseline","stretch"],MA=["start","center","end","between"],BA=["nowrap","wrap","wrap-reverse"],zA={as:{type:"enum",values:DA,default:"div"},...Dr,display:{type:"enum",className:"rt-r-display",values:NA,responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:OA,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:IA,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:MA,parseValue:$A,responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:BA,responsive:!0},...LA};function $A(e){return e==="between"?"space-between":e}const Mt=_.forwardRef((e,t)=>{const{className:r,asChild:i,as:n="div",...s}=kt(e,zA,du,ir);return _.createElement(i?Tw:n,{...s,ref:t,className:ye("rt-Flex",r)})});Mt.displayName="Flex";const FA=["1","2","3"],HA={size:{type:"enum",className:"rt-r-size",values:FA,default:"2",responsive:!0},loading:{type:"boolean",default:!0}},Lw=_.forwardRef((e,t)=>{const{className:r,children:i,loading:n,...s}=kt(e,HA,ir);if(!n)return i;const o=_.createElement("span",{...s,ref:t,className:ye("rt-Spinner",r)},_.createElement("span",{className:"rt-SpinnerLeaf"}),_.createElement("span",{className:"rt-SpinnerLeaf"}),_.createElement("span",{className:"rt-SpinnerLeaf"}),_.createElement("span",{className:"rt-SpinnerLeaf"}),_.createElement("span",{className:"rt-SpinnerLeaf"}),_.createElement("span",{className:"rt-SpinnerLeaf"}),_.createElement("span",{className:"rt-SpinnerLeaf"}),_.createElement("span",{className:"rt-SpinnerLeaf"}));return i===void 0?o:_.createElement(Mt,{asChild:!0,position:"relative",align:"center",justify:"center"},_.createElement("span",null,_.createElement("span",{"aria-hidden":!0,style:{display:"contents",visibility:"hidden"},inert:void 0},i),_.createElement(Mt,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},_.createElement("span",null,o))))});Lw.displayName="Spinner";const VA=CS;function WA(e,t){if(e!==void 0)return typeof e=="string"?t(e):Object.fromEntries(Object.entries(e).map(([r,i])=>[r,t(i)]))}function UA(e){switch(e){case"1":return"1";case"2":case"3":return"2";case"4":return"3"}}const Dw=_.forwardRef((e,t)=>{const{size:r=_g.size.default}=e,{className:i,children:n,asChild:s,color:o,radius:a,disabled:l=e.loading,...c}=kt(e,_g,ir),u=s?pi:"button";return _.createElement(u,{"data-disabled":l||void 0,"data-accent-color":o,"data-radius":a,...c,ref:t,className:ye("rt-reset","rt-BaseButton",i),disabled:l},e.loading?_.createElement(_.Fragment,null,_.createElement("span",{style:{display:"contents",visibility:"hidden"},"aria-hidden":!0},n),_.createElement(VA,null,n),_.createElement(Mt,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},_.createElement("span",null,_.createElement(Lw,{size:WA(r,UA)})))):n)});Dw.displayName="BaseButton";const cc=_.forwardRef(({className:e,...t},r)=>_.createElement(Dw,{...t,ref:r,className:ye("rt-Button",e)}));cc.displayName="Button";const jA=["1","2","3","4","5"],GA=["surface","classic","ghost"],KA={...Dr,size:{type:"enum",className:"rt-r-size",values:jA,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:GA,default:"surface"}},nm=_.forwardRef((e,t)=>{const{asChild:r,className:i,...n}=kt(e,KA,ir),s=r?pi:"div";return _.createElement(s,{ref:t,...n,className:ye("rt-reset","rt-BaseCard","rt-Card",i)})});nm.displayName="Card";var Nw=le;Nw.dispatchDiscreteCustomEvent=yS;Nw.Root=le;const qA=fe.forwardRef((e,t)=>fe.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},fe.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.75 4.5C0.75 4.08579 1.08579 3.75 1.5 3.75H7.5C7.91421 3.75 8.25 4.08579 8.25 4.5C8.25 4.91421 7.91421 5.25 7.5 5.25H1.5C1.08579 5.25 0.75 4.91421 0.75 4.5Z"})));qA.displayName="ThickDividerHorizontalIcon";const Ow=fe.forwardRef((e,t)=>fe.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},fe.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53547 0.62293C8.88226 0.849446 8.97976 1.3142 8.75325 1.66099L4.5083 8.1599C4.38833 8.34356 4.19397 8.4655 3.9764 8.49358C3.75883 8.52167 3.53987 8.45309 3.3772 8.30591L0.616113 5.80777C0.308959 5.52987 0.285246 5.05559 0.563148 4.74844C0.84105 4.44128 1.31533 4.41757 1.62249 4.69547L3.73256 6.60459L7.49741 0.840706C7.72393 0.493916 8.18868 0.396414 8.53547 0.62293Z"})));Ow.displayName="ThickCheckIcon";const Iw=fe.forwardRef((e,t)=>fe.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},fe.createElement("path",{d:"M0.135232 3.15803C0.324102 2.95657 0.640521 2.94637 0.841971 3.13523L4.5 6.56464L8.158 3.13523C8.3595 2.94637 8.6759 2.95657 8.8648 3.15803C9.0536 3.35949 9.0434 3.67591 8.842 3.86477L4.84197 7.6148C4.64964 7.7951 4.35036 7.7951 4.15803 7.6148L0.158031 3.86477C-0.0434285 3.67591 -0.0536285 3.35949 0.135232 3.15803Z"})));Iw.displayName="ChevronDownIcon";const YA=fe.forwardRef((e,t)=>fe.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},fe.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.23826 0.201711C3.54108 -0.0809141 4.01567 -0.0645489 4.29829 0.238264L7.79829 3.98826C8.06724 4.27642 8.06724 4.72359 7.79829 5.01174L4.29829 8.76174C4.01567 9.06455 3.54108 9.08092 3.23826 8.79829C2.93545 8.51567 2.91909 8.04108 3.20171 7.73826L6.22409 4.5L3.20171 1.26174C2.91909 0.958928 2.93545 0.484337 3.23826 0.201711Z"})));YA.displayName="ThickChevronRightIcon";const XA=["1","2","3","4","5","6","7","8","9"],QA=["solid","soft","outline","ghost"],ZA={...Dr,size:{type:"enum",className:"rt-r-size",values:XA,responsive:!0},variant:{type:"enum",className:"rt-variant",values:QA,default:"soft"},...uu,...Jp,...Nn,...cu,...lu},uc=_.forwardRef((e,t)=>{const{asChild:r,className:i,color:n,...s}=kt(e,ZA,ir),o=e.variant==="ghost"?n||void 0:n,a=r?pi:"code";return _.createElement(a,{"data-accent-color":o,...s,ref:t,className:ye("rt-reset","rt-Code",i)})});uc.displayName="Code";const JA=["1","2","3","4"],eL=["none","initial"],tL=["left","center","right"],rL={...Dr,size:{type:"enum",className:"rt-r-size",values:JA,default:"4",responsive:!0},display:{type:"enum",className:"rt-r-display",values:eL,parseValue:iL,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:tL,parseValue:nL,responsive:!0}};function iL(e){return e==="initial"?"flex":e}function nL(e){return e==="left"?"start":e==="right"?"end":e}const Vn=_.forwardRef(({width:e,minWidth:t,maxWidth:r,height:i,minHeight:n,maxHeight:s,...o},a)=>{const{asChild:l,children:c,className:u,...h}=kt(o,rL,du,ir),{className:d,style:f}=kt({width:e,minWidth:t,maxWidth:r,height:i,minHeight:n,maxHeight:s},Cw,bw),p=l?pi:"div";return _.createElement(p,{...h,ref:a,className:ye("rt-Container",u)},wA({asChild:l,children:c},g=>_.createElement("div",{className:ye("rt-ContainerInner",d),style:f},g)))});Vn.displayName="Container";const sL=["1","2","3","4","5","6","7","8","9"],oL=["auto","always","hover","none"],aL={...Dr,size:{type:"enum",className:"rt-r-size",values:sL,responsive:!0},...uu,...em,...cu,...lu,underline:{type:"enum",className:"rt-underline",values:oL,default:"auto"},...Jp,...Nn},Mw=_.forwardRef((e,t)=>{const{children:r,className:i,color:n,asChild:s,...o}=kt(e,aL);return _.createElement(qt,{...o,"data-accent-color":n,ref:t,asChild:!0,className:ye("rt-reset","rt-Link",i)},s?r:_.createElement("a",null,r))});Mw.displayName="Link";const lL=["1","2","3"],cL=["surface","classic"],uL={disabled:{type:"boolean",className:"disabled",default:!1},size:{type:"enum",className:"rt-r-size",values:lL,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:cL,default:"surface"},...hu},Bw=_.forwardRef((e,t)=>{const{className:r,children:i,radius:n,value:s,defaultValue:o,onValueChange:a,...l}=kt(e,uL,ir),[c,u]=Ki({prop:s,onChange:a,defaultProp:o});return _.createElement(IT,{"data-disabled":e.disabled||void 0,"data-radius":n,ref:t,className:ye("rt-SegmentedControlRoot",r),onValueChange:h=>{h&&u(h)},...l,type:"single",value:c,asChild:!1,disabled:!!e.disabled},i,_.createElement("div",{className:"rt-SegmentedControlIndicator"}))});Bw.displayName="SegmentedControl.Root";const $d=_.forwardRef(({children:e,className:t,...r},i)=>_.createElement(MT,{ref:i,className:ye("rt-reset","rt-SegmentedControlItem",t),...r,disabled:!1,asChild:!1},_.createElement("span",{className:"rt-SegmentedControlItemSeparator"}),_.createElement("span",{className:"rt-SegmentedControlItemLabel"},_.createElement("span",{className:"rt-SegmentedControlItemLabelActive"},e),_.createElement("span",{className:"rt-SegmentedControlItemLabelInactive","aria-hidden":!0},e))));$d.displayName="SegmentedControl.Item";const hL=["1","2","3","4"],dL=["none","initial"],fL={...Dr,size:{type:"enum",className:"rt-r-size",values:hL,default:"3",responsive:!0},display:{type:"enum",className:"rt-r-display",values:dL,parseValue:pL,responsive:!0}};function pL(e){return e==="initial"?"block":e}const Wn=_.forwardRef((e,t)=>{const{asChild:r,className:i,...n}=kt(e,fL,du,ir),s=r?pi:"section";return _.createElement(s,{...n,ref:t,className:ye("rt-Section",i)})});Wn.displayName="Section";const mL=["1","2","3"],sm={size:{type:"enum",className:"rt-r-size",values:mL,default:"2",responsive:!0}},_L=["classic","surface","soft","ghost"],gL={variant:{type:"enum",className:"rt-variant",values:_L,default:"surface"},...pa,...hu,placeholder:{type:"string"}},vL=["solid","soft"],yL={variant:{type:"enum",className:"rt-variant",values:vL,default:"solid"},...pa,...Nn},om=_.createContext({}),zw=e=>{const{children:t,size:r=sm.size.default,...i}=e;return _.createElement(dT,{...i},_.createElement(om.Provider,{value:_.useMemo(()=>({size:r}),[r])},t))};zw.displayName="Select.Root";const $w=_.forwardRef((e,t)=>{const r=_.useContext(om),{children:i,className:n,color:s,radius:o,placeholder:a,...l}=kt({size:r==null?void 0:r.size,...e},{size:sm.size},gL,ir);return _.createElement(fT,{asChild:!0},_.createElement("button",{"data-accent-color":s,"data-radius":o,...l,ref:t,className:ye("rt-reset","rt-SelectTrigger",n)},_.createElement("span",{className:"rt-SelectTriggerInner"},_.createElement(pT,{placeholder:a},i)),_.createElement(mT,{asChild:!0},_.createElement(Iw,{className:"rt-SelectIcon"}))))});$w.displayName="Select.Trigger";const Fw=_.forwardRef((e,t)=>{const r=_.useContext(om),{className:i,children:n,color:s,container:o,...a}=kt({size:r==null?void 0:r.size,...e},{size:sm.size},yL),l=SA(),c=s||l.accentColor;return _.createElement(_T,{container:o},_.createElement(rm,{asChild:!0},_.createElement(gT,{"data-accent-color":c,sideOffset:4,...a,asChild:!1,ref:t,className:ye({"rt-PopperContent":a.position==="popper"},"rt-SelectContent",i)},_.createElement(FP,{type:"auto",className:"rt-ScrollAreaRoot"},_.createElement(vT,{asChild:!0,className:"rt-SelectViewport"},_.createElement(HP,{className:"rt-ScrollAreaViewport",style:{overflowY:void 0}},n)),_.createElement(VP,{className:"rt-ScrollAreaScrollbar rt-r-size-1",orientation:"vertical"},_.createElement(WP,{className:"rt-ScrollAreaThumb"}))))))});Fw.displayName="Select.Content";const Hw=_.forwardRef((e,t)=>{const{className:r,children:i,...n}=e;return _.createElement(wT,{...n,asChild:!1,ref:t,className:ye("rt-SelectItem",r)},_.createElement(bT,{className:"rt-SelectItemIndicator"},_.createElement(Ow,{className:"rt-SelectItemIndicatorIcon"})),_.createElement(CT,null,i))});Hw.displayName="Select.Item";const SL=_.forwardRef(({className:e,...t},r)=>_.createElement(yT,{...t,asChild:!1,ref:r,className:ye("rt-SelectGroup",e)}));SL.displayName="Select.Group";const wL=_.forwardRef(({className:e,...t},r)=>_.createElement(ST,{...t,asChild:!1,ref:r,className:ye("rt-SelectLabel",e)}));wL.displayName="Select.Label";const CL=_.forwardRef(({className:e,...t},r)=>_.createElement(xT,{...t,asChild:!1,ref:r,className:ye("rt-SelectSeparator",e)}));CL.displayName="Select.Separator";const bL=["1","2","3"],xL=["classic","surface","soft"],EL={size:{type:"enum",className:"rt-r-size",values:bL,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:xL,default:"surface"},...pa,...Nn,...hu},Vw=_.forwardRef((e,t)=>{const{className:r,color:i,radius:n,...s}=kt(e,EL,ir);return _.createElement(TT,{"data-accent-color":i,"data-radius":n,...s,asChild:!1,ref:t,className:ye("rt-reset","rt-SwitchRoot",r)},_.createElement(AT,{className:ye("rt-SwitchThumb",{"rt-high-contrast":e.highContrast})}))});Vw.displayName="Switch";const kL="modulepreload",RL=function(e){return"/niftty/"+e},gg={},C=function(t,r,i){if(!r||r.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=RL(s),s in gg)return;gg[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!i)for(let u=n.length-1;u>=0;u--){const h=n[u];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":kL,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};let Ue=class extends Error{constructor(t){super(t),this.name="ShikiError"}};function PL(e){return am(e)}function am(e){return Array.isArray(e)?TL(e):e instanceof RegExp?e:typeof e=="object"?AL(e):e}function TL(e){let t=[];for(let r=0,i=e.length;r<i;r++)t[r]=am(e[r]);return t}function AL(e){let t={};for(let r in e)t[r]=am(e[r]);return t}function Ww(e,...t){return t.forEach(r=>{for(let i in r)e[i]=r[i]}),e}function Uw(e){const t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return t===0?e:~t===e.length-1?Uw(e.substring(0,e.length-1)):e.substr(~t+1)}var ah=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,qa=class{static hasCaptures(e){return e===null?!1:(ah.lastIndex=0,ah.test(e))}static replaceCaptures(e,t,r){return e.replace(ah,(i,n,s,o)=>{let a=r[parseInt(n||s,10)];if(a){let l=t.substring(a.start,a.end);for(;l[0]===".";)l=l.substring(1);switch(o){case"downcase":return l.toLowerCase();case"upcase":return l.toUpperCase();default:return l}}else return i})}};function jw(e,t){return e<t?-1:e>t?1:0}function Gw(e,t){if(e===null&&t===null)return 0;if(!e)return-1;if(!t)return 1;let r=e.length,i=t.length;if(r===i){for(let n=0;n<r;n++){let s=jw(e[n],t[n]);if(s!==0)return s}return 0}return r-i}function vg(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))}function Kw(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var qw=class{constructor(e){P(this,"cache",new Map);this.fn=e}get(e){if(this.cache.has(e))return this.cache.get(e);const t=this.fn(e);return this.cache.set(e,t),t}},hc=class{constructor(e,t,r){P(this,"_cachedMatchRoot",new qw(e=>this._root.match(e)));this._colorMap=e,this._defaults=t,this._root=r}static createFromRawTheme(e,t){return this.createFromParsedTheme(NL(e),t)}static createFromParsedTheme(e,t){return IL(e,t)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(e===null)return this._defaults;const t=e.scopeName,i=this._cachedMatchRoot.get(t).find(n=>LL(e.parent,n.parentScopes));return i?new Yw(i.fontStyle,i.foreground,i.background):null}},lh=class Sl{constructor(t,r){this.parent=t,this.scopeName=r}static push(t,r){for(const i of r)t=new Sl(t,i);return t}static from(...t){let r=null;for(let i=0;i<t.length;i++)r=new Sl(r,t[i]);return r}push(t){return new Sl(this,t)}getSegments(){let t=this;const r=[];for(;t;)r.push(t.scopeName),t=t.parent;return r.reverse(),r}toString(){return this.getSegments().join(" ")}extends(t){return this===t?!0:this.parent===null?!1:this.parent.extends(t)}getExtensionIfDefined(t){const r=[];let i=this;for(;i&&i!==t;)r.push(i.scopeName),i=i.parent;return i===t?r.reverse():void 0}};function LL(e,t){if(t.length===0)return!0;for(let r=0;r<t.length;r++){let i=t[r],n=!1;if(i===">"){if(r===t.length-1)return!1;i=t[++r],n=!0}for(;e&&!DL(e.scopeName,i);){if(n)return!1;e=e.parent}if(!e)return!1;e=e.parent}return!0}function DL(e,t){return t===e||e.startsWith(t)&&e[t.length]==="."}var Yw=class{constructor(e,t,r){this.fontStyle=e,this.foregroundId=t,this.backgroundId=r}};function NL(e){if(!e)return[];if(!e.settings||!Array.isArray(e.settings))return[];let t=e.settings,r=[],i=0;for(let n=0,s=t.length;n<s;n++){let o=t[n];if(!o.settings)continue;let a;if(typeof o.scope=="string"){let h=o.scope;h=h.replace(/^[,]+/,""),h=h.replace(/[,]+$/,""),a=h.split(",")}else Array.isArray(o.scope)?a=o.scope:a=[""];let l=-1;if(typeof o.settings.fontStyle=="string"){l=0;let h=o.settings.fontStyle.split(" ");for(let d=0,f=h.length;d<f;d++)switch(h[d]){case"italic":l=l|1;break;case"bold":l=l|2;break;case"underline":l=l|4;break;case"strikethrough":l=l|8;break}}let c=null;typeof o.settings.foreground=="string"&&vg(o.settings.foreground)&&(c=o.settings.foreground);let u=null;typeof o.settings.background=="string"&&vg(o.settings.background)&&(u=o.settings.background);for(let h=0,d=a.length;h<d;h++){let p=a[h].trim().split(" "),g=p[p.length-1],S=null;p.length>1&&(S=p.slice(0,p.length-1),S.reverse()),r[i++]=new OL(g,S,n,l,c,u)}}return r}var OL=class{constructor(e,t,r,i,n,s){this.scope=e,this.parentScopes=t,this.index=r,this.fontStyle=i,this.foreground=n,this.background=s}},xt=(e=>(e[e.NotSet=-1]="NotSet",e[e.None=0]="None",e[e.Italic=1]="Italic",e[e.Bold=2]="Bold",e[e.Underline=4]="Underline",e[e.Strikethrough=8]="Strikethrough",e))(xt||{});function IL(e,t){e.sort((l,c)=>{let u=jw(l.scope,c.scope);return u!==0||(u=Gw(l.parentScopes,c.parentScopes),u!==0)?u:l.index-c.index});let r=0,i="#000000",n="#ffffff";for(;e.length>=1&&e[0].scope==="";){let l=e.shift();l.fontStyle!==-1&&(r=l.fontStyle),l.foreground!==null&&(i=l.foreground),l.background!==null&&(n=l.background)}let s=new ML(t),o=new Yw(r,s.getId(i),s.getId(n)),a=new zL(new Fd(0,null,-1,0,0),[]);for(let l=0,c=e.length;l<c;l++){let u=e[l];a.insert(0,u.scope,u.parentScopes,u.fontStyle,s.getId(u.foreground),s.getId(u.background))}return new hc(s,o,a)}var ML=class{constructor(e){P(this,"_isFrozen");P(this,"_lastColorId");P(this,"_id2color");P(this,"_color2id");if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(let t=0,r=e.length;t<r;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}getId(e){if(e===null)return 0;e=e.toUpperCase();let t=this._color2id[e];if(t)return t;if(this._isFrozen)throw new Error(`Missing color in color map - ${e}`);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t}getColorMap(){return this._id2color.slice(0)}},BL=Object.freeze([]),Fd=class Xw{constructor(t,r,i,n,s){P(this,"scopeDepth");P(this,"parentScopes");P(this,"fontStyle");P(this,"foreground");P(this,"background");this.scopeDepth=t,this.parentScopes=r||BL,this.fontStyle=i,this.foreground=n,this.background=s}clone(){return new Xw(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(t){let r=[];for(let i=0,n=t.length;i<n;i++)r[i]=t[i].clone();return r}acceptOverwrite(t,r,i,n){this.scopeDepth>t?console.log("how did this happen?"):this.scopeDepth=t,r!==-1&&(this.fontStyle=r),i!==0&&(this.foreground=i),n!==0&&(this.background=n)}},zL=class Hd{constructor(t,r=[],i={}){P(this,"_rulesWithParentScopes");this._mainRule=t,this._children=i,this._rulesWithParentScopes=r}static _cmpBySpecificity(t,r){if(t.scopeDepth!==r.scopeDepth)return r.scopeDepth-t.scopeDepth;let i=0,n=0;for(;t.parentScopes[i]===">"&&i++,r.parentScopes[n]===">"&&n++,!(i>=t.parentScopes.length||n>=r.parentScopes.length);){const s=r.parentScopes[n].length-t.parentScopes[i].length;if(s!==0)return s;i++,n++}return r.parentScopes.length-t.parentScopes.length}match(t){if(t!==""){let i=t.indexOf("."),n,s;if(i===-1?(n=t,s=""):(n=t.substring(0,i),s=t.substring(i+1)),this._children.hasOwnProperty(n))return this._children[n].match(s)}const r=this._rulesWithParentScopes.concat(this._mainRule);return r.sort(Hd._cmpBySpecificity),r}insert(t,r,i,n,s,o){if(r===""){this._doInsertHere(t,i,n,s,o);return}let a=r.indexOf("."),l,c;a===-1?(l=r,c=""):(l=r.substring(0,a),c=r.substring(a+1));let u;this._children.hasOwnProperty(l)?u=this._children[l]:(u=new Hd(this._mainRule.clone(),Fd.cloneArr(this._rulesWithParentScopes)),this._children[l]=u),u.insert(t+1,c,i,n,s,o)}_doInsertHere(t,r,i,n,s){if(r===null){this._mainRule.acceptOverwrite(t,i,n,s);return}for(let o=0,a=this._rulesWithParentScopes.length;o<a;o++){let l=this._rulesWithParentScopes[o];if(Gw(l.parentScopes,r)===0){l.acceptOverwrite(t,i,n,s);return}}i===-1&&(i=this._mainRule.fontStyle),n===0&&(n=this._mainRule.foreground),s===0&&(s=this._mainRule.background),this._rulesWithParentScopes.push(new Fd(t,r,i,n,s))}},xs=class sr{static toBinaryStr(t){return t.toString(2).padStart(32,"0")}static print(t){const r=sr.getLanguageId(t),i=sr.getTokenType(t),n=sr.getFontStyle(t),s=sr.getForeground(t),o=sr.getBackground(t);console.log({languageId:r,tokenType:i,fontStyle:n,foreground:s,background:o})}static getLanguageId(t){return(t&255)>>>0}static getTokenType(t){return(t&768)>>>8}static containsBalancedBrackets(t){return(t&1024)!==0}static getFontStyle(t){return(t&30720)>>>11}static getForeground(t){return(t&16744448)>>>15}static getBackground(t){return(t&4278190080)>>>24}static set(t,r,i,n,s,o,a){let l=sr.getLanguageId(t),c=sr.getTokenType(t),u=sr.containsBalancedBrackets(t)?1:0,h=sr.getFontStyle(t),d=sr.getForeground(t),f=sr.getBackground(t);return r!==0&&(l=r),i!==8&&(c=i),n!==null&&(u=n?1:0),s!==-1&&(h=s),o!==0&&(d=o),a!==0&&(f=a),(l<<0|c<<8|u<<10|h<<11|d<<15|f<<24)>>>0}};function dc(e,t){const r=[],i=$L(e);let n=i.next();for(;n!==null;){let l=0;if(n.length===2&&n.charAt(1)===":"){switch(n.charAt(0)){case"R":l=1;break;case"L":l=-1;break;default:console.log(`Unknown priority ${n} in scope selector`)}n=i.next()}let c=o();if(r.push({matcher:c,priority:l}),n!==",")break;n=i.next()}return r;function s(){if(n==="-"){n=i.next();const l=s();return c=>!!l&&!l(c)}if(n==="("){n=i.next();const l=a();return n===")"&&(n=i.next()),l}if(yg(n)){const l=[];do l.push(n),n=i.next();while(yg(n));return c=>t(l,c)}return null}function o(){const l=[];let c=s();for(;c;)l.push(c),c=s();return u=>l.every(h=>h(u))}function a(){const l=[];let c=o();for(;c&&(l.push(c),n==="|"||n===",");){do n=i.next();while(n==="|"||n===",");c=o()}return u=>l.some(h=>h(u))}}function yg(e){return!!e&&!!e.match(/[\w\.:]+/)}function $L(e){let t=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,r=t.exec(e);return{next:()=>{if(!r)return null;const i=r[0];return r=t.exec(e),i}}}function Qw(e){typeof e.dispose=="function"&&e.dispose()}var Jo=class{constructor(e){this.scopeName=e}toKey(){return this.scopeName}},FL=class{constructor(e,t){this.scopeName=e,this.ruleName=t}toKey(){return`${this.scopeName}#${this.ruleName}`}},HL=class{constructor(){P(this,"_references",[]);P(this,"_seenReferenceKeys",new Set);P(this,"visitedRule",new Set)}get references(){return this._references}add(e){const t=e.toKey();this._seenReferenceKeys.has(t)||(this._seenReferenceKeys.add(t),this._references.push(e))}},VL=class{constructor(e,t){P(this,"seenFullScopeRequests",new Set);P(this,"seenPartialScopeRequests",new Set);P(this,"Q");this.repo=e,this.initialScopeName=t,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new Jo(this.initialScopeName)]}processQueue(){const e=this.Q;this.Q=[];const t=new HL;for(const r of e)WL(r,this.initialScopeName,this.repo,t);for(const r of t.references)if(r instanceof Jo){if(this.seenFullScopeRequests.has(r.scopeName))continue;this.seenFullScopeRequests.add(r.scopeName),this.Q.push(r)}else{if(this.seenFullScopeRequests.has(r.scopeName)||this.seenPartialScopeRequests.has(r.toKey()))continue;this.seenPartialScopeRequests.add(r.toKey()),this.Q.push(r)}}};function WL(e,t,r,i){const n=r.lookup(e.scopeName);if(!n){if(e.scopeName===t)throw new Error(`No grammar provided for <${t}>`);return}const s=r.lookup(t);e instanceof Jo?wl({baseGrammar:s,selfGrammar:n},i):Vd(e.ruleName,{baseGrammar:s,selfGrammar:n,repository:n.repository},i);const o=r.injections(e.scopeName);if(o)for(const a of o)i.add(new Jo(a))}function Vd(e,t,r){if(t.repository&&t.repository[e]){const i=t.repository[e];fc([i],t,r)}}function wl(e,t){e.selfGrammar.patterns&&Array.isArray(e.selfGrammar.patterns)&&fc(e.selfGrammar.patterns,{...e,repository:e.selfGrammar.repository},t),e.selfGrammar.injections&&fc(Object.values(e.selfGrammar.injections),{...e,repository:e.selfGrammar.repository},t)}function fc(e,t,r){for(const i of e){if(r.visitedRule.has(i))continue;r.visitedRule.add(i);const n=i.repository?Ww({},t.repository,i.repository):t.repository;Array.isArray(i.patterns)&&fc(i.patterns,{...t,repository:n},r);const s=i.include;if(!s)continue;const o=Zw(s);switch(o.kind){case 0:wl({...t,selfGrammar:t.baseGrammar},r);break;case 1:wl(t,r);break;case 2:Vd(o.ruleName,{...t,repository:n},r);break;case 3:case 4:const a=o.scopeName===t.selfGrammar.scopeName?t.selfGrammar:o.scopeName===t.baseGrammar.scopeName?t.baseGrammar:void 0;if(a){const l={baseGrammar:t.baseGrammar,selfGrammar:a,repository:n};o.kind===4?Vd(o.ruleName,l,r):wl(l,r)}else o.kind===4?r.add(new FL(o.scopeName,o.ruleName)):r.add(new Jo(o.scopeName));break}}}var UL=class{constructor(){P(this,"kind",0)}},jL=class{constructor(){P(this,"kind",1)}},GL=class{constructor(e){P(this,"kind",2);this.ruleName=e}},KL=class{constructor(e){P(this,"kind",3);this.scopeName=e}},qL=class{constructor(e,t){P(this,"kind",4);this.scopeName=e,this.ruleName=t}};function Zw(e){if(e==="$base")return new UL;if(e==="$self")return new jL;const t=e.indexOf("#");if(t===-1)return new KL(e);if(t===0)return new GL(e.substring(1));{const r=e.substring(0,t),i=e.substring(t+1);return new qL(r,i)}}var YL=/\\(\d+)/,Sg=/\\(\d+)/g,XL=-1,Jw=-2;var ma=class{constructor(e,t,r,i){P(this,"$location");P(this,"id");P(this,"_nameIsCapturing");P(this,"_name");P(this,"_contentNameIsCapturing");P(this,"_contentName");this.$location=e,this.id=t,this._name=r||null,this._nameIsCapturing=qa.hasCaptures(this._name),this._contentName=i||null,this._contentNameIsCapturing=qa.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${Uw(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,t){return!this._nameIsCapturing||this._name===null||e===null||t===null?this._name:qa.replaceCaptures(this._name,e,t)}getContentName(e,t){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:qa.replaceCaptures(this._contentName,e,t)}},QL=class extends ma{constructor(t,r,i,n,s){super(t,r,i,n);P(this,"retokenizeCapturedWithRuleId");this.retokenizeCapturedWithRuleId=s}dispose(){}collectPatterns(t,r){throw new Error("Not supported!")}compile(t,r){throw new Error("Not supported!")}compileAG(t,r,i,n){throw new Error("Not supported!")}},ZL=class extends ma{constructor(t,r,i,n,s){super(t,r,i,null);P(this,"_match");P(this,"captures");P(this,"_cachedCompiledPatterns");this._match=new ea(n,this.id),this.captures=s,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,r){r.push(this._match)}compile(t,r){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,r,i,n){return this._getCachedCompiledPatterns(t).compileAG(t,i,n)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new ta,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},wg=class extends ma{constructor(t,r,i,n,s){super(t,r,i,n);P(this,"hasMissingPatterns");P(this,"patterns");P(this,"_cachedCompiledPatterns");this.patterns=s.patterns,this.hasMissingPatterns=s.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,r){for(const i of this.patterns)t.getRule(i).collectPatterns(t,r)}compile(t,r){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,r,i,n){return this._getCachedCompiledPatterns(t).compileAG(t,i,n)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new ta,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},Wd=class extends ma{constructor(t,r,i,n,s,o,a,l,c,u){super(t,r,i,n);P(this,"_begin");P(this,"beginCaptures");P(this,"_end");P(this,"endHasBackReferences");P(this,"endCaptures");P(this,"applyEndPatternLast");P(this,"hasMissingPatterns");P(this,"patterns");P(this,"_cachedCompiledPatterns");this._begin=new ea(s,this.id),this.beginCaptures=o,this._end=new ea(a||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=l,this.applyEndPatternLast=c||!1,this.patterns=u.patterns,this.hasMissingPatterns=u.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,r){return this._end.resolveBackReferences(t,r)}collectPatterns(t,r){r.push(this._begin)}compile(t,r){return this._getCachedCompiledPatterns(t,r).compile(t)}compileAG(t,r,i,n){return this._getCachedCompiledPatterns(t,r).compileAG(t,i,n)}_getCachedCompiledPatterns(t,r){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new ta;for(const i of this.patterns)t.getRule(i).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,r):this._cachedCompiledPatterns.setSource(0,r)),this._cachedCompiledPatterns}},pc=class extends ma{constructor(t,r,i,n,s,o,a,l,c){super(t,r,i,n);P(this,"_begin");P(this,"beginCaptures");P(this,"whileCaptures");P(this,"_while");P(this,"whileHasBackReferences");P(this,"hasMissingPatterns");P(this,"patterns");P(this,"_cachedCompiledPatterns");P(this,"_cachedCompiledWhilePatterns");this._begin=new ea(s,this.id),this.beginCaptures=o,this.whileCaptures=l,this._while=new ea(a,Jw),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,r){return this._while.resolveBackReferences(t,r)}collectPatterns(t,r){r.push(this._begin)}compile(t,r){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,r,i,n){return this._getCachedCompiledPatterns(t).compileAG(t,i,n)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new ta;for(const r of this.patterns)t.getRule(r).collectPatterns(t,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(t,r){return this._getCachedCompiledWhilePatterns(t,r).compile(t)}compileWhileAG(t,r,i,n){return this._getCachedCompiledWhilePatterns(t,r).compileAG(t,i,n)}_getCachedCompiledWhilePatterns(t,r){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new ta,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,r||""),this._cachedCompiledWhilePatterns}},eC=class wt{static createCaptureRule(t,r,i,n,s){return t.registerRule(o=>new QL(r,o,i,n,s))}static getCompiledRuleId(t,r,i){return t.id||r.registerRule(n=>{if(t.id=n,t.match)return new ZL(t.$vscodeTextmateLocation,t.id,t.name,t.match,wt._compileCaptures(t.captures,r,i));if(typeof t.begin>"u"){t.repository&&(i=Ww({},i,t.repository));let s=t.patterns;return typeof s>"u"&&t.include&&(s=[{include:t.include}]),new wg(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,wt._compilePatterns(s,r,i))}return t.while?new pc(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,wt._compileCaptures(t.beginCaptures||t.captures,r,i),t.while,wt._compileCaptures(t.whileCaptures||t.captures,r,i),wt._compilePatterns(t.patterns,r,i)):new Wd(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,wt._compileCaptures(t.beginCaptures||t.captures,r,i),t.end,wt._compileCaptures(t.endCaptures||t.captures,r,i),t.applyEndPatternLast,wt._compilePatterns(t.patterns,r,i))}),t.id}static _compileCaptures(t,r,i){let n=[];if(t){let s=0;for(const o in t){if(o==="$vscodeTextmateLocation")continue;const a=parseInt(o,10);a>s&&(s=a)}for(let o=0;o<=s;o++)n[o]=null;for(const o in t){if(o==="$vscodeTextmateLocation")continue;const a=parseInt(o,10);let l=0;t[o].patterns&&(l=wt.getCompiledRuleId(t[o],r,i)),n[a]=wt.createCaptureRule(r,t[o].$vscodeTextmateLocation,t[o].name,t[o].contentName,l)}}return n}static _compilePatterns(t,r,i){let n=[];if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s];let l=-1;if(a.include){const c=Zw(a.include);switch(c.kind){case 0:case 1:l=wt.getCompiledRuleId(i[a.include],r,i);break;case 2:let u=i[c.ruleName];u&&(l=wt.getCompiledRuleId(u,r,i));break;case 3:case 4:const h=c.scopeName,d=c.kind===4?c.ruleName:null,f=r.getExternalGrammar(h,i);if(f)if(d){let p=f.repository[d];p&&(l=wt.getCompiledRuleId(p,r,f.repository))}else l=wt.getCompiledRuleId(f.repository.$self,r,f.repository);break}}else l=wt.getCompiledRuleId(a,r,i);if(l!==-1){const c=r.getRule(l);let u=!1;if((c instanceof wg||c instanceof Wd||c instanceof pc)&&c.hasMissingPatterns&&c.patterns.length===0&&(u=!0),u)continue;n.push(l)}}return{patterns:n,hasMissingPatterns:(t?t.length:0)!==n.length}}},ea=class tC{constructor(t,r){P(this,"source");P(this,"ruleId");P(this,"hasAnchor");P(this,"hasBackReferences");P(this,"_anchorCache");if(t&&typeof t=="string"){const i=t.length;let n=0,s=[],o=!1;for(let a=0;a<i;a++)if(t.charAt(a)==="\\"&&a+1<i){const c=t.charAt(a+1);c==="z"?(s.push(t.substring(n,a)),s.push("$(?!\\n)(?<!\\n)"),n=a+2):(c==="A"||c==="G")&&(o=!0),a++}this.hasAnchor=o,n===0?this.source=t:(s.push(t.substring(n,i)),this.source=s.join(""))}else this.hasAnchor=!1,this.source=t;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=r,typeof this.source=="string"?this.hasBackReferences=YL.test(this.source):this.hasBackReferences=!1}clone(){return new tC(this.source,this.ruleId)}setSource(t){this.source!==t&&(this.source=t,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(t,r){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let i=r.map(n=>t.substring(n.start,n.end));return Sg.lastIndex=0,this.source.replace(Sg,(n,s)=>Kw(i[parseInt(s,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let t=[],r=[],i=[],n=[],s,o,a,l;for(s=0,o=this.source.length;s<o;s++)a=this.source.charAt(s),t[s]=a,r[s]=a,i[s]=a,n[s]=a,a==="\\"&&s+1<o&&(l=this.source.charAt(s+1),l==="A"?(t[s+1]="",r[s+1]="",i[s+1]="A",n[s+1]="A"):l==="G"?(t[s+1]="",r[s+1]="G",i[s+1]="",n[s+1]="G"):(t[s+1]=l,r[s+1]=l,i[s+1]=l,n[s+1]=l),s++);return{A0_G0:t.join(""),A0_G1:r.join(""),A1_G0:i.join(""),A1_G1:n.join("")}}resolveAnchors(t,r){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:t?r?this._anchorCache.A1_G1:this._anchorCache.A1_G0:r?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},ta=class{constructor(){P(this,"_items");P(this,"_hasAnchors");P(this,"_cached");P(this,"_anchorCache");this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))}compile(e){if(!this._cached){let t=this._items.map(r=>r.source);this._cached=new Cg(e,t,this._items.map(r=>r.ruleId))}return this._cached}compileAG(e,t,r){return this._hasAnchors?t?r?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G0):r?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,t,r){let i=this._items.map(n=>n.resolveAnchors(t,r));return new Cg(e,i,this._items.map(n=>n.ruleId))}},Cg=class{constructor(e,t,r){P(this,"scanner");this.regExps=t,this.rules=r,this.scanner=e.createOnigScanner(t)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const e=[];for(let t=0,r=this.rules.length;t<r;t++)e.push("   - "+this.rules[t]+": "+this.regExps[t]);return e.join(`
`)}findNextMatchSync(e,t,r){const i=this.scanner.findNextMatchSync(e,t,r);return i?{ruleId:this.rules[i.index],captureIndices:i.captureIndices}:null}},ch=class{constructor(e,t){this.languageId=e,this.tokenType=t}},Oi,JL=(Oi=class{constructor(t,r){P(this,"_defaultAttributes");P(this,"_embeddedLanguagesMatcher");P(this,"_getBasicScopeAttributes",new qw(t=>{const r=this._scopeToLanguage(t),i=this._toStandardTokenType(t);return new ch(r,i)}));this._defaultAttributes=new ch(t,8),this._embeddedLanguagesMatcher=new eD(Object.entries(r||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(t){return t===null?Oi._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(t)}_scopeToLanguage(t){return this._embeddedLanguagesMatcher.match(t)||0}_toStandardTokenType(t){const r=t.match(Oi.STANDARD_TOKEN_TYPE_REGEXP);if(!r)return 8;switch(r[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}},P(Oi,"_NULL_SCOPE_METADATA",new ch(0,0)),P(Oi,"STANDARD_TOKEN_TYPE_REGEXP",/\b(comment|string|regex|meta\.embedded)\b/),Oi),eD=class{constructor(e){P(this,"values");P(this,"scopesRegExp");if(e.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(e);const t=e.map(([r,i])=>Kw(r));t.sort(),t.reverse(),this.scopesRegExp=new RegExp(`^((${t.join(")|(")}))($|\\.)`,"")}}match(e){if(!this.scopesRegExp)return;const t=e.match(this.scopesRegExp);if(t)return this.values.get(t[1])}};typeof process<"u"&&process.env.VSCODE_TEXTMATE_DEBUG;var bg=class{constructor(e,t){this.stack=e,this.stoppedEarly=t}};function rC(e,t,r,i,n,s,o,a){const l=t.content.length;let c=!1,u=-1;if(o){const f=tD(e,t,r,i,n,s);n=f.stack,i=f.linePos,r=f.isFirstLine,u=f.anchorPosition}const h=Date.now();for(;!c;){if(a!==0&&Date.now()-h>a)return new bg(n,!0);d()}return new bg(n,!1);function d(){const f=rD(e,t,r,i,n,u);if(!f){s.produce(n,l),c=!0;return}const p=f.captureIndices,g=f.matchedRuleId,S=p&&p.length>0?p[0].end>i:!1;if(g===XL){const m=n.getRule(e);s.produce(n,p[0].start),n=n.withContentNameScopesList(n.nameScopesList),ho(e,t,r,n,s,m.endCaptures,p),s.produce(n,p[0].end);const v=n;if(n=n.parent,u=v.getAnchorPos(),!S&&v.getEnterPos()===i){n=v,s.produce(n,l),c=!0;return}}else{const m=e.getRule(g);s.produce(n,p[0].start);const v=n,y=m.getName(t.content,p),w=n.contentNameScopesList.pushAttributed(y,e);if(n=n.push(g,i,u,p[0].end===l,null,w,w),m instanceof Wd){const b=m;ho(e,t,r,n,s,b.beginCaptures,p),s.produce(n,p[0].end),u=p[0].end;const R=b.getContentName(t.content,p),E=w.pushAttributed(R,e);if(n=n.withContentNameScopesList(E),b.endHasBackReferences&&(n=n.withEndRule(b.getEndWithResolvedBackReferences(t.content,p))),!S&&v.hasSameRuleAs(n)){n=n.pop(),s.produce(n,l),c=!0;return}}else if(m instanceof pc){const b=m;ho(e,t,r,n,s,b.beginCaptures,p),s.produce(n,p[0].end),u=p[0].end;const R=b.getContentName(t.content,p),E=w.pushAttributed(R,e);if(n=n.withContentNameScopesList(E),b.whileHasBackReferences&&(n=n.withEndRule(b.getWhileWithResolvedBackReferences(t.content,p))),!S&&v.hasSameRuleAs(n)){n=n.pop(),s.produce(n,l),c=!0;return}}else if(ho(e,t,r,n,s,m.captures,p),s.produce(n,p[0].end),n=n.pop(),!S){n=n.safePop(),s.produce(n,l),c=!0;return}}p[0].end>i&&(i=p[0].end,r=!1)}}function tD(e,t,r,i,n,s){let o=n.beginRuleCapturedEOL?0:-1;const a=[];for(let l=n;l;l=l.pop()){const c=l.getRule(e);c instanceof pc&&a.push({rule:c,stack:l})}for(let l=a.pop();l;l=a.pop()){const{ruleScanner:c,findOptions:u}=sD(l.rule,e,l.stack.endRule,r,i===o),h=c.findNextMatchSync(t,i,u);if(h){if(h.ruleId!==Jw){n=l.stack.pop();break}h.captureIndices&&h.captureIndices.length&&(s.produce(l.stack,h.captureIndices[0].start),ho(e,t,r,l.stack,s,l.rule.whileCaptures,h.captureIndices),s.produce(l.stack,h.captureIndices[0].end),o=h.captureIndices[0].end,h.captureIndices[0].end>i&&(i=h.captureIndices[0].end,r=!1))}else{n=l.stack.pop();break}}return{stack:n,linePos:i,anchorPosition:o,isFirstLine:r}}function rD(e,t,r,i,n,s){const o=iD(e,t,r,i,n,s),a=e.getInjections();if(a.length===0)return o;const l=nD(a,e,t,r,i,n,s);if(!l)return o;if(!o)return l;const c=o.captureIndices[0].start,u=l.captureIndices[0].start;return u<c||l.priorityMatch&&u===c?l:o}function iD(e,t,r,i,n,s){const o=n.getRule(e),{ruleScanner:a,findOptions:l}=iC(o,e,n.endRule,r,i===s),c=a.findNextMatchSync(t,i,l);return c?{captureIndices:c.captureIndices,matchedRuleId:c.ruleId}:null}function nD(e,t,r,i,n,s,o){let a=Number.MAX_VALUE,l=null,c,u=0;const h=s.contentNameScopesList.getScopeNames();for(let d=0,f=e.length;d<f;d++){const p=e[d];if(!p.matcher(h))continue;const g=t.getRule(p.ruleId),{ruleScanner:S,findOptions:m}=iC(g,t,null,i,n===o),v=S.findNextMatchSync(r,n,m);if(!v)continue;const y=v.captureIndices[0].start;if(!(y>=a)&&(a=y,l=v.captureIndices,c=v.ruleId,u=p.priority,a===n))break}return l?{priorityMatch:u===-1,captureIndices:l,matchedRuleId:c}:null}function iC(e,t,r,i,n){return{ruleScanner:e.compileAG(t,r,i,n),findOptions:0}}function sD(e,t,r,i,n){return{ruleScanner:e.compileWhileAG(t,r,i,n),findOptions:0}}function ho(e,t,r,i,n,s,o){if(s.length===0)return;const a=t.content,l=Math.min(s.length,o.length),c=[],u=o[0].end;for(let h=0;h<l;h++){const d=s[h];if(d===null)continue;const f=o[h];if(f.length===0)continue;if(f.start>u)break;for(;c.length>0&&c[c.length-1].endPos<=f.start;)n.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?n.produceFromScopes(c[c.length-1].scopes,f.start):n.produce(i,f.start),d.retokenizeCapturedWithRuleId){const g=d.getName(a,o),S=i.contentNameScopesList.pushAttributed(g,e),m=d.getContentName(a,o),v=S.pushAttributed(m,e),y=i.push(d.retokenizeCapturedWithRuleId,f.start,-1,!1,null,S,v),w=e.createOnigString(a.substring(0,f.end));rC(e,w,r&&f.start===0,f.start,y,n,!1,0),Qw(w);continue}const p=d.getName(a,o);if(p!==null){const S=(c.length>0?c[c.length-1].scopes:i.contentNameScopesList).pushAttributed(p,e);c.push(new oD(S,f.end))}}for(;c.length>0;)n.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}var oD=class{constructor(e,t){P(this,"scopes");P(this,"endPos");this.scopes=e,this.endPos=t}};function aD(e,t,r,i,n,s,o,a){return new cD(e,t,r,i,n,s,o,a)}function xg(e,t,r,i,n){const s=dc(t,mc),o=eC.getCompiledRuleId(r,i,n.repository);for(const a of s)e.push({debugSelector:t,matcher:a.matcher,ruleId:o,grammar:n,priority:a.priority})}function mc(e,t){if(t.length<e.length)return!1;let r=0;return e.every(i=>{for(let n=r;n<t.length;n++)if(lD(t[n],i))return r=n+1,!0;return!1})}function lD(e,t){if(!e)return!1;if(e===t)return!0;const r=t.length;return e.length>r&&e.substr(0,r)===t&&e[r]==="."}var cD=class{constructor(e,t,r,i,n,s,o,a){P(this,"_rootId");P(this,"_lastRuleId");P(this,"_ruleId2desc");P(this,"_includedGrammars");P(this,"_grammarRepository");P(this,"_grammar");P(this,"_injections");P(this,"_basicScopeAttributesProvider");P(this,"_tokenTypeMatchers");if(this._rootScopeName=e,this.balancedBracketSelectors=s,this._onigLib=a,this._basicScopeAttributesProvider=new JL(r,i),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=o,this._grammar=Eg(t,null),this._injections=null,this._tokenTypeMatchers=[],n)for(const l of Object.keys(n)){const c=dc(l,mc);for(const u of c)this._tokenTypeMatchers.push({matcher:u.matcher,type:n[l]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const e of this._ruleId2desc)e&&e.dispose()}createOnigScanner(e){return this._onigLib.createOnigScanner(e)}createOnigString(e){return this._onigLib.createOnigString(e)}getMetadataForScope(e){return this._basicScopeAttributesProvider.getBasicScopeAttributes(e)}_collectInjections(){const e={lookup:n=>n===this._rootScopeName?this._grammar:this.getExternalGrammar(n),injections:n=>this._grammarRepository.injections(n)},t=[],r=this._rootScopeName,i=e.lookup(r);if(i){const n=i.injections;if(n)for(let o in n)xg(t,o,n[o],this,i);const s=this._grammarRepository.injections(r);s&&s.forEach(o=>{const a=this.getExternalGrammar(o);if(a){const l=a.injectionSelector;l&&xg(t,l,a,this,a)}})}return t.sort((n,s)=>n.priority-s.priority),t}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(e){const t=++this._lastRuleId,r=e(t);return this._ruleId2desc[t]=r,r}getRule(e){return this._ruleId2desc[e]}getExternalGrammar(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){const r=this._grammarRepository.lookup(e);if(r)return this._includedGrammars[e]=Eg(r,t&&t.$base),this._includedGrammars[e]}}tokenizeLine(e,t,r=0){const i=this._tokenize(e,t,!1,r);return{tokens:i.lineTokens.getResult(i.ruleStack,i.lineLength),ruleStack:i.ruleStack,stoppedEarly:i.stoppedEarly}}tokenizeLine2(e,t,r=0){const i=this._tokenize(e,t,!0,r);return{tokens:i.lineTokens.getBinaryResult(i.ruleStack,i.lineLength),ruleStack:i.ruleStack,stoppedEarly:i.stoppedEarly}}_tokenize(e,t,r,i){this._rootId===-1&&(this._rootId=eC.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let n;if(!t||t===Ud.NULL){n=!0;const c=this._basicScopeAttributesProvider.getDefaultAttributes(),u=this.themeProvider.getDefaults(),h=xs.set(0,c.languageId,c.tokenType,null,u.fontStyle,u.foregroundId,u.backgroundId),d=this.getRule(this._rootId).getName(null,null);let f;d?f=Lo.createRootAndLookUpScopeName(d,h,this):f=Lo.createRoot("unknown",h),t=new Ud(null,this._rootId,-1,-1,!1,null,f,f)}else n=!1,t.reset();e=e+`
`;const s=this.createOnigString(e),o=s.content.length,a=new hD(r,e,this._tokenTypeMatchers,this.balancedBracketSelectors),l=rC(this,s,n,0,t,a,!0,i);return Qw(s),{lineLength:o,lineTokens:a,ruleStack:l.stack,stoppedEarly:l.stoppedEarly}}};function Eg(e,t){return e=PL(e),e.repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}var Lo=class Mr{constructor(t,r,i){this.parent=t,this.scopePath=r,this.tokenAttributes=i}static fromExtension(t,r){let i=t,n=(t==null?void 0:t.scopePath)??null;for(const s of r)n=lh.push(n,s.scopeNames),i=new Mr(i,n,s.encodedTokenAttributes);return i}static createRoot(t,r){return new Mr(null,new lh(null,t),r)}static createRootAndLookUpScopeName(t,r,i){const n=i.getMetadataForScope(t),s=new lh(null,t),o=i.themeProvider.themeMatch(s),a=Mr.mergeAttributes(r,n,o);return new Mr(null,s,a)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(t){return Mr.equals(this,t)}static equals(t,r){do{if(t===r||!t&&!r)return!0;if(!t||!r||t.scopeName!==r.scopeName||t.tokenAttributes!==r.tokenAttributes)return!1;t=t.parent,r=r.parent}while(!0)}static mergeAttributes(t,r,i){let n=-1,s=0,o=0;return i!==null&&(n=i.fontStyle,s=i.foregroundId,o=i.backgroundId),xs.set(t,r.languageId,r.tokenType,null,n,s,o)}pushAttributed(t,r){if(t===null)return this;if(t.indexOf(" ")===-1)return Mr._pushAttributed(this,t,r);const i=t.split(/ /g);let n=this;for(const s of i)n=Mr._pushAttributed(n,s,r);return n}static _pushAttributed(t,r,i){const n=i.getMetadataForScope(r),s=t.scopePath.push(r),o=i.themeProvider.themeMatch(s),a=Mr.mergeAttributes(t.tokenAttributes,n,o);return new Mr(t,s,a)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(t){var n;const r=[];let i=this;for(;i&&i!==t;)r.push({encodedTokenAttributes:i.tokenAttributes,scopeNames:i.scopePath.getExtensionIfDefined(((n=i.parent)==null?void 0:n.scopePath)??null)}),i=i.parent;return i===t?r.reverse():void 0}},xr,Ud=(xr=class{constructor(t,r,i,n,s,o,a,l){P(this,"_stackElementBrand");P(this,"_enterPos");P(this,"_anchorPos");P(this,"depth");this.parent=t,this.ruleId=r,this.beginRuleCapturedEOL=s,this.endRule=o,this.nameScopesList=a,this.contentNameScopesList=l,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=i,this._anchorPos=n}equals(t){return t===null?!1:xr._equals(this,t)}static _equals(t,r){return t===r?!0:this._structuralEquals(t,r)?Lo.equals(t.contentNameScopesList,r.contentNameScopesList):!1}static _structuralEquals(t,r){do{if(t===r||!t&&!r)return!0;if(!t||!r||t.depth!==r.depth||t.ruleId!==r.ruleId||t.endRule!==r.endRule)return!1;t=t.parent,r=r.parent}while(!0)}clone(){return this}static _reset(t){for(;t;)t._enterPos=-1,t._anchorPos=-1,t=t.parent}reset(){xr._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(t,r,i,n,s,o,a){return new xr(this,t,r,i,n,s,o,a)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(t){return t.getRule(this.ruleId)}toString(){const t=[];return this._writeString(t,0),"["+t.join(",")+"]"}_writeString(t,r){var i,n;return this.parent&&(r=this.parent._writeString(t,r)),t[r++]=`(${this.ruleId}, ${(i=this.nameScopesList)==null?void 0:i.toString()}, ${(n=this.contentNameScopesList)==null?void 0:n.toString()})`,r}withContentNameScopesList(t){return this.contentNameScopesList===t?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,t)}withEndRule(t){return this.endRule===t?this:new xr(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(t){let r=this;for(;r&&r._enterPos===t._enterPos;){if(r.ruleId===t.ruleId)return!0;r=r.parent}return!1}toStateStackFrame(){var t,r,i;return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((r=this.nameScopesList)==null?void 0:r.getExtensionIfDefined(((t=this.parent)==null?void 0:t.nameScopesList)??null))??[],contentNameScopesList:((i=this.contentNameScopesList)==null?void 0:i.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(t,r){const i=Lo.fromExtension((t==null?void 0:t.nameScopesList)??null,r.nameScopesList);return new xr(t,r.ruleId,r.enterPos??-1,r.anchorPos??-1,r.beginRuleCapturedEOL,r.endRule,i,Lo.fromExtension(i,r.contentNameScopesList))}},P(xr,"NULL",new xr(null,0,0,0,!1,null,null,null)),xr),uD=class{constructor(e,t){P(this,"balancedBracketScopes");P(this,"unbalancedBracketScopes");P(this,"allowAny",!1);this.balancedBracketScopes=e.flatMap(r=>r==="*"?(this.allowAny=!0,[]):dc(r,mc).map(i=>i.matcher)),this.unbalancedBracketScopes=t.flatMap(r=>dc(r,mc).map(i=>i.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(e){for(const t of this.unbalancedBracketScopes)if(t(e))return!1;for(const t of this.balancedBracketScopes)if(t(e))return!0;return this.allowAny}},hD=class{constructor(e,t,r,i){P(this,"_emitBinaryTokens");P(this,"_lineText");P(this,"_tokens");P(this,"_binaryTokens");P(this,"_lastTokenEndIndex");P(this,"_tokenTypeOverrides");this.balancedBracketSelectors=i,this._emitBinaryTokens=e,this._tokenTypeOverrides=r,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(e,t){this.produceFromScopes(e.contentNameScopesList,t)}produceFromScopes(e,t){var i;if(this._lastTokenEndIndex>=t)return;if(this._emitBinaryTokens){let n=(e==null?void 0:e.tokenAttributes)??0,s=!1;if((i=this.balancedBracketSelectors)!=null&&i.matchesAlways&&(s=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const o=(e==null?void 0:e.getScopeNames())??[];for(const a of this._tokenTypeOverrides)a.matcher(o)&&(n=xs.set(n,0,a.type,null,-1,0,0));this.balancedBracketSelectors&&(s=this.balancedBracketSelectors.match(o))}if(s&&(n=xs.set(n,0,8,s,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===n){this._lastTokenEndIndex=t;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(n),this._lastTokenEndIndex=t;return}const r=(e==null?void 0:e.getScopeNames())??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:r}),this._lastTokenEndIndex=t}getResult(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);const r=new Uint32Array(this._binaryTokens.length);for(let i=0,n=this._binaryTokens.length;i<n;i++)r[i]=this._binaryTokens[i];return r}},dD=class{constructor(e,t){P(this,"_grammars",new Map);P(this,"_rawGrammars",new Map);P(this,"_injectionGrammars",new Map);P(this,"_theme");this._onigLib=t,this._theme=e}dispose(){for(const e of this._grammars.values())e.dispose()}setTheme(e){this._theme=e}getColorMap(){return this._theme.getColorMap()}addGrammar(e,t){this._rawGrammars.set(e.scopeName,e),t&&this._injectionGrammars.set(e.scopeName,t)}lookup(e){return this._rawGrammars.get(e)}injections(e){return this._injectionGrammars.get(e)}getDefaults(){return this._theme.getDefaults()}themeMatch(e){return this._theme.match(e)}grammarForScopeName(e,t,r,i,n){if(!this._grammars.has(e)){let s=this._rawGrammars.get(e);if(!s)return null;this._grammars.set(e,aD(e,s,t,r,i,n,this,this._onigLib))}return this._grammars.get(e)}},fD=class{constructor(t){P(this,"_options");P(this,"_syncRegistry");P(this,"_ensureGrammarCache");this._options=t,this._syncRegistry=new dD(hc.createFromRawTheme(t.theme,t.colorMap),t.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(t,r){this._syncRegistry.setTheme(hc.createFromRawTheme(t,r))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(t,r,i){return this.loadGrammarWithConfiguration(t,r,{embeddedLanguages:i})}loadGrammarWithConfiguration(t,r,i){return this._loadGrammar(t,r,i.embeddedLanguages,i.tokenTypes,new uD(i.balancedBracketSelectors||[],i.unbalancedBracketSelectors||[]))}loadGrammar(t){return this._loadGrammar(t,0,null,null,null)}_loadGrammar(t,r,i,n,s){const o=new VL(this._syncRegistry,t);for(;o.Q.length>0;)o.Q.map(a=>this._loadSingleGrammar(a.scopeName)),o.processQueue();return this._grammarForScopeName(t,r,i,n,s)}_loadSingleGrammar(t){this._ensureGrammarCache.has(t)||(this._doLoadSingleGrammar(t),this._ensureGrammarCache.set(t,!0))}_doLoadSingleGrammar(t){const r=this._options.loadGrammar(t);if(r){const i=typeof this._options.getInjections=="function"?this._options.getInjections(t):void 0;this._syncRegistry.addGrammar(r,i)}}addGrammar(t,r=[],i=0,n=null){return this._syncRegistry.addGrammar(t,r),this._grammarForScopeName(t.scopeName,i,n)}_grammarForScopeName(t,r=0,i=null,n=null,s=null){return this._syncRegistry.grammarForScopeName(t,r,i,n,s)}},jd=Ud.NULL;const pD=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class _a{constructor(t,r,i){this.normal=r,this.property=t,i&&(this.space=i)}}_a.prototype.normal={};_a.prototype.property={};_a.prototype.space=void 0;function nC(e,t){const r={},i={};for(const n of e)Object.assign(r,n.property),Object.assign(i,n.normal);return new _a(r,i,t)}function Gd(e){return e.toLowerCase()}class Vt{constructor(t,r){this.attribute=r,this.property=t}}Vt.prototype.attribute="";Vt.prototype.booleanish=!1;Vt.prototype.boolean=!1;Vt.prototype.commaOrSpaceSeparated=!1;Vt.prototype.commaSeparated=!1;Vt.prototype.defined=!1;Vt.prototype.mustUseProperty=!1;Vt.prototype.number=!1;Vt.prototype.overloadedBoolean=!1;Vt.prototype.property="";Vt.prototype.spaceSeparated=!1;Vt.prototype.space=void 0;let mD=0;const ee=On(),Ve=On(),Kd=On(),H=On(),Ce=On(),ds=On(),jt=On();function On(){return 2**++mD}const qd=Object.freeze(Object.defineProperty({__proto__:null,boolean:ee,booleanish:Ve,commaOrSpaceSeparated:jt,commaSeparated:ds,number:H,overloadedBoolean:Kd,spaceSeparated:Ce},Symbol.toStringTag,{value:"Module"})),uh=Object.keys(qd);class lm extends Vt{constructor(t,r,i,n){let s=-1;if(super(t,r),kg(this,"space",n),typeof i=="number")for(;++s<uh.length;){const o=uh[s];kg(this,uh[s],(i&qd[o])===qd[o])}}}lm.prototype.defined=!0;function kg(e,t,r){r&&(e[t]=r)}function Ms(e){const t={},r={};for(const[i,n]of Object.entries(e.properties)){const s=new lm(i,e.transform(e.attributes||{},i),n,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),t[i]=s,r[Gd(i)]=i,r[Gd(s.attribute)]=i}return new _a(t,r,e.space)}const sC=Ms({properties:{ariaActiveDescendant:null,ariaAtomic:Ve,ariaAutoComplete:null,ariaBusy:Ve,ariaChecked:Ve,ariaColCount:H,ariaColIndex:H,ariaColSpan:H,ariaControls:Ce,ariaCurrent:null,ariaDescribedBy:Ce,ariaDetails:null,ariaDisabled:Ve,ariaDropEffect:Ce,ariaErrorMessage:null,ariaExpanded:Ve,ariaFlowTo:Ce,ariaGrabbed:Ve,ariaHasPopup:null,ariaHidden:Ve,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ce,ariaLevel:H,ariaLive:null,ariaModal:Ve,ariaMultiLine:Ve,ariaMultiSelectable:Ve,ariaOrientation:null,ariaOwns:Ce,ariaPlaceholder:null,ariaPosInSet:H,ariaPressed:Ve,ariaReadOnly:Ve,ariaRelevant:null,ariaRequired:Ve,ariaRoleDescription:Ce,ariaRowCount:H,ariaRowIndex:H,ariaRowSpan:H,ariaSelected:Ve,ariaSetSize:H,ariaSort:null,ariaValueMax:H,ariaValueMin:H,ariaValueNow:H,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function oC(e,t){return t in e?e[t]:t}function aC(e,t){return oC(e,t.toLowerCase())}const _D=Ms({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ds,acceptCharset:Ce,accessKey:Ce,action:null,allow:null,allowFullScreen:ee,allowPaymentRequest:ee,allowUserMedia:ee,alt:null,as:null,async:ee,autoCapitalize:null,autoComplete:Ce,autoFocus:ee,autoPlay:ee,blocking:Ce,capture:null,charSet:null,checked:ee,cite:null,className:Ce,cols:H,colSpan:null,content:null,contentEditable:Ve,controls:ee,controlsList:Ce,coords:H|ds,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ee,defer:ee,dir:null,dirName:null,disabled:ee,download:Kd,draggable:Ve,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ee,formTarget:null,headers:Ce,height:H,hidden:Kd,high:H,href:null,hrefLang:null,htmlFor:Ce,httpEquiv:Ce,id:null,imageSizes:null,imageSrcSet:null,inert:ee,inputMode:null,integrity:null,is:null,isMap:ee,itemId:null,itemProp:Ce,itemRef:Ce,itemScope:ee,itemType:Ce,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ee,low:H,manifest:null,max:null,maxLength:H,media:null,method:null,min:null,minLength:H,multiple:ee,muted:ee,name:null,nonce:null,noModule:ee,noValidate:ee,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ee,optimum:H,pattern:null,ping:Ce,placeholder:null,playsInline:ee,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ee,referrerPolicy:null,rel:Ce,required:ee,reversed:ee,rows:H,rowSpan:H,sandbox:Ce,scope:null,scoped:ee,seamless:ee,selected:ee,shadowRootClonable:ee,shadowRootDelegatesFocus:ee,shadowRootMode:null,shape:null,size:H,sizes:null,slot:null,span:H,spellCheck:Ve,src:null,srcDoc:null,srcLang:null,srcSet:null,start:H,step:null,style:null,tabIndex:H,target:null,title:null,translate:null,type:null,typeMustMatch:ee,useMap:null,value:Ve,width:H,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ce,axis:null,background:null,bgColor:null,border:H,borderColor:null,bottomMargin:H,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ee,declare:ee,event:null,face:null,frame:null,frameBorder:null,hSpace:H,leftMargin:H,link:null,longDesc:null,lowSrc:null,marginHeight:H,marginWidth:H,noResize:ee,noHref:ee,noShade:ee,noWrap:ee,object:null,profile:null,prompt:null,rev:null,rightMargin:H,rules:null,scheme:null,scrolling:Ve,standby:null,summary:null,text:null,topMargin:H,valueType:null,version:null,vAlign:null,vLink:null,vSpace:H,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ee,disableRemotePlayback:ee,prefix:null,property:null,results:H,security:null,unselectable:null},space:"html",transform:aC}),gD=Ms({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:jt,accentHeight:H,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:H,amplitude:H,arabicForm:null,ascent:H,attributeName:null,attributeType:null,azimuth:H,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:H,by:null,calcMode:null,capHeight:H,className:Ce,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:H,diffuseConstant:H,direction:null,display:null,dur:null,divisor:H,dominantBaseline:null,download:ee,dx:null,dy:null,edgeMode:null,editable:null,elevation:H,enableBackground:null,end:null,event:null,exponent:H,externalResourcesRequired:null,fill:null,fillOpacity:H,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ds,g2:ds,glyphName:ds,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:H,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:H,horizOriginX:H,horizOriginY:H,id:null,ideographic:H,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:H,k:H,k1:H,k2:H,k3:H,k4:H,kernelMatrix:jt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:H,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:H,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:H,overlineThickness:H,paintOrder:null,panose1:null,path:null,pathLength:H,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ce,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:H,pointsAtY:H,pointsAtZ:H,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:jt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:jt,rev:jt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:jt,requiredFeatures:jt,requiredFonts:jt,requiredFormats:jt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:H,specularExponent:H,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:H,strikethroughThickness:H,string:null,stroke:null,strokeDashArray:jt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:H,strokeOpacity:H,strokeWidth:null,style:null,surfaceScale:H,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:jt,tabIndex:H,tableValues:null,target:null,targetX:H,targetY:H,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:jt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:H,underlineThickness:H,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:H,values:null,vAlphabetic:H,vMathematical:H,vectorEffect:null,vHanging:H,vIdeographic:H,version:null,vertAdvY:H,vertOriginX:H,vertOriginY:H,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:H,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:oC}),lC=Ms({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),cC=Ms({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:aC}),uC=Ms({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),vD=/[A-Z]/g,Rg=/-[a-z]/g,yD=/^data[-\w.:]+$/i;function SD(e,t){const r=Gd(t);let i=t,n=Vt;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&yD.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Rg,CD);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Rg.test(s)){let o=s.replace(vD,wD);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}n=lm}return new n(i,t)}function wD(e){return"-"+e.toLowerCase()}function CD(e){return e.charAt(1).toUpperCase()}const bD=nC([sC,_D,lC,cC,uC],"html"),hC=nC([sC,gD,lC,cC,uC],"svg"),Pg={}.hasOwnProperty;function xD(e,t){const r=t||{};function i(n,...s){let o=i.invalid;const a=i.handlers;if(n&&Pg.call(n,e)){const l=String(n[e]);o=Pg.call(a,l)?a[l]:i.unknown}if(o)return o.call(this,n,...s)}return i.handlers=r.handlers||{},i.invalid=r.invalid,i.unknown=r.unknown,i}const ED=/["&'<>`]/g,kD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RD=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,PD=/[|\\{}()[\]^$+*?.]/g,Tg=new WeakMap;function TD(e,t){if(e=e.replace(t.subset?AD(t.subset):ED,i),t.subset||t.escapeOnly)return e;return e.replace(kD,r).replace(RD,i);function r(n,s,o){return t.format((n.charCodeAt(0)-55296)*1024+n.charCodeAt(1)-56320+65536,o.charCodeAt(s+2),t)}function i(n,s,o){return t.format(n.charCodeAt(0),o.charCodeAt(s+1),t)}}function AD(e){let t=Tg.get(e);return t||(t=LD(e),Tg.set(e,t)),t}function LD(e){const t=[];let r=-1;for(;++r<e.length;)t.push(e[r].replace(PD,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const DD=/[\dA-Fa-f]/;function ND(e,t,r){const i="&#x"+e.toString(16).toUpperCase();return r&&t&&!DD.test(String.fromCharCode(t))?i:i+";"}const OD=/\d/;function ID(e,t,r){const i="&#"+String(e);return r&&t&&!OD.test(String.fromCharCode(t))?i:i+";"}const MD=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],hh={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},BD=["cent","copy","divide","gt","lt","not","para","times"],dC={}.hasOwnProperty,Yd={};let Ya;for(Ya in hh)dC.call(hh,Ya)&&(Yd[hh[Ya]]=Ya);const zD=/[^\dA-Za-z]/;function $D(e,t,r,i){const n=String.fromCharCode(e);if(dC.call(Yd,n)){const s=Yd[n],o="&"+s;return r&&MD.includes(s)&&!BD.includes(s)&&(!i||t&&t!==61&&zD.test(String.fromCharCode(t)))?o:o+";"}return""}function FD(e,t,r){let i=ND(e,t,r.omitOptionalSemicolons),n;if((r.useNamedReferences||r.useShortestReferences)&&(n=$D(e,t,r.omitOptionalSemicolons,r.attribute)),(r.useShortestReferences||!n)&&r.useShortestReferences){const s=ID(e,t,r.omitOptionalSemicolons);s.length<i.length&&(i=s)}return n&&(!r.useShortestReferences||n.length<i.length)?n:i}function fs(e,t){return TD(e,Object.assign({format:FD},t))}const HD=/^>|^->|<!--|-->|--!>|<!-$/g,VD=[">"],WD=["<",">"];function UD(e,t,r,i){return i.settings.bogusComments?"<?"+fs(e.value,Object.assign({},i.settings.characterReferences,{subset:VD}))+">":"<!--"+e.value.replace(HD,n)+"-->";function n(s){return fs(s,Object.assign({},i.settings.characterReferences,{subset:WD}))}}function jD(e,t,r,i){return"<!"+(i.settings.upperDoctype?"DOCTYPE":"doctype")+(i.settings.tightDoctype?"":" ")+"html>"}function Ag(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let i=0,n=r.indexOf(t);for(;n!==-1;)i++,n=r.indexOf(t,n+t.length);return i}function GD(e,t){const r=t||{};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}function KD(e){return e.join(" ").trim()}const qD=/[ \t\n\f\r]/g;function cm(e){return typeof e=="object"?e.type==="text"?Lg(e.value):!1:Lg(e)}function Lg(e){return e.replace(qD,"")===""}const Je=pC(1),fC=pC(-1),YD=[];function pC(e){return t;function t(r,i,n){const s=r?r.children:YD;let o=(i||0)+e,a=s[o];if(!n)for(;a&&cm(a);)o+=e,a=s[o];return a}}const XD={}.hasOwnProperty;function mC(e){return t;function t(r,i,n){return XD.call(e,r.tagName)&&e[r.tagName](r,i,n)}}const um=mC({body:ZD,caption:dh,colgroup:dh,dd:rN,dt:tN,head:dh,html:QD,li:eN,optgroup:iN,option:nN,p:JD,rp:Dg,rt:Dg,tbody:oN,td:Ng,tfoot:aN,th:Ng,thead:sN,tr:lN});function dh(e,t,r){const i=Je(r,t,!0);return!i||i.type!=="comment"&&!(i.type==="text"&&cm(i.value.charAt(0)))}function QD(e,t,r){const i=Je(r,t);return!i||i.type!=="comment"}function ZD(e,t,r){const i=Je(r,t);return!i||i.type!=="comment"}function JD(e,t,r){const i=Je(r,t);return i?i.type==="element"&&(i.tagName==="address"||i.tagName==="article"||i.tagName==="aside"||i.tagName==="blockquote"||i.tagName==="details"||i.tagName==="div"||i.tagName==="dl"||i.tagName==="fieldset"||i.tagName==="figcaption"||i.tagName==="figure"||i.tagName==="footer"||i.tagName==="form"||i.tagName==="h1"||i.tagName==="h2"||i.tagName==="h3"||i.tagName==="h4"||i.tagName==="h5"||i.tagName==="h6"||i.tagName==="header"||i.tagName==="hgroup"||i.tagName==="hr"||i.tagName==="main"||i.tagName==="menu"||i.tagName==="nav"||i.tagName==="ol"||i.tagName==="p"||i.tagName==="pre"||i.tagName==="section"||i.tagName==="table"||i.tagName==="ul"):!r||!(r.type==="element"&&(r.tagName==="a"||r.tagName==="audio"||r.tagName==="del"||r.tagName==="ins"||r.tagName==="map"||r.tagName==="noscript"||r.tagName==="video"))}function eN(e,t,r){const i=Je(r,t);return!i||i.type==="element"&&i.tagName==="li"}function tN(e,t,r){const i=Je(r,t);return!!(i&&i.type==="element"&&(i.tagName==="dt"||i.tagName==="dd"))}function rN(e,t,r){const i=Je(r,t);return!i||i.type==="element"&&(i.tagName==="dt"||i.tagName==="dd")}function Dg(e,t,r){const i=Je(r,t);return!i||i.type==="element"&&(i.tagName==="rp"||i.tagName==="rt")}function iN(e,t,r){const i=Je(r,t);return!i||i.type==="element"&&i.tagName==="optgroup"}function nN(e,t,r){const i=Je(r,t);return!i||i.type==="element"&&(i.tagName==="option"||i.tagName==="optgroup")}function sN(e,t,r){const i=Je(r,t);return!!(i&&i.type==="element"&&(i.tagName==="tbody"||i.tagName==="tfoot"))}function oN(e,t,r){const i=Je(r,t);return!i||i.type==="element"&&(i.tagName==="tbody"||i.tagName==="tfoot")}function aN(e,t,r){return!Je(r,t)}function lN(e,t,r){const i=Je(r,t);return!i||i.type==="element"&&i.tagName==="tr"}function Ng(e,t,r){const i=Je(r,t);return!i||i.type==="element"&&(i.tagName==="td"||i.tagName==="th")}const cN=mC({body:dN,colgroup:fN,head:hN,html:uN,tbody:pN});function uN(e){const t=Je(e,-1);return!t||t.type!=="comment"}function hN(e){const t=new Set;for(const i of e.children)if(i.type==="element"&&(i.tagName==="base"||i.tagName==="title")){if(t.has(i.tagName))return!1;t.add(i.tagName)}const r=e.children[0];return!r||r.type==="element"}function dN(e){const t=Je(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&cm(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function fN(e,t,r){const i=fC(r,t),n=Je(e,-1,!0);return r&&i&&i.type==="element"&&i.tagName==="colgroup"&&um(i,r.children.indexOf(i),r)?!1:!!(n&&n.type==="element"&&n.tagName==="col")}function pN(e,t,r){const i=fC(r,t),n=Je(e,-1);return r&&i&&i.type==="element"&&(i.tagName==="thead"||i.tagName==="tbody")&&um(i,r.children.indexOf(i),r)?!1:!!(n&&n.type==="element"&&n.tagName==="tr")}const Xa={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function mN(e,t,r,i){const n=i.schema,s=n.space==="svg"?!1:i.settings.omitOptionalTags;let o=n.space==="svg"?i.settings.closeEmptyElements:i.settings.voids.includes(e.tagName.toLowerCase());const a=[];let l;n.space==="html"&&e.tagName==="svg"&&(i.schema=hC);const c=_N(i,e.properties),u=i.all(n.space==="html"&&e.tagName==="template"?e.content:e);return i.schema=n,u&&(o=!1),(c||!s||!cN(e,t,r))&&(a.push("<",e.tagName,c?" "+c:""),o&&(n.space==="svg"||i.settings.closeSelfClosing)&&(l=c.charAt(c.length-1),(!i.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&a.push(" "),a.push("/")),a.push(">")),a.push(u),!o&&(!s||!um(e,t,r))&&a.push("</"+e.tagName+">"),a.join("")}function _N(e,t){const r=[];let i=-1,n;if(t){for(n in t)if(t[n]!==null&&t[n]!==void 0){const s=gN(e,n,t[n]);s&&r.push(s)}}for(;++i<r.length;){const s=e.settings.tightAttributes?r[i].charAt(r[i].length-1):void 0;i!==r.length-1&&s!=='"'&&s!=="'"&&(r[i]+=" ")}return r.join("")}function gN(e,t,r){const i=SD(e.schema,t),n=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,s=e.settings.allowDangerousCharacters?0:1;let o=e.quote,a;if(i.overloadedBoolean&&(r===i.attribute||r==="")?r=!0:(i.boolean||i.overloadedBoolean)&&(typeof r!="string"||r===i.attribute||r==="")&&(r=!!r),r==null||r===!1||typeof r=="number"&&Number.isNaN(r))return"";const l=fs(i.attribute,Object.assign({},e.settings.characterReferences,{subset:Xa.name[n][s]}));return r===!0||(r=Array.isArray(r)?(i.commaSeparated?GD:KD)(r,{padLeft:!e.settings.tightCommaSeparatedLists}):String(r),e.settings.collapseEmptyAttributes&&!r)?l:(e.settings.preferUnquoted&&(a=fs(r,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:Xa.unquoted[n][s]}))),a!==r&&(e.settings.quoteSmart&&Ag(r,o)>Ag(r,e.alternative)&&(o=e.alternative),a=o+fs(r,Object.assign({},e.settings.characterReferences,{subset:(o==="'"?Xa.single:Xa.double)[n][s],attribute:!0}))+o),l+(a&&"="+a))}const vN=["<","&"];function _C(e,t,r,i){return r&&r.type==="element"&&(r.tagName==="script"||r.tagName==="style")?e.value:fs(e.value,Object.assign({},i.settings.characterReferences,{subset:vN}))}function yN(e,t,r,i){return i.settings.allowDangerousHtml?e.value:_C(e,t,r,i)}function SN(e,t,r,i){return i.all(e)}const wN=xD("type",{invalid:CN,unknown:bN,handlers:{comment:UD,doctype:jD,element:mN,raw:yN,root:SN,text:_C}});function CN(e){throw new Error("Expected node, not `"+e+"`")}function bN(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const xN={},EN={},kN=[];function RN(e,t){const r=t||xN,i=r.quote||'"',n=i==='"'?"'":'"';if(i!=='"'&&i!=="'")throw new Error("Invalid quote `"+i+"`, expected `'` or `\"`");return{one:PN,all:TN,settings:{omitOptionalTags:r.omitOptionalTags||!1,allowParseErrors:r.allowParseErrors||!1,allowDangerousCharacters:r.allowDangerousCharacters||!1,quoteSmart:r.quoteSmart||!1,preferUnquoted:r.preferUnquoted||!1,tightAttributes:r.tightAttributes||!1,upperDoctype:r.upperDoctype||!1,tightDoctype:r.tightDoctype||!1,bogusComments:r.bogusComments||!1,tightCommaSeparatedLists:r.tightCommaSeparatedLists||!1,tightSelfClosing:r.tightSelfClosing||!1,collapseEmptyAttributes:r.collapseEmptyAttributes||!1,allowDangerousHtml:r.allowDangerousHtml||!1,voids:r.voids||pD,characterReferences:r.characterReferences||EN,closeSelfClosing:r.closeSelfClosing||!1,closeEmptyElements:r.closeEmptyElements||!1},schema:r.space==="svg"?hC:bD,quote:i,alternative:n}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function PN(e,t,r){return wN(e,t,r,this)}function TN(e){const t=[],r=e&&e.children||kN;let i=-1;for(;++i<r.length;)t[i]=this.one(r[i],i,e);return t.join("")}function _c(e,t){const r=typeof e=="string"?{}:{...e.colorReplacements},i=typeof e=="string"?e:e.name;for(const[n,s]of Object.entries((t==null?void 0:t.colorReplacements)||{}))typeof s=="string"?r[n]=s:n===i&&Object.assign(r,s);return r}function Wi(e,t){return e&&((t==null?void 0:t[e==null?void 0:e.toLowerCase()])||e)}function AN(e){return Array.isArray(e)?e:[e]}async function gC(e){return Promise.resolve(typeof e=="function"?e():e).then(t=>t.default||t)}function hm(e){return!e||["plaintext","txt","text","plain"].includes(e)}function vC(e){return e==="ansi"||hm(e)}function dm(e){return e==="none"}function yC(e){return dm(e)}function SC(e,t){var i;if(!t)return e;e.properties||(e.properties={}),(i=e.properties).class||(i.class=[]),typeof e.properties.class=="string"&&(e.properties.class=e.properties.class.split(/\s+/g)),Array.isArray(e.properties.class)||(e.properties.class=[]);const r=Array.isArray(t)?t:t.split(/\s+/g);for(const n of r)n&&!e.properties.class.includes(n)&&e.properties.class.push(n);return e}function fu(e,t=!1){var s;const r=e.split(/(\r?\n)/g);let i=0;const n=[];for(let o=0;o<r.length;o+=2){const a=t?r[o]+(r[o+1]||""):r[o];n.push([a,i]),i+=r[o].length,i+=((s=r[o+1])==null?void 0:s.length)||0}return n}function LN(e){const t=fu(e,!0).map(([n])=>n);function r(n){if(n===e.length)return{line:t.length-1,character:t[t.length-1].length};let s=n,o=0;for(const a of t){if(s<a.length)break;s-=a.length,o++}return{line:o,character:s}}function i(n,s){let o=0;for(let a=0;a<n;a++)o+=t[a].length;return o+=s,o}return{lines:t,indexToPos:r,posToIndex:i}}const fm="light-dark()",DN=["color","background-color"];function NN(e,t){let r=0;const i=[];for(const n of t)n>r&&i.push({...e,content:e.content.slice(r,n),offset:e.offset+r}),r=n;return r<e.content.length&&i.push({...e,content:e.content.slice(r),offset:e.offset+r}),i}function ON(e,t){const r=Array.from(t instanceof Set?t:new Set(t)).sort((i,n)=>i-n);return r.length?e.map(i=>i.flatMap(n=>{const s=r.filter(o=>n.offset<o&&o<n.offset+n.content.length).map(o=>o-n.offset).sort((o,a)=>o-a);return s.length?NN(n,s):n})):e}function IN(e,t,r,i,n="css-vars"){const s={content:e.content,explanation:e.explanation,offset:e.offset},o=t.map(u=>gc(e.variants[u])),a=new Set(o.flatMap(u=>Object.keys(u))),l={},c=(u,h)=>{const d=h==="color"?"":h==="background-color"?"-bg":`-${h}`;return r+t[u]+(h==="color"?"":d)};return o.forEach((u,h)=>{for(const d of a){const f=u[d]||"inherit";if(h===0&&i&&DN.includes(d))if(i===fm&&o.length>1){const p=t.findIndex(v=>v==="light"),g=t.findIndex(v=>v==="dark");if(p===-1||g===-1)throw new Ue('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const S=o[p][d]||"inherit",m=o[g][d]||"inherit";l[d]=`light-dark(${S}, ${m})`,n==="css-vars"&&(l[c(h,d)]=f)}else l[d]=f;else n==="css-vars"&&(l[c(h,d)]=f)}}),s.htmlStyle=l,s}function gc(e){const t={};if(e.color&&(t.color=e.color),e.bgColor&&(t["background-color"]=e.bgColor),e.fontStyle){e.fontStyle&xt.Italic&&(t["font-style"]="italic"),e.fontStyle&xt.Bold&&(t["font-weight"]="bold");const r=[];e.fontStyle&xt.Underline&&r.push("underline"),e.fontStyle&xt.Strikethrough&&r.push("line-through"),r.length&&(t["text-decoration"]=r.join(" "))}return t}function Xd(e){return typeof e=="string"?e:Object.entries(e).map(([t,r])=>`${t}:${r}`).join(";")}const wC=new WeakMap;function pu(e,t){wC.set(e,t)}function ra(e){return wC.get(e)}class Bs{constructor(...t){P(this,"_stacks",{});P(this,"lang");if(t.length===2){const[r,i]=t;this.lang=i,this._stacks=r}else{const[r,i,n]=t;this.lang=i,this._stacks={[n]:r}}}get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(t,r){return new Bs(Object.fromEntries(AN(r).map(i=>[i,jd])),t)}getInternalStack(t=this.theme){return this._stacks[t]}getScopes(t=this.theme){return MN(this._stacks[t])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function MN(e){const t=[],r=new Set;function i(n){var o;if(r.has(n))return;r.add(n);const s=(o=n==null?void 0:n.nameScopesList)==null?void 0:o.scopeName;s&&t.push(s),n.parent&&i(n.parent)}return i(e),t}function BN(e,t){if(!(e instanceof Bs))throw new Ue("Invalid grammar state");return e.getInternalStack(t)}function zN(){const e=new WeakMap;function t(r){if(!e.has(r.meta)){let i=function(o){if(typeof o=="number"){if(o<0||o>r.source.length)throw new Ue(`Invalid decoration offset: ${o}. Code length: ${r.source.length}`);return{...n.indexToPos(o),offset:o}}else{const a=n.lines[o.line];if(a===void 0)throw new Ue(`Invalid decoration position ${JSON.stringify(o)}. Lines length: ${n.lines.length}`);let l=o.character;if(l<0&&(l=a.length+l),l<0||l>a.length)throw new Ue(`Invalid decoration position ${JSON.stringify(o)}. Line ${o.line} length: ${a.length}`);return{...o,character:l,offset:n.posToIndex(o.line,l)}}};const n=LN(r.source),s=(r.options.decorations||[]).map(o=>({...o,start:i(o.start),end:i(o.end)}));$N(s),e.set(r.meta,{decorations:s,converter:n,source:r.source})}return e.get(r.meta)}return{name:"shiki:decorations",tokens(r){var o;if(!((o=this.options.decorations)!=null&&o.length))return;const n=t(this).decorations.flatMap(a=>[a.start.offset,a.end.offset]);return ON(r,n)},code(r){var u;if(!((u=this.options.decorations)!=null&&u.length))return;const i=t(this),n=Array.from(r.children).filter(h=>h.type==="element"&&h.tagName==="span");if(n.length!==i.converter.lines.length)throw new Ue(`Number of lines in code element (${n.length}) does not match the number of lines in the source (${i.converter.lines.length}). Failed to apply decorations.`);function s(h,d,f,p){const g=n[h];let S="",m=-1,v=-1;if(d===0&&(m=0),f===0&&(v=0),f===Number.POSITIVE_INFINITY&&(v=g.children.length),m===-1||v===-1)for(let w=0;w<g.children.length;w++)S+=CC(g.children[w]),m===-1&&S.length===d&&(m=w+1),v===-1&&S.length===f&&(v=w+1);if(m===-1)throw new Ue(`Failed to find start index for decoration ${JSON.stringify(p.start)}`);if(v===-1)throw new Ue(`Failed to find end index for decoration ${JSON.stringify(p.end)}`);const y=g.children.slice(m,v);if(!p.alwaysWrap&&y.length===g.children.length)a(g,p,"line");else if(!p.alwaysWrap&&y.length===1&&y[0].type==="element")a(y[0],p,"token");else{const w={type:"element",tagName:"span",properties:{},children:y};a(w,p,"wrapper"),g.children.splice(m,y.length,w)}}function o(h,d){n[h]=a(n[h],d,"line")}function a(h,d,f){var S;const p=d.properties||{},g=d.transform||(m=>m);return h.tagName=d.tagName||"span",h.properties={...h.properties,...p,class:h.properties.class},(S=d.properties)!=null&&S.class&&SC(h,d.properties.class),h=g(h,f)||h,h}const l=[],c=i.decorations.sort((h,d)=>d.start.offset-h.start.offset||h.end.offset-d.end.offset);for(const h of c){const{start:d,end:f}=h;if(d.line===f.line)s(d.line,d.character,f.character,h);else if(d.line<f.line){s(d.line,d.character,Number.POSITIVE_INFINITY,h);for(let p=d.line+1;p<f.line;p++)l.unshift(()=>o(p,h));s(f.line,0,f.character,h)}}l.forEach(h=>h())}}}function $N(e){for(let t=0;t<e.length;t++){const r=e[t];if(r.start.offset>r.end.offset)throw new Ue(`Invalid decoration range: ${JSON.stringify(r.start)} - ${JSON.stringify(r.end)}`);for(let i=t+1;i<e.length;i++){const n=e[i],s=r.start.offset<=n.start.offset&&n.start.offset<r.end.offset,o=r.start.offset<n.end.offset&&n.end.offset<=r.end.offset,a=n.start.offset<=r.start.offset&&r.start.offset<n.end.offset,l=n.start.offset<r.end.offset&&r.end.offset<=n.end.offset;if(s||o||a||l){if(s&&o||a&&l||a&&r.start.offset===r.end.offset||o&&n.start.offset===n.end.offset)continue;throw new Ue(`Decorations ${JSON.stringify(r.start)} and ${JSON.stringify(n.start)} intersect.`)}}}}function CC(e){return e.type==="text"?e.value:e.type==="element"?e.children.map(CC).join(""):""}const FN=[zN()];function vc(e){const t=HN(e.transformers||[]);return[...t.pre,...t.normal,...t.post,...FN]}function HN(e){const t=[],r=[],i=[];for(const n of e)switch(n.enforce){case"pre":t.push(n);break;case"post":r.push(n);break;default:i.push(n)}return{pre:t,post:r,normal:i}}var mn=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],fh={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function VN(e,t){const r=e.indexOf("\x1B",t);if(r!==-1&&e[r+1]==="["){const i=e.indexOf("m",r);if(i!==-1)return{sequence:e.substring(r+2,i).split(";"),startPosition:r,position:i+1}}return{position:e.length}}function Og(e){const t=e.shift();if(t==="2"){const r=e.splice(0,3).map(i=>Number.parseInt(i));return r.length!==3||r.some(i=>Number.isNaN(i))?void 0:{type:"rgb",rgb:r}}else if(t==="5"){const r=e.shift();if(r)return{type:"table",index:Number(r)}}}function WN(e){const t=[];for(;e.length>0;){const r=e.shift();if(!r)continue;const i=Number.parseInt(r);if(!Number.isNaN(i))if(i===0)t.push({type:"resetAll"});else if(i<=9)fh[i]&&t.push({type:"setDecoration",value:fh[i]});else if(i<=29){const n=fh[i-20];n&&(t.push({type:"resetDecoration",value:n}),n==="dim"&&t.push({type:"resetDecoration",value:"bold"}))}else if(i<=37)t.push({type:"setForegroundColor",value:{type:"named",name:mn[i-30]}});else if(i===38){const n=Og(e);n&&t.push({type:"setForegroundColor",value:n})}else if(i===39)t.push({type:"resetForegroundColor"});else if(i<=47)t.push({type:"setBackgroundColor",value:{type:"named",name:mn[i-40]}});else if(i===48){const n=Og(e);n&&t.push({type:"setBackgroundColor",value:n})}else i===49?t.push({type:"resetBackgroundColor"}):i===53?t.push({type:"setDecoration",value:"overline"}):i===55?t.push({type:"resetDecoration",value:"overline"}):i>=90&&i<=97?t.push({type:"setForegroundColor",value:{type:"named",name:mn[i-90+8]}}):i>=100&&i<=107&&t.push({type:"setBackgroundColor",value:{type:"named",name:mn[i-100+8]}})}return t}function UN(){let e=null,t=null,r=new Set;return{parse(i){const n=[];let s=0;do{const o=VN(i,s),a=o.sequence?i.substring(s,o.startPosition):i.substring(s);if(a.length>0&&n.push({value:a,foreground:e,background:t,decorations:new Set(r)}),o.sequence){const l=WN(o.sequence);for(const c of l)c.type==="resetAll"?(e=null,t=null,r.clear()):c.type==="resetForegroundColor"?e=null:c.type==="resetBackgroundColor"?t=null:c.type==="resetDecoration"&&r.delete(c.value);for(const c of l)c.type==="setForegroundColor"?e=c.value:c.type==="setBackgroundColor"?t=c.value:c.type==="setDecoration"&&r.add(c.value)}s=o.position}while(s<i.length);return n}}}var jN={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function GN(e=jN){function t(a){return e[a]}function r(a){return`#${a.map(l=>Math.max(0,Math.min(l,255)).toString(16).padStart(2,"0")).join("")}`}let i;function n(){if(i)return i;i=[];for(let c=0;c<mn.length;c++)i.push(t(mn[c]));let a=[0,95,135,175,215,255];for(let c=0;c<6;c++)for(let u=0;u<6;u++)for(let h=0;h<6;h++)i.push(r([a[c],a[u],a[h]]));let l=8;for(let c=0;c<24;c++,l+=10)i.push(r([l,l,l]));return i}function s(a){return n()[a]}function o(a){switch(a.type){case"named":return t(a.name);case"rgb":return r(a.rgb);case"table":return s(a.index)}}return{value:o}}function KN(e,t,r){const i=_c(e,r),n=fu(t),s=GN(Object.fromEntries(mn.map(a=>{var l;return[a,(l=e.colors)==null?void 0:l[`terminal.ansi${a[0].toUpperCase()}${a.substring(1)}`]]}))),o=UN();return n.map(a=>o.parse(a[0]).map(l=>{let c,u;l.decorations.has("reverse")?(c=l.background?s.value(l.background):e.bg,u=l.foreground?s.value(l.foreground):e.fg):(c=l.foreground?s.value(l.foreground):e.fg,u=l.background?s.value(l.background):void 0),c=Wi(c,i),u=Wi(u,i),l.decorations.has("dim")&&(c=qN(c));let h=xt.None;return l.decorations.has("bold")&&(h|=xt.Bold),l.decorations.has("italic")&&(h|=xt.Italic),l.decorations.has("underline")&&(h|=xt.Underline),l.decorations.has("strikethrough")&&(h|=xt.Strikethrough),{content:l.value,offset:a[1],color:c,bgColor:u,fontStyle:h}}))}function qN(e){const t=e.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(t)if(t[3]){const i=Math.round(Number.parseInt(t[3],16)/2).toString(16).padStart(2,"0");return`#${t[1]}${t[2]}${i}`}else return t[2]?`#${t[1]}${t[2]}80`:`#${Array.from(t[1]).map(i=>`${i}${i}`).join("")}80`;const r=e.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return r?`var(${r[1]}-dim)`:e}function pm(e,t,r={}){const{lang:i="text",theme:n=e.getLoadedThemes()[0]}=r;if(hm(i)||dm(n))return fu(t).map(l=>[{content:l[0],offset:l[1]}]);const{theme:s,colorMap:o}=e.setTheme(n);if(i==="ansi")return KN(s,t,r);const a=e.getLanguage(i);if(r.grammarState){if(r.grammarState.lang!==a.name)throw new Ue(`Grammar state language "${r.grammarState.lang}" does not match highlight language "${a.name}"`);if(!r.grammarState.themes.includes(s.name))throw new Ue(`Grammar state themes "${r.grammarState.themes}" do not contain highlight theme "${s.name}"`)}return XN(t,a,s,o,r)}function YN(...e){if(e.length===2)return ra(e[1]);const[t,r,i={}]=e,{lang:n="text",theme:s=t.getLoadedThemes()[0]}=i;if(hm(n)||dm(s))throw new Ue("Plain language does not have grammar state");if(n==="ansi")throw new Ue("ANSI language does not have grammar state");const{theme:o,colorMap:a}=t.setTheme(s),l=t.getLanguage(n);return new Bs(yc(r,l,o,a,i).stateStack,l.name,o.name)}function XN(e,t,r,i,n){const s=yc(e,t,r,i,n),o=new Bs(yc(e,t,r,i,n).stateStack,t.name,r.name);return pu(s.tokens,o),s.tokens}function yc(e,t,r,i,n){const s=_c(r,n),{tokenizeMaxLineLength:o=0,tokenizeTimeLimit:a=500}=n,l=fu(e);let c=n.grammarState?BN(n.grammarState,r.name)??jd:n.grammarContextCode!=null?yc(n.grammarContextCode,t,r,i,{...n,grammarState:void 0,grammarContextCode:void 0}).stateStack:jd,u=[];const h=[];for(let d=0,f=l.length;d<f;d++){const[p,g]=l[d];if(p===""){u=[],h.push([]);continue}if(o>0&&p.length>=o){u=[],h.push([{content:p,offset:g,color:"",fontStyle:0}]);continue}let S,m,v;n.includeExplanation&&(S=t.tokenizeLine(p,c,a),m=S.tokens,v=0);const y=t.tokenizeLine2(p,c,a),w=y.tokens.length/2;for(let b=0;b<w;b++){const R=y.tokens[2*b],E=b+1<w?y.tokens[2*b+2]:p.length;if(R===E)continue;const L=y.tokens[2*b+1],A=Wi(i[xs.getForeground(L)],s),O=xs.getFontStyle(L),N={content:p.substring(R,E),offset:g+R,color:A,fontStyle:O};if(n.includeExplanation){const D=[];if(n.includeExplanation!=="scopeName")for(const I of r.settings){let z;switch(typeof I.scope){case"string":z=I.scope.split(/,/).map(M=>M.trim());break;case"object":z=I.scope;break;default:continue}D.push({settings:I,selectors:z.map(M=>M.split(/ /))})}N.explanation=[];let T=0;for(;R+T<E;){const I=m[v],z=p.substring(I.startIndex,I.endIndex);T+=z.length,N.explanation.push({content:z,scopes:n.includeExplanation==="scopeName"?QN(I.scopes):ZN(D,I.scopes)}),v+=1}}u.push(N)}h.push(u),u=[],c=y.ruleStack}return{tokens:h,stateStack:c}}function QN(e){return e.map(t=>({scopeName:t}))}function ZN(e,t){const r=[];for(let i=0,n=t.length;i<n;i++){const s=t[i];r[i]={scopeName:s,themeMatches:eO(e,s,t.slice(0,i))}}return r}function Ig(e,t){return e===t||t.substring(0,e.length)===e&&t[e.length]==="."}function JN(e,t,r){if(!Ig(e[e.length-1],t))return!1;let i=e.length-2,n=r.length-1;for(;i>=0&&n>=0;)Ig(e[i],r[n])&&(i-=1),n-=1;return i===-1}function eO(e,t,r){const i=[];for(const{selectors:n,settings:s}of e)for(const o of n)if(JN(o,t,r)){i.push(s);break}return i}function bC(e,t,r){const i=Object.entries(r.themes).filter(l=>l[1]).map(l=>({color:l[0],theme:l[1]})),n=i.map(l=>{const c=pm(e,t,{...r,theme:l.theme}),u=ra(c),h=typeof l.theme=="string"?l.theme:l.theme.name;return{tokens:c,state:u,theme:h}}),s=tO(...n.map(l=>l.tokens)),o=s[0].map((l,c)=>l.map((u,h)=>{const d={content:u.content,variants:{},offset:u.offset};return"includeExplanation"in r&&r.includeExplanation&&(d.explanation=u.explanation),s.forEach((f,p)=>{const{content:g,explanation:S,offset:m,...v}=f[c][h];d.variants[i[p].color]=v}),d})),a=n[0].state?new Bs(Object.fromEntries(n.map(l=>{var c;return[l.theme,(c=l.state)==null?void 0:c.getInternalStack(l.theme)]})),n[0].state.lang):void 0;return a&&pu(o,a),o}function tO(...e){const t=e.map(()=>[]),r=e.length;for(let i=0;i<e[0].length;i++){const n=e.map(l=>l[i]),s=t.map(()=>[]);t.forEach((l,c)=>l.push(s[c]));const o=n.map(()=>0),a=n.map(l=>l[0]);for(;a.every(l=>l);){const l=Math.min(...a.map(c=>c.content.length));for(let c=0;c<r;c++){const u=a[c];u.content.length===l?(s[c].push(u),o[c]+=1,a[c]=n[c][o[c]]):(s[c].push({...u,content:u.content.slice(0,l)}),a[c]={...u,content:u.content.slice(l),offset:u.offset+l})}}}return t}function Sc(e,t,r){let i,n,s,o,a,l;if("themes"in r){const{defaultColor:c="light",cssVariablePrefix:u="--shiki-",colorsRendering:h="css-vars"}=r,d=Object.entries(r.themes).filter(m=>m[1]).map(m=>({color:m[0],theme:m[1]})).sort((m,v)=>m.color===c?-1:v.color===c?1:0);if(d.length===0)throw new Ue("`themes` option must not be empty");const f=bC(e,t,r);if(l=ra(f),c&&fm!==c&&!d.find(m=>m.color===c))throw new Ue(`\`themes\` option must contain the defaultColor key \`${c}\``);const p=d.map(m=>e.getTheme(m.theme)),g=d.map(m=>m.color);s=f.map(m=>m.map(v=>IN(v,g,u,c,h))),l&&pu(s,l);const S=d.map(m=>_c(m.theme,r));n=Mg(d,p,S,u,c,"fg",h),i=Mg(d,p,S,u,c,"bg",h),o=`shiki-themes ${p.map(m=>m.name).join(" ")}`,a=c?void 0:[n,i].join(";")}else if("theme"in r){const c=_c(r.theme,r);s=pm(e,t,r);const u=e.getTheme(r.theme);i=Wi(u.bg,c),n=Wi(u.fg,c),o=u.name,l=ra(s)}else throw new Ue("Invalid options, either `theme` or `themes` must be provided");return{tokens:s,fg:n,bg:i,themeName:o,rootStyle:a,grammarState:l}}function Mg(e,t,r,i,n,s,o){return e.map((a,l)=>{const c=Wi(t[l][s],r[l])||"inherit",u=`${i+a.color}${s==="bg"?"-bg":""}:${c}`;if(l===0&&n){if(n===fm&&e.length>1){const h=e.findIndex(g=>g.color==="light"),d=e.findIndex(g=>g.color==="dark");if(h===-1||d===-1)throw new Ue('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const f=Wi(t[h][s],r[h])||"inherit",p=Wi(t[d][s],r[d])||"inherit";return`light-dark(${f}, ${p});${u}`}return c}return o==="css-vars"?u:null}).filter(a=>!!a).join(";")}function wc(e,t,r,i={meta:{},options:r,codeToHast:(n,s)=>wc(e,n,s),codeToTokens:(n,s)=>Sc(e,n,s)}){var p,g;let n=t;for(const S of vc(r))n=((p=S.preprocess)==null?void 0:p.call(i,n,r))||n;let{tokens:s,fg:o,bg:a,themeName:l,rootStyle:c,grammarState:u}=Sc(e,n,r);const{mergeWhitespaces:h=!0,mergeSameStyleTokens:d=!1}=r;h===!0?s=iO(s):h==="never"&&(s=nO(s)),d&&(s=sO(s));const f={...i,get source(){return n}};for(const S of vc(r))s=((g=S.tokens)==null?void 0:g.call(f,s))||s;return rO(s,{...r,fg:o,bg:a,themeName:l,rootStyle:c},f,u)}function rO(e,t,r,i=ra(e)){var p,g,S;const n=vc(t),s=[],o={type:"root",children:[]},{structure:a="classic",tabindex:l="0"}=t;let c={type:"element",tagName:"pre",properties:{class:`shiki ${t.themeName||""}`,style:t.rootStyle||`background-color:${t.bg};color:${t.fg}`,...l!==!1&&l!=null?{tabindex:l.toString()}:{},...Object.fromEntries(Array.from(Object.entries(t.meta||{})).filter(([m])=>!m.startsWith("_")))},children:[]},u={type:"element",tagName:"code",properties:{},children:s};const h=[],d={...r,structure:a,addClassToHast:SC,get source(){return r.source},get tokens(){return e},get options(){return t},get root(){return o},get pre(){return c},get code(){return u},get lines(){return h}};if(e.forEach((m,v)=>{var b,R;v&&(a==="inline"?o.children.push({type:"element",tagName:"br",properties:{},children:[]}):a==="classic"&&s.push({type:"text",value:`
`}));let y={type:"element",tagName:"span",properties:{class:"line"},children:[]},w=0;for(const E of m){let L={type:"element",tagName:"span",properties:{...E.htmlAttrs},children:[{type:"text",value:E.content}]};const A=Xd(E.htmlStyle||gc(E));A&&(L.properties.style=A);for(const O of n)L=((b=O==null?void 0:O.span)==null?void 0:b.call(d,L,v+1,w,y,E))||L;a==="inline"?o.children.push(L):a==="classic"&&y.children.push(L),w+=E.content.length}if(a==="classic"){for(const E of n)y=((R=E==null?void 0:E.line)==null?void 0:R.call(d,y,v+1))||y;h.push(y),s.push(y)}}),a==="classic"){for(const m of n)u=((p=m==null?void 0:m.code)==null?void 0:p.call(d,u))||u;c.children.push(u);for(const m of n)c=((g=m==null?void 0:m.pre)==null?void 0:g.call(d,c))||c;o.children.push(c)}let f=o;for(const m of n)f=((S=m==null?void 0:m.root)==null?void 0:S.call(d,f))||f;return i&&pu(f,i),f}function iO(e){return e.map(t=>{const r=[];let i="",n=0;return t.forEach((s,o)=>{const l=!(s.fontStyle&&(s.fontStyle&xt.Underline||s.fontStyle&xt.Strikethrough));l&&s.content.match(/^\s+$/)&&t[o+1]?(n||(n=s.offset),i+=s.content):i?(l?r.push({...s,offset:n,content:i+s.content}):r.push({content:i,offset:n},s),n=0,i=""):r.push(s)}),r})}function nO(e){return e.map(t=>t.flatMap(r=>{if(r.content.match(/^\s+$/))return r;const i=r.content.match(/^(\s*)(.*?)(\s*)$/);if(!i)return r;const[,n,s,o]=i;if(!n&&!o)return r;const a=[{...r,offset:r.offset+n.length,content:s}];return n&&a.unshift({content:n,offset:r.offset}),o&&a.push({content:o,offset:r.offset+n.length+s.length}),a}))}function sO(e){return e.map(t=>{const r=[];for(const i of t){if(r.length===0){r.push({...i});continue}const n=r[r.length-1],s=Xd(n.htmlStyle||gc(n)),o=Xd(i.htmlStyle||gc(i)),a=n.fontStyle&&(n.fontStyle&xt.Underline||n.fontStyle&xt.Strikethrough),l=i.fontStyle&&(i.fontStyle&xt.Underline||i.fontStyle&xt.Strikethrough);!a&&!l&&s===o?n.content+=i.content:r.push({...i})}return r})}const oO=RN;function aO(e,t,r){var s;const i={meta:{},options:r,codeToHast:(o,a)=>wc(e,o,a),codeToTokens:(o,a)=>Sc(e,o,a)};let n=oO(wc(e,t,r,i));for(const o of vc(r))n=((s=o.postprocess)==null?void 0:s.call(i,n,r))||n;return n}const Bg={light:"#333333",dark:"#bbbbbb"},zg={light:"#fffffe",dark:"#1e1e1e"},$g="__shiki_resolved";function mm(e){var a,l,c,u,h;if(e!=null&&e[$g])return e;const t={...e};t.tokenColors&&!t.settings&&(t.settings=t.tokenColors,delete t.tokenColors),t.type||(t.type="dark"),t.colorReplacements={...t.colorReplacements},t.settings||(t.settings=[]);let{bg:r,fg:i}=t;if(!r||!i){const d=t.settings?t.settings.find(f=>!f.name&&!f.scope):void 0;(a=d==null?void 0:d.settings)!=null&&a.foreground&&(i=d.settings.foreground),(l=d==null?void 0:d.settings)!=null&&l.background&&(r=d.settings.background),!i&&((c=t==null?void 0:t.colors)!=null&&c["editor.foreground"])&&(i=t.colors["editor.foreground"]),!r&&((u=t==null?void 0:t.colors)!=null&&u["editor.background"])&&(r=t.colors["editor.background"]),i||(i=t.type==="light"?Bg.light:Bg.dark),r||(r=t.type==="light"?zg.light:zg.dark),t.fg=i,t.bg=r}t.settings[0]&&t.settings[0].settings&&!t.settings[0].scope||t.settings.unshift({settings:{foreground:t.fg,background:t.bg}});let n=0;const s=new Map;function o(d){var p;if(s.has(d))return s.get(d);n+=1;const f=`#${n.toString(16).padStart(8,"0").toLowerCase()}`;return(p=t.colorReplacements)!=null&&p[`#${f}`]?o(d):(s.set(d,f),f)}t.settings=t.settings.map(d=>{var S,m;const f=((S=d.settings)==null?void 0:S.foreground)&&!d.settings.foreground.startsWith("#"),p=((m=d.settings)==null?void 0:m.background)&&!d.settings.background.startsWith("#");if(!f&&!p)return d;const g={...d,settings:{...d.settings}};if(f){const v=o(d.settings.foreground);t.colorReplacements[v]=d.settings.foreground,g.settings.foreground=v}if(p){const v=o(d.settings.background);t.colorReplacements[v]=d.settings.background,g.settings.background=v}return g});for(const d of Object.keys(t.colors||{}))if((d==="editor.foreground"||d==="editor.background"||d.startsWith("terminal.ansi"))&&!((h=t.colors[d])!=null&&h.startsWith("#"))){const f=o(t.colors[d]);t.colorReplacements[f]=t.colors[d],t.colors[d]=f}return Object.defineProperty(t,$g,{enumerable:!1,writable:!1,value:!0}),t}async function xC(e){return Array.from(new Set((await Promise.all(e.filter(t=>!vC(t)).map(async t=>await gC(t).then(r=>Array.isArray(r)?r:[r])))).flat()))}async function EC(e){return(await Promise.all(e.map(async r=>yC(r)?null:mm(await gC(r))))).filter(r=>!!r)}let lO=3;function cO(e,t=3){t>lO||console.trace(`[SHIKI DEPRECATE]: ${e}`)}let rs=class extends Error{constructor(t){super(t),this.name="ShikiError"}};class uO extends fD{constructor(r,i,n,s={}){super(r);P(this,"_resolvedThemes",new Map);P(this,"_resolvedGrammars",new Map);P(this,"_langMap",new Map);P(this,"_langGraph",new Map);P(this,"_textmateThemeCache",new WeakMap);P(this,"_loadedThemesCache",null);P(this,"_loadedLanguagesCache",null);this._resolver=r,this._themes=i,this._langs=n,this._alias=s,this._themes.map(o=>this.loadTheme(o)),this.loadLanguages(this._langs)}getTheme(r){return typeof r=="string"?this._resolvedThemes.get(r):this.loadTheme(r)}loadTheme(r){const i=mm(r);return i.name&&(this._resolvedThemes.set(i.name,i),this._loadedThemesCache=null),i}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(r){let i=this._textmateThemeCache.get(r);i||(i=hc.createFromRawTheme(r),this._textmateThemeCache.set(r,i)),this._syncRegistry.setTheme(i)}getGrammar(r){if(this._alias[r]){const i=new Set([r]);for(;this._alias[r];){if(r=this._alias[r],i.has(r))throw new rs(`Circular alias \`${Array.from(i).join(" -> ")} -> ${r}\``);i.add(r)}}return this._resolvedGrammars.get(r)}loadLanguage(r){var o,a,l,c;if(this.getGrammar(r.name))return;const i=new Set([...this._langMap.values()].filter(u=>{var h;return(h=u.embeddedLangsLazy)==null?void 0:h.includes(r.name)}));this._resolver.addLanguage(r);const n={balancedBracketSelectors:r.balancedBracketSelectors||["*"],unbalancedBracketSelectors:r.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(r.scopeName,r);const s=this.loadGrammarWithConfiguration(r.scopeName,1,n);if(s.name=r.name,this._resolvedGrammars.set(r.name,s),r.aliases&&r.aliases.forEach(u=>{this._alias[u]=r.name}),this._loadedLanguagesCache=null,i.size)for(const u of i)this._resolvedGrammars.delete(u.name),this._loadedLanguagesCache=null,(a=(o=this._syncRegistry)==null?void 0:o._injectionGrammars)==null||a.delete(u.scopeName),(c=(l=this._syncRegistry)==null?void 0:l._grammars)==null||c.delete(u.scopeName),this.loadLanguage(this._langMap.get(u.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(r){for(const s of r)this.resolveEmbeddedLanguages(s);const i=Array.from(this._langGraph.entries()),n=i.filter(([s,o])=>!o);if(n.length){const s=i.filter(([o,a])=>{var l;return a&&((l=a.embeddedLangs)==null?void 0:l.some(c=>n.map(([u])=>u).includes(c)))}).filter(o=>!n.includes(o));throw new rs(`Missing languages ${n.map(([o])=>`\`${o}\``).join(", ")}, required by ${s.map(([o])=>`\`${o}\``).join(", ")}`)}for(const[s,o]of i)this._resolver.addLanguage(o);for(const[s,o]of i)this.loadLanguage(o)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(r){if(this._langMap.set(r.name,r),this._langGraph.set(r.name,r),r.embeddedLangs)for(const i of r.embeddedLangs)this._langGraph.set(i,this._langMap.get(i))}}class hO{constructor(t,r){P(this,"_langs",new Map);P(this,"_scopeToLang",new Map);P(this,"_injections",new Map);P(this,"_onigLib");this._onigLib={createOnigScanner:i=>t.createScanner(i),createOnigString:i=>t.createString(i)},r.forEach(i=>this.addLanguage(i))}get onigLib(){return this._onigLib}getLangRegistration(t){return this._langs.get(t)}loadGrammar(t){return this._scopeToLang.get(t)}addLanguage(t){this._langs.set(t.name,t),t.aliases&&t.aliases.forEach(r=>{this._langs.set(r,t)}),this._scopeToLang.set(t.scopeName,t),t.injectTo&&t.injectTo.forEach(r=>{this._injections.get(r)||this._injections.set(r,[]),this._injections.get(r).push(t.scopeName)})}getInjections(t){const r=t.split(".");let i=[];for(let n=1;n<=r.length;n++){const s=r.slice(0,n).join(".");i=[...i,...this._injections.get(s)||[]]}return i}}let Js=0;function dO(e){Js+=1,e.warnings!==!1&&Js>=10&&Js%10===0&&console.warn(`[Shiki] ${Js} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let t=!1;if(!e.engine)throw new rs("`engine` option is required for synchronous mode");const r=(e.langs||[]).flat(1),i=(e.themes||[]).flat(1).map(mm),n=new hO(e.engine,r),s=new uO(n,i,r,e.langAlias);let o;function a(v){S();const y=s.getGrammar(typeof v=="string"?v:v.name);if(!y)throw new rs(`Language \`${v}\` not found, you may need to load it first`);return y}function l(v){if(v==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};S();const y=s.getTheme(v);if(!y)throw new rs(`Theme \`${v}\` not found, you may need to load it first`);return y}function c(v){S();const y=l(v);o!==v&&(s.setTheme(y),o=v);const w=s.getColorMap();return{theme:y,colorMap:w}}function u(){return S(),s.getLoadedThemes()}function h(){return S(),s.getLoadedLanguages()}function d(...v){S(),s.loadLanguages(v.flat(1))}async function f(...v){return d(await xC(v))}function p(...v){S();for(const y of v.flat(1))s.loadTheme(y)}async function g(...v){return S(),p(await EC(v))}function S(){if(t)throw new rs("Shiki instance has been disposed")}function m(){t||(t=!0,s.dispose(),Js-=1)}return{setTheme:c,getTheme:l,getLanguage:a,getLoadedThemes:u,getLoadedLanguages:h,loadLanguage:f,loadLanguageSync:d,loadTheme:g,loadThemeSync:p,dispose:m,[Symbol.dispose]:m}}async function fO(e){e.engine||cO("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[t,r,i]=await Promise.all([EC(e.themes||[]),xC(e.langs||[]),e.engine]);return dO({...e,themes:t,langs:r,engine:i})}async function pO(e){const t=await fO(e);return{getLastGrammarState:(...r)=>YN(t,...r),codeToTokensBase:(r,i)=>pm(t,r,i),codeToTokensWithThemes:(r,i)=>bC(t,r,i),codeToTokens:(r,i)=>Sc(t,r,i),codeToHast:(r,i)=>wc(t,r,i),codeToHtml:(r,i)=>aO(t,r,i),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...t,getInternalContext:()=>t}}function mO(e){const t=e.langs,r=e.themes,i=e.engine;async function n(s){function o(h){var d;if(typeof h=="string"){if(vC(h))return[];h=((d=s.langAlias)==null?void 0:d[h])||h;const f=t[h];if(!f)throw new Ue(`Language \`${h}\` is not included in this bundle. You may want to load it from external source.`);return f}return h}function a(h){if(yC(h))return"none";if(typeof h=="string"){const d=r[h];if(!d)throw new Ue(`Theme \`${h}\` is not included in this bundle. You may want to load it from external source.`);return d}return h}const l=(s.themes??[]).map(h=>a(h)),c=(s.langs??[]).map(h=>o(h)),u=await pO({engine:s.engine??i(),...s,themes:l,langs:c});return{...u,loadLanguage(...h){return u.loadLanguage(...h.map(o))},loadTheme(...h){return u.loadTheme(...h.map(a))},getBundledLanguages(){return t},getBundledThemes(){return r}}}return n}const kC=[{id:"abap",name:"ABAP",import:()=>C(()=>import("./abap-275f836f.js"),[])},{id:"actionscript-3",name:"ActionScript",import:()=>C(()=>import("./actionscript-3-f732b92f.js"),[])},{id:"ada",name:"Ada",import:()=>C(()=>import("./ada-69fd845c.js"),[])},{id:"angular-html",name:"Angular HTML",import:()=>C(()=>import("./angular-html-6b5aa865.js").then(e=>e.f),["assets/angular-html-6b5aa865.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js"])},{id:"angular-ts",name:"Angular TypeScript",import:()=>C(()=>import("./angular-ts-9c80a4b8.js"),["assets/angular-ts-9c80a4b8.js","assets/angular-html-6b5aa865.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/scss-30c4f63f.js"])},{id:"apache",name:"Apache Conf",import:()=>C(()=>import("./apache-5d68c59e.js"),[])},{id:"apex",name:"Apex",import:()=>C(()=>import("./apex-e49f85d5.js"),[])},{id:"apl",name:"APL",import:()=>C(()=>import("./apl-62fe6c0c.js"),["assets/apl-62fe6c0c.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/json-caa6b29d.js"])},{id:"applescript",name:"AppleScript",import:()=>C(()=>import("./applescript-638818ff.js"),[])},{id:"ara",name:"Ara",import:()=>C(()=>import("./ara-2b0dc5fa.js"),[])},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:()=>C(()=>import("./asciidoc-b867d7a7.js"),[])},{id:"asm",name:"Assembly",import:()=>C(()=>import("./asm-70679c75.js"),[])},{id:"astro",name:"Astro",import:()=>C(()=>import("./astro-ba9cd804.js"),["assets/astro-ba9cd804.js","assets/json-caa6b29d.js","assets/javascript-aed75ca3.js","assets/typescript-18e13b06.js","assets/css-a73aca43.js","assets/postcss-70b68174.js","assets/tsx-ec849818.js"])},{id:"awk",name:"AWK",import:()=>C(()=>import("./awk-5f9e5ffb.js"),[])},{id:"ballerina",name:"Ballerina",import:()=>C(()=>import("./ballerina-ac06e155.js"),[])},{id:"bat",name:"Batch File",aliases:["batch"],import:()=>C(()=>import("./bat-c6dca107.js"),[])},{id:"beancount",name:"Beancount",import:()=>C(()=>import("./beancount-d9de0190.js"),[])},{id:"berry",name:"Berry",aliases:["be"],import:()=>C(()=>import("./berry-90822df9.js"),[])},{id:"bibtex",name:"BibTeX",import:()=>C(()=>import("./bibtex-c2d602b3.js"),[])},{id:"bicep",name:"Bicep",import:()=>C(()=>import("./bicep-0169b8cf.js"),[])},{id:"blade",name:"Blade",import:()=>C(()=>import("./blade-ba461ab1.js"),["assets/blade-ba461ab1.js","assets/html-derivative-7a1c977d.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/sql-a9254b62.js","assets/json-caa6b29d.js"])},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:()=>C(()=>import("./bsl-9ce59ed3.js"),["assets/bsl-9ce59ed3.js","assets/sdbl-785ed21f.js"])},{id:"c",name:"C",import:()=>C(()=>import("./c-34f95b68.js"),[])},{id:"cadence",name:"Cadence",aliases:["cdc"],import:()=>C(()=>import("./cadence-28601ad8.js"),[])},{id:"cairo",name:"Cairo",import:()=>C(()=>import("./cairo-7b214aa6.js"),["assets/cairo-7b214aa6.js","assets/python-c70e1982.js"])},{id:"clarity",name:"Clarity",import:()=>C(()=>import("./clarity-a14953ab.js"),[])},{id:"clojure",name:"Clojure",aliases:["clj"],import:()=>C(()=>import("./clojure-7bf62288.js"),[])},{id:"cmake",name:"CMake",import:()=>C(()=>import("./cmake-631ea260.js"),[])},{id:"cobol",name:"COBOL",import:()=>C(()=>import("./cobol-b243d520.js"),["assets/cobol-b243d520.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/java-f4d1a56d.js"])},{id:"codeowners",name:"CODEOWNERS",import:()=>C(()=>import("./codeowners-cb680cb8.js"),[])},{id:"codeql",name:"CodeQL",aliases:["ql"],import:()=>C(()=>import("./codeql-3796b32c.js"),[])},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:()=>C(()=>import("./coffee-1c9ab738.js"),["assets/coffee-1c9ab738.js","assets/javascript-aed75ca3.js"])},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:()=>C(()=>import("./common-lisp-5953950b.js"),[])},{id:"coq",name:"Coq",import:()=>C(()=>import("./coq-852f6d57.js"),[])},{id:"cpp",name:"C++",aliases:["c++"],import:()=>C(()=>import("./cpp-e23f17d4.js"),["assets/cpp-e23f17d4.js","assets/regexp-04d992cd.js","assets/glsl-22a7d551.js","assets/c-34f95b68.js","assets/sql-a9254b62.js"])},{id:"crystal",name:"Crystal",import:()=>C(()=>import("./crystal-10f99113.js"),["assets/crystal-10f99113.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/sql-a9254b62.js","assets/c-34f95b68.js","assets/shellscript-cccb0576.js"])},{id:"csharp",name:"C#",aliases:["c#","cs"],import:()=>C(()=>import("./csharp-e12448c3.js"),[])},{id:"css",name:"CSS",import:()=>C(()=>import("./css-a73aca43.js"),[])},{id:"csv",name:"CSV",import:()=>C(()=>import("./csv-93b5f9fa.js"),[])},{id:"cue",name:"CUE",import:()=>C(()=>import("./cue-8a424200.js"),[])},{id:"cypher",name:"Cypher",aliases:["cql"],import:()=>C(()=>import("./cypher-b75db6ed.js"),[])},{id:"d",name:"D",import:()=>C(()=>import("./d-0543f47b.js"),[])},{id:"dart",name:"Dart",import:()=>C(()=>import("./dart-890dccd6.js"),[])},{id:"dax",name:"DAX",import:()=>C(()=>import("./dax-605c2392.js"),[])},{id:"desktop",name:"Desktop",import:()=>C(()=>import("./desktop-e166e7b5.js"),[])},{id:"diff",name:"Diff",import:()=>C(()=>import("./diff-d7eec55d.js"),[])},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:()=>C(()=>import("./docker-d372b935.js"),[])},{id:"dotenv",name:"dotEnv",import:()=>C(()=>import("./dotenv-f9f4a12b.js"),[])},{id:"dream-maker",name:"Dream Maker",import:()=>C(()=>import("./dream-maker-05bbaddd.js"),[])},{id:"edge",name:"Edge",import:()=>C(()=>import("./edge-944f8101.js"),["assets/edge-944f8101.js","assets/typescript-18e13b06.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/html-derivative-7a1c977d.js"])},{id:"elixir",name:"Elixir",import:()=>C(()=>import("./elixir-f2ad5609.js"),["assets/elixir-f2ad5609.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js"])},{id:"elm",name:"Elm",import:()=>C(()=>import("./elm-474a143a.js"),["assets/elm-474a143a.js","assets/glsl-22a7d551.js","assets/c-34f95b68.js"])},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:()=>C(()=>import("./emacs-lisp-8c7e8a32.js"),[])},{id:"erb",name:"ERB",import:()=>C(()=>import("./erb-b94d2481.js"),["assets/erb-b94d2481.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/ruby-ee5b5c42.js","assets/haml-f437a3fc.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/sql-a9254b62.js","assets/graphql-f1003241.js","assets/typescript-18e13b06.js","assets/jsx-b4e51032.js","assets/tsx-ec849818.js","assets/cpp-e23f17d4.js","assets/regexp-04d992cd.js","assets/glsl-22a7d551.js","assets/c-34f95b68.js","assets/shellscript-cccb0576.js","assets/lua-499b9780.js","assets/yaml-46be7cc9.js"])},{id:"erlang",name:"Erlang",aliases:["erl"],import:()=>C(()=>import("./erlang-edf0d0fd.js"),["assets/erlang-edf0d0fd.js","assets/markdown-fe1a8307.js"])},{id:"fennel",name:"Fennel",import:()=>C(()=>import("./fennel-739339e5.js"),[])},{id:"fish",name:"Fish",import:()=>C(()=>import("./fish-84789eaa.js"),[])},{id:"fluent",name:"Fluent",aliases:["ftl"],import:()=>C(()=>import("./fluent-74a9d4c4.js"),[])},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:()=>C(()=>import("./fortran-fixed-form-30095748.js"),["assets/fortran-fixed-form-30095748.js","assets/fortran-free-form-11fce8c2.js"])},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:()=>C(()=>import("./fortran-free-form-11fce8c2.js"),[])},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:()=>C(()=>import("./fsharp-1323bef2.js"),["assets/fsharp-1323bef2.js","assets/markdown-fe1a8307.js"])},{id:"gdresource",name:"GDResource",import:()=>C(()=>import("./gdresource-ee919ffa.js"),["assets/gdresource-ee919ffa.js","assets/gdshader-792b430e.js","assets/gdscript-6ebdaa1d.js"])},{id:"gdscript",name:"GDScript",import:()=>C(()=>import("./gdscript-6ebdaa1d.js"),[])},{id:"gdshader",name:"GDShader",import:()=>C(()=>import("./gdshader-792b430e.js"),[])},{id:"genie",name:"Genie",import:()=>C(()=>import("./genie-41a627df.js"),[])},{id:"gherkin",name:"Gherkin",import:()=>C(()=>import("./gherkin-0ca228b6.js"),[])},{id:"git-commit",name:"Git Commit Message",import:()=>C(()=>import("./git-commit-49f0838c.js"),["assets/git-commit-49f0838c.js","assets/diff-d7eec55d.js"])},{id:"git-rebase",name:"Git Rebase Message",import:()=>C(()=>import("./git-rebase-33a5de5b.js"),["assets/git-rebase-33a5de5b.js","assets/shellscript-cccb0576.js"])},{id:"gleam",name:"Gleam",import:()=>C(()=>import("./gleam-d1da6013.js"),[])},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:()=>C(()=>import("./glimmer-js-9cecb077.js"),["assets/glimmer-js-9cecb077.js","assets/javascript-aed75ca3.js","assets/typescript-18e13b06.js","assets/css-a73aca43.js","assets/html-76575ee0.js"])},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:()=>C(()=>import("./glimmer-ts-827de3c5.js"),["assets/glimmer-ts-827de3c5.js","assets/typescript-18e13b06.js","assets/css-a73aca43.js","assets/javascript-aed75ca3.js","assets/html-76575ee0.js"])},{id:"glsl",name:"GLSL",import:()=>C(()=>import("./glsl-22a7d551.js"),["assets/glsl-22a7d551.js","assets/c-34f95b68.js"])},{id:"gnuplot",name:"Gnuplot",import:()=>C(()=>import("./gnuplot-4aba1f81.js"),[])},{id:"go",name:"Go",import:()=>C(()=>import("./go-e99a7d21.js"),[])},{id:"graphql",name:"GraphQL",aliases:["gql"],import:()=>C(()=>import("./graphql-f1003241.js"),["assets/graphql-f1003241.js","assets/javascript-aed75ca3.js","assets/typescript-18e13b06.js","assets/jsx-b4e51032.js","assets/tsx-ec849818.js"])},{id:"groovy",name:"Groovy",import:()=>C(()=>import("./groovy-076e78f8.js"),[])},{id:"hack",name:"Hack",import:()=>C(()=>import("./hack-3404c3cf.js"),["assets/hack-3404c3cf.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/sql-a9254b62.js"])},{id:"haml",name:"Ruby Haml",import:()=>C(()=>import("./haml-f437a3fc.js"),["assets/haml-f437a3fc.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js"])},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:()=>C(()=>import("./handlebars-3c3ffdfe.js"),["assets/handlebars-3c3ffdfe.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/yaml-46be7cc9.js"])},{id:"haskell",name:"Haskell",aliases:["hs"],import:()=>C(()=>import("./haskell-563d2599.js"),[])},{id:"haxe",name:"Haxe",import:()=>C(()=>import("./haxe-66b9af87.js"),[])},{id:"hcl",name:"HashiCorp HCL",import:()=>C(()=>import("./hcl-afcfe270.js"),[])},{id:"hjson",name:"Hjson",import:()=>C(()=>import("./hjson-3024806d.js"),[])},{id:"hlsl",name:"HLSL",import:()=>C(()=>import("./hlsl-343c8a47.js"),[])},{id:"html",name:"HTML",import:()=>C(()=>import("./html-76575ee0.js"),["assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js"])},{id:"html-derivative",name:"HTML (Derivative)",import:()=>C(()=>import("./html-derivative-7a1c977d.js"),["assets/html-derivative-7a1c977d.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js"])},{id:"http",name:"HTTP",import:()=>C(()=>import("./http-dcd8cfce.js"),["assets/http-dcd8cfce.js","assets/shellscript-cccb0576.js","assets/json-caa6b29d.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/graphql-f1003241.js","assets/javascript-aed75ca3.js","assets/typescript-18e13b06.js","assets/jsx-b4e51032.js","assets/tsx-ec849818.js"])},{id:"hxml",name:"HXML",import:()=>C(()=>import("./hxml-eaf81087.js"),["assets/hxml-eaf81087.js","assets/haxe-66b9af87.js"])},{id:"hy",name:"Hy",import:()=>C(()=>import("./hy-bc07db93.js"),[])},{id:"imba",name:"Imba",import:()=>C(()=>import("./imba-b08a7e2c.js"),[])},{id:"ini",name:"INI",aliases:["properties"],import:()=>C(()=>import("./ini-919707c5.js"),[])},{id:"java",name:"Java",import:()=>C(()=>import("./java-f4d1a56d.js"),[])},{id:"javascript",name:"JavaScript",aliases:["js"],import:()=>C(()=>import("./javascript-aed75ca3.js"),[])},{id:"jinja",name:"Jinja",import:()=>C(()=>import("./jinja-01b6c635.js"),["assets/jinja-01b6c635.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js"])},{id:"jison",name:"Jison",import:()=>C(()=>import("./jison-75de103b.js"),["assets/jison-75de103b.js","assets/javascript-aed75ca3.js"])},{id:"json",name:"JSON",import:()=>C(()=>import("./json-caa6b29d.js"),[])},{id:"json5",name:"JSON5",import:()=>C(()=>import("./json5-1e4a508a.js"),[])},{id:"jsonc",name:"JSON with Comments",import:()=>C(()=>import("./jsonc-749359dc.js"),[])},{id:"jsonl",name:"JSON Lines",import:()=>C(()=>import("./jsonl-1e6e7390.js"),[])},{id:"jsonnet",name:"Jsonnet",import:()=>C(()=>import("./jsonnet-92cc994d.js"),[])},{id:"jssm",name:"JSSM",aliases:["fsl"],import:()=>C(()=>import("./jssm-39119bcb.js"),[])},{id:"jsx",name:"JSX",import:()=>C(()=>import("./jsx-b4e51032.js"),[])},{id:"julia",name:"Julia",aliases:["jl"],import:()=>C(()=>import("./julia-0f903698.js"),["assets/julia-0f903698.js","assets/cpp-e23f17d4.js","assets/regexp-04d992cd.js","assets/glsl-22a7d551.js","assets/c-34f95b68.js","assets/sql-a9254b62.js","assets/python-c70e1982.js","assets/javascript-aed75ca3.js","assets/r-46b86b9b.js"])},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:()=>C(()=>import("./kotlin-682cf756.js"),[])},{id:"kusto",name:"Kusto",aliases:["kql"],import:()=>C(()=>import("./kusto-ac8dda0a.js"),[])},{id:"latex",name:"LaTeX",import:()=>C(()=>import("./latex-cbc68563.js"),["assets/latex-cbc68563.js","assets/tex-c7282923.js","assets/r-46b86b9b.js"])},{id:"lean",name:"Lean 4",aliases:["lean4"],import:()=>C(()=>import("./lean-5a75c0a9.js"),[])},{id:"less",name:"Less",import:()=>C(()=>import("./less-45bb98b9.js"),[])},{id:"liquid",name:"Liquid",import:()=>C(()=>import("./liquid-01c57463.js"),["assets/liquid-01c57463.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/json-caa6b29d.js"])},{id:"llvm",name:"LLVM IR",import:()=>C(()=>import("./llvm-fac4e609.js"),[])},{id:"log",name:"Log file",import:()=>C(()=>import("./log-43fb3599.js"),[])},{id:"logo",name:"Logo",import:()=>C(()=>import("./logo-20d877e1.js"),[])},{id:"lua",name:"Lua",import:()=>C(()=>import("./lua-499b9780.js"),["assets/lua-499b9780.js","assets/c-34f95b68.js"])},{id:"luau",name:"Luau",import:()=>C(()=>import("./luau-bac4dcb7.js"),[])},{id:"make",name:"Makefile",aliases:["makefile"],import:()=>C(()=>import("./make-61c6b155.js"),[])},{id:"markdown",name:"Markdown",aliases:["md"],import:()=>C(()=>import("./markdown-fe1a8307.js"),[])},{id:"marko",name:"Marko",import:()=>C(()=>import("./marko-51fd1cb9.js"),["assets/marko-51fd1cb9.js","assets/css-a73aca43.js","assets/less-45bb98b9.js","assets/scss-30c4f63f.js","assets/typescript-18e13b06.js"])},{id:"matlab",name:"MATLAB",import:()=>C(()=>import("./matlab-677dbca9.js"),[])},{id:"mdc",name:"MDC",import:()=>C(()=>import("./mdc-3dd95fbb.js"),["assets/mdc-3dd95fbb.js","assets/markdown-fe1a8307.js","assets/yaml-46be7cc9.js","assets/html-derivative-7a1c977d.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js"])},{id:"mdx",name:"MDX",import:()=>C(()=>import("./mdx-ae6c4c0b.js"),[])},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:()=>C(()=>import("./mermaid-79b4f72c.js"),[])},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:()=>C(()=>import("./mipsasm-2c7a99b2.js"),[])},{id:"mojo",name:"Mojo",import:()=>C(()=>import("./mojo-7b3aaebf.js"),[])},{id:"move",name:"Move",import:()=>C(()=>import("./move-3119556e.js"),[])},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:()=>C(()=>import("./narrat-e5304994.js"),[])},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:()=>C(()=>import("./nextflow-f21a8b35.js"),[])},{id:"nginx",name:"Nginx",import:()=>C(()=>import("./nginx-231b54bc.js"),["assets/nginx-231b54bc.js","assets/lua-499b9780.js","assets/c-34f95b68.js"])},{id:"nim",name:"Nim",import:()=>C(()=>import("./nim-5e8ac7f5.js"),["assets/nim-5e8ac7f5.js","assets/c-34f95b68.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/glsl-22a7d551.js","assets/markdown-fe1a8307.js"])},{id:"nix",name:"Nix",import:()=>C(()=>import("./nix-9897b4b4.js"),[])},{id:"nushell",name:"nushell",aliases:["nu"],import:()=>C(()=>import("./nushell-cec043c8.js"),[])},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:()=>C(()=>import("./objective-c-a43f9ea4.js"),[])},{id:"objective-cpp",name:"Objective-C++",import:()=>C(()=>import("./objective-cpp-1bf844ee.js"),[])},{id:"ocaml",name:"OCaml",import:()=>C(()=>import("./ocaml-5c2c27cd.js"),[])},{id:"pascal",name:"Pascal",import:()=>C(()=>import("./pascal-93faf519.js"),[])},{id:"perl",name:"Perl",import:()=>C(()=>import("./perl-19565eef.js"),["assets/perl-19565eef.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/sql-a9254b62.js"])},{id:"php",name:"PHP",import:()=>C(()=>import("./php-ccd12899.js"),["assets/php-ccd12899.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/sql-a9254b62.js","assets/json-caa6b29d.js"])},{id:"plsql",name:"PL/SQL",import:()=>C(()=>import("./plsql-2a667fe6.js"),[])},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:()=>C(()=>import("./po-e88b8cf1.js"),[])},{id:"polar",name:"Polar",import:()=>C(()=>import("./polar-6bc9c5f2.js"),[])},{id:"postcss",name:"PostCSS",import:()=>C(()=>import("./postcss-70b68174.js"),[])},{id:"powerquery",name:"PowerQuery",import:()=>C(()=>import("./powerquery-31ffa463.js"),[])},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:()=>C(()=>import("./powershell-667b1e00.js"),[])},{id:"prisma",name:"Prisma",import:()=>C(()=>import("./prisma-5a96f374.js"),[])},{id:"prolog",name:"Prolog",import:()=>C(()=>import("./prolog-5238e77e.js"),[])},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:()=>C(()=>import("./proto-4afc04cc.js"),[])},{id:"pug",name:"Pug",aliases:["jade"],import:()=>C(()=>import("./pug-6186f189.js"),["assets/pug-6186f189.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/html-76575ee0.js"])},{id:"puppet",name:"Puppet",import:()=>C(()=>import("./puppet-72c3af1b.js"),[])},{id:"purescript",name:"PureScript",import:()=>C(()=>import("./purescript-9bcb4458.js"),[])},{id:"python",name:"Python",aliases:["py"],import:()=>C(()=>import("./python-c70e1982.js"),[])},{id:"qml",name:"QML",import:()=>C(()=>import("./qml-21805ef7.js"),["assets/qml-21805ef7.js","assets/javascript-aed75ca3.js"])},{id:"qmldir",name:"QML Directory",import:()=>C(()=>import("./qmldir-51193759.js"),[])},{id:"qss",name:"Qt Style Sheets",import:()=>C(()=>import("./qss-58b91f6f.js"),[])},{id:"r",name:"R",import:()=>C(()=>import("./r-46b86b9b.js"),[])},{id:"racket",name:"Racket",import:()=>C(()=>import("./racket-20cbae05.js"),[])},{id:"raku",name:"Raku",aliases:["perl6"],import:()=>C(()=>import("./raku-e33f36a8.js"),[])},{id:"razor",name:"ASP.NET Razor",import:()=>C(()=>import("./razor-e3589827.js"),["assets/razor-e3589827.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/csharp-e12448c3.js"])},{id:"reg",name:"Windows Registry Script",import:()=>C(()=>import("./reg-7bddecdc.js"),[])},{id:"regexp",name:"RegExp",aliases:["regex"],import:()=>C(()=>import("./regexp-04d992cd.js"),[])},{id:"rel",name:"Rel",import:()=>C(()=>import("./rel-3a127858.js"),[])},{id:"riscv",name:"RISC-V",import:()=>C(()=>import("./riscv-c4f1c5ce.js"),[])},{id:"rst",name:"reStructuredText",import:()=>C(()=>import("./rst-b0e14155.js"),["assets/rst-b0e14155.js","assets/html-derivative-7a1c977d.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/cpp-e23f17d4.js","assets/regexp-04d992cd.js","assets/glsl-22a7d551.js","assets/c-34f95b68.js","assets/sql-a9254b62.js","assets/python-c70e1982.js","assets/shellscript-cccb0576.js","assets/yaml-46be7cc9.js","assets/cmake-631ea260.js","assets/ruby-ee5b5c42.js","assets/haml-f437a3fc.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/graphql-f1003241.js","assets/typescript-18e13b06.js","assets/jsx-b4e51032.js","assets/tsx-ec849818.js","assets/lua-499b9780.js"])},{id:"ruby",name:"Ruby",aliases:["rb"],import:()=>C(()=>import("./ruby-ee5b5c42.js"),["assets/ruby-ee5b5c42.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js","assets/haml-f437a3fc.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/sql-a9254b62.js","assets/graphql-f1003241.js","assets/typescript-18e13b06.js","assets/jsx-b4e51032.js","assets/tsx-ec849818.js","assets/cpp-e23f17d4.js","assets/regexp-04d992cd.js","assets/glsl-22a7d551.js","assets/c-34f95b68.js","assets/shellscript-cccb0576.js","assets/lua-499b9780.js","assets/yaml-46be7cc9.js"])},{id:"rust",name:"Rust",aliases:["rs"],import:()=>C(()=>import("./rust-f88a3386.js"),[])},{id:"sas",name:"SAS",import:()=>C(()=>import("./sas-37423d96.js"),["assets/sas-37423d96.js","assets/sql-a9254b62.js"])},{id:"sass",name:"Sass",import:()=>C(()=>import("./sass-f2f70e35.js"),[])},{id:"scala",name:"Scala",import:()=>C(()=>import("./scala-9ec97188.js"),[])},{id:"scheme",name:"Scheme",import:()=>C(()=>import("./scheme-128b75fc.js"),[])},{id:"scss",name:"SCSS",import:()=>C(()=>import("./scss-30c4f63f.js"),["assets/scss-30c4f63f.js","assets/css-a73aca43.js"])},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:()=>C(()=>import("./sdbl-785ed21f.js"),[])},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:()=>C(()=>import("./shaderlab-a0b43036.js"),["assets/shaderlab-a0b43036.js","assets/hlsl-343c8a47.js"])},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:()=>C(()=>import("./shellscript-cccb0576.js"),[])},{id:"shellsession",name:"Shell Session",aliases:["console"],import:()=>C(()=>import("./shellsession-a50c4597.js"),["assets/shellsession-a50c4597.js","assets/shellscript-cccb0576.js"])},{id:"smalltalk",name:"Smalltalk",import:()=>C(()=>import("./smalltalk-5921678e.js"),[])},{id:"solidity",name:"Solidity",import:()=>C(()=>import("./solidity-98686ebc.js"),[])},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:()=>C(()=>import("./soy-8640ee06.js"),["assets/soy-8640ee06.js","assets/html-76575ee0.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js"])},{id:"sparql",name:"SPARQL",import:()=>C(()=>import("./sparql-37b2d992.js"),["assets/sparql-37b2d992.js","assets/turtle-1b11241e.js"])},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:()=>C(()=>import("./splunk-7979f717.js"),[])},{id:"sql",name:"SQL",import:()=>C(()=>import("./sql-a9254b62.js"),[])},{id:"ssh-config",name:"SSH Config",import:()=>C(()=>import("./ssh-config-3cc07c5d.js"),[])},{id:"stata",name:"Stata",import:()=>C(()=>import("./stata-9dc597a3.js"),["assets/stata-9dc597a3.js","assets/sql-a9254b62.js"])},{id:"stylus",name:"Stylus",aliases:["styl"],import:()=>C(()=>import("./stylus-23f9a81f.js"),[])},{id:"svelte",name:"Svelte",import:()=>C(()=>import("./svelte-cca16daf.js"),["assets/svelte-cca16daf.js","assets/javascript-aed75ca3.js","assets/typescript-18e13b06.js","assets/css-a73aca43.js","assets/postcss-70b68174.js"])},{id:"swift",name:"Swift",import:()=>C(()=>import("./swift-08d1f672.js"),[])},{id:"system-verilog",name:"SystemVerilog",import:()=>C(()=>import("./system-verilog-29978f64.js"),[])},{id:"systemd",name:"Systemd Units",import:()=>C(()=>import("./systemd-ffb98874.js"),[])},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:()=>C(()=>import("./talonscript-b7cbd7eb.js"),[])},{id:"tasl",name:"Tasl",import:()=>C(()=>import("./tasl-e62b9ea1.js"),[])},{id:"tcl",name:"Tcl",import:()=>C(()=>import("./tcl-b7a9ff46.js"),[])},{id:"templ",name:"Templ",import:()=>C(()=>import("./templ-b6ee649c.js"),["assets/templ-b6ee649c.js","assets/go-e99a7d21.js","assets/javascript-aed75ca3.js","assets/css-a73aca43.js"])},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:()=>C(()=>import("./terraform-0c3972d1.js"),[])},{id:"tex",name:"TeX",import:()=>C(()=>import("./tex-c7282923.js"),["assets/tex-c7282923.js","assets/r-46b86b9b.js"])},{id:"toml",name:"TOML",import:()=>C(()=>import("./toml-2b178fe5.js"),[])},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:()=>C(()=>import("./ts-tags-ba40d636.js"),["assets/ts-tags-ba40d636.js","assets/typescript-18e13b06.js","assets/css-a73aca43.js","assets/javascript-aed75ca3.js","assets/glsl-22a7d551.js","assets/c-34f95b68.js","assets/html-76575ee0.js","assets/sql-a9254b62.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js"])},{id:"tsv",name:"TSV",import:()=>C(()=>import("./tsv-42751099.js"),[])},{id:"tsx",name:"TSX",import:()=>C(()=>import("./tsx-ec849818.js"),[])},{id:"turtle",name:"Turtle",import:()=>C(()=>import("./turtle-1b11241e.js"),[])},{id:"twig",name:"Twig",import:()=>C(()=>import("./twig-67c061e0.js"),["assets/twig-67c061e0.js","assets/css-a73aca43.js","assets/javascript-aed75ca3.js","assets/scss-30c4f63f.js","assets/php-ccd12899.js","assets/html-76575ee0.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js","assets/sql-a9254b62.js","assets/json-caa6b29d.js","assets/python-c70e1982.js","assets/ruby-ee5b5c42.js","assets/haml-f437a3fc.js","assets/graphql-f1003241.js","assets/typescript-18e13b06.js","assets/jsx-b4e51032.js","assets/tsx-ec849818.js","assets/cpp-e23f17d4.js","assets/regexp-04d992cd.js","assets/glsl-22a7d551.js","assets/c-34f95b68.js","assets/shellscript-cccb0576.js","assets/lua-499b9780.js","assets/yaml-46be7cc9.js"])},{id:"typescript",name:"TypeScript",aliases:["ts"],import:()=>C(()=>import("./typescript-18e13b06.js"),[])},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:()=>C(()=>import("./typespec-478978c5.js"),[])},{id:"typst",name:"Typst",aliases:["typ"],import:()=>C(()=>import("./typst-e0476a8b.js"),[])},{id:"v",name:"V",import:()=>C(()=>import("./v-0f9c3060.js"),[])},{id:"vala",name:"Vala",import:()=>C(()=>import("./vala-54c47158.js"),[])},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:()=>C(()=>import("./vb-9569da2b.js"),[])},{id:"verilog",name:"Verilog",import:()=>C(()=>import("./verilog-1fcd278f.js"),[])},{id:"vhdl",name:"VHDL",import:()=>C(()=>import("./vhdl-2411769b.js"),[])},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:()=>C(()=>import("./viml-4afeee1b.js"),[])},{id:"vue",name:"Vue",import:()=>C(()=>import("./vue-16bb2079.js"),["assets/vue-16bb2079.js","assets/css-a73aca43.js","assets/javascript-aed75ca3.js","assets/typescript-18e13b06.js","assets/json-caa6b29d.js","assets/html-derivative-7a1c977d.js","assets/html-76575ee0.js"])},{id:"vue-html",name:"Vue HTML",import:()=>C(()=>import("./vue-html-a7789378.js"),["assets/vue-html-a7789378.js","assets/vue-16bb2079.js","assets/css-a73aca43.js","assets/javascript-aed75ca3.js","assets/typescript-18e13b06.js","assets/json-caa6b29d.js","assets/html-derivative-7a1c977d.js","assets/html-76575ee0.js"])},{id:"vue-vine",name:"Vue Vine",import:()=>C(()=>import("./vue-vine-936f4f05.js"),["assets/vue-vine-936f4f05.js","assets/css-a73aca43.js","assets/scss-30c4f63f.js","assets/less-45bb98b9.js","assets/stylus-23f9a81f.js","assets/postcss-70b68174.js","assets/vue-16bb2079.js","assets/javascript-aed75ca3.js","assets/typescript-18e13b06.js","assets/json-caa6b29d.js","assets/html-derivative-7a1c977d.js","assets/html-76575ee0.js"])},{id:"vyper",name:"Vyper",aliases:["vy"],import:()=>C(()=>import("./vyper-dfb4645a.js"),[])},{id:"wasm",name:"WebAssembly",import:()=>C(()=>import("./wasm-dc454283.js"),[])},{id:"wenyan",name:"Wenyan",aliases:[""],import:()=>C(()=>import("./wenyan-81030551.js"),[])},{id:"wgsl",name:"WGSL",import:()=>C(()=>import("./wgsl-e31c29dd.js"),[])},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:()=>C(()=>import("./wikitext-b0d6ef32.js"),[])},{id:"wit",name:"WebAssembly Interface Types",import:()=>C(()=>import("./wit-efb72efe.js"),[])},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:()=>C(()=>import("./wolfram-800b9ce6.js"),[])},{id:"xml",name:"XML",import:()=>C(()=>import("./xml-d286eba6.js"),["assets/xml-d286eba6.js","assets/java-f4d1a56d.js"])},{id:"xsl",name:"XSL",import:()=>C(()=>import("./xsl-53558aa8.js"),["assets/xsl-53558aa8.js","assets/xml-d286eba6.js","assets/java-f4d1a56d.js"])},{id:"yaml",name:"YAML",aliases:["yml"],import:()=>C(()=>import("./yaml-46be7cc9.js"),[])},{id:"zenscript",name:"ZenScript",import:()=>C(()=>import("./zenscript-8178f722.js"),[])},{id:"zig",name:"Zig",import:()=>C(()=>import("./zig-bdff6441.js"),[])}],_O=Object.fromEntries(kC.map(e=>[e.id,e.import])),gO=Object.fromEntries(kC.flatMap(e=>{var t;return((t=e.aliases)==null?void 0:t.map(r=>[r,e.import]))||[]})),vO={..._O,...gO},RC=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:()=>C(()=>import("./andromeeda-263ce4f8.js"),[])},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:()=>C(()=>import("./aurora-x-d63c17b2.js"),[])},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:()=>C(()=>import("./ayu-dark-1603fc66.js"),[])},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:()=>C(()=>import("./catppuccin-frappe-68437b15.js"),[])},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:()=>C(()=>import("./catppuccin-latte-ff1e9ac9.js"),[])},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:()=>C(()=>import("./catppuccin-macchiato-8d40dfcd.js"),[])},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:()=>C(()=>import("./catppuccin-mocha-663b7f47.js"),[])},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:()=>C(()=>import("./dark-plus-3b6598c4.js"),[])},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:()=>C(()=>import("./dracula-91a37ef9.js"),[])},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:()=>C(()=>import("./dracula-soft-03bdbf09.js"),[])},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:()=>C(()=>import("./everforest-dark-cfb8b5b3.js"),[])},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:()=>C(()=>import("./everforest-light-940fb2ef.js"),[])},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:()=>C(()=>import("./github-dark-18960245.js"),[])},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:()=>C(()=>import("./github-dark-default-e5db1bb8.js"),[])},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:()=>C(()=>import("./github-dark-dimmed-256eff88.js"),[])},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:()=>C(()=>import("./github-dark-high-contrast-53493e03.js"),[])},{id:"github-light",displayName:"GitHub Light",type:"light",import:()=>C(()=>import("./github-light-a067cf5c.js"),[])},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:()=>C(()=>import("./github-light-default-6ca75fe3.js"),[])},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:()=>C(()=>import("./github-light-high-contrast-01ad6dc2.js"),[])},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:()=>C(()=>import("./gruvbox-dark-hard-c20e2f9f.js"),[])},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:()=>C(()=>import("./gruvbox-dark-medium-648df91d.js"),[])},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:()=>C(()=>import("./gruvbox-dark-soft-aca03723.js"),[])},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:()=>C(()=>import("./gruvbox-light-hard-0e75b411.js"),[])},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:()=>C(()=>import("./gruvbox-light-medium-ad03f5b2.js"),[])},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:()=>C(()=>import("./gruvbox-light-soft-73a48f9d.js"),[])},{id:"houston",displayName:"Houston",type:"dark",import:()=>C(()=>import("./houston-e66c025e.js"),[])},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:()=>C(()=>import("./kanagawa-dragon-f85a73b0.js"),[])},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:()=>C(()=>import("./kanagawa-lotus-e1747ebb.js"),[])},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:()=>C(()=>import("./kanagawa-wave-2349a660.js"),[])},{id:"laserwave",displayName:"LaserWave",type:"dark",import:()=>C(()=>import("./laserwave-f74feb24.js"),[])},{id:"light-plus",displayName:"Light Plus",type:"light",import:()=>C(()=>import("./light-plus-1e2edf9c.js"),[])},{id:"material-theme",displayName:"Material Theme",type:"dark",import:()=>C(()=>import("./material-theme-7338964e.js"),[])},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:()=>C(()=>import("./material-theme-darker-6f5b1471.js"),[])},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:()=>C(()=>import("./material-theme-lighter-497343b9.js"),[])},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:()=>C(()=>import("./material-theme-ocean-6702ee43.js"),[])},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:()=>C(()=>import("./material-theme-palenight-00959df5.js"),[])},{id:"min-dark",displayName:"Min Dark",type:"dark",import:()=>C(()=>import("./min-dark-e483dddb.js"),[])},{id:"min-light",displayName:"Min Light",type:"light",import:()=>C(()=>import("./min-light-4d70be9f.js"),[])},{id:"monokai",displayName:"Monokai",type:"dark",import:()=>C(()=>import("./monokai-8b41908b.js"),[])},{id:"night-owl",displayName:"Night Owl",type:"dark",import:()=>C(()=>import("./night-owl-f3290f13.js"),[])},{id:"nord",displayName:"Nord",type:"dark",import:()=>C(()=>import("./nord-65081b6c.js"),[])},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:()=>C(()=>import("./one-dark-pro-44c9ed07.js"),[])},{id:"one-light",displayName:"One Light",type:"light",import:()=>C(()=>import("./one-light-d9da6bd1.js"),[])},{id:"plastic",displayName:"Plastic",type:"dark",import:()=>C(()=>import("./plastic-680471ee.js"),[])},{id:"poimandres",displayName:"Poimandres",type:"dark",import:()=>C(()=>import("./poimandres-9fd643ac.js"),[])},{id:"red",displayName:"Red",type:"dark",import:()=>C(()=>import("./red-2551a1cb.js"),[])},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:()=>C(()=>import("./rose-pine-61bda6bc.js"),[])},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:()=>C(()=>import("./rose-pine-dawn-2ba8e9a7.js"),[])},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:()=>C(()=>import("./rose-pine-moon-fa989984.js"),[])},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:()=>C(()=>import("./slack-dark-1413622a.js"),[])},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:()=>C(()=>import("./slack-ochin-076673d6.js"),[])},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:()=>C(()=>import("./snazzy-light-18c22caf.js"),[])},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:()=>C(()=>import("./solarized-dark-4ad2b8c0.js"),[])},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:()=>C(()=>import("./solarized-light-6c8cfcec.js"),[])},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:()=>C(()=>import("./synthwave-84-ed6b9875.js"),[])},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:()=>C(()=>import("./tokyo-night-f68879e6.js"),[])},{id:"vesper",displayName:"Vesper",type:"dark",import:()=>C(()=>import("./vesper-6da47fc5.js"),[])},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:()=>C(()=>import("./vitesse-black-a604c69d.js"),[])},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:()=>C(()=>import("./vitesse-dark-9f021e2a.js"),[])},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:()=>C(()=>import("./vitesse-light-db4d84b6.js"),[])}],yO=Object.fromEntries(RC.map(e=>[e.id,e.import]));class _m extends Error{constructor(t){super(t),this.name="ShikiError"}}function SO(){return 2147483648}function wO(){return typeof performance<"u"?performance.now():Date.now()}const CO=(e,t)=>e+(t-e%t)%t;async function bO(e){let t,r;const i={};function n(f){r=f,i.HEAPU8=new Uint8Array(f),i.HEAPU32=new Uint32Array(f)}function s(f,p,g){i.HEAPU8.copyWithin(f,p,p+g)}function o(f){try{return t.grow(f-r.byteLength+65535>>>16),n(t.buffer),1}catch{}}function a(f){const p=i.HEAPU8.length;f=f>>>0;const g=SO();if(f>g)return!1;for(let S=1;S<=4;S*=2){let m=p*(1+.2/S);m=Math.min(m,f+100663296);const v=Math.min(g,CO(Math.max(f,m),65536));if(o(v))return!0}return!1}const l=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function c(f,p,g=1024){const S=p+g;let m=p;for(;f[m]&&!(m>=S);)++m;if(m-p>16&&f.buffer&&l)return l.decode(f.subarray(p,m));let v="";for(;p<m;){let y=f[p++];if(!(y&128)){v+=String.fromCharCode(y);continue}const w=f[p++]&63;if((y&224)===192){v+=String.fromCharCode((y&31)<<6|w);continue}const b=f[p++]&63;if((y&240)===224?y=(y&15)<<12|w<<6|b:y=(y&7)<<18|w<<12|b<<6|f[p++]&63,y<65536)v+=String.fromCharCode(y);else{const R=y-65536;v+=String.fromCharCode(55296|R>>10,56320|R&1023)}}return v}function u(f,p){return f?c(i.HEAPU8,f,p):""}const h={emscripten_get_now:wO,emscripten_memcpy_big:s,emscripten_resize_heap:a,fd_write:()=>0};async function d(){const p=await e({env:h,wasi_snapshot_preview1:h});t=p.memory,n(t.buffer),Object.assign(i,p),i.UTF8ToString=u}return await d(),i}var xO=Object.defineProperty,EO=(e,t,r)=>t in e?xO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Xe=(e,t,r)=>EO(e,typeof t!="symbol"?t+"":t,r);let rt=null;function kO(e){throw new _m(e.UTF8ToString(e.getLastOnigError()))}class mu{constructor(t){Xe(this,"utf16Length"),Xe(this,"utf8Length"),Xe(this,"utf16Value"),Xe(this,"utf8Value"),Xe(this,"utf16OffsetToUtf8"),Xe(this,"utf8OffsetToUtf16");const r=t.length,i=mu._utf8ByteLength(t),n=i!==r,s=n?new Uint32Array(r+1):null;n&&(s[r]=i);const o=n?new Uint32Array(i+1):null;n&&(o[i]=r);const a=new Uint8Array(i);let l=0;for(let c=0;c<r;c++){const u=t.charCodeAt(c);let h=u,d=!1;if(u>=55296&&u<=56319&&c+1<r){const f=t.charCodeAt(c+1);f>=56320&&f<=57343&&(h=(u-55296<<10)+65536|f-56320,d=!0)}n&&(s[c]=l,d&&(s[c+1]=l),h<=127?o[l+0]=c:h<=2047?(o[l+0]=c,o[l+1]=c):h<=65535?(o[l+0]=c,o[l+1]=c,o[l+2]=c):(o[l+0]=c,o[l+1]=c,o[l+2]=c,o[l+3]=c)),h<=127?a[l++]=h:h<=2047?(a[l++]=192|(h&1984)>>>6,a[l++]=128|(h&63)>>>0):h<=65535?(a[l++]=224|(h&61440)>>>12,a[l++]=128|(h&4032)>>>6,a[l++]=128|(h&63)>>>0):(a[l++]=240|(h&1835008)>>>18,a[l++]=128|(h&258048)>>>12,a[l++]=128|(h&4032)>>>6,a[l++]=128|(h&63)>>>0),d&&c++}this.utf16Length=r,this.utf8Length=i,this.utf16Value=t,this.utf8Value=a,this.utf16OffsetToUtf8=s,this.utf8OffsetToUtf16=o}static _utf8ByteLength(t){let r=0;for(let i=0,n=t.length;i<n;i++){const s=t.charCodeAt(i);let o=s,a=!1;if(s>=55296&&s<=56319&&i+1<n){const l=t.charCodeAt(i+1);l>=56320&&l<=57343&&(o=(s-55296<<10)+65536|l-56320,a=!0)}o<=127?r+=1:o<=2047?r+=2:o<=65535?r+=3:r+=4,a&&i++}return r}createString(t){const r=t.omalloc(this.utf8Length);return t.HEAPU8.set(this.utf8Value,r),r}}const _u=class Br{constructor(t){if(Xe(this,"id",++Br.LAST_ID),Xe(this,"_onigBinding"),Xe(this,"content"),Xe(this,"utf16Length"),Xe(this,"utf8Length"),Xe(this,"utf16OffsetToUtf8"),Xe(this,"utf8OffsetToUtf16"),Xe(this,"ptr"),!rt)throw new _m("Must invoke loadWasm first.");this._onigBinding=rt,this.content=t;const r=new mu(t);this.utf16Length=r.utf16Length,this.utf8Length=r.utf8Length,this.utf16OffsetToUtf8=r.utf16OffsetToUtf8,this.utf8OffsetToUtf16=r.utf8OffsetToUtf16,this.utf8Length<1e4&&!Br._sharedPtrInUse?(Br._sharedPtr||(Br._sharedPtr=rt.omalloc(1e4)),Br._sharedPtrInUse=!0,rt.HEAPU8.set(r.utf8Value,Br._sharedPtr),this.ptr=Br._sharedPtr):this.ptr=r.createString(rt)}convertUtf8OffsetToUtf16(t){return this.utf8OffsetToUtf16?t<0?0:t>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[t]:t}convertUtf16OffsetToUtf8(t){return this.utf16OffsetToUtf8?t<0?0:t>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[t]:t}dispose(){this.ptr===Br._sharedPtr?Br._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};Xe(_u,"LAST_ID",0);Xe(_u,"_sharedPtr",0);Xe(_u,"_sharedPtrInUse",!1);let PC=_u;class RO{constructor(t){if(Xe(this,"_onigBinding"),Xe(this,"_ptr"),!rt)throw new _m("Must invoke loadWasm first.");const r=[],i=[];for(let a=0,l=t.length;a<l;a++){const c=new mu(t[a]);r[a]=c.createString(rt),i[a]=c.utf8Length}const n=rt.omalloc(4*t.length);rt.HEAPU32.set(r,n/4);const s=rt.omalloc(4*t.length);rt.HEAPU32.set(i,s/4);const o=rt.createOnigScanner(n,s,t.length);for(let a=0,l=t.length;a<l;a++)rt.ofree(r[a]);rt.ofree(s),rt.ofree(n),o===0&&kO(rt),this._onigBinding=rt,this._ptr=o}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(t,r,i){let n=0;if(typeof i=="number"&&(n=i),typeof t=="string"){t=new PC(t);const s=this._findNextMatchSync(t,r,!1,n);return t.dispose(),s}return this._findNextMatchSync(t,r,!1,n)}_findNextMatchSync(t,r,i,n){const s=this._onigBinding,o=s.findNextOnigScannerMatch(this._ptr,t.id,t.ptr,t.utf8Length,t.convertUtf16OffsetToUtf8(r),n);if(o===0)return null;const a=s.HEAPU32;let l=o/4;const c=a[l++],u=a[l++],h=[];for(let d=0;d<u;d++){const f=t.convertUtf8OffsetToUtf16(a[l++]),p=t.convertUtf8OffsetToUtf16(a[l++]);h[d]={start:f,end:p,length:p-f}}return{index:c,captureIndices:h}}}function PO(e){return typeof e.instantiator=="function"}function TO(e){return typeof e.default=="function"}function AO(e){return typeof e.data<"u"}function LO(e){return typeof Response<"u"&&e instanceof Response}function DO(e){var t;return typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))||typeof Buffer<"u"&&((t=Buffer.isBuffer)==null?void 0:t.call(Buffer,e))||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&e instanceof Uint32Array}let Qa;function NO(e){if(Qa)return Qa;async function t(){rt=await bO(async r=>{let i=e;return i=await i,typeof i=="function"&&(i=await i(r)),typeof i=="function"&&(i=await i(r)),PO(i)?i=await i.instantiator(r):TO(i)?i=await i.default(r):(AO(i)&&(i=i.data),LO(i)?typeof WebAssembly.instantiateStreaming=="function"?i=await OO(i)(r):i=await IO(i)(r):DO(i)?i=await ph(i)(r):i instanceof WebAssembly.Module?i=await ph(i)(r):"default"in i&&i.default instanceof WebAssembly.Module&&(i=await ph(i.default)(r))),"instance"in i&&(i=i.instance),"exports"in i&&(i=i.exports),i})}return Qa=t(),Qa}function ph(e){return t=>WebAssembly.instantiate(e,t)}function OO(e){return t=>WebAssembly.instantiateStreaming(e,t)}function IO(e){return async t=>{const r=await e.arrayBuffer();return WebAssembly.instantiate(r,t)}}async function MO(e){return e&&await NO(e),{createScanner(t){return new RO(t.map(r=>typeof r=="string"?r:r.source))},createString(t){return new PC(t)}}}const TC=mO({langs:vO,themes:yO,engine:()=>MO(C(()=>import("./wasm-6faa08c1.js"),[]))}),BO="_bgShader_11a4c_6",zO="_page_11a4c_15",$O="_hero_11a4c_19",FO="_installCode_11a4c_24",HO="_codeExample_11a4c_29",VO="_featuresGrid_11a4c_35",WO="_featureCard_11a4c_41",UO="_footer_11a4c_45",yi={bgShader:BO,page:zO,hero:$O,installCode:FO,codeExample:HO,featuresGrid:VO,featureCard:WO,footer:UO},mh=10,Fg=(e=0)=>t=>`\x1B[${t+e}m`,Hg=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,Vg=(e=0)=>(t,r,i)=>`\x1B[${38+e};2;${t};${r};${i}m`,Pe={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(Pe.modifier);const jO=Object.keys(Pe.color),GO=Object.keys(Pe.bgColor);[...jO,...GO];function KO(){const e=new Map;for(const[t,r]of Object.entries(Pe)){for(const[i,n]of Object.entries(r))Pe[i]={open:`\x1B[${n[0]}m`,close:`\x1B[${n[1]}m`},r[i]=Pe[i],e.set(n[0],n[1]);Object.defineProperty(Pe,t,{value:r,enumerable:!1})}return Object.defineProperty(Pe,"codes",{value:e,enumerable:!1}),Pe.color.close="\x1B[39m",Pe.bgColor.close="\x1B[49m",Pe.color.ansi=Fg(),Pe.color.ansi256=Hg(),Pe.color.ansi16m=Vg(),Pe.bgColor.ansi=Fg(mh),Pe.bgColor.ansi256=Hg(mh),Pe.bgColor.ansi16m=Vg(mh),Object.defineProperties(Pe,{rgbToAnsi256:{value(t,r,i){return t===r&&r===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5)},enumerable:!1},hexToRgb:{value(t){const r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[i]=r;i.length===3&&(i=[...i].map(s=>s+s).join(""));const n=Number.parseInt(i,16);return[n>>16&255,n>>8&255,n&255]},enumerable:!1},hexToAnsi256:{value:t=>Pe.rgbToAnsi256(...Pe.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,i,n;if(t>=232)r=((t-232)*10+8)/255,i=r,n=r;else{t-=16;const a=t%36;r=Math.floor(t/36)/5,i=Math.floor(a/6)/5,n=a%6/5}const s=Math.max(r,i,n)*2;if(s===0)return 30;let o=30+(Math.round(n)<<2|Math.round(i)<<1|Math.round(r));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(t,r,i)=>Pe.ansi256ToAnsi(Pe.rgbToAnsi256(t,r,i)),enumerable:!1},hexToAnsi:{value:t=>Pe.ansi256ToAnsi(Pe.hexToAnsi256(t)),enumerable:!1}}),Pe}const qO=KO(),Fr=qO,Za=(()=>{if(!("navigator"in globalThis))return 0;if(globalThis.navigator.userAgentData){const e=navigator.userAgentData.brands.find(({brand:t})=>t==="Chromium");if(e&&e.version>93)return 3}return/\b(Chrome|Chromium)\//.test(globalThis.navigator.userAgent)?1:0})(),Wg=Za!==0&&{level:Za,hasBasic:!0,has256:Za>=2,has16m:Za>=3},YO={stdout:Wg,stderr:Wg},XO=YO;function QO(e,t,r){let i=e.indexOf(t);if(i===-1)return e;const n=t.length;let s=0,o="";do o+=e.slice(s,i)+t+r,s=i+n,i=e.indexOf(t,s);while(i!==-1);return o+=e.slice(s),o}function ZO(e,t,r,i){let n=0,s="";do{const o=e[i-1]==="\r";s+=e.slice(n,o?i-1:i)+t+(o?`\r
`:`
`)+r,n=i+1,i=e.indexOf(`
`,n)}while(i!==-1);return s+=e.slice(n),s}const{stdout:Ug,stderr:jg}=XO,Qd=Symbol("GENERATOR"),Es=Symbol("STYLER"),ia=Symbol("IS_EMPTY"),Gg=["ansi","ansi","ansi256","ansi16m"],ks=Object.create(null),JO=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=Ug?Ug.level:0;e.level=t.level===void 0?r:t.level},eI=e=>{const t=(...r)=>r.join(" ");return JO(t,e),Object.setPrototypeOf(t,ga.prototype),t};function ga(e){return eI(e)}Object.setPrototypeOf(ga.prototype,Function.prototype);for(const[e,t]of Object.entries(Fr))ks[e]={get(){const r=Cc(this,Jd(t.open,t.close,this[Es]),this[ia]);return Object.defineProperty(this,e,{value:r}),r}};ks.visible={get(){const e=Cc(this,this[Es],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const Zd=(e,t,r,...i)=>e==="rgb"?t==="ansi16m"?Fr[r].ansi16m(...i):t==="ansi256"?Fr[r].ansi256(Fr.rgbToAnsi256(...i)):Fr[r].ansi(Fr.rgbToAnsi(...i)):e==="hex"?Zd("rgb",t,r,...Fr.hexToRgb(...i)):Fr[r][e](...i),tI=["rgb","hex","ansi256"];for(const e of tI){ks[e]={get(){const{level:r}=this;return function(...i){const n=Jd(Zd(e,Gg[r],"color",...i),Fr.color.close,this[Es]);return Cc(this,n,this[ia])}}};const t="bg"+e[0].toUpperCase()+e.slice(1);ks[t]={get(){const{level:r}=this;return function(...i){const n=Jd(Zd(e,Gg[r],"bgColor",...i),Fr.bgColor.close,this[Es]);return Cc(this,n,this[ia])}}}}const rI=Object.defineProperties(()=>{},{...ks,level:{enumerable:!0,get(){return this[Qd].level},set(e){this[Qd].level=e}}}),Jd=(e,t,r)=>{let i,n;return r===void 0?(i=e,n=t):(i=r.openAll+e,n=t+r.closeAll),{open:e,close:t,openAll:i,closeAll:n,parent:r}},Cc=(e,t,r)=>{const i=(...n)=>iI(i,n.length===1?""+n[0]:n.join(" "));return Object.setPrototypeOf(i,rI),i[Qd]=e,i[Es]=t,i[ia]=r,i},iI=(e,t)=>{if(e.level<=0||!t)return e[ia]?"":t;let r=e[Es];if(r===void 0)return t;const{openAll:i,closeAll:n}=r;if(t.includes("\x1B"))for(;r!==void 0;)t=QO(t,r.close,r.open),r=r.parent;const s=t.indexOf(`
`);return s!==-1&&(t=ZO(t,n,i,s)),i+t+n};Object.defineProperties(ga.prototype,ks);const nI=ga();ga({level:jg?jg.level:0});const Fn=nI;function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}var sI=/^\s+/,oI=/\s+$/;function K(e,t){if(e=e||"",t=t||{},e instanceof K)return e;if(!(this instanceof K))return new K(e,t);var r=aI(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}K.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),r,i,n,s,o,a;return r=t.r/255,i=t.g/255,n=t.b/255,r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(t){return this._a=AC(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=qg(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=qg(this._r,this._g,this._b),r=Math.round(t.h*360),i=Math.round(t.s*100),n=Math.round(t.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+n+"%)":"hsva("+r+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=Kg(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=Kg(this._r,this._g,this._b),r=Math.round(t.h*360),i=Math.round(t.s*100),n=Math.round(t.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+n+"%)":"hsla("+r+", "+i+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return Yg(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return hI(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Te(this._r,255)*100)+"%",g:Math.round(Te(this._g,255)*100)+"%",b:Math.round(Te(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Te(this._r,255)*100)+"%, "+Math.round(Te(this._g,255)*100)+"%, "+Math.round(Te(this._b,255)*100)+"%)":"rgba("+Math.round(Te(this._r,255)*100)+"%, "+Math.round(Te(this._g,255)*100)+"%, "+Math.round(Te(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:bI[Yg(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var r="#"+Xg(this._r,this._g,this._b,this._a),i=r,n=this._gradientType?"GradientType = 1, ":"";if(t){var s=K(t);i="#"+Xg(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+r+",endColorstr="+i+")"},toString:function(t){var r=!!t;t=t||this._format;var i=!1,n=this._a<1&&this._a>=0,s=!r&&n&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(i=this.toRgbString()),t==="prgb"&&(i=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(i=this.toHexString()),t==="hex3"&&(i=this.toHexString(!0)),t==="hex4"&&(i=this.toHex8String(!0)),t==="hex8"&&(i=this.toHex8String()),t==="name"&&(i=this.toName()),t==="hsl"&&(i=this.toHslString()),t==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return K(this.toString())},_applyModification:function(t,r){var i=t.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(mI,arguments)},brighten:function(){return this._applyModification(_I,arguments)},darken:function(){return this._applyModification(gI,arguments)},desaturate:function(){return this._applyModification(dI,arguments)},saturate:function(){return this._applyModification(fI,arguments)},greyscale:function(){return this._applyModification(pI,arguments)},spin:function(){return this._applyModification(vI,arguments)},_applyCombination:function(t,r){return t.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(wI,arguments)},complement:function(){return this._applyCombination(yI,arguments)},monochromatic:function(){return this._applyCombination(CI,arguments)},splitcomplement:function(){return this._applyCombination(SI,arguments)},triad:function(){return this._applyCombination(Qg,[3])},tetrad:function(){return this._applyCombination(Qg,[4])}};K.fromRatio=function(e,t){if(bc(e)=="object"){var r={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?r[i]=e[i]:r[i]=fo(e[i]));e=r}return K(e,t)};function aI(e){var t={r:0,g:0,b:0},r=1,i=null,n=null,s=null,o=!1,a=!1;return typeof e=="string"&&(e=RI(e)),bc(e)=="object"&&(Jr(e.r)&&Jr(e.g)&&Jr(e.b)?(t=lI(e.r,e.g,e.b),o=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Jr(e.h)&&Jr(e.s)&&Jr(e.v)?(i=fo(e.s),n=fo(e.v),t=uI(e.h,i,n),o=!0,a="hsv"):Jr(e.h)&&Jr(e.s)&&Jr(e.l)&&(i=fo(e.s),s=fo(e.l),t=cI(e.h,i,s),o=!0,a="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=AC(r),{ok:o,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}function lI(e,t,r){return{r:Te(e,255)*255,g:Te(t,255)*255,b:Te(r,255)*255}}function Kg(e,t,r){e=Te(e,255),t=Te(t,255),r=Te(r,255);var i=Math.max(e,t,r),n=Math.min(e,t,r),s,o,a=(i+n)/2;if(i==n)s=o=0;else{var l=i-n;switch(o=a>.5?l/(2-i-n):l/(i+n),i){case e:s=(t-r)/l+(t<r?6:0);break;case t:s=(r-e)/l+2;break;case r:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,l:a}}function cI(e,t,r){var i,n,s;e=Te(e,360),t=Te(t,100),r=Te(r,100);function o(c,u,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?c+(u-c)*6*h:h<1/2?u:h<2/3?c+(u-c)*(2/3-h)*6:c}if(t===0)i=n=s=r;else{var a=r<.5?r*(1+t):r+t-r*t,l=2*r-a;i=o(l,a,e+1/3),n=o(l,a,e),s=o(l,a,e-1/3)}return{r:i*255,g:n*255,b:s*255}}function qg(e,t,r){e=Te(e,255),t=Te(t,255),r=Te(r,255);var i=Math.max(e,t,r),n=Math.min(e,t,r),s,o,a=i,l=i-n;if(o=i===0?0:l/i,i==n)s=0;else{switch(i){case e:s=(t-r)/l+(t<r?6:0);break;case t:s=(r-e)/l+2;break;case r:s=(e-t)/l+4;break}s/=6}return{h:s,s:o,v:a}}function uI(e,t,r){e=Te(e,360)*6,t=Te(t,100),r=Te(r,100);var i=Math.floor(e),n=e-i,s=r*(1-t),o=r*(1-n*t),a=r*(1-(1-n)*t),l=i%6,c=[r,o,s,s,a,r][l],u=[a,r,r,o,s,s][l],h=[s,s,a,r,r,o][l];return{r:c*255,g:u*255,b:h*255}}function Yg(e,t,r,i){var n=[Er(Math.round(e).toString(16)),Er(Math.round(t).toString(16)),Er(Math.round(r).toString(16))];return i&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function hI(e,t,r,i,n){var s=[Er(Math.round(e).toString(16)),Er(Math.round(t).toString(16)),Er(Math.round(r).toString(16)),Er(LC(i))];return n&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Xg(e,t,r,i){var n=[Er(LC(i)),Er(Math.round(e).toString(16)),Er(Math.round(t).toString(16)),Er(Math.round(r).toString(16))];return n.join("")}K.equals=function(e,t){return!e||!t?!1:K(e).toRgbString()==K(t).toRgbString()};K.random=function(){return K.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function dI(e,t){t=t===0?0:t||10;var r=K(e).toHsl();return r.s-=t/100,r.s=gu(r.s),K(r)}function fI(e,t){t=t===0?0:t||10;var r=K(e).toHsl();return r.s+=t/100,r.s=gu(r.s),K(r)}function pI(e){return K(e).desaturate(100)}function mI(e,t){t=t===0?0:t||10;var r=K(e).toHsl();return r.l+=t/100,r.l=gu(r.l),K(r)}function _I(e,t){t=t===0?0:t||10;var r=K(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),K(r)}function gI(e,t){t=t===0?0:t||10;var r=K(e).toHsl();return r.l-=t/100,r.l=gu(r.l),K(r)}function vI(e,t){var r=K(e).toHsl(),i=(r.h+t)%360;return r.h=i<0?360+i:i,K(r)}function yI(e){var t=K(e).toHsl();return t.h=(t.h+180)%360,K(t)}function Qg(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=K(e).toHsl(),i=[K(e)],n=360/t,s=1;s<t;s++)i.push(K({h:(r.h+s*n)%360,s:r.s,l:r.l}));return i}function SI(e){var t=K(e).toHsl(),r=t.h;return[K(e),K({h:(r+72)%360,s:t.s,l:t.l}),K({h:(r+216)%360,s:t.s,l:t.l})]}function wI(e,t,r){t=t||6,r=r||30;var i=K(e).toHsl(),n=360/r,s=[K(e)];for(i.h=(i.h-(n*t>>1)+720)%360;--t;)i.h=(i.h+n)%360,s.push(K(i));return s}function CI(e,t){t=t||6;for(var r=K(e).toHsv(),i=r.h,n=r.s,s=r.v,o=[],a=1/t;t--;)o.push(K({h:i,s:n,v:s})),s=(s+a)%1;return o}K.mix=function(e,t,r){r=r===0?0:r||50;var i=K(e).toRgb(),n=K(t).toRgb(),s=r/100,o={r:(n.r-i.r)*s+i.r,g:(n.g-i.g)*s+i.g,b:(n.b-i.b)*s+i.b,a:(n.a-i.a)*s+i.a};return K(o)};K.readability=function(e,t){var r=K(e),i=K(t);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};K.isReadable=function(e,t,r){var i=K.readability(e,t),n,s;switch(s=!1,n=PI(r),n.level+n.size){case"AAsmall":case"AAAlarge":s=i>=4.5;break;case"AAlarge":s=i>=3;break;case"AAAsmall":s=i>=7;break}return s};K.mostReadable=function(e,t,r){var i=null,n=0,s,o,a,l;r=r||{},o=r.includeFallbackColors,a=r.level,l=r.size;for(var c=0;c<t.length;c++)s=K.readability(e,t[c]),s>n&&(n=s,i=K(t[c]));return K.isReadable(e,i,{level:a,size:l})||!o?i:(r.includeFallbackColors=!1,K.mostReadable(e,["#fff","#000"],r))};var ef=K.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},bI=K.hexNames=xI(ef);function xI(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function AC(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Te(e,t){EI(e)&&(e="100%");var r=kI(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function gu(e){return Math.min(1,Math.max(0,e))}function Gt(e){return parseInt(e,16)}function EI(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function kI(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Er(e){return e.length==1?"0"+e:""+e}function fo(e){return e<=1&&(e=e*100+"%"),e}function LC(e){return Math.round(parseFloat(e)*255).toString(16)}function Zg(e){return Gt(e)/255}var vr=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Jr(e){return!!vr.CSS_UNIT.exec(e)}function RI(e){e=e.replace(sI,"").replace(oI,"").toLowerCase();var t=!1;if(ef[e])e=ef[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=vr.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=vr.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=vr.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=vr.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=vr.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=vr.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=vr.hex8.exec(e))?{r:Gt(r[1]),g:Gt(r[2]),b:Gt(r[3]),a:Zg(r[4]),format:t?"name":"hex8"}:(r=vr.hex6.exec(e))?{r:Gt(r[1]),g:Gt(r[2]),b:Gt(r[3]),format:t?"name":"hex"}:(r=vr.hex4.exec(e))?{r:Gt(r[1]+""+r[1]),g:Gt(r[2]+""+r[2]),b:Gt(r[3]+""+r[3]),a:Zg(r[4]+""+r[4]),format:t?"name":"hex8"}:(r=vr.hex3.exec(e))?{r:Gt(r[1]+""+r[1]),g:Gt(r[2]+""+r[2]),b:Gt(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function PI(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:t,size:r}}var gm=class{diff(e,t,r={}){let i;typeof r=="function"?(i=r,r={}):"callback"in r&&(i=r.callback);let n=this.castInput(e,r),s=this.castInput(t,r),o=this.removeEmpty(this.tokenize(n,r)),a=this.removeEmpty(this.tokenize(s,r));return this.diffWithOptionsObj(o,a,r,i)}diffWithOptionsObj(e,t,r,i){let n=S=>{if(S=this.postProcess(S,r),i){setTimeout(function(){i(S)},0);return}else return S},s=t.length,o=e.length,a=1,l=s+o;r.maxEditLength!=null&&(l=Math.min(l,r.maxEditLength));let c=r.timeout??1/0,u=Date.now()+c,h=[{oldPos:-1,lastComponent:void 0}],d=this.extractCommon(h[0],t,e,0,r);if(h[0].oldPos+1>=o&&d+1>=s)return n(this.buildValues(h[0].lastComponent,t,e));let f=-1/0,p=1/0,g=()=>{for(let S=Math.max(f,-a);S<=Math.min(p,a);S+=2){let m,v=h[S-1],y=h[S+1];v&&(h[S-1]=void 0);let w=!1;if(y){let R=y.oldPos-S;w=y&&0<=R&&R<s}let b=v&&v.oldPos+1<o;if(!w&&!b){h[S]=void 0;continue}if(m=!b||w&&v.oldPos<y.oldPos?this.addToPath(y,!0,!1,0,r):this.addToPath(v,!1,!0,1,r),d=this.extractCommon(m,t,e,S,r),m.oldPos+1>=o&&d+1>=s)return n(this.buildValues(m.lastComponent,t,e))||!0;h[S]=m,m.oldPos+1>=o&&(p=Math.min(p,S-1)),d+1>=s&&(f=Math.max(f,S+1))}a++};if(i)(function S(){setTimeout(function(){if(a>l||Date.now()>u)return i(void 0);g()||S()},0)})();else for(;a<=l&&Date.now()<=u;){let S=g();if(S)return S}}addToPath(e,t,r,i,n){let s=e.lastComponent;return s&&!n.oneChangePerToken&&s.added===t&&s.removed===r?{oldPos:e.oldPos+i,lastComponent:{count:s.count+1,added:t,removed:r,previousComponent:s.previousComponent}}:{oldPos:e.oldPos+i,lastComponent:{count:1,added:t,removed:r,previousComponent:s}}}extractCommon(e,t,r,i,n){let s=t.length,o=r.length,a=e.oldPos,l=a-i,c=0;for(;l+1<s&&a+1<o&&this.equals(r[a+1],t[l+1],n);)l++,a++,c++,n.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return c&&!n.oneChangePerToken&&(e.lastComponent={count:c,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=a,l}equals(e,t,r){return r.comparator?r.comparator(e,t):e===t||!!r.ignoreCase&&e.toLowerCase()===t.toLowerCase()}removeEmpty(e){let t=[];for(let r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t}castInput(e,t){return e}tokenize(e,t){return Array.from(e)}join(e){return e.join("")}postProcess(e,t){return e}get useLongestToken(){return!1}buildValues(e,t,r){let i=[],n;for(;e;)i.push(e),n=e.previousComponent,delete e.previousComponent,e=n;i.reverse();let s=i.length,o=0,a=0,l=0;for(;o<s;o++){let c=i[o];if(c.removed)c.value=this.join(r.slice(l,l+c.count)),l+=c.count;else{if(!c.added&&this.useLongestToken){let u=t.slice(a,a+c.count);u=u.map(function(h,d){let f=r[l+d];return f.length>h.length?f:h}),c.value=this.join(u)}else c.value=this.join(t.slice(a,a+c.count));a+=c.count,c.added||(l+=c.count)}}return i}};const Jg="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",TI=new class extends gm{tokenize(e){let t=RegExp(`(\\r?\\n)|[${Jg}]+|[^\\S\\n\\r]+|[^${Jg}]`,"ug");return e.match(t)||[]}};function AI(e,t,r){return TI.diff(e,t,r)}const LI=new class extends gm{constructor(){super(...arguments),this.tokenize=DC}equals(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),super.equals(e,t,r)}};function DI(e,t,r){return LI.diff(e,t,r)}function DC(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));let r=[],i=e.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(let n=0;n<i.length;n++){let s=i[n];n%2&&!t.newlineIsToken?r[r.length-1]+=s:r.push(s)}return r}new class extends gm{constructor(){super(...arguments),this.tokenize=DC}get useLongestToken(){return!0}castInput(e,t){let{undefinedReplacement:r,stringifyReplacer:i=(n,s)=>s===void 0?r:s}=t;return typeof e=="string"?e:JSON.stringify(tf(e,null,null,i),null,"  ")}equals(e,t,r){return super.equals(e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)}};function tf(e,t,r,i,n){t||(t=[]),r||(r=[]),i&&(e=i(n===void 0?"":n,e));let s;for(s=0;s<t.length;s+=1)if(t[s]===e)return r[s];let o;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),o=Array(e.length),r.push(o),s=0;s<e.length;s+=1)o[s]=tf(e[s],t,r,i,String(s));return t.pop(),r.pop(),o}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e){t.push(e),o={},r.push(o);let a=[],l;for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&a.push(l);for(a.sort(),s=0;s<a.length;s+=1)l=a[s],o[l]=tf(e[l],t,r,i,l);t.pop(),r.pop()}else o=e;return o}const NI=e=>`--- ${e} unchanged ---`,_h="#17975f33",gh="#df404733";async function NC({code:e,diffWith:t,collapseUnchanged:r,filePath:i,theme:n,streaming:s,lang:o,highlighter:a}){var ce,Re,pe,q,de,ge,ue,oe,re,Q,ut;let l=await C(()=>import("./index-3c5779d5.js"),[]),c=OI(o,i,l.bundledLanguagesInfo);a||(a=await l.createHighlighter({langs:[c],themes:[n]})),typeof n=="string"&&(n=a.getTheme(n));let u=t!==void 0,h=!!s,d=t||"",f=e,p=!0,g=!0;d.endsWith(`
`)||(d+=`
`,p=!1),f.endsWith(`
`)||(f+=`
`,g=!1);let S=d.split(/\n/g),m=f.split(/\n/g),v=s?m.length+3:S.length,y=DI(S.slice(0,v).join(`
`),f),w=(Math.max(S.length,m.length)||1)+1,b=Math.max(...m.map(Z=>Z.length),...S.map(Z=>Z.length),1)+1,R=String(w).length,E=y.at(-1),L=y.at(-2),A;r&&u&&!s&&(A={separator:r===!0||r.separator===void 0?NI:r.separator,padding:r===!0||r.padding===void 0?3:r.padding});let O=[];if(s){if(O=S.slice(v),(E==null?void 0:E.added)&&(L==null?void 0:L.removed)){let Z=E,[Y]=y.splice(y.length-2,1);Y!=null&&Y.value.startsWith(Z.value.replace(/\n$/,""))&&(Y.value=Y.value.substring(Y.value.indexOf(`
`)+1)),O=[Y.value,...O]}else if(E!=null&&E.removed){let[Z]=y.splice(y.length-1,1);O=[Z.value,...O]}}let N=[],D=1,T=1,I=1;if(u)for(let Z=0;Z<y.length;Z++){let Y=y[Z],we=y[Z+1],ht=Y.count||0;if(Y.removed&&(we!=null&&we.added)){let et=AI(Y.value.replace(/\n$/,""),we.value.replace(/\n$/,"")),nn=D,Hs=0,gi=D+ht,Vs=0;for(let Zr of et)for(;;){N[nn]||(N[nn]={type:"removed",oldLineNumber:T}),N[gi]||(N[gi]={type:"added",newLineNumber:I});let Ca=Zr.value.indexOf(`
`),ba=Ca>=0?Zr.value.substring(0,Ca):Zr.value;if(Zr.removed)for(let Ws=0;Ws<ba.length;Ws++)(ce=N[nn]).marks||(ce.marks=[]),N[nn].marks[Hs]=!0,++Hs;else if(Zr.added)for(let Ws=0;Ws<ba.length;Ws++)(Re=N[gi]).marks||(Re.marks=[]),N[gi].marks[Vs]=!0,++Vs;else Hs+=ba.length,Vs+=ba.length;if(Ca>=0){Zr.value=Zr.value.substring(Ca+1),Zr.removed?(++nn,++T,++D,Hs=0):Zr.added?(++gi,++I,++D,Vs=0):(++nn,++T,++gi,++I,++D,Hs=0,Vs=0);continue}break}D=gi+1,++T,++I,++Z}else if(Y.added||Y.removed)for(let et=0;et<ht;et++)N[D]={type:Y.added?"added":"removed",oldLineNumber:Y.removed?T:void 0,newLineNumber:Y.added?I:void 0},++D,Y.added?++I:Y.removed&&++T;else for(let et=0;et<ht;et++)N[D]={type:"default",oldLineNumber:T,newLineNumber:I},++T,++I,++D}else{for(let Z=0;Z<m.length;Z++)N[Z+1]={type:"default",newLineNumber:I++};D=m.length+1}let z=D-1;if(s){N[z].type="current",N[z].oldLineNumber=T,++T;for(let Z=1;Z<O.length;Z++)N[D]={type:"upcoming",oldLineNumber:T},++D,++T}if(A){let Z=-1;for(;Z<N.length;){let Y=N.findIndex((ht,et)=>et>Z&&(ht==null?void 0:ht.type)==="default");if(Y<0)break;let we=N.findIndex((ht,et)=>et>Y&&(ht==null?void 0:ht.type)!=="default");we<0&&(we=N.length),Z=we,Y!==1&&(Y+=A.padding),we!==N.length&&(we-=A.padding),!(we<=Y)&&(N[Y]={type:"default",collapse:N.slice(Y,we)},N.splice(Y+1,we-Y-1),Z=Y+1)}}if(p!==g){let Z=g?"(added newline at end of file)":"(removed newline at end of file)";N.push({type:g?"added":"removed",specialText:Z}),b=Math.max(b,Z.length+1)}let M=a.codeToTokens(f,{theme:n,lang:c}),W=M.fg||((pe=n.colors)==null?void 0:pe.editorForeground),k=M.bg||((q=n.colors)==null?void 0:q.editorBackground),$=u?a.codeToTokens(d,{theme:n,lang:c}):M,U=Z=>{let{type:Y,oldLineNumber:we,newLineNumber:ht}=Z;Z.tokens=(Y==="removed"||Y==="upcoming"?$.tokens[(we||0)-1]:M.tokens[(ht||0)-1])||[]};for(let Z=1;Z<N.length;Z++){let Y=N[Z]||{};if(U(Y),Y.collapse)for(let we of Y.collapse)U(we)}let J={foreground:Si(W),background:Si(k),insertedLineBackground:Si(((de=n.colors)==null?void 0:de["diffEditor.insertedLineBackground"])||_h,k),insertedTextBackground:Si(((ge=n.colors)==null?void 0:ge["diffEditor.insertedTextBackground"])||_h,((ue=n.colors)==null?void 0:ue["diffEditor.insertedLineBackground"])||_h,k),removedLineBackground:Si(((oe=n.colors)==null?void 0:oe["diffEditor.removedLineBackground"])||gh,k),removedTextBackground:Si(((re=n.colors)==null?void 0:re["diffEditor.removedTextBackground"])||gh,((Q=n.colors)==null?void 0:Q["diffEditor.removedLineBackground"])||gh,k),lineNumberForeground:Si(((ut=n.colors)==null?void 0:ut["editorLineNumber.foreground"])||K.mix(k||"#000",W||"#fff",50).toHexString(),k),currentLineBackground:Si(K.mix(k||"#000",W||"#fff",20).toHexString(),k)},se=[],Se;for(let Z=1;Z<N.length;Z++){let Y=N[Z]||{};if(A&&Y.collapse){let ht=Y.collapse.map(et=>ev(et));se.push({type:"collapsed",collapsedCount:Y.collapse.length,lines:ht,separatorText:A.separator(Y.collapse.length)});continue}let we=ev(Y);we.type==="current"&&(Se=se.length),se.push(we)}return{items:se,colors:J,lineDigits:R,maxCols:b,isDiff:u,isStreaming:h,currentLineIndex:Se}}function ev(e){let t=e.marks,r=[],i=0;for(let s of e.tokens||[]){let o={};if(s.color&&(o.color=s.color),s.fontStyle&&(s.fontStyle&1?o.fontStyle="italic":s.fontStyle&2?o.fontStyle="bold":s.fontStyle&4&&(o.fontStyle="underline")),!t)r.push({...o,content:s.content});else{let a=0,l=!!t[i];for(let c=0;c<=s.content.length;c++){let u=c<s.content.length?!!t[i+c]:!l;if(u!==l||c===s.content.length){if(c>a){let h={...o,content:s.content.substring(a,c)};l&&(h.marked=!0),r.push(h)}l=u,a=c}}}i+=s.content.length}let n={type:e.type,tokens:r};return e.oldLineNumber!==void 0&&(n.oldLineNumber=e.oldLineNumber),e.newLineNumber!==void 0&&(n.newLineNumber=e.newLineNumber),e.specialText&&(n.specialText=e.specialText),n}function Si(...e){let t;for(let r of e.reverse()){if(!r)continue;let i=K(r);t=i.getAlpha()===1?i:K.mix(t||K("#000"),i,i.getAlpha()*100)}return t?t.toHexString():"#000"}function OI(e,t,r){var i;if(e)return e;if(t){let n=String(t).split(".").pop();for(let s of r)if(s.id===n||(i=s.aliases)!=null&&i.includes(n||""))return s.id}return"txt"}async function tv(e){let{streaming:t,lineNumbers:r}=e,{items:i,colors:n,lineDigits:s,maxCols:o,isDiff:a,currentLineIndex:l}=await NC(e),c=Fn.bgHex(n.background),u=Fn.bgHex(n.insertedLineBackground),h=Fn.bgHex(n.insertedTextBackground),d=Fn.bgHex(n.removedLineBackground),f=Fn.bgHex(n.removedTextBackground),p=Fn.bgHex(n.currentLineBackground),g=[];for(let S of i){if(S.type==="collapsed"){let D="  ";r==="both"?D+="".padEnd(2*(s+1)," ")+" ":r&&(D+="".padEnd(s+1," ")+" ");let T=c.hex(n.lineNumberForeground);g.push(S.separatorText.split(/\n/g).map(I=>T(D+I.padEnd(o," ")+`
`)).join(""));continue}let{type:m,oldLineNumber:v,newLineNumber:y,tokens:w,specialText:b}=S;v||(v=0),y||(y=0);let R=c,E=R,L=[],A="";a?(A="  ",r===!0?L=[t?y:v]:r==="both"&&(L=[v,y]),m==="added"?(R=u,E=h,(r==="both"||r)&&(L[0]=0),A="+ "):m==="removed"?(R=d,E=f,r==="both"&&(L[1]=0),A="- "):m==="current"?(R=E=p,A=" "):m==="upcoming"&&r==="both"&&(L[1]=0)):r&&(L=[y]);let O=R.hex(n.lineNumberForeground);g.push(O(" "+L.map(D=>String(D||"").padEnd(s," ")+" ").join("")+A));let N=0;if(m==="upcoming"){let D=w.map(T=>T.content).join("");g.push(O(D)),N=D.length}else if(b)g.push(O(b)),N=b.length;else for(let D of w){let T=(D.marked?E:R).hex(D.color||n.foreground);g.push(T(D.content)),N+=D.content.length}g.push(R(" ".repeat(Math.max(0,o-N)))+`
`)}if(t&&l!==void 0){let S=typeof t=="number"?t:20,m=g.join("").split(/\n/g),v=0;return l>Math.floor(S/2)&&(v=l-Math.floor(S/2)),v+S>m.length&&(v=Math.max(0,m.length-S-1)),m.slice(v,v+S).join(`
`)+`
`}return g.join("")}const II="_container_mcovg_1",MI="_line_mcovg_12",BI="_lineNumber_mcovg_17",zI="_lineContent_mcovg_24",$I="_upcoming_mcovg_29",FI="_collapsedSection_mcovg_33",_n={container:II,line:MI,lineNumber:BI,lineContent:zI,upcoming:$I,collapsedSection:FI},OC=_.forwardRef(function(t,r){const[i,n]=_.useState(null),[s,o]=_.useState(new Set);_.useEffect(()=>{let p=!1;return(async()=>{const g=await NC(t);p||(n(g),o(new Set))})(),()=>{p=!0}},[t.code,t.diffWith,t.theme,t.lang,t.collapseUnchanged,t.streaming,t.lineNumbers,t.highlighter]);const a=_.useMemo(()=>{if(!i)return[];const p=[];return i.items.forEach((g,S)=>{g.type==="collapsed"&&s.has(S)?p.push(...g.lines):p.push(g)}),p},[i,s]);if(!i)return x.jsx("div",{className:_n.container,children:"Loading..."});const{colors:l,lineDigits:c,isDiff:u}=i,h=t.lineNumbers==="both",d=p=>{o(g=>{const S=new Set(g);return S.has(p)?S.delete(p):S.add(p),S})},f=p=>i.items.indexOf(p);return x.jsx("div",{ref:r,className:`${_n.container} ${t.className||""}`,style:{backgroundColor:l.background,color:l.foreground},onScroll:t.onScroll,children:a.map((p,g)=>{if(p.type==="collapsed"){const S=f(p);return x.jsx("div",{className:_n.collapsedSection,onClick:()=>d(S),style:{color:l.lineNumberForeground},children:p.separatorText},`collapsed-${g}`)}return x.jsx(HI,{line:p,colors:l,lineDigits:c,showLineNumbers:!!t.lineNumbers,showBothLineNumbers:h,isDiff:u},`line-${g}`)})})});function HI({line:e,colors:t,lineDigits:r,showLineNumbers:i,showBothLineNumbers:n,isDiff:s}){let o;e.type==="added"?o=t.insertedLineBackground:e.type==="removed"?o=t.removedLineBackground:e.type==="current"&&(o=t.currentLineBackground);const a={color:t.lineNumberForeground},l=c=>c!==void 0?String(c).padStart(r," "):" ".repeat(r);return x.jsxs("div",{className:`${_n.line} ${e.type==="upcoming"?_n.upcoming:""}`,style:{backgroundColor:o},children:[i&&x.jsx("span",{className:_n.lineNumber,style:a,children:n&&s?x.jsxs(x.Fragment,{children:[l(e.oldLineNumber)," ",l(e.newLineNumber)]}):l(e.newLineNumber??e.oldLineNumber)}),x.jsx("span",{className:_n.lineContent,children:e.specialText?x.jsx("span",{style:{color:t.lineNumberForeground,fontStyle:"italic"},children:e.specialText}):e.tokens.map((c,u)=>{let h;return c.marked&&(e.type==="added"?h=t.insertedTextBackground:e.type==="removed"&&(h=t.removedTextBackground)),x.jsx("span",{style:{color:c.color,backgroundColor:h,fontStyle:c.fontStyle==="italic"?"italic":void 0,fontWeight:c.fontStyle==="bold"?"bold":void 0,textDecoration:c.fontStyle==="underline"?"underline":void 0},children:c.content},u)})})]})}/**
 * Copyright (c) 2014-2024 The xterm.js authors. All rights reserved.
 * @license MIT
 *
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * @license MIT
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 */var VI=2,WI=1,UI=class{activate(e){this._terminal=e}dispose(){}fit(){let e=this.proposeDimensions();if(!e||!this._terminal||isNaN(e.cols)||isNaN(e.rows))return;let t=this._terminal._core;(this._terminal.rows!==e.rows||this._terminal.cols!==e.cols)&&(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}proposeDimensions(){var h;if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;let e=this._terminal._core._renderService.dimensions;if(e.css.cell.width===0||e.css.cell.height===0)return;let t=this._terminal.options.scrollback===0?0:((h=this._terminal.options.overviewRuler)==null?void 0:h.width)||14,r=window.getComputedStyle(this._terminal.element.parentElement),i=parseInt(r.getPropertyValue("height")),n=Math.max(0,parseInt(r.getPropertyValue("width"))),s=window.getComputedStyle(this._terminal.element),o={top:parseInt(s.getPropertyValue("padding-top")),bottom:parseInt(s.getPropertyValue("padding-bottom")),right:parseInt(s.getPropertyValue("padding-right")),left:parseInt(s.getPropertyValue("padding-left"))},a=o.top+o.bottom,l=o.right+o.left,c=i-a,u=n-l-t;return{cols:Math.max(VI,Math.floor(u/e.css.cell.width)),rows:Math.max(WI,Math.floor(c/e.css.cell.height))}}};/**
 * Copyright (c) 2014-2024 The xterm.js authors. All rights reserved.
 * @license MIT
 *
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * @license MIT
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 */var IC=Object.defineProperty,jI=Object.getOwnPropertyDescriptor,GI=(e,t)=>{for(var r in t)IC(e,r,{get:t[r],enumerable:!0})},$e=(e,t,r,i)=>{for(var n=i>1?void 0:i?jI(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(n=(i?o(t,r,n):o(n))||n);return i&&n&&IC(t,r,n),n},j=(e,t)=>(r,i)=>t(r,i,e),rv="Terminal input",rf={get:()=>rv,set:e=>rv=e},iv="Too much output to announce, navigate to rows manually to read",nf={get:()=>iv,set:e=>iv=e};function KI(e){return e.replace(/\r?\n/g,"\r")}function qI(e,t){return t?"\x1B[200~"+e+"\x1B[201~":e}function YI(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()}function XI(e,t,r,i){if(e.stopPropagation(),e.clipboardData){let n=e.clipboardData.getData("text/plain");MC(n,t,r,i)}}function MC(e,t,r,i){e=KI(e),e=qI(e,r.decPrivateModes.bracketedPasteMode&&i.rawOptions.ignoreBracketedPasteMode!==!0),r.triggerDataEvent(e,!0),t.value=""}function BC(e,t,r){let i=r.getBoundingClientRect(),n=e.clientX-i.left-10,s=e.clientY-i.top-10;t.style.width="20px",t.style.height="20px",t.style.left=`${n}px`,t.style.top=`${s}px`,t.style.zIndex="1000",t.focus()}function nv(e,t,r,i,n){BC(e,t,r),n&&i.rightClickSelect(e),t.value=i.selectionText,t.select()}function Pi(e){return e>65535?(e-=65536,String.fromCharCode((e>>10)+55296)+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)}function vu(e,t=0,r=e.length){let i="";for(let n=t;n<r;++n){let s=e[n];s>65535?(s-=65536,i+=String.fromCharCode((s>>10)+55296)+String.fromCharCode(s%1024+56320)):i+=String.fromCharCode(s)}return i}var QI=class{constructor(){this._interim=0}clear(){this._interim=0}decode(e,t){let r=e.length;if(!r)return 0;let i=0,n=0;if(this._interim){let s=e.charCodeAt(n++);56320<=s&&s<=57343?t[i++]=(this._interim-55296)*1024+s-56320+65536:(t[i++]=this._interim,t[i++]=s),this._interim=0}for(let s=n;s<r;++s){let o=e.charCodeAt(s);if(55296<=o&&o<=56319){if(++s>=r)return this._interim=o,i;let a=e.charCodeAt(s);56320<=a&&a<=57343?t[i++]=(o-55296)*1024+a-56320+65536:(t[i++]=o,t[i++]=a);continue}o!==65279&&(t[i++]=o)}return i}},ZI=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(e,t){let r=e.length;if(!r)return 0;let i=0,n,s,o,a,l=0,c=0;if(this.interim[0]){let d=!1,f=this.interim[0];f&=(f&224)===192?31:(f&240)===224?15:7;let p=0,g;for(;(g=this.interim[++p]&63)&&p<4;)f<<=6,f|=g;let S=(this.interim[0]&224)===192?2:(this.interim[0]&240)===224?3:4,m=S-p;for(;c<m;){if(c>=r)return 0;if(g=e[c++],(g&192)!==128){c--,d=!0;break}else this.interim[p++]=g,f<<=6,f|=g&63}d||(S===2?f<128?c--:t[i++]=f:S===3?f<2048||f>=55296&&f<=57343||f===65279||(t[i++]=f):f<65536||f>1114111||(t[i++]=f)),this.interim.fill(0)}let u=r-4,h=c;for(;h<r;){for(;h<u&&!((n=e[h])&128)&&!((s=e[h+1])&128)&&!((o=e[h+2])&128)&&!((a=e[h+3])&128);)t[i++]=n,t[i++]=s,t[i++]=o,t[i++]=a,h+=4;if(n=e[h++],n<128)t[i++]=n;else if((n&224)===192){if(h>=r)return this.interim[0]=n,i;if(s=e[h++],(s&192)!==128){h--;continue}if(l=(n&31)<<6|s&63,l<128){h--;continue}t[i++]=l}else if((n&240)===224){if(h>=r)return this.interim[0]=n,i;if(s=e[h++],(s&192)!==128){h--;continue}if(h>=r)return this.interim[0]=n,this.interim[1]=s,i;if(o=e[h++],(o&192)!==128){h--;continue}if(l=(n&15)<<12|(s&63)<<6|o&63,l<2048||l>=55296&&l<=57343||l===65279)continue;t[i++]=l}else if((n&248)===240){if(h>=r)return this.interim[0]=n,i;if(s=e[h++],(s&192)!==128){h--;continue}if(h>=r)return this.interim[0]=n,this.interim[1]=s,i;if(o=e[h++],(o&192)!==128){h--;continue}if(h>=r)return this.interim[0]=n,this.interim[1]=s,this.interim[2]=o,i;if(a=e[h++],(a&192)!==128){h--;continue}if(l=(n&7)<<18|(s&63)<<12|(o&63)<<6|a&63,l<65536||l>1114111)continue;t[i++]=l}}return i}},zC="",Ni=" ",va=class $C{constructor(){this.fg=0,this.bg=0,this.extended=new xc}static toColorRGB(t){return[t>>>16&255,t>>>8&255,t&255]}static fromColorRGB(t){return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255}clone(){let t=new $C;return t.fg=this.fg,t.bg=this.bg,t.extended=this.extended.clone(),t}isInverse(){return this.fg&67108864}isBold(){return this.fg&134217728}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:this.fg&268435456}isBlink(){return this.fg&536870912}isInvisible(){return this.fg&1073741824}isItalic(){return this.bg&67108864}isDim(){return this.bg&134217728}isStrikethrough(){return this.fg&2147483648}isProtected(){return this.bg&536870912}isOverline(){return this.bg&1073741824}getFgColorMode(){return this.fg&50331648}getBgColorMode(){return this.bg&50331648}isFgRGB(){return(this.fg&50331648)===50331648}isBgRGB(){return(this.bg&50331648)===50331648}isFgPalette(){return(this.fg&50331648)===16777216||(this.fg&50331648)===33554432}isBgPalette(){return(this.bg&50331648)===16777216||(this.bg&50331648)===33554432}isFgDefault(){return(this.fg&50331648)===0}isBgDefault(){return(this.bg&50331648)===0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(this.fg&50331648){case 16777216:case 33554432:return this.fg&255;case 50331648:return this.fg&16777215;default:return-1}}getBgColor(){switch(this.bg&50331648){case 16777216:case 33554432:return this.bg&255;case 50331648:return this.bg&16777215;default:return-1}}hasExtendedAttrs(){return this.bg&268435456}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(this.bg&268435456&&~this.extended.underlineColor)switch(this.extended.underlineColor&50331648){case 16777216:case 33554432:return this.extended.underlineColor&255;case 50331648:return this.extended.underlineColor&16777215;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return this.bg&268435456&&~this.extended.underlineColor?this.extended.underlineColor&50331648:this.getFgColorMode()}isUnderlineColorRGB(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===50331648:this.isFgRGB()}isUnderlineColorPalette(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===16777216||(this.extended.underlineColor&50331648)===33554432:this.isFgPalette()}isUnderlineColorDefault(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===0:this.isFgDefault()}getUnderlineStyle(){return this.fg&268435456?this.bg&268435456?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}},xc=class FC{constructor(t=0,r=0){this._ext=0,this._urlId=0,this._ext=t,this._urlId=r}get ext(){return this._urlId?this._ext&-469762049|this.underlineStyle<<26:this._ext}set ext(t){this._ext=t}get underlineStyle(){return this._urlId?5:(this._ext&469762048)>>26}set underlineStyle(t){this._ext&=-469762049,this._ext|=t<<26&469762048}get underlineColor(){return this._ext&67108863}set underlineColor(t){this._ext&=-67108864,this._ext|=t&67108863}get urlId(){return this._urlId}set urlId(t){this._urlId=t}get underlineVariantOffset(){let t=(this._ext&3758096384)>>29;return t<0?t^4294967288:t}set underlineVariantOffset(t){this._ext&=536870911,this._ext|=t<<29&3758096384}clone(){return new FC(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}},fr=class HC extends va{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new xc,this.combinedData=""}static fromCharData(t){let r=new HC;return r.setFromCharData(t),r}isCombined(){return this.content&2097152}getWidth(){return this.content>>22}getChars(){return this.content&2097152?this.combinedData:this.content&2097151?Pi(this.content&2097151):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):this.content&2097151}setFromCharData(t){this.fg=t[0],this.bg=0;let r=!1;if(t[1].length>2)r=!0;else if(t[1].length===2){let i=t[1].charCodeAt(0);if(55296<=i&&i<=56319){let n=t[1].charCodeAt(1);56320<=n&&n<=57343?this.content=(i-55296)*1024+n-56320+65536|t[2]<<22:r=!0}else r=!0}else this.content=t[1].charCodeAt(0)|t[2]<<22;r&&(this.combinedData=t[1],this.content=2097152|t[2]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},sv="di$target",sf="di$dependencies",vh=new Map;function JI(e){return e[sf]||[]}function ct(e){if(vh.has(e))return vh.get(e);let t=function(r,i,n){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");e5(t,r,n)};return t._id=e,vh.set(e,t),t}function e5(e,t,r){t[sv]===t?t[sf].push({id:e,index:r}):(t[sf]=[{id:e,index:r}],t[sv]=t)}var Nt=ct("BufferService"),VC=ct("CoreMouseService"),zs=ct("CoreService"),t5=ct("CharsetService"),vm=ct("InstantiationService"),WC=ct("LogService"),Ot=ct("OptionsService"),UC=ct("OscLinkService"),r5=ct("UnicodeService"),ya=ct("DecorationService"),of=class{constructor(e,t,r){this._bufferService=e,this._optionsService=t,this._oscLinkService=r}provideLinks(e,t){var u;let r=this._bufferService.buffer.lines.get(e-1);if(!r){t(void 0);return}let i=[],n=this._optionsService.rawOptions.linkHandler,s=new fr,o=r.getTrimmedLength(),a=-1,l=-1,c=!1;for(let h=0;h<o;h++)if(!(l===-1&&!r.hasContent(h))){if(r.loadCell(h,s),s.hasExtendedAttrs()&&s.extended.urlId)if(l===-1){l=h,a=s.extended.urlId;continue}else c=s.extended.urlId!==a;else l!==-1&&(c=!0);if(c||l!==-1&&h===o-1){let d=(u=this._oscLinkService.getLinkData(a))==null?void 0:u.uri;if(d){let f={start:{x:l+1,y:e},end:{x:h+(!c&&h===o-1?1:0),y:e}},p=!1;if(!(n!=null&&n.allowNonHttpProtocols))try{let g=new URL(d);["http:","https:"].includes(g.protocol)||(p=!0)}catch{p=!0}p||i.push({text:d,range:f,activate:(g,S)=>n?n.activate(g,S,f):i5(g,S),hover:(g,S)=>{var m;return(m=n==null?void 0:n.hover)==null?void 0:m.call(n,g,S,f)},leave:(g,S)=>{var m;return(m=n==null?void 0:n.leave)==null?void 0:m.call(n,g,S,f)}})}c=!1,s.hasExtendedAttrs()&&s.extended.urlId?(l=h,a=s.extended.urlId):(l=-1,a=-1)}}t(i)}};of=$e([j(0,Nt),j(1,Ot),j(2,UC)],of);function i5(e,t){if(confirm(`Do you want to navigate to ${t}?

WARNING: This link could potentially be dangerous`)){let r=window.open();if(r){try{r.opener=null}catch{}r.location.href=t}else console.warn("Opening link blocked as opener could not be cleared")}}var yu=ct("CharSizeService"),mi=ct("CoreBrowserService"),ym=ct("MouseService"),_i=ct("RenderService"),n5=ct("SelectionService"),jC=ct("CharacterJoinerService"),$s=ct("ThemeService"),GC=ct("LinkProviderService"),s5=class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?ov.isErrorNoTelemetry(e)?new ov(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(t=>{t(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},o5=new s5;function Cl(e){a5(e)||o5.onUnexpectedError(e)}var af="Canceled";function a5(e){return e instanceof l5?!0:e instanceof Error&&e.name===af&&e.message===af}var l5=class extends Error{constructor(){super(af),this.name=this.message}};function c5(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}var ov=class lf extends Error{constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof lf)return t;let r=new lf;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},cf=class KC extends Error{constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,KC.prototype)}};function Wt(e,t=0){return e[e.length-(1+t)]}var u5;(e=>{function t(s){return s<0}e.isLessThan=t;function r(s){return s<=0}e.isLessThanOrEqual=r;function i(s){return s>0}e.isGreaterThan=i;function n(s){return s===0}e.isNeitherLessOrGreaterThan=n,e.greaterThan=1,e.lessThan=-1,e.neitherLessOrGreaterThan=0})(u5||(u5={}));function h5(e,t){let r=this,i=!1,n;return function(){if(i)return n;if(i=!0,t)try{n=e.apply(r,arguments)}finally{t()}else n=e.apply(r,arguments);return n}}var qC;(e=>{function t(w){return w&&typeof w=="object"&&typeof w[Symbol.iterator]=="function"}e.is=t;let r=Object.freeze([]);function i(){return r}e.empty=i;function*n(w){yield w}e.single=n;function s(w){return t(w)?w:n(w)}e.wrap=s;function o(w){return w||r}e.from=o;function*a(w){for(let b=w.length-1;b>=0;b--)yield w[b]}e.reverse=a;function l(w){return!w||w[Symbol.iterator]().next().done===!0}e.isEmpty=l;function c(w){return w[Symbol.iterator]().next().value}e.first=c;function u(w,b){let R=0;for(let E of w)if(b(E,R++))return!0;return!1}e.some=u;function h(w,b){for(let R of w)if(b(R))return R}e.find=h;function*d(w,b){for(let R of w)b(R)&&(yield R)}e.filter=d;function*f(w,b){let R=0;for(let E of w)yield b(E,R++)}e.map=f;function*p(w,b){let R=0;for(let E of w)yield*b(E,R++)}e.flatMap=p;function*g(...w){for(let b of w)yield*b}e.concat=g;function S(w,b,R){let E=R;for(let L of w)E=b(E,L);return E}e.reduce=S;function*m(w,b,R=w.length){for(b<0&&(b+=w.length),R<0?R+=w.length:R>w.length&&(R=w.length);b<R;b++)yield w[b]}e.slice=m;function v(w,b=Number.POSITIVE_INFINITY){let R=[];if(b===0)return[R,w];let E=w[Symbol.iterator]();for(let L=0;L<b;L++){let A=E.next();if(A.done)return[R,e.empty()];R.push(A.value)}return[R,{[Symbol.iterator](){return E}}]}e.consume=v;async function y(w){let b=[];for await(let R of w)b.push(R);return Promise.resolve(b)}e.asyncToArray=y})(qC||(qC={}));function Tn(e){if(qC.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(i){t.push(i)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}function d5(...e){return Me(()=>Tn(e))}function Me(e){return{dispose:h5(()=>{e()})}}var YC=class XC{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{Tn(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?XC.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),void 0)}};YC.DISABLE_DISPOSED_WARNING=!1;var Ui=YC,ne=class{constructor(){this._store=new Ui,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};ne.None=Object.freeze({dispose(){}});var Rs=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||((t=this._value)==null||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,(e=this._value)==null||e.dispose(),this._value=void 0}clearAndLeak(){let e=this._value;return this._value=void 0,e}},hr=typeof window=="object"?window:globalThis,uf=class hf{constructor(t){this.element=t,this.next=hf.Undefined,this.prev=hf.Undefined}};uf.Undefined=new uf(void 0);var Le=uf,av=class{constructor(){this._first=Le.Undefined,this._last=Le.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===Le.Undefined}clear(){let e=this._first;for(;e!==Le.Undefined;){let t=e.next;e.prev=Le.Undefined,e.next=Le.Undefined,e=t}this._first=Le.Undefined,this._last=Le.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let r=new Le(e);if(this._first===Le.Undefined)this._first=r,this._last=r;else if(t){let n=this._last;this._last=r,r.prev=n,n.next=r}else{let n=this._first;this._first=r,r.next=n,n.prev=r}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(r))}}shift(){if(this._first!==Le.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Le.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==Le.Undefined&&e.next!==Le.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Le.Undefined&&e.next===Le.Undefined?(this._first=Le.Undefined,this._last=Le.Undefined):e.next===Le.Undefined?(this._last=this._last.prev,this._last.next=Le.Undefined):e.prev===Le.Undefined&&(this._first=this._first.next,this._first.prev=Le.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Le.Undefined;)yield e.element,e=e.next}},f5=globalThis.performance&&typeof globalThis.performance.now=="function",p5=class QC{static create(t){return new QC(t)}constructor(t){this._now=f5&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}},pt;(e=>{e.None=()=>ne.None;function t(D,T){return h(D,()=>{},0,void 0,!0,void 0,T)}e.defer=t;function r(D){return(T,I=null,z)=>{let M=!1,W;return W=D(k=>{if(!M)return W?W.dispose():M=!0,T.call(I,k)},null,z),M&&W.dispose(),W}}e.once=r;function i(D,T,I){return c((z,M=null,W)=>D(k=>z.call(M,T(k)),null,W),I)}e.map=i;function n(D,T,I){return c((z,M=null,W)=>D(k=>{T(k),z.call(M,k)},null,W),I)}e.forEach=n;function s(D,T,I){return c((z,M=null,W)=>D(k=>T(k)&&z.call(M,k),null,W),I)}e.filter=s;function o(D){return D}e.signal=o;function a(...D){return(T,I=null,z)=>{let M=d5(...D.map(W=>W(k=>T.call(I,k))));return u(M,z)}}e.any=a;function l(D,T,I,z){let M=I;return i(D,W=>(M=T(M,W),M),z)}e.reduce=l;function c(D,T){let I,z={onWillAddFirstListener(){I=D(M.fire,M)},onDidRemoveLastListener(){I==null||I.dispose()}},M=new V(z);return T==null||T.add(M),M.event}function u(D,T){return T instanceof Array?T.push(D):T&&T.add(D),D}function h(D,T,I=100,z=!1,M=!1,W,k){let $,U,J,se=0,Se,ce={leakWarningThreshold:W,onWillAddFirstListener(){$=D(pe=>{se++,U=T(U,pe),z&&!J&&(Re.fire(U),U=void 0),Se=()=>{let q=U;U=void 0,J=void 0,(!z||se>1)&&Re.fire(q),se=0},typeof I=="number"?(clearTimeout(J),J=setTimeout(Se,I)):J===void 0&&(J=0,queueMicrotask(Se))})},onWillRemoveListener(){M&&se>0&&(Se==null||Se())},onDidRemoveLastListener(){Se=void 0,$.dispose()}},Re=new V(ce);return k==null||k.add(Re),Re.event}e.debounce=h;function d(D,T=0,I){return e.debounce(D,(z,M)=>z?(z.push(M),z):[M],T,void 0,!0,void 0,I)}e.accumulate=d;function f(D,T=(z,M)=>z===M,I){let z=!0,M;return s(D,W=>{let k=z||!T(W,M);return z=!1,M=W,k},I)}e.latch=f;function p(D,T,I){return[e.filter(D,T,I),e.filter(D,z=>!T(z),I)]}e.split=p;function g(D,T=!1,I=[],z){let M=I.slice(),W=D(U=>{M?M.push(U):$.fire(U)});z&&z.add(W);let k=()=>{M==null||M.forEach(U=>$.fire(U)),M=null},$=new V({onWillAddFirstListener(){W||(W=D(U=>$.fire(U)),z&&z.add(W))},onDidAddFirstListener(){M&&(T?setTimeout(k):k())},onDidRemoveLastListener(){W&&W.dispose(),W=null}});return z&&z.add($),$.event}e.buffer=g;function S(D,T){return(I,z,M)=>{let W=T(new v);return D(function(k){let $=W.evaluate(k);$!==m&&I.call(z,$)},void 0,M)}}e.chain=S;let m=Symbol("HaltChainable");class v{constructor(){this.steps=[]}map(T){return this.steps.push(T),this}forEach(T){return this.steps.push(I=>(T(I),I)),this}filter(T){return this.steps.push(I=>T(I)?I:m),this}reduce(T,I){let z=I;return this.steps.push(M=>(z=T(z,M),z)),this}latch(T=(I,z)=>I===z){let I=!0,z;return this.steps.push(M=>{let W=I||!T(M,z);return I=!1,z=M,W?M:m}),this}evaluate(T){for(let I of this.steps)if(T=I(T),T===m)break;return T}}function y(D,T,I=z=>z){let z=(...$)=>k.fire(I(...$)),M=()=>D.on(T,z),W=()=>D.removeListener(T,z),k=new V({onWillAddFirstListener:M,onDidRemoveLastListener:W});return k.event}e.fromNodeEventEmitter=y;function w(D,T,I=z=>z){let z=(...$)=>k.fire(I(...$)),M=()=>D.addEventListener(T,z),W=()=>D.removeEventListener(T,z),k=new V({onWillAddFirstListener:M,onDidRemoveLastListener:W});return k.event}e.fromDOMEventEmitter=w;function b(D){return new Promise(T=>r(D)(T))}e.toPromise=b;function R(D){let T=new V;return D.then(I=>{T.fire(I)},()=>{T.fire(void 0)}).finally(()=>{T.dispose()}),T.event}e.fromPromise=R;function E(D,T){return D(I=>T.fire(I))}e.forward=E;function L(D,T,I){return T(I),D(z=>T(z))}e.runAndSubscribe=L;class A{constructor(T,I){this._observable=T,this._counter=0,this._hasChanged=!1;let z={onWillAddFirstListener:()=>{T.addObserver(this)},onDidRemoveLastListener:()=>{T.removeObserver(this)}};this.emitter=new V(z),I&&I.add(this.emitter)}beginUpdate(T){this._counter++}handlePossibleChange(T){}handleChange(T,I){this._hasChanged=!0}endUpdate(T){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function O(D,T){return new A(D,T).emitter.event}e.fromObservable=O;function N(D){return(T,I,z)=>{let M=0,W=!1,k={beginUpdate(){M++},endUpdate(){M--,M===0&&(D.reportChanges(),W&&(W=!1,T.call(I)))},handlePossibleChange(){},handleChange(){W=!0}};D.addObserver(k),D.reportChanges();let $={dispose(){D.removeObserver(k)}};return z instanceof Ui?z.add($):Array.isArray(z)&&z.push($),$}}e.fromObservableLight=N})(pt||(pt={}));var df=class ff{constructor(t){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${t}_${ff._idPool++}`,ff.all.add(this)}start(t){this._stopWatch=new p5,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}};df.all=new Set,df._idPool=0;var m5=df,_5=-1,ZC=class JC{constructor(t,r,i=(JC._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t,this.threshold=r,this.name=i,this._warnCountdown=0}dispose(){var t;(t=this._stacks)==null||t.clear()}check(t,r){let i=this.threshold;if(i<=0||r<i)return;this._stacks||(this._stacks=new Map);let n=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,n+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=i*.5;let[s,o]=this.getMostFrequentStack(),a=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${o}):`;console.warn(a),console.warn(s);let l=new y5(a,s);this._errorHandler(l)}return()=>{let s=this._stacks.get(t.value)||0;this._stacks.set(t.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[i,n]of this._stacks)(!t||r<n)&&(t=[i,n],r=n);return t}};ZC._idPool=1;var g5=ZC,v5=class eb{constructor(t){this.value=t}static create(){let t=new Error;return new eb(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},y5=class extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}},S5=class extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}},w5=0,yh=class{constructor(e){this.value=e,this.id=w5++}},C5=2,b5,V=class{constructor(e){var t,r,i,n;this._size=0,this._options=e,this._leakageMon=(t=this._options)!=null&&t.leakWarningThreshold?new g5((e==null?void 0:e.onListenerError)??Cl,((r=this._options)==null?void 0:r.leakWarningThreshold)??_5):void 0,this._perfMon=(i=this._options)!=null&&i._profName?new m5(this._options._profName):void 0,this._deliveryQueue=(n=this._options)==null?void 0:n.deliveryQueue}dispose(){var e,t,r,i;this._disposed||(this._disposed=!0,((e=this._deliveryQueue)==null?void 0:e.current)===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),(r=(t=this._options)==null?void 0:t.onDidRemoveLastListener)==null||r.call(t),(i=this._leakageMon)==null||i.dispose())}get event(){return this._event??(this._event=(e,t,r)=>{var o,a,l,c,u;if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let h=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(h);let d=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],f=new S5(`${h}. HINT: Stack shows most frequent listener (${d[1]}-times)`,d[0]);return(((o=this._options)==null?void 0:o.onListenerError)||Cl)(f),ne.None}if(this._disposed)return ne.None;t&&(e=e.bind(t));let i=new yh(e),n;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=v5.create(),n=this._leakageMon.check(i.stack,this._size+1)),this._listeners?this._listeners instanceof yh?(this._deliveryQueue??(this._deliveryQueue=new x5),this._listeners=[this._listeners,i]):this._listeners.push(i):((l=(a=this._options)==null?void 0:a.onWillAddFirstListener)==null||l.call(a,this),this._listeners=i,(u=(c=this._options)==null?void 0:c.onDidAddFirstListener)==null||u.call(c,this)),this._size++;let s=Me(()=>{n==null||n(),this._removeListener(i)});return r instanceof Ui?r.add(s):Array.isArray(r)&&r.push(s),s}),this._event}_removeListener(e){var n,s,o,a;if((s=(n=this._options)==null?void 0:n.onWillRemoveListener)==null||s.call(n,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(a=(o=this._options)==null?void 0:o.onDidRemoveLastListener)==null||a.call(o,this),this._size=0;return}let t=this._listeners,r=t.indexOf(e);if(r===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[r]=void 0;let i=this._deliveryQueue.current===this;if(this._size*C5<=t.length){let l=0;for(let c=0;c<t.length;c++)t[c]?t[l++]=t[c]:i&&(this._deliveryQueue.end--,l<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=l}}_deliver(e,t){var i;if(!e)return;let r=((i=this._options)==null?void 0:i.onListenerError)||Cl;if(!r){e.value(t);return}try{e.value(t)}catch(n){r(n)}}_deliverQueue(e){let t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){var t,r,i,n;if((t=this._deliveryQueue)!=null&&t.current&&(this._deliverQueue(this._deliveryQueue),(r=this._perfMon)==null||r.stop()),(i=this._perfMon)==null||i.start(this._size),this._listeners)if(this._listeners instanceof yh)this._deliver(this._listeners,e);else{let s=this._deliveryQueue;s.enqueue(this,e,this._listeners.length),this._deliverQueue(s)}(n=this._perfMon)==null||n.stop()}hasListeners(){return this._size>0}},x5=class{constructor(){this.i=-1,this.end=0}enqueue(e,t,r){this.i=0,this.end=r,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}},pf=class{constructor(){this.mapWindowIdToZoomLevel=new Map,this._onDidChangeZoomLevel=new V,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this.mapWindowIdToZoomFactor=new Map,this._onDidChangeFullscreen=new V,this.onDidChangeFullscreen=this._onDidChangeFullscreen.event,this.mapWindowIdToFullScreen=new Map}getZoomLevel(t){return this.mapWindowIdToZoomLevel.get(this.getWindowId(t))??0}setZoomLevel(t,r){if(this.getZoomLevel(r)===t)return;let i=this.getWindowId(r);this.mapWindowIdToZoomLevel.set(i,t),this._onDidChangeZoomLevel.fire(i)}getZoomFactor(t){return this.mapWindowIdToZoomFactor.get(this.getWindowId(t))??1}setZoomFactor(t,r){this.mapWindowIdToZoomFactor.set(this.getWindowId(r),t)}setFullscreen(t,r){if(this.isFullscreen(r)===t)return;let i=this.getWindowId(r);this.mapWindowIdToFullScreen.set(i,t),this._onDidChangeFullscreen.fire(i)}isFullscreen(t){return!!this.mapWindowIdToFullScreen.get(this.getWindowId(t))}getWindowId(t){return t.vscodeWindowId}};pf.INSTANCE=new pf;var Sm=pf;function E5(e,t,r){typeof t=="string"&&(t=e.matchMedia(t)),t.addEventListener("change",r)}Sm.INSTANCE.onDidChangeZoomLevel;function k5(e){return Sm.INSTANCE.getZoomFactor(e)}Sm.INSTANCE.onDidChangeFullscreen;var Fs=typeof navigator=="object"?navigator.userAgent:"",mf=Fs.indexOf("Firefox")>=0,bl=Fs.indexOf("AppleWebKit")>=0,wm=Fs.indexOf("Chrome")>=0,tb=!wm&&Fs.indexOf("Safari")>=0;Fs.indexOf("Electron/")>=0;Fs.indexOf("Android")>=0;var xl=!1;if(typeof hr.matchMedia=="function"){let e=hr.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),t=hr.matchMedia("(display-mode: fullscreen)");xl=e.matches,E5(hr,e,({matches:r})=>{xl&&t.matches||(xl=r)})}function R5(){return xl}var is="en",_f=!1,gf=!1,El=!1,rb=!1,Ja,kl=is,lv=is,P5,yr,Sn=globalThis,ft,Xv;typeof Sn.vscode<"u"&&typeof Sn.vscode.process<"u"?ft=Sn.vscode.process:typeof process<"u"&&typeof((Xv=process==null?void 0:process.versions)==null?void 0:Xv.node)=="string"&&(ft=process);var Qv,T5=typeof((Qv=ft==null?void 0:ft.versions)==null?void 0:Qv.electron)=="string",A5=T5&&(ft==null?void 0:ft.type)==="renderer",Zv;if(typeof ft=="object"){_f=ft.platform==="win32",gf=ft.platform==="darwin",El=ft.platform==="linux",El&&ft.env.SNAP&&ft.env.SNAP_REVISION,ft.env.CI||ft.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Ja=is,kl=is;let e=ft.env.VSCODE_NLS_CONFIG;if(e)try{let t=JSON.parse(e);Ja=t.userLocale,lv=t.osLocale,kl=t.resolvedLanguage||is,P5=(Zv=t.languagePack)==null?void 0:Zv.translationsConfigFile}catch{}rb=!0}else typeof navigator=="object"&&!A5?(yr=navigator.userAgent,_f=yr.indexOf("Windows")>=0,gf=yr.indexOf("Macintosh")>=0,(yr.indexOf("Macintosh")>=0||yr.indexOf("iPad")>=0||yr.indexOf("iPhone")>=0)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0,El=yr.indexOf("Linux")>=0,(yr==null?void 0:yr.indexOf("Mobi"))>=0,kl=globalThis._VSCODE_NLS_LANGUAGE||is,Ja=navigator.language.toLowerCase(),lv=Ja):console.error("Unable to resolve platform.");var ib=_f,Kr=gf,L5=El,Sh=rb,Yr=yr,wi=kl,D5;(e=>{function t(){return wi}e.value=t;function r(){return wi.length===2?wi==="en":wi.length>=3?wi[0]==="e"&&wi[1]==="n"&&wi[2]==="-":!1}e.isDefaultVariant=r;function i(){return wi==="en"}e.isDefault=i})(D5||(D5={}));var N5=typeof Sn.postMessage=="function"&&!Sn.importScripts;(()=>{if(N5){let e=[];Sn.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let i=0,n=e.length;i<n;i++){let s=e[i];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(i,1),s.callback();return}}});let t=0;return r=>{let i=++t;e.push({id:i,callback:r}),Sn.postMessage({vscodeScheduleAsyncWork:i},"*")}}return e=>setTimeout(e)})();var O5=!!(Yr&&Yr.indexOf("Chrome")>=0);Yr&&Yr.indexOf("Firefox")>=0;!O5&&Yr&&Yr.indexOf("Safari")>=0;Yr&&Yr.indexOf("Edg/")>=0;Yr&&Yr.indexOf("Android")>=0;var Ci=typeof navigator=="object"?navigator:{};Sh||document.queryCommandSupported&&document.queryCommandSupported("copy")||Ci&&Ci.clipboard&&Ci.clipboard.writeText,Sh||Ci&&Ci.clipboard&&Ci.clipboard.readText,Sh||R5()||Ci.keyboard,"ontouchstart"in hr||Ci.maxTouchPoints>0,hr.PointerEvent&&("ontouchstart"in hr||navigator.maxTouchPoints>0);var Cm=class{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}},wh=new Cm,cv=new Cm,uv=new Cm,I5=new Array(230),nb;(e=>{function t(a){return wh.keyCodeToStr(a)}e.toString=t;function r(a){return wh.strToKeyCode(a)}e.fromString=r;function i(a){return cv.keyCodeToStr(a)}e.toUserSettingsUS=i;function n(a){return uv.keyCodeToStr(a)}e.toUserSettingsGeneral=n;function s(a){return cv.strToKeyCode(a)||uv.strToKeyCode(a)}e.fromUserSettings=s;function o(a){if(a>=98&&a<=113)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return wh.keyCodeToStr(a)}e.toElectronAccelerator=o})(nb||(nb={}));var M5=class sb{constructor(t,r,i,n,s){this.ctrlKey=t,this.shiftKey=r,this.altKey=i,this.metaKey=n,this.keyCode=s}equals(t){return t instanceof sb&&this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode}getHashCode(){let t=this.ctrlKey?"1":"0",r=this.shiftKey?"1":"0",i=this.altKey?"1":"0",n=this.metaKey?"1":"0";return`K${t}${r}${i}${n}${this.keyCode}`}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toKeybinding(){return new B5([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}},B5=class{constructor(e){if(e.length===0)throw c5("chords");this.chords=e}getHashCode(){let e="";for(let t=0,r=this.chords.length;t<r;t++)t!==0&&(e+=";"),e+=this.chords[t].getHashCode();return e}equals(e){if(e===null||this.chords.length!==e.chords.length)return!1;for(let t=0;t<this.chords.length;t++)if(!this.chords[t].equals(e.chords[t]))return!1;return!0}};function z5(e){if(e.charCode){let r=String.fromCharCode(e.charCode).toUpperCase();return nb.fromString(r)}let t=e.keyCode;if(t===3)return 7;if(mf)switch(t){case 59:return 85;case 60:if(L5)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(Kr)return 57;break}else if(bl&&(Kr&&t===93||!Kr&&t===92))return 57;return I5[t]||0}var $5=Kr?256:2048,F5=512,H5=1024,V5=Kr?2048:256,vf=class{constructor(e){var r;this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=(r=t.getModifierState)==null?void 0:r.call(t,"AltGraph"),this.keyCode=z5(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=$5),this.altKey&&(t|=F5),this.shiftKey&&(t|=H5),this.metaKey&&(t|=V5),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new M5(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}},hv=new WeakMap;function W5(e){if(!e.parent||e.parent===e)return null;try{let t=e.location,r=e.parent.location;if(t.origin!=="null"&&r.origin!=="null"&&t.origin!==r.origin)return null}catch{return null}return e.parent}var U5=class{static getSameOriginWindowChain(e){let t=hv.get(e);if(!t){t=[],hv.set(e,t);let r=e,i;do i=W5(r),i?t.push({window:new WeakRef(r),iframeElement:r.frameElement||null}):t.push({window:new WeakRef(r),iframeElement:null}),r=i;while(r)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let r=0,i=0,n=this.getSameOriginWindowChain(e);for(let s of n){let o=s.window.deref();if(r+=(o==null?void 0:o.scrollY)??0,i+=(o==null?void 0:o.scrollX)??0,o===t||!s.iframeElement)break;let a=s.iframeElement.getBoundingClientRect();r+=a.top,i+=a.left}return{top:r,left:i}}},po=class{constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);let r=U5.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=r.left,this.posy-=r.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}},dv=class{constructor(e,t=0,r=0){var n;this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=r,this.deltaX=t;let i=!1;if(wm){let s=navigator.userAgent.match(/Chrome\/(\d+)/);i=(s?parseInt(s[1]):123)<=122}if(e){let s=e,o=e,a=((n=e.view)==null?void 0:n.devicePixelRatio)||1;if(typeof s.wheelDeltaY<"u")i?this.deltaY=s.wheelDeltaY/(120*a):this.deltaY=s.wheelDeltaY/120;else if(typeof o.VERTICAL_AXIS<"u"&&o.axis===o.VERTICAL_AXIS)this.deltaY=-o.detail/3;else if(e.type==="wheel"){let l=e;l.deltaMode===l.DOM_DELTA_LINE?mf&&!Kr?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof s.wheelDeltaX<"u")tb&&ib?this.deltaX=-(s.wheelDeltaX/120):i?this.deltaX=s.wheelDeltaX/(120*a):this.deltaX=s.wheelDeltaX/120;else if(typeof o.HORIZONTAL_AXIS<"u"&&o.axis===o.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){let l=e;l.deltaMode===l.DOM_DELTA_LINE?mf&&!Kr?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(i?this.deltaY=e.wheelDelta/(120*a):this.deltaY=e.wheelDelta/120)}}preventDefault(){var e;(e=this.browserEvent)==null||e.preventDefault()}stopPropagation(){var e;(e=this.browserEvent)==null||e.stopPropagation()}},ob=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),j5;(e=>{function t(r){return r===e.None||r===e.Cancelled||r instanceof G5?!0:!r||typeof r!="object"?!1:typeof r.isCancellationRequested=="boolean"&&typeof r.onCancellationRequested=="function"}e.isCancellationToken=t,e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:pt.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ob})})(j5||(j5={}));var G5=class{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?ob:(this._emitter||(this._emitter=new V),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},bm=class{constructor(e,t){this._isDisposed=!1,this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){if(this._isDisposed)throw new cf("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){if(this._isDisposed)throw new cf("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}},K5=class{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){var e;(e=this.disposable)==null||e.dispose(),this.disposable=void 0}cancelAndSet(e,t,r=globalThis){if(this.isDisposed)throw new cf("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();let i=r.setInterval(()=>{e()},t);this.disposable=Me(()=>{r.clearInterval(i),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}},q5;(e=>{async function t(i){let n,s=await Promise.all(i.map(o=>o.then(a=>a,a=>{n||(n=a)})));if(typeof n<"u")throw n;return s}e.settled=t;function r(i){return new Promise(async(n,s)=>{try{await i(n,s)}catch(o){s(o)}})}e.withAsyncBody=r})(q5||(q5={}));var fv=class or{static fromArray(t){return new or(r=>{r.emitMany(t)})}static fromPromise(t){return new or(async r=>{r.emitMany(await t)})}static fromPromises(t){return new or(async r=>{await Promise.all(t.map(async i=>r.emitOne(await i)))})}static merge(t){return new or(async r=>{await Promise.all(t.map(async i=>{for await(let n of i)r.emitOne(n)}))})}constructor(t,r){this._state=0,this._results=[],this._error=null,this._onReturn=r,this._onStateChanged=new V,queueMicrotask(async()=>{let i={emitOne:n=>this.emitOne(n),emitMany:n=>this.emitMany(n),reject:n=>this.reject(n)};try{await Promise.resolve(t(i)),this.resolve()}catch(n){this.reject(n)}finally{i.emitOne=void 0,i.emitMany=void 0,i.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};await pt.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>{var r;return(r=this._onReturn)==null||r.call(this),{done:!0,value:void 0}}}}static map(t,r){return new or(async i=>{for await(let n of t)i.emitOne(r(n))})}map(t){return or.map(this,t)}static filter(t,r){return new or(async i=>{for await(let n of t)r(n)&&i.emitOne(n)})}filter(t){return or.filter(this,t)}static coalesce(t){return or.filter(t,r=>!!r)}coalesce(){return or.coalesce(this)}static async toPromise(t){let r=[];for await(let i of t)r.push(i);return r}toPromise(){return or.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}};fv.EMPTY=fv.fromArray([]);var{registerWindow:TB,getWindow:kr,getDocument:AB,getWindows:LB,getWindowsCount:DB,getWindowId:Y5,getWindowById:NB,hasWindow:OB,onDidRegisterWindow:X5,onWillUnregisterWindow:IB,onDidUnregisterWindow:MB}=function(){let e=new Map,t={window:hr,disposables:new Ui};e.set(hr.vscodeWindowId,t);let r=new V,i=new V,n=new V;function s(o,a){return(typeof o=="number"?e.get(o):void 0)??(a?t:void 0)}return{onDidRegisterWindow:r.event,onWillUnregisterWindow:n.event,onDidUnregisterWindow:i.event,registerWindow(o){if(e.has(o.vscodeWindowId))return ne.None;let a=new Ui,l={window:o,disposables:a.add(new Ui)};return e.set(o.vscodeWindowId,l),a.add(Me(()=>{e.delete(o.vscodeWindowId),i.fire(o)})),a.add(X(o,it.BEFORE_UNLOAD,()=>{n.fire(o)})),r.fire(l),a},getWindows(){return e.values()},getWindowsCount(){return e.size},getWindowId(o){return o.vscodeWindowId},hasWindow(o){return e.has(o)},getWindowById:s,getWindow(o){var c;let a=o;if((c=a==null?void 0:a.ownerDocument)!=null&&c.defaultView)return a.ownerDocument.defaultView.window;let l=o;return l!=null&&l.view?l.view.window:hr},getDocument(o){return kr(o).document}}}(),Q5=class{constructor(e,t,r,i){this._node=e,this._type=t,this._handler=r,this._options=i||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};function X(e,t,r,i){return new Q5(e,t,r,i)}function Z5(e,t){return function(r){return t(new po(e,r))}}function J5(e){return function(t){return e(new vf(t))}}var pv=function(e,t,r,i){let n=r;return t==="click"||t==="mousedown"||t==="contextmenu"?n=Z5(kr(e),r):(t==="keydown"||t==="keypress"||t==="keyup")&&(n=J5(r)),X(e,t,n,i)},xm,e3=class extends K5{constructor(e){super(),this.defaultTarget=e&&kr(e)}cancelAndSet(e,t,r){return super.cancelAndSet(e,t,r??this.defaultTarget)}},mv=class{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){Cl(e)}}static sort(e,t){return t.priority-e.priority}};(function(){let e=new Map,t=new Map,r=new Map,i=new Map,n=s=>{r.set(s,!1);let o=e.get(s)??[];for(t.set(s,o),e.set(s,[]),i.set(s,!0);o.length>0;)o.sort(mv.sort),o.shift().execute();i.set(s,!1)};xm=(s,o,a=0)=>{let l=Y5(s),c=new mv(o,a),u=e.get(l);return u||(u=[],e.set(l,u)),u.push(c),r.get(l)||(r.set(l,!0),s.requestAnimationFrame(()=>n(l))),c}})();function t3(e){let t=e.getBoundingClientRect(),r=kr(e);return{left:t.left+r.scrollX,top:t.top+r.scrollY,width:t.width,height:t.height}}var it={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:bl?"webkitAnimationStart":"animationstart",ANIMATION_END:bl?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:bl?"webkitAnimationIteration":"animationiteration"},r3=class{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingTop="",this._paddingLeft="",this._paddingBottom="",this._paddingRight="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){let t=It(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){let t=It(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){let t=It(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){let t=It(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){let t=It(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){let t=It(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){let t=It(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingTop(e){let t=It(e);this._paddingTop!==t&&(this._paddingTop=t,this.domNode.style.paddingTop=this._paddingTop)}setPaddingLeft(e){let t=It(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setPaddingBottom(e){let t=It(e);this._paddingBottom!==t&&(this._paddingBottom=t,this.domNode.style.paddingBottom=this._paddingBottom)}setPaddingRight(e){let t=It(e);this._paddingRight!==t&&(this._paddingRight=t,this.domNode.style.paddingRight=this._paddingRight)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){let t=It(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){let t=It(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){let t=It(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}};function It(e){return typeof e=="number"?`${e}px`:e}function Do(e){return new r3(e)}var ab=class{constructor(){this._hooks=new Ui,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;let r=this._onStopCallback;this._onStopCallback=null,e&&r&&r(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,r,i,n){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=i,this._onStopCallback=n;let s=e;try{e.setPointerCapture(t),this._hooks.add(Me(()=>{try{e.releasePointerCapture(t)}catch{}}))}catch{s=kr(e)}this._hooks.add(X(s,it.POINTER_MOVE,o=>{if(o.buttons!==r){this.stopMonitoring(!0);return}o.preventDefault(),this._pointerMoveCallback(o)})),this._hooks.add(X(s,it.POINTER_UP,o=>this.stopMonitoring(!0)))}};function i3(e,t,r){let i=null,n=null;if(typeof r.value=="function"?(i="value",n=r.value,n.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof r.get=="function"&&(i="get",n=r.get),!n)throw new Error("not supported");let s=`$memoize$${t}`;r[i]=function(...o){return this.hasOwnProperty(s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:n.apply(this,o)}),this[s]}}var zr;(e=>(e.Tap="-xterm-gesturetap",e.Change="-xterm-gesturechange",e.Start="-xterm-gesturestart",e.End="-xterm-gesturesend",e.Contextmenu="-xterm-gesturecontextmenu"))(zr||(zr={}));var mo=class Ct extends ne{constructor(){super(),this.dispatched=!1,this.targets=new av,this.ignoreTargets=new av,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(pt.runAndSubscribe(X5,({window:t,disposables:r})=>{r.add(X(t.document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),r.add(X(t.document,"touchend",i=>this.onTouchEnd(t,i))),r.add(X(t.document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))},{window:hr,disposables:this._store}))}static addTarget(t){if(!Ct.isTouchDevice())return ne.None;Ct.INSTANCE||(Ct.INSTANCE=new Ct);let r=Ct.INSTANCE.targets.push(t);return Me(r)}static ignoreTarget(t){if(!Ct.isTouchDevice())return ne.None;Ct.INSTANCE||(Ct.INSTANCE=new Ct);let r=Ct.INSTANCE.ignoreTargets.push(t);return Me(r)}static isTouchDevice(){return"ontouchstart"in hr||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(t){let r=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=t.targetTouches.length;i<n;i++){let s=t.targetTouches.item(i);this.activeTouches[s.identifier]={id:s.identifier,initialTarget:s.target,initialTimeStamp:r,initialPageX:s.pageX,initialPageY:s.pageY,rollingTimestamps:[r],rollingPageX:[s.pageX],rollingPageY:[s.pageY]};let o=this.newGestureEvent(zr.Start,s.target);o.pageX=s.pageX,o.pageY=s.pageY,this.dispatchEvent(o)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}onTouchEnd(t,r){let i=Date.now(),n=Object.keys(this.activeTouches).length;for(let s=0,o=r.changedTouches.length;s<o;s++){let a=r.changedTouches.item(s);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}let l=this.activeTouches[a.identifier],c=Date.now()-l.initialTimeStamp;if(c<Ct.HOLD_DELAY&&Math.abs(l.initialPageX-Wt(l.rollingPageX))<30&&Math.abs(l.initialPageY-Wt(l.rollingPageY))<30){let u=this.newGestureEvent(zr.Tap,l.initialTarget);u.pageX=Wt(l.rollingPageX),u.pageY=Wt(l.rollingPageY),this.dispatchEvent(u)}else if(c>=Ct.HOLD_DELAY&&Math.abs(l.initialPageX-Wt(l.rollingPageX))<30&&Math.abs(l.initialPageY-Wt(l.rollingPageY))<30){let u=this.newGestureEvent(zr.Contextmenu,l.initialTarget);u.pageX=Wt(l.rollingPageX),u.pageY=Wt(l.rollingPageY),this.dispatchEvent(u)}else if(n===1){let u=Wt(l.rollingPageX),h=Wt(l.rollingPageY),d=Wt(l.rollingTimestamps)-l.rollingTimestamps[0],f=u-l.rollingPageX[0],p=h-l.rollingPageY[0],g=[...this.targets].filter(S=>l.initialTarget instanceof Node&&S.contains(l.initialTarget));this.inertia(t,g,i,Math.abs(f)/d,f>0?1:-1,u,Math.abs(p)/d,p>0?1:-1,h)}this.dispatchEvent(this.newGestureEvent(zr.End,l.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(r.preventDefault(),r.stopPropagation(),this.dispatched=!1)}newGestureEvent(t,r){let i=document.createEvent("CustomEvent");return i.initEvent(t,!1,!0),i.initialTarget=r,i.tapCount=0,i}dispatchEvent(t){if(t.type===zr.Tap){let r=new Date().getTime(),i=0;r-this._lastSetTapCountTime>Ct.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=r,t.tapCount=i}else(t.type===zr.Change||t.type===zr.Contextmenu)&&(this._lastSetTapCountTime=0);if(t.initialTarget instanceof Node){for(let i of this.ignoreTargets)if(i.contains(t.initialTarget))return;let r=[];for(let i of this.targets)if(i.contains(t.initialTarget)){let n=0,s=t.initialTarget;for(;s&&s!==i;)n++,s=s.parentElement;r.push([n,i])}r.sort((i,n)=>i[0]-n[0]);for(let[i,n]of r)n.dispatchEvent(t),this.dispatched=!0}}inertia(t,r,i,n,s,o,a,l,c){this.handle=xm(t,()=>{let u=Date.now(),h=u-i,d=0,f=0,p=!0;n+=Ct.SCROLL_FRICTION*h,a+=Ct.SCROLL_FRICTION*h,n>0&&(p=!1,d=s*n*h),a>0&&(p=!1,f=l*a*h);let g=this.newGestureEvent(zr.Change);g.translationX=d,g.translationY=f,r.forEach(S=>S.dispatchEvent(g)),p||this.inertia(t,r,u,n,s,o+d,a,l,c+f)})}onTouchMove(t){let r=Date.now();for(let i=0,n=t.changedTouches.length;i<n;i++){let s=t.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("end of an UNKNOWN touch",s);continue}let o=this.activeTouches[s.identifier],a=this.newGestureEvent(zr.Change,o.initialTarget);a.translationX=s.pageX-Wt(o.rollingPageX),a.translationY=s.pageY-Wt(o.rollingPageY),a.pageX=s.pageX,a.pageY=s.pageY,this.dispatchEvent(a),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(s.pageX),o.rollingPageY.push(s.pageY),o.rollingTimestamps.push(r)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}};mo.SCROLL_FRICTION=-.005,mo.HOLD_DELAY=700,mo.CLEAR_TAP_COUNT_TIME=400,$e([i3],mo,"isTouchDevice",1);var n3=mo,Em=class extends ne{onclick(e,t){this._register(X(e,it.CLICK,r=>t(new po(kr(e),r))))}onmousedown(e,t){this._register(X(e,it.MOUSE_DOWN,r=>t(new po(kr(e),r))))}onmouseover(e,t){this._register(X(e,it.MOUSE_OVER,r=>t(new po(kr(e),r))))}onmouseleave(e,t){this._register(X(e,it.MOUSE_LEAVE,r=>t(new po(kr(e),r))))}onkeydown(e,t){this._register(X(e,it.KEY_DOWN,r=>t(new vf(r))))}onkeyup(e,t){this._register(X(e,it.KEY_UP,r=>t(new vf(r))))}oninput(e,t){this._register(X(e,it.INPUT,t))}onblur(e,t){this._register(X(e,it.BLUR,t))}onfocus(e,t){this._register(X(e,it.FOCUS,t))}onchange(e,t){this._register(X(e,it.CHANGE,t))}ignoreGesture(e){return n3.ignoreTarget(e)}},_v=11,s3=class extends Em{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.style.position="absolute",this.domNode.style.width=_v+"px",this.domNode.style.height=_v+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new ab),this._register(pv(this.bgDomNode,it.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(pv(this.domNode,it.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new e3),this._pointerdownScheduleRepeatTimer=this._register(new bm)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,kr(e))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,r=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}},o3=class yf{constructor(t,r,i,n,s,o,a){this._forceIntegerValues=t,this._scrollStateBrand=void 0,this._forceIntegerValues&&(r=r|0,i=i|0,n=n|0,s=s|0,o=o|0,a=a|0),this.rawScrollLeft=n,this.rawScrollTop=a,r<0&&(r=0),n+r>i&&(n=i-r),n<0&&(n=0),s<0&&(s=0),a+s>o&&(a=o-s),a<0&&(a=0),this.width=r,this.scrollWidth=i,this.scrollLeft=n,this.height=s,this.scrollHeight=o,this.scrollTop=a}equals(t){return this.rawScrollLeft===t.rawScrollLeft&&this.rawScrollTop===t.rawScrollTop&&this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop}withScrollDimensions(t,r){return new yf(this._forceIntegerValues,typeof t.width<"u"?t.width:this.width,typeof t.scrollWidth<"u"?t.scrollWidth:this.scrollWidth,r?this.rawScrollLeft:this.scrollLeft,typeof t.height<"u"?t.height:this.height,typeof t.scrollHeight<"u"?t.scrollHeight:this.scrollHeight,r?this.rawScrollTop:this.scrollTop)}withScrollPosition(t){return new yf(this._forceIntegerValues,this.width,this.scrollWidth,typeof t.scrollLeft<"u"?t.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof t.scrollTop<"u"?t.scrollTop:this.rawScrollTop)}createScrollEvent(t,r){let i=this.width!==t.width,n=this.scrollWidth!==t.scrollWidth,s=this.scrollLeft!==t.scrollLeft,o=this.height!==t.height,a=this.scrollHeight!==t.scrollHeight,l=this.scrollTop!==t.scrollTop;return{inSmoothScrolling:r,oldWidth:t.width,oldScrollWidth:t.scrollWidth,oldScrollLeft:t.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:t.height,oldScrollHeight:t.scrollHeight,oldScrollTop:t.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:n,scrollLeftChanged:s,heightChanged:o,scrollHeightChanged:a,scrollTopChanged:l}}},a3=class extends ne{constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new V),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new o3(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){var i;let r=this._state.withScrollDimensions(e,t);this._setState(r,!!this._smoothScrolling),(i=this._smoothScrolling)==null||i.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){let t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};let r=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===r.scrollLeft&&this._smoothScrolling.to.scrollTop===r.scrollTop)return;let i;t?i=new vv(this._smoothScrolling.from,r,this._smoothScrolling.startTime,this._smoothScrolling.duration):i=this._smoothScrolling.combine(this._state,r,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=i}else{let r=this._state.withScrollPosition(e);this._smoothScrolling=vv.start(this._state,r,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;let e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){let r=this._state;r.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(r,t)))}},gv=class{constructor(e,t,r){this.scrollLeft=e,this.scrollTop=t,this.isDone=r}};function Ch(e,t){let r=t-e;return function(i){return e+r*u3(i)}}function l3(e,t,r){return function(i){return i<r?e(i/r):t((i-r)/(1-r))}}var vv=class Sf{constructor(t,r,i,n){this.from=t,this.to=r,this.duration=n,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(t,r,i){if(Math.abs(t-r)>2.5*i){let n,s;return t<r?(n=t+.75*i,s=r-.75*i):(n=t-.75*i,s=r+.75*i),l3(Ch(t,n),Ch(s,r),.33)}return Ch(t,r)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(t){this.to=t.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(t){let r=(t-this.startTime)/this.duration;if(r<1){let i=this.scrollLeft(r),n=this.scrollTop(r);return new gv(i,n,!1)}return new gv(this.to.scrollLeft,this.to.scrollTop,!0)}combine(t,r,i){return Sf.start(t,r,i)}static start(t,r,i){i=i+10;let n=Date.now()-10;return new Sf(t,r,n,i)}};function c3(e){return Math.pow(e,3)}function u3(e){return 1-c3(1-e)}var h3=class extends ne{constructor(e,t,r){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=r,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new bm)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){let e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var e;(e=this._domNode)==null||e.setClassName(this._visibleClassName)},0))}_hide(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(t=this._domNode)==null||t.setClassName(this._invisibleClassName+(e?" fade":"")))}},d3=140,lb=class extends Em{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new h3(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new ab),this._shouldRender=!0,this.domNode=Do(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(X(this.domNode.domNode,it.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){let t=this._register(new s3(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,r,i){this.slider=Do(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof r=="number"&&this.slider.setWidth(r),typeof i=="number"&&this.slider.setHeight(i),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(X(this.slider.domNode,it.POINTER_DOWN,n=>{n.button===0&&(n.preventDefault(),this._sliderPointerDown(n))})),this.onclick(this.slider.domNode,n=>{n.leftButton&&n.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){let t=this.domNode.domNode.getClientRects()[0].top,r=t+this._scrollbarState.getSliderPosition(),i=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),n=this._sliderPointerPosition(e);r<=n&&n<=i?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,r;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,r=e.offsetY;else{let n=t3(this.domNode.domNode);t=e.pageX-n.left,r=e.pageY-n.top}let i=this._pointerDownRelativePosition(t,r);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(i):this._scrollbarState.getDesiredScrollPositionFromOffset(i)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=this._sliderPointerPosition(e),r=this._sliderOrthogonalPointerPosition(e),i=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,n=>{let s=this._sliderOrthogonalPointerPosition(n),o=Math.abs(s-r);if(ib&&o>d3){this._setDesiredScrollPositionNow(i.getScrollPosition());return}let a=this._sliderPointerPosition(n)-t;this._setDesiredScrollPositionNow(i.getDesiredScrollPositionFromDelta(a))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){let t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}},cb=class wf{constructor(t,r,i,n,s,o){this._scrollbarSize=Math.round(r),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(t),this._visibleSize=n,this._scrollSize=s,this._scrollPosition=o,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new wf(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(t){let r=Math.round(t);return this._visibleSize!==r?(this._visibleSize=r,this._refreshComputedValues(),!0):!1}setScrollSize(t){let r=Math.round(t);return this._scrollSize!==r?(this._scrollSize=r,this._refreshComputedValues(),!0):!1}setScrollPosition(t){let r=Math.round(t);return this._scrollPosition!==r?(this._scrollPosition=r,this._refreshComputedValues(),!0):!1}setScrollbarSize(t){this._scrollbarSize=Math.round(t)}setOppositeScrollbarSize(t){this._oppositeScrollbarSize=Math.round(t)}static _computeValues(t,r,i,n,s){let o=Math.max(0,i-t),a=Math.max(0,o-2*r),l=n>0&&n>i;if(!l)return{computedAvailableSize:Math.round(o),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};let c=Math.round(Math.max(20,Math.floor(i*a/n))),u=(a-c)/(n-i),h=s*u;return{computedAvailableSize:Math.round(o),computedIsNeeded:l,computedSliderSize:Math.round(c),computedSliderRatio:u,computedSliderPosition:Math.round(h)}}_refreshComputedValues(){let t=wf._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=t.computedAvailableSize,this._computedIsNeeded=t.computedIsNeeded,this._computedSliderSize=t.computedSliderSize,this._computedSliderRatio=t.computedSliderRatio,this._computedSliderPosition=t.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(t){if(!this._computedIsNeeded)return 0;let r=t-this._arrowSize-this._computedSliderSize/2;return Math.round(r/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(t){if(!this._computedIsNeeded)return 0;let r=t-this._arrowSize,i=this._scrollPosition;return r<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(t){if(!this._computedIsNeeded)return 0;let r=this._computedSliderPosition+t;return Math.round(r/this._computedSliderRatio)}},f3=class extends lb{constructor(e,t,r){let i=e.getScrollDimensions(),n=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:r,scrollbarState:new cb(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,i.width,i.scrollWidth,n.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows)throw new Error("horizontalHasArrows is not supported in xterm.js");this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}},p3=class extends lb{constructor(e,t,r){let i=e.getScrollDimensions(),n=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:r,scrollbarState:new cb(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,i.height,i.scrollHeight,n.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows)throw new Error("horizontalHasArrows is not supported in xterm.js");this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}},m3=500,yv=50,_3=class{constructor(e,t,r){this.timestamp=e,this.deltaX=t,this.deltaY=r,this.score=0}},Cf=class{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let t=1,r=0,i=1,n=this._rear;do{let s=n===this._front?t:Math.pow(2,-i);if(t-=s,r+=this._memory[n].score*s,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}while(!0);return r<=.5}acceptStandardWheelEvent(t){if(wm){let r=kr(t.browserEvent),i=k5(r);this.accept(Date.now(),t.deltaX*i,t.deltaY*i)}else this.accept(Date.now(),t.deltaX,t.deltaY)}accept(t,r,i){let n=null,s=new _3(t,r,i);this._front===-1&&this._rear===-1?(this._memory[0]=s,this._front=0,this._rear=0):(n=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=s),s.score=this._computeScore(s,n)}_computeScore(t,r){if(Math.abs(t.deltaX)>0&&Math.abs(t.deltaY)>0)return 1;let i=.5;if((!this._isAlmostInt(t.deltaX)||!this._isAlmostInt(t.deltaY))&&(i+=.25),r){let n=Math.abs(t.deltaX),s=Math.abs(t.deltaY),o=Math.abs(r.deltaX),a=Math.abs(r.deltaY),l=Math.max(Math.min(n,o),1),c=Math.max(Math.min(s,a),1),u=Math.max(n,o),h=Math.max(s,a);u%l===0&&h%c===0&&(i-=.5)}return Math.min(Math.max(i,0),1)}_isAlmostInt(t){return Math.abs(Math.round(t)-t)<.01}};Cf.INSTANCE=new Cf;var g3=Cf,v3=class extends Em{constructor(e,t,r){super(),this._onScroll=this._register(new V),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new V),this.onWillScroll=this._onWillScroll.event,this._options=S3(t),this._scrollable=r,this._register(this._scrollable.onScroll(n=>{this._onWillScroll.fire(n),this._onDidScroll(n),this._onScroll.fire(n)}));let i={onMouseWheel:n=>this._onMouseWheel(n),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new p3(this._scrollable,this._options,i)),this._horizontalScrollbar=this._register(new f3(this._scrollable,this._options,i)),this._domNode=document.createElement("div"),this._domNode.className="xterm-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Do(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Do(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Do(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,n=>this._onMouseOver(n)),this.onmouseleave(this._listenOnDomNode,n=>this._onMouseLeave(n)),this._hideTimeout=this._register(new bm),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=Tn(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,Kr&&(this._options.className+=" mac"),this._domNode.className="xterm-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}setRevealOnScroll(e){this._revealOnScroll=e}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new dv(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=Tn(this._mouseWheelToDispose),e)){let t=r=>{this._onMouseWheel(new dv(r))};this._mouseWheelToDispose.push(X(this._listenOnDomNode,it.MOUSE_WHEEL,t,{passive:!1}))}}_onMouseWheel(e){var n;if((n=e.browserEvent)!=null&&n.defaultPrevented)return;let t=g3.INSTANCE;t.acceptStandardWheelEvent(e);let r=!1;if(e.deltaY||e.deltaX){let s=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&o+s===0?o=s=0:Math.abs(s)>=Math.abs(o)?o=0:s=0),this._options.flipAxes&&([s,o]=[o,s]);let a=!Kr&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!o&&(o=s,s=0),e.browserEvent&&e.browserEvent.altKey&&(o=o*this._options.fastScrollSensitivity,s=s*this._options.fastScrollSensitivity);let l=this._scrollable.getFutureScrollPosition(),c={};if(s){let u=yv*s,h=l.scrollTop-(u<0?Math.floor(u):Math.ceil(u));this._verticalScrollbar.writeScrollPosition(c,h)}if(o){let u=yv*o,h=l.scrollLeft-(u<0?Math.floor(u):Math.ceil(u));this._horizontalScrollbar.writeScrollPosition(c,h)}c=this._scrollable.validateScrollPosition(c),(l.scrollLeft!==c.scrollLeft||l.scrollTop!==c.scrollTop)&&(this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(c):this._scrollable.setScrollPositionNow(c),r=!0)}let i=r;!i&&this._options.alwaysConsumeMouseWheel&&(i=!0),!i&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(i=!0),i&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){let e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,r=e.scrollLeft>0,i=r?" left":"",n=t?" top":"",s=r||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${i}`),this._topShadowDomNode.setClassName(`shadow${n}`),this._topLeftShadowDomNode.setClassName(`shadow${s}${n}${i}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),m3)}},y3=class extends v3{constructor(e,t,r){super(e,t,r)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}};function S3(e){let t={lazyRender:typeof e.lazyRender<"u"?e.lazyRender:!1,className:typeof e.className<"u"?e.className:"",useShadows:typeof e.useShadows<"u"?e.useShadows:!0,handleMouseWheel:typeof e.handleMouseWheel<"u"?e.handleMouseWheel:!0,flipAxes:typeof e.flipAxes<"u"?e.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof e.consumeMouseWheelIfScrollbarIsNeeded<"u"?e.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof e.alwaysConsumeMouseWheel<"u"?e.alwaysConsumeMouseWheel:!1,scrollYToX:typeof e.scrollYToX<"u"?e.scrollYToX:!1,mouseWheelScrollSensitivity:typeof e.mouseWheelScrollSensitivity<"u"?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof e.fastScrollSensitivity<"u"?e.fastScrollSensitivity:5,scrollPredominantAxis:typeof e.scrollPredominantAxis<"u"?e.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof e.mouseWheelSmoothScroll<"u"?e.mouseWheelSmoothScroll:!0,arrowSize:typeof e.arrowSize<"u"?e.arrowSize:11,listenOnDomNode:typeof e.listenOnDomNode<"u"?e.listenOnDomNode:null,horizontal:typeof e.horizontal<"u"?e.horizontal:1,horizontalScrollbarSize:typeof e.horizontalScrollbarSize<"u"?e.horizontalScrollbarSize:10,horizontalSliderSize:typeof e.horizontalSliderSize<"u"?e.horizontalSliderSize:0,horizontalHasArrows:typeof e.horizontalHasArrows<"u"?e.horizontalHasArrows:!1,vertical:typeof e.vertical<"u"?e.vertical:1,verticalScrollbarSize:typeof e.verticalScrollbarSize<"u"?e.verticalScrollbarSize:10,verticalHasArrows:typeof e.verticalHasArrows<"u"?e.verticalHasArrows:!1,verticalSliderSize:typeof e.verticalSliderSize<"u"?e.verticalSliderSize:0,scrollByPage:typeof e.scrollByPage<"u"?e.scrollByPage:!1};return t.horizontalSliderSize=typeof e.horizontalSliderSize<"u"?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=typeof e.verticalSliderSize<"u"?e.verticalSliderSize:t.verticalScrollbarSize,Kr&&(t.className+=" mac"),t}var bf=class extends ne{constructor(e,t,r,i,n,s,o,a){super(),this._bufferService=r,this._optionsService=o,this._renderService=a,this._onRequestScrollLines=this._register(new V),this.onRequestScrollLines=this._onRequestScrollLines.event,this._isSyncing=!1,this._isHandlingScroll=!1,this._suppressOnScrollHandler=!1;let l=this._register(new a3({forceIntegerValues:!1,smoothScrollDuration:this._optionsService.rawOptions.smoothScrollDuration,scheduleAtNextAnimationFrame:c=>xm(i.window,c)}));this._register(this._optionsService.onSpecificOptionChange("smoothScrollDuration",()=>{l.setSmoothScrollDuration(this._optionsService.rawOptions.smoothScrollDuration)})),this._scrollableElement=this._register(new y3(t,{vertical:1,horizontal:2,useShadows:!1,mouseWheelSmoothScroll:!0,...this._getChangeOptions()},l)),this._register(this._optionsService.onMultipleOptionChange(["scrollSensitivity","fastScrollSensitivity","overviewRuler"],()=>this._scrollableElement.updateOptions(this._getChangeOptions()))),this._register(n.onProtocolChange(c=>{this._scrollableElement.updateOptions({handleMouseWheel:!(c&16)})})),this._scrollableElement.setScrollDimensions({height:0,scrollHeight:0}),this._register(pt.runAndSubscribe(s.onChangeColors,()=>{this._scrollableElement.getDomNode().style.backgroundColor=s.colors.background.css})),e.appendChild(this._scrollableElement.getDomNode()),this._register(Me(()=>this._scrollableElement.getDomNode().remove())),this._styleElement=i.mainDocument.createElement("style"),t.appendChild(this._styleElement),this._register(Me(()=>this._styleElement.remove())),this._register(pt.runAndSubscribe(s.onChangeColors,()=>{this._styleElement.textContent=[".xterm .xterm-scrollable-element > .scrollbar > .slider {",`  background: ${s.colors.scrollbarSliderBackground.css};`,"}",".xterm .xterm-scrollable-element > .scrollbar > .slider:hover {",`  background: ${s.colors.scrollbarSliderHoverBackground.css};`,"}",".xterm .xterm-scrollable-element > .scrollbar > .slider.active {",`  background: ${s.colors.scrollbarSliderActiveBackground.css};`,"}"].join(`
`)})),this._register(this._bufferService.onResize(()=>this.queueSync())),this._register(this._bufferService.buffers.onBufferActivate(()=>this.queueSync())),this._register(this._bufferService.onScroll(()=>this._sync())),this._register(this._scrollableElement.onScroll(c=>this._handleScroll(c)))}scrollLines(e){let t=this._scrollableElement.getScrollPosition();this._scrollableElement.setScrollPosition({reuseAnimation:!0,scrollTop:t.scrollTop+e*this._renderService.dimensions.css.cell.height})}scrollToLine(e,t){t&&(this._latestYDisp=e),this._scrollableElement.setScrollPosition({reuseAnimation:!t,scrollTop:e*this._renderService.dimensions.css.cell.height})}_getChangeOptions(){var e;return{mouseWheelScrollSensitivity:this._optionsService.rawOptions.scrollSensitivity,fastScrollSensitivity:this._optionsService.rawOptions.fastScrollSensitivity,verticalScrollbarSize:((e=this._optionsService.rawOptions.overviewRuler)==null?void 0:e.width)||14}}queueSync(e){e!==void 0&&(this._latestYDisp=e),this._queuedAnimationFrame===void 0&&(this._queuedAnimationFrame=this._renderService.addRefreshCallback(()=>{this._queuedAnimationFrame=void 0,this._sync(this._latestYDisp)}))}_sync(e=this._bufferService.buffer.ydisp){!this._renderService||this._isSyncing||(this._isSyncing=!0,this._suppressOnScrollHandler=!0,this._scrollableElement.setScrollDimensions({height:this._renderService.dimensions.css.canvas.height,scrollHeight:this._renderService.dimensions.css.cell.height*this._bufferService.buffer.lines.length}),this._suppressOnScrollHandler=!1,e!==this._latestYDisp&&this._scrollableElement.setScrollPosition({scrollTop:e*this._renderService.dimensions.css.cell.height}),this._isSyncing=!1)}_handleScroll(e){if(!this._renderService||this._isHandlingScroll||this._suppressOnScrollHandler)return;this._isHandlingScroll=!0;let t=Math.round(e.scrollTop/this._renderService.dimensions.css.cell.height),r=t-this._bufferService.buffer.ydisp;r!==0&&(this._latestYDisp=t,this._onRequestScrollLines.fire(r)),this._isHandlingScroll=!1}};bf=$e([j(2,Nt),j(3,mi),j(4,VC),j(5,$s),j(6,Ot),j(7,_i)],bf);var xf=class extends ne{constructor(e,t,r,i,n){super(),this._screenElement=e,this._bufferService=t,this._coreBrowserService=r,this._decorationService=i,this._renderService=n,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this._register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this._register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this._register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this._register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this._register(this._decorationService.onDecorationRemoved(s=>this._removeDecoration(s))),this._register(Me(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(let e of this._decorationService.decorations)this._renderDecoration(e);this._dimensionsChanged=!1}_renderDecoration(e){this._refreshStyle(e),this._dimensionsChanged&&this._refreshXPosition(e)}_createElement(e){var i;let t=this._coreBrowserService.mainDocument.createElement("div");t.classList.add("xterm-decoration"),t.classList.toggle("xterm-decoration-top-layer",((i=e==null?void 0:e.options)==null?void 0:i.layer)==="top"),t.style.width=`${Math.round((e.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,t.style.height=`${(e.options.height||1)*this._renderService.dimensions.css.cell.height}px`,t.style.top=`${(e.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height}px`,t.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;let r=e.options.x??0;return r&&r>this._bufferService.cols&&(t.style.display="none"),this._refreshXPosition(e,t),t}_refreshStyle(e){let t=e.marker.line-this._bufferService.buffers.active.ydisp;if(t<0||t>=this._bufferService.rows)e.element&&(e.element.style.display="none",e.onRenderEmitter.fire(e.element));else{let r=this._decorationElements.get(e);r||(r=this._createElement(e),e.element=r,this._decorationElements.set(e,r),this._container.appendChild(r),e.onDispose(()=>{this._decorationElements.delete(e),r.remove()})),r.style.display=this._altBufferIsActive?"none":"block",this._altBufferIsActive||(r.style.width=`${Math.round((e.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,r.style.height=`${(e.options.height||1)*this._renderService.dimensions.css.cell.height}px`,r.style.top=`${t*this._renderService.dimensions.css.cell.height}px`,r.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`),e.onRenderEmitter.fire(r)}}_refreshXPosition(e,t=e.element){if(!t)return;let r=e.options.x??0;(e.options.anchor||"left")==="right"?t.style.right=r?`${r*this._renderService.dimensions.css.cell.width}px`:"":t.style.left=r?`${r*this._renderService.dimensions.css.cell.width}px`:""}_removeDecoration(e){var t;(t=this._decorationElements.get(e))==null||t.remove(),this._decorationElements.delete(e),e.dispose()}};xf=$e([j(1,Nt),j(2,mi),j(3,ya),j(4,_i)],xf);var w3=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(e){if(e.options.overviewRulerOptions){for(let t of this._zones)if(t.color===e.options.overviewRulerOptions.color&&t.position===e.options.overviewRulerOptions.position){if(this._lineIntersectsZone(t,e.marker.line))return;if(this._lineAdjacentToZone(t,e.marker.line,e.options.overviewRulerOptions.position)){this._addLineToZone(t,e.marker.line);return}}if(this._zonePoolIndex<this._zonePool.length){this._zonePool[this._zonePoolIndex].color=e.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=e.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=e.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=e.marker.line,this._zones.push(this._zonePool[this._zonePoolIndex++]);return}this._zones.push({color:e.options.overviewRulerOptions.color,position:e.options.overviewRulerOptions.position,startBufferLine:e.marker.line,endBufferLine:e.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(e){this._linePadding=e}_lineIntersectsZone(e,t){return t>=e.startBufferLine&&t<=e.endBufferLine}_lineAdjacentToZone(e,t,r){return t>=e.startBufferLine-this._linePadding[r||"full"]&&t<=e.endBufferLine+this._linePadding[r||"full"]}_addLineToZone(e,t){e.startBufferLine=Math.min(e.startBufferLine,t),e.endBufferLine=Math.max(e.endBufferLine,t)}},Or={full:0,left:0,center:0,right:0},bi={full:0,left:0,center:0,right:0},eo={full:0,left:0,center:0,right:0},Ec=class extends ne{constructor(e,t,r,i,n,s,o,a){var c;super(),this._viewportElement=e,this._screenElement=t,this._bufferService=r,this._decorationService=i,this._renderService=n,this._optionsService=s,this._themeService=o,this._coreBrowserService=a,this._colorZoneStore=new w3,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(c=this._viewportElement.parentElement)==null||c.insertBefore(this._canvas,this._viewportElement),this._register(Me(()=>{var u;return(u=this._canvas)==null?void 0:u.remove()}));let l=this._canvas.getContext("2d");if(l)this._ctx=l;else throw new Error("Ctx cannot be null");this._register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this._register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0))),this._register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this._register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})),this._register(this._renderService.onRender(()=>{(!this._containerHeight||this._containerHeight!==this._screenElement.clientHeight)&&(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this._register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._register(this._optionsService.onSpecificOptionChange("overviewRuler",()=>this._queueRefresh(!0))),this._register(this._themeService.onChangeColors(()=>this._queueRefresh())),this._queueRefresh(!0)}get _width(){var e;return((e=this._optionsService.options.overviewRuler)==null?void 0:e.width)||0}_refreshDrawConstants(){let e=Math.floor((this._canvas.width-1)/3),t=Math.ceil((this._canvas.width-1)/3);bi.full=this._canvas.width,bi.left=e,bi.center=t,bi.right=e,this._refreshDrawHeightConstants(),eo.full=1,eo.left=1,eo.center=1+bi.left,eo.right=1+bi.left+bi.center}_refreshDrawHeightConstants(){Or.full=Math.round(2*this._coreBrowserService.dpr);let e=this._canvas.height/this._bufferService.buffer.lines.length,t=Math.round(Math.max(Math.min(e,12),6)*this._coreBrowserService.dpr);Or.left=t,Or.center=t,Or.right=t}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Or.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Or.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Or.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Or.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(let t of this._decorationService.decorations)this._colorZoneStore.addDecoration(t);this._ctx.lineWidth=1,this._renderRulerOutline();let e=this._colorZoneStore.zones;for(let t of e)t.position!=="full"&&this._renderColorZone(t);for(let t of e)t.position==="full"&&this._renderColorZone(t);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderRulerOutline(){this._ctx.fillStyle=this._themeService.colors.overviewRulerBorder.css,this._ctx.fillRect(0,0,1,this._canvas.height),this._optionsService.rawOptions.overviewRuler.showTopBorder&&this._ctx.fillRect(1,0,this._canvas.width-1,1),this._optionsService.rawOptions.overviewRuler.showBottomBorder&&this._ctx.fillRect(1,this._canvas.height-1,this._canvas.width-1,this._canvas.height)}_renderColorZone(e){this._ctx.fillStyle=e.color,this._ctx.fillRect(eo[e.position||"full"],Math.round((this._canvas.height-1)*(e.startBufferLine/this._bufferService.buffers.active.lines.length)-Or[e.position||"full"]/2),bi[e.position||"full"],Math.round((this._canvas.height-1)*((e.endBufferLine-e.startBufferLine)/this._bufferService.buffers.active.lines.length)+Or[e.position||"full"]))}_queueRefresh(e,t){this._shouldUpdateDimensions=e||this._shouldUpdateDimensions,this._shouldUpdateAnchor=t||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};Ec=$e([j(2,Nt),j(3,ya),j(4,_i),j(5,Ot),j(6,$s),j(7,mi)],Ec);var B;(e=>(e.NUL="\0",e.SOH="",e.STX="",e.ETX="",e.EOT="",e.ENQ="",e.ACK="",e.BEL="\x07",e.BS="\b",e.HT="	",e.LF=`
`,e.VT="\v",e.FF="\f",e.CR="\r",e.SO="",e.SI="",e.DLE="",e.DC1="",e.DC2="",e.DC3="",e.DC4="",e.NAK="",e.SYN="",e.ETB="",e.CAN="",e.EM="",e.SUB="",e.ESC="\x1B",e.FS="",e.GS="",e.RS="",e.US="",e.SP=" ",e.DEL=""))(B||(B={}));var Rl;(e=>(e.PAD="",e.HOP="",e.BPH="",e.NBH="",e.IND="",e.NEL="",e.SSA="",e.ESA="",e.HTS="",e.HTJ="",e.VTS="",e.PLD="",e.PLU="",e.RI="",e.SS2="",e.SS3="",e.DCS="",e.PU1="",e.PU2="",e.STS="",e.CCH="",e.MW="",e.SPA="",e.EPA="",e.SOS="",e.SGCI="",e.SCI="",e.CSI="",e.ST="",e.OSC="",e.PM="",e.APC=""))(Rl||(Rl={}));var ub;(e=>e.ST=`${B.ESC}\\`)(ub||(ub={}));var Ef=class{constructor(e,t,r,i,n,s){this._textarea=e,this._compositionView=t,this._bufferService=r,this._optionsService=i,this._coreService=n,this._renderService=s,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(e){this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(e){if(this._isComposing||this._isSendingComposition){if(e.keyCode===20||e.keyCode===229||e.keyCode===16||e.keyCode===17||e.keyCode===18)return!1;this._finalizeComposition(!1)}return e.keyCode===229?(this._handleAnyTextareaChanges(),!1):!0}_finalizeComposition(e){if(this._compositionView.classList.remove("active"),this._isComposing=!1,e){let t={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){this._isSendingComposition=!1;let r;t.start+=this._dataAlreadySent.length,this._isComposing?r=this._textarea.value.substring(t.start,this._compositionPosition.start):r=this._textarea.value.substring(t.start),r.length>0&&this._coreService.triggerDataEvent(r,!0)}},0)}else{this._isSendingComposition=!1;let t=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(t,!0)}}_handleAnyTextareaChanges(){let e=this._textarea.value;setTimeout(()=>{if(!this._isComposing){let t=this._textarea.value,r=t.replace(e,"");this._dataAlreadySent=r,t.length>e.length?this._coreService.triggerDataEvent(r,!0):t.length<e.length?this._coreService.triggerDataEvent(`${B.DEL}`,!0):t.length===e.length&&t!==e&&this._coreService.triggerDataEvent(t,!0)}},0)}updateCompositionElements(e){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){let t=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),r=this._renderService.dimensions.css.cell.height,i=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,n=t*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=n+"px",this._compositionView.style.top=i+"px",this._compositionView.style.height=r+"px",this._compositionView.style.lineHeight=r+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";let s=this._compositionView.getBoundingClientRect();this._textarea.style.left=n+"px",this._textarea.style.top=i+"px",this._textarea.style.width=Math.max(s.width,1)+"px",this._textarea.style.height=Math.max(s.height,1)+"px",this._textarea.style.lineHeight=s.height+"px"}e||setTimeout(()=>this.updateCompositionElements(!0),0)}}};Ef=$e([j(2,Nt),j(3,Ot),j(4,zs),j(5,_i)],Ef);var st=0,ot=0,at=0,Be=0,Sv={css:"#00000000",rgba:0},je;(e=>{function t(n,s,o,a){return a!==void 0?`#${an(n)}${an(s)}${an(o)}${an(a)}`:`#${an(n)}${an(s)}${an(o)}`}e.toCss=t;function r(n,s,o,a=255){return(n<<24|s<<16|o<<8|a)>>>0}e.toRgba=r;function i(n,s,o,a){return{css:e.toCss(n,s,o,a),rgba:e.toRgba(n,s,o,a)}}e.toColor=i})(je||(je={}));var Ee;(e=>{function t(l,c){if(Be=(c.rgba&255)/255,Be===1)return{css:c.css,rgba:c.rgba};let u=c.rgba>>24&255,h=c.rgba>>16&255,d=c.rgba>>8&255,f=l.rgba>>24&255,p=l.rgba>>16&255,g=l.rgba>>8&255;st=f+Math.round((u-f)*Be),ot=p+Math.round((h-p)*Be),at=g+Math.round((d-g)*Be);let S=je.toCss(st,ot,at),m=je.toRgba(st,ot,at);return{css:S,rgba:m}}e.blend=t;function r(l){return(l.rgba&255)===255}e.isOpaque=r;function i(l,c,u){let h=Pl.ensureContrastRatio(l.rgba,c.rgba,u);if(h)return je.toColor(h>>24&255,h>>16&255,h>>8&255)}e.ensureContrastRatio=i;function n(l){let c=(l.rgba|255)>>>0;return[st,ot,at]=Pl.toChannels(c),{css:je.toCss(st,ot,at),rgba:c}}e.opaque=n;function s(l,c){return Be=Math.round(c*255),[st,ot,at]=Pl.toChannels(l.rgba),{css:je.toCss(st,ot,at,Be),rgba:je.toRgba(st,ot,at,Be)}}e.opacity=s;function o(l,c){return Be=l.rgba&255,s(l,Be*c/255)}e.multiplyOpacity=o;function a(l){return[l.rgba>>24&255,l.rgba>>16&255,l.rgba>>8&255]}e.toColorRGB=a})(Ee||(Ee={}));var De;(e=>{let t,r;try{let n=document.createElement("canvas");n.width=1,n.height=1;let s=n.getContext("2d",{willReadFrequently:!0});s&&(t=s,t.globalCompositeOperation="copy",r=t.createLinearGradient(0,0,1,1))}catch{}function i(n){if(n.match(/#[\da-f]{3,8}/i))switch(n.length){case 4:return st=parseInt(n.slice(1,2).repeat(2),16),ot=parseInt(n.slice(2,3).repeat(2),16),at=parseInt(n.slice(3,4).repeat(2),16),je.toColor(st,ot,at);case 5:return st=parseInt(n.slice(1,2).repeat(2),16),ot=parseInt(n.slice(2,3).repeat(2),16),at=parseInt(n.slice(3,4).repeat(2),16),Be=parseInt(n.slice(4,5).repeat(2),16),je.toColor(st,ot,at,Be);case 7:return{css:n,rgba:(parseInt(n.slice(1),16)<<8|255)>>>0};case 9:return{css:n,rgba:parseInt(n.slice(1),16)>>>0}}let s=n.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(s)return st=parseInt(s[1]),ot=parseInt(s[2]),at=parseInt(s[3]),Be=Math.round((s[5]===void 0?1:parseFloat(s[5]))*255),je.toColor(st,ot,at,Be);if(!t||!r)throw new Error("css.toColor: Unsupported css format");if(t.fillStyle=r,t.fillStyle=n,typeof t.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(t.fillRect(0,0,1,1),[st,ot,at,Be]=t.getImageData(0,0,1,1).data,Be!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:je.toRgba(st,ot,at,Be),css:n}}e.toColor=i})(De||(De={}));var Rt;(e=>{function t(i){return r(i>>16&255,i>>8&255,i&255)}e.relativeLuminance=t;function r(i,n,s){let o=i/255,a=n/255,l=s/255,c=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),u=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),h=l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4);return c*.2126+u*.7152+h*.0722}e.relativeLuminance2=r})(Rt||(Rt={}));var Pl;(e=>{function t(o,a){if(Be=(a&255)/255,Be===1)return a;let l=a>>24&255,c=a>>16&255,u=a>>8&255,h=o>>24&255,d=o>>16&255,f=o>>8&255;return st=h+Math.round((l-h)*Be),ot=d+Math.round((c-d)*Be),at=f+Math.round((u-f)*Be),je.toRgba(st,ot,at)}e.blend=t;function r(o,a,l){let c=Rt.relativeLuminance(o>>8),u=Rt.relativeLuminance(a>>8);if(ei(c,u)<l){if(u<c){let f=i(o,a,l),p=ei(c,Rt.relativeLuminance(f>>8));if(p<l){let g=n(o,a,l),S=ei(c,Rt.relativeLuminance(g>>8));return p>S?f:g}return f}let h=n(o,a,l),d=ei(c,Rt.relativeLuminance(h>>8));if(d<l){let f=i(o,a,l),p=ei(c,Rt.relativeLuminance(f>>8));return d>p?h:f}return h}}e.ensureContrastRatio=r;function i(o,a,l){let c=o>>24&255,u=o>>16&255,h=o>>8&255,d=a>>24&255,f=a>>16&255,p=a>>8&255,g=ei(Rt.relativeLuminance2(d,f,p),Rt.relativeLuminance2(c,u,h));for(;g<l&&(d>0||f>0||p>0);)d-=Math.max(0,Math.ceil(d*.1)),f-=Math.max(0,Math.ceil(f*.1)),p-=Math.max(0,Math.ceil(p*.1)),g=ei(Rt.relativeLuminance2(d,f,p),Rt.relativeLuminance2(c,u,h));return(d<<24|f<<16|p<<8|255)>>>0}e.reduceLuminance=i;function n(o,a,l){let c=o>>24&255,u=o>>16&255,h=o>>8&255,d=a>>24&255,f=a>>16&255,p=a>>8&255,g=ei(Rt.relativeLuminance2(d,f,p),Rt.relativeLuminance2(c,u,h));for(;g<l&&(d<255||f<255||p<255);)d=Math.min(255,d+Math.ceil((255-d)*.1)),f=Math.min(255,f+Math.ceil((255-f)*.1)),p=Math.min(255,p+Math.ceil((255-p)*.1)),g=ei(Rt.relativeLuminance2(d,f,p),Rt.relativeLuminance2(c,u,h));return(d<<24|f<<16|p<<8|255)>>>0}e.increaseLuminance=n;function s(o){return[o>>24&255,o>>16&255,o>>8&255,o&255]}e.toChannels=s})(Pl||(Pl={}));function an(e){let t=e.toString(16);return t.length<2?"0"+t:t}function ei(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}var C3=class extends va{constructor(e,t,r){super(),this.content=0,this.combinedData="",this.fg=e.fg,this.bg=e.bg,this.combinedData=t,this._width=r}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(e){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},kc=class{constructor(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new fr}register(e){let t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id}deregister(e){for(let t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1}getJoinedCharacters(e){if(this._characterJoiners.length===0)return[];let t=this._bufferService.buffer.lines.get(e);if(!t||t.length===0)return[];let r=[],i=t.translateToString(!0),n=0,s=0,o=0,a=t.getFg(0),l=t.getBg(0);for(let c=0;c<t.getTrimmedLength();c++)if(t.loadCell(c,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==a||this._workCell.bg!==l){if(c-n>1){let u=this._getJoinedRanges(i,o,s,t,n);for(let h=0;h<u.length;h++)r.push(u[h])}n=c,o=s,a=this._workCell.fg,l=this._workCell.bg}s+=this._workCell.getChars().length||Ni.length}if(this._bufferService.cols-n>1){let c=this._getJoinedRanges(i,o,s,t,n);for(let u=0;u<c.length;u++)r.push(c[u])}return r}_getJoinedRanges(e,t,r,i,n){let s=e.substring(t,r),o=[];try{o=this._characterJoiners[0].handler(s)}catch(a){console.error(a)}for(let a=1;a<this._characterJoiners.length;a++)try{let l=this._characterJoiners[a].handler(s);for(let c=0;c<l.length;c++)kc._mergeRanges(o,l[c])}catch(l){console.error(l)}return this._stringRangesToCellRanges(o,i,n),o}_stringRangesToCellRanges(e,t,r){let i=0,n=!1,s=0,o=e[i];if(o){for(let a=r;a<this._bufferService.cols;a++){let l=t.getWidth(a),c=t.getString(a).length||Ni.length;if(l!==0){if(!n&&o[0]<=s&&(o[0]=a,n=!0),o[1]<=s){if(o[1]=a,o=e[++i],!o)break;o[0]<=s?(o[0]=a,n=!0):n=!1}s+=c}}o&&(o[1]=this._bufferService.cols)}}static _mergeRanges(e,t){let r=!1;for(let i=0;i<e.length;i++){let n=e[i];if(r){if(t[1]<=n[0])return e[i-1][1]=t[1],e;if(t[1]<=n[1])return e[i-1][1]=Math.max(t[1],n[1]),e.splice(i,1),e;e.splice(i,1),i--}else{if(t[1]<=n[0])return e.splice(i,0,t),e;if(t[1]<=n[1])return n[0]=Math.min(t[0],n[0]),e;t[0]<n[1]&&(n[0]=Math.min(t[0],n[0]),r=!0);continue}}return r?e[e.length-1][1]=t[1]:e.push(t),e}};kc=$e([j(0,Nt)],kc);function b3(e){return 57508<=e&&e<=57558}function x3(e){return 9472<=e&&e<=9631}function E3(e){return b3(e)||x3(e)}function k3(){return{css:{canvas:el(),cell:el()},device:{canvas:el(),cell:el(),char:{width:0,height:0,left:0,top:0}}}}function el(){return{width:0,height:0}}var kf=class{constructor(e,t,r,i,n,s,o){this._document=e,this._characterJoinerService=t,this._optionsService=r,this._coreBrowserService=i,this._coreService=n,this._decorationService=s,this._themeService=o,this._workCell=new fr,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(e,t,r){this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=r}createRow(e,t,r,i,n,s,o,a,l,c,u){let h=[],d=this._characterJoinerService.getJoinedCharacters(t),f=this._themeService.colors,p=e.getNoBgTrimmedLength();r&&p<s+1&&(p=s+1);let g,S=0,m="",v=0,y=0,w=0,b=0,R=!1,E=0,L=!1,A=0,O=0,N=[],D=c!==-1&&u!==-1;for(let T=0;T<p;T++){e.loadCell(T,this._workCell);let I=this._workCell.getWidth();if(I===0)continue;let z=!1,M=T>=O,W=T,k=this._workCell;if(d.length>0&&T===d[0][0]&&M){let Q=d.shift(),ut=this._isCellInSelection(Q[0],t);for(v=Q[0]+1;v<Q[1];v++)M&&(M=ut===this._isCellInSelection(v,t));M&&(M=!r||s<Q[0]||s>=Q[1]),M?(z=!0,k=new C3(this._workCell,e.translateToString(!0,Q[0],Q[1]),Q[1]-Q[0]),W=Q[1]-1,I=k.getWidth()):O=Q[1]}let $=this._isCellInSelection(T,t),U=r&&T===s,J=D&&T>=c&&T<=u,se=!1;this._decorationService.forEachDecorationAtCell(T,t,void 0,Q=>{se=!0});let Se=k.getChars()||Ni;if(Se===" "&&(k.isUnderline()||k.isOverline())&&(Se=""),A=I*a-l.get(Se,k.isBold(),k.isItalic()),!g)g=this._document.createElement("span");else if(S&&($&&L||!$&&!L&&k.bg===y)&&($&&L&&f.selectionForeground||k.fg===w)&&k.extended.ext===b&&J===R&&A===E&&!U&&!z&&!se&&M){k.isInvisible()?m+=Ni:m+=Se,S++;continue}else S&&(g.textContent=m),g=this._document.createElement("span"),S=0,m="";if(y=k.bg,w=k.fg,b=k.extended.ext,R=J,E=A,L=$,z&&s>=T&&s<=W&&(s=T),!this._coreService.isCursorHidden&&U&&this._coreService.isCursorInitialized){if(N.push("xterm-cursor"),this._coreBrowserService.isFocused)o&&N.push("xterm-cursor-blink"),N.push(i==="bar"?"xterm-cursor-bar":i==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(n)switch(n){case"outline":N.push("xterm-cursor-outline");break;case"block":N.push("xterm-cursor-block");break;case"bar":N.push("xterm-cursor-bar");break;case"underline":N.push("xterm-cursor-underline");break}}if(k.isBold()&&N.push("xterm-bold"),k.isItalic()&&N.push("xterm-italic"),k.isDim()&&N.push("xterm-dim"),k.isInvisible()?m=Ni:m=k.getChars()||Ni,k.isUnderline()&&(N.push(`xterm-underline-${k.extended.underlineStyle}`),m===" "&&(m=""),!k.isUnderlineColorDefault()))if(k.isUnderlineColorRGB())g.style.textDecorationColor=`rgb(${va.toColorRGB(k.getUnderlineColor()).join(",")})`;else{let Q=k.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&k.isBold()&&Q<8&&(Q+=8),g.style.textDecorationColor=f.ansi[Q].css}k.isOverline()&&(N.push("xterm-overline"),m===" "&&(m="")),k.isStrikethrough()&&N.push("xterm-strikethrough"),J&&(g.style.textDecoration="underline");let ce=k.getFgColor(),Re=k.getFgColorMode(),pe=k.getBgColor(),q=k.getBgColorMode(),de=!!k.isInverse();if(de){let Q=ce;ce=pe,pe=Q;let ut=Re;Re=q,q=ut}let ge,ue,oe=!1;this._decorationService.forEachDecorationAtCell(T,t,void 0,Q=>{Q.options.layer!=="top"&&oe||(Q.backgroundColorRGB&&(q=50331648,pe=Q.backgroundColorRGB.rgba>>8&16777215,ge=Q.backgroundColorRGB),Q.foregroundColorRGB&&(Re=50331648,ce=Q.foregroundColorRGB.rgba>>8&16777215,ue=Q.foregroundColorRGB),oe=Q.options.layer==="top")}),!oe&&$&&(ge=this._coreBrowserService.isFocused?f.selectionBackgroundOpaque:f.selectionInactiveBackgroundOpaque,pe=ge.rgba>>8&16777215,q=50331648,oe=!0,f.selectionForeground&&(Re=50331648,ce=f.selectionForeground.rgba>>8&16777215,ue=f.selectionForeground)),oe&&N.push("xterm-decoration-top");let re;switch(q){case 16777216:case 33554432:re=f.ansi[pe],N.push(`xterm-bg-${pe}`);break;case 50331648:re=je.toColor(pe>>16,pe>>8&255,pe&255),this._addStyle(g,`background-color:#${wv((pe>>>0).toString(16),"0",6)}`);break;case 0:default:de?(re=f.foreground,N.push("xterm-bg-257")):re=f.background}switch(ge||k.isDim()&&(ge=Ee.multiplyOpacity(re,.5)),Re){case 16777216:case 33554432:k.isBold()&&ce<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ce+=8),this._applyMinimumContrast(g,re,f.ansi[ce],k,ge,void 0)||N.push(`xterm-fg-${ce}`);break;case 50331648:let Q=je.toColor(ce>>16&255,ce>>8&255,ce&255);this._applyMinimumContrast(g,re,Q,k,ge,ue)||this._addStyle(g,`color:#${wv(ce.toString(16),"0",6)}`);break;case 0:default:this._applyMinimumContrast(g,re,f.foreground,k,ge,ue)||de&&N.push("xterm-fg-257")}N.length&&(g.className=N.join(" "),N.length=0),!U&&!z&&!se&&M?S++:g.textContent=m,A!==this.defaultSpacing&&(g.style.letterSpacing=`${A}px`),h.push(g),T=W}return g&&S&&(g.textContent=m),h}_applyMinimumContrast(e,t,r,i,n,s){if(this._optionsService.rawOptions.minimumContrastRatio===1||E3(i.getCode()))return!1;let o=this._getContrastCache(i),a;if(!n&&!s&&(a=o.getColor(t.rgba,r.rgba)),a===void 0){let l=this._optionsService.rawOptions.minimumContrastRatio/(i.isDim()?2:1);a=Ee.ensureContrastRatio(n||t,s||r,l),o.setColor((n||t).rgba,(s||r).rgba,a??null)}return a?(this._addStyle(e,`color:${a.css}`),!0):!1}_getContrastCache(e){return e.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(e,t){e.setAttribute("style",`${e.getAttribute("style")||""}${t};`)}_isCellInSelection(e,t){let r=this._selectionStart,i=this._selectionEnd;return!r||!i?!1:this._columnSelectMode?r[0]<=i[0]?e>=r[0]&&t>=r[1]&&e<i[0]&&t<=i[1]:e<r[0]&&t>=r[1]&&e>=i[0]&&t<=i[1]:t>r[1]&&t<i[1]||r[1]===i[1]&&t===r[1]&&e>=r[0]&&e<i[0]||r[1]<i[1]&&t===i[1]&&e<i[0]||r[1]<i[1]&&t===r[1]&&e>=r[0]}};kf=$e([j(1,jC),j(2,Ot),j(3,mi),j(4,zs),j(5,ya),j(6,$s)],kf);function wv(e,t,r){for(;e.length<r;)e=t+e;return e}var R3=class{constructor(e,t){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=e.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";let r=e.createElement("span");r.classList.add("xterm-char-measure-element");let i=e.createElement("span");i.classList.add("xterm-char-measure-element"),i.style.fontWeight="bold";let n=e.createElement("span");n.classList.add("xterm-char-measure-element"),n.style.fontStyle="italic";let s=e.createElement("span");s.classList.add("xterm-char-measure-element"),s.style.fontWeight="bold",s.style.fontStyle="italic",this._measureElements=[r,i,n,s],this._container.appendChild(r),this._container.appendChild(i),this._container.appendChild(n),this._container.appendChild(s),t.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(e,t,r,i){e===this._font&&t===this._fontSize&&r===this._weight&&i===this._weightBold||(this._font=e,this._fontSize=t,this._weight=r,this._weightBold=i,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${r}`,this._measureElements[1].style.fontWeight=`${i}`,this._measureElements[2].style.fontWeight=`${r}`,this._measureElements[3].style.fontWeight=`${i}`,this.clear())}get(e,t,r){let i=0;if(!t&&!r&&e.length===1&&(i=e.charCodeAt(0))<256){if(this._flat[i]!==-9999)return this._flat[i];let o=this._measure(e,0);return o>0&&(this._flat[i]=o),o}let n=e;t&&(n+="B"),r&&(n+="I");let s=this._holey.get(n);if(s===void 0){let o=0;t&&(o|=1),r&&(o|=2),s=this._measure(e,o),s>0&&this._holey.set(n,s)}return s}_measure(e,t){let r=this._measureElements[t];return r.textContent=e.repeat(32),r.offsetWidth/32}},P3=class{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(e,t,r,i=!1){if(this.selectionStart=t,this.selectionEnd=r,!t||!r||t[0]===r[0]&&t[1]===r[1]){this.clear();return}let n=e.buffers.active.ydisp,s=t[1]-n,o=r[1]-n,a=Math.max(s,0),l=Math.min(o,e.rows-1);if(a>=e.rows||l<0){this.clear();return}this.hasSelection=!0,this.columnSelectMode=i,this.viewportStartRow=s,this.viewportEndRow=o,this.viewportCappedStartRow=a,this.viewportCappedEndRow=l,this.startCol=t[0],this.endCol=r[0]}isCellSelected(e,t,r){return this.hasSelection?(r-=e.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?t>=this.startCol&&r>=this.viewportCappedStartRow&&t<this.endCol&&r<=this.viewportCappedEndRow:t<this.startCol&&r>=this.viewportCappedStartRow&&t>=this.endCol&&r<=this.viewportCappedEndRow:r>this.viewportStartRow&&r<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&r===this.viewportStartRow&&t>=this.startCol&&t<this.endCol||this.viewportStartRow<this.viewportEndRow&&r===this.viewportEndRow&&t<this.endCol||this.viewportStartRow<this.viewportEndRow&&r===this.viewportStartRow&&t>=this.startCol):!1}};function T3(){return new P3}var bh="xterm-dom-renderer-owner-",nr="xterm-rows",tl="xterm-fg-",Cv="xterm-bg-",to="xterm-focus",rl="xterm-selection",A3=1,Rf=class extends ne{constructor(e,t,r,i,n,s,o,a,l,c,u,h,d,f){super(),this._terminal=e,this._document=t,this._element=r,this._screenElement=i,this._viewportElement=n,this._helperContainer=s,this._linkifier2=o,this._charSizeService=l,this._optionsService=c,this._bufferService=u,this._coreService=h,this._coreBrowserService=d,this._themeService=f,this._terminalClass=A3++,this._rowElements=[],this._selectionRenderModel=T3(),this.onRequestRedraw=this._register(new V).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(nr),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(rl),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=k3(),this._updateDimensions(),this._register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this._register(this._themeService.onChangeColors(p=>this._injectCss(p))),this._injectCss(this._themeService.colors),this._rowFactory=a.createInstance(kf,document),this._element.classList.add(bh+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this._register(this._linkifier2.onShowLinkUnderline(p=>this._handleLinkHover(p))),this._register(this._linkifier2.onHideLinkUnderline(p=>this._handleLinkLeave(p))),this._register(Me(()=>{this._element.classList.remove(bh+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new R3(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){let e=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*e,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*e),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/e),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/e),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(let r of this._rowElements)r.style.width=`${this.dimensions.css.canvas.width}px`,r.style.height=`${this.dimensions.css.cell.height}px`,r.style.lineHeight=`${this.dimensions.css.cell.height}px`,r.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));let t=`${this._terminalSelector} .${nr} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=t,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(e){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let t=`${this._terminalSelector} .${nr} { pointer-events: none; color: ${e.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;t+=`${this._terminalSelector} .${nr} .xterm-dim { color: ${Ee.multiplyOpacity(e.foreground,.5).css};}`,t+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;let r=`blink_underline_${this._terminalClass}`,i=`blink_bar_${this._terminalClass}`,n=`blink_block_${this._terminalClass}`;t+=`@keyframes ${r} { 50% {  border-bottom-style: hidden; }}`,t+=`@keyframes ${i} { 50% {  box-shadow: none; }}`,t+=`@keyframes ${n} { 0% {  background-color: ${e.cursor.css};  color: ${e.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${e.cursor.css}; }}`,t+=`${this._terminalSelector} .${nr}.${to} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${r} 1s step-end infinite;}${this._terminalSelector} .${nr}.${to} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${i} 1s step-end infinite;}${this._terminalSelector} .${nr}.${to} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${n} 1s step-end infinite;}${this._terminalSelector} .${nr} .xterm-cursor.xterm-cursor-block { background-color: ${e.cursor.css}; color: ${e.cursorAccent.css};}${this._terminalSelector} .${nr} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${e.cursor.css} !important; color: ${e.cursorAccent.css} !important;}${this._terminalSelector} .${nr} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${e.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${nr} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${e.cursor.css} inset;}${this._terminalSelector} .${nr} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${e.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,t+=`${this._terminalSelector} .${rl} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${rl} div { position: absolute; background-color: ${e.selectionBackgroundOpaque.css};}${this._terminalSelector} .${rl} div { position: absolute; background-color: ${e.selectionInactiveBackgroundOpaque.css};}`;for(let[s,o]of e.ansi.entries())t+=`${this._terminalSelector} .${tl}${s} { color: ${o.css}; }${this._terminalSelector} .${tl}${s}.xterm-dim { color: ${Ee.multiplyOpacity(o,.5).css}; }${this._terminalSelector} .${Cv}${s} { background-color: ${o.css}; }`;t+=`${this._terminalSelector} .${tl}257 { color: ${Ee.opaque(e.background).css}; }${this._terminalSelector} .${tl}257.xterm-dim { color: ${Ee.multiplyOpacity(Ee.opaque(e.background),.5).css}; }${this._terminalSelector} .${Cv}257 { background-color: ${e.foreground.css}; }`,this._themeStyleElement.textContent=t}_setDefaultSpacing(){let e=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${e}px`,this._rowFactory.defaultSpacing=e}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(e,t){for(let r=this._rowElements.length;r<=t;r++){let i=this._document.createElement("div");this._rowContainer.appendChild(i),this._rowElements.push(i)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(e,t){this._refreshRowElements(e,t),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(to),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(to),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(e,t,r){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(e,t,r),this.renderRows(0,this._bufferService.rows-1),!e||!t||(this._selectionRenderModel.update(this._terminal,e,t,r),!this._selectionRenderModel.hasSelection))return;let i=this._selectionRenderModel.viewportStartRow,n=this._selectionRenderModel.viewportEndRow,s=this._selectionRenderModel.viewportCappedStartRow,o=this._selectionRenderModel.viewportCappedEndRow,a=this._document.createDocumentFragment();if(r){let l=e[0]>t[0];a.appendChild(this._createSelectionElement(s,l?t[0]:e[0],l?e[0]:t[0],o-s+1))}else{let l=i===s?e[0]:0,c=s===n?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(s,l,c));let u=o-s-1;if(a.appendChild(this._createSelectionElement(s+1,0,this._bufferService.cols,u)),s!==o){let h=n===o?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(o,0,h))}}this._selectionContainer.appendChild(a)}_createSelectionElement(e,t,r,i=1){let n=this._document.createElement("div"),s=t*this.dimensions.css.cell.width,o=this.dimensions.css.cell.width*(r-t);return s+o>this.dimensions.css.canvas.width&&(o=this.dimensions.css.canvas.width-s),n.style.height=`${i*this.dimensions.css.cell.height}px`,n.style.top=`${e*this.dimensions.css.cell.height}px`,n.style.left=`${s}px`,n.style.width=`${o}px`,n}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(let e of this._rowElements)e.replaceChildren()}renderRows(e,t){let r=this._bufferService.buffer,i=r.ybase+r.y,n=Math.min(r.x,this._bufferService.cols-1),s=this._coreService.decPrivateModes.cursorBlink??this._optionsService.rawOptions.cursorBlink,o=this._coreService.decPrivateModes.cursorStyle??this._optionsService.rawOptions.cursorStyle,a=this._optionsService.rawOptions.cursorInactiveStyle;for(let l=e;l<=t;l++){let c=l+r.ydisp,u=this._rowElements[l],h=r.lines.get(c);if(!u||!h)break;u.replaceChildren(...this._rowFactory.createRow(h,c,c===i,o,a,n,s,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${bh}${this._terminalClass}`}_handleLinkHover(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)}_handleLinkLeave(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)}_setCellUnderline(e,t,r,i,n,s){r<0&&(e=0),i<0&&(t=0);let o=this._bufferService.rows-1;r=Math.max(Math.min(r,o),0),i=Math.max(Math.min(i,o),0),n=Math.min(n,this._bufferService.cols);let a=this._bufferService.buffer,l=a.ybase+a.y,c=Math.min(a.x,n-1),u=this._optionsService.rawOptions.cursorBlink,h=this._optionsService.rawOptions.cursorStyle,d=this._optionsService.rawOptions.cursorInactiveStyle;for(let f=r;f<=i;++f){let p=f+a.ydisp,g=this._rowElements[f],S=a.lines.get(p);if(!g||!S)break;g.replaceChildren(...this._rowFactory.createRow(S,p,p===l,h,d,c,u,this.dimensions.css.cell.width,this._widthCache,s?f===r?e:0:-1,s?(f===i?t:n)-1:-1))}}};Rf=$e([j(7,vm),j(8,yu),j(9,Ot),j(10,Nt),j(11,zs),j(12,mi),j(13,$s)],Rf);var Pf=class extends ne{constructor(e,t,r){super(),this._optionsService=r,this.width=0,this.height=0,this._onCharSizeChange=this._register(new V),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this._register(new D3(this._optionsService))}catch{this._measureStrategy=this._register(new L3(e,t,this._optionsService))}this._register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){let e=this._measureStrategy.measure();(e.width!==this.width||e.height!==this.height)&&(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())}};Pf=$e([j(2,Ot)],Pf);var hb=class extends ne{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(e,t){e!==void 0&&e>0&&t!==void 0&&t>0&&(this._result.width=e,this._result.height=t)}},L3=class extends hb{constructor(e,t,r){super(),this._document=e,this._parentElement=t,this._optionsService=r,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}},D3=class extends hb{constructor(e){super(),this._optionsService=e,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");let t=this._ctx.measureText("W");if(!("width"in t&&"fontBoundingBoxAscent"in t&&"fontBoundingBoxDescent"in t))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;let e=this._ctx.measureText("W");return this._validateAndSet(e.width,e.fontBoundingBoxAscent+e.fontBoundingBoxDescent),this._result}},N3=class extends ne{constructor(e,t,r){super(),this._textarea=e,this._window=t,this.mainDocument=r,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=this._register(new O3(this._window)),this._onDprChange=this._register(new V),this.onDprChange=this._onDprChange.event,this._onWindowChange=this._register(new V),this.onWindowChange=this._onWindowChange.event,this._register(this.onWindowChange(i=>this._screenDprMonitor.setWindow(i))),this._register(pt.forward(this._screenDprMonitor.onDprChange,this._onDprChange)),this._register(X(this._textarea,"focus",()=>this._isFocused=!0)),this._register(X(this._textarea,"blur",()=>this._isFocused=!1))}get window(){return this._window}set window(e){this._window!==e&&(this._window=e,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}},O3=class extends ne{constructor(e){super(),this._parentWindow=e,this._windowResizeListener=this._register(new Rs),this._onDprChange=this._register(new V),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this._register(Me(()=>this.clearListener()))}setWindow(e){this._parentWindow=e,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=X(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var e;this._outerListener&&((e=this._resolutionMediaMatchList)==null||e.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){!this._resolutionMediaMatchList||!this._outerListener||(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}},I3=class extends ne{constructor(){super(),this.linkProviders=[],this._register(Me(()=>this.linkProviders.length=0))}registerLinkProvider(e){return this.linkProviders.push(e),{dispose:()=>{let t=this.linkProviders.indexOf(e);t!==-1&&this.linkProviders.splice(t,1)}}}};function km(e,t,r){let i=r.getBoundingClientRect(),n=e.getComputedStyle(r),s=parseInt(n.getPropertyValue("padding-left")),o=parseInt(n.getPropertyValue("padding-top"));return[t.clientX-i.left-s,t.clientY-i.top-o]}function M3(e,t,r,i,n,s,o,a,l){if(!s)return;let c=km(e,t,r);if(c)return c[0]=Math.ceil((c[0]+(l?o/2:0))/o),c[1]=Math.ceil(c[1]/a),c[0]=Math.min(Math.max(c[0],1),i+(l?1:0)),c[1]=Math.min(Math.max(c[1],1),n),c}var Tf=class{constructor(e,t){this._renderService=e,this._charSizeService=t}getCoords(e,t,r,i,n){return M3(window,e,t,r,i,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,n)}getMouseReportCoords(e,t){let r=km(window,e,t);if(this._charSizeService.hasValidSize)return r[0]=Math.min(Math.max(r[0],0),this._renderService.dimensions.css.canvas.width-1),r[1]=Math.min(Math.max(r[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(r[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(r[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(r[0]),y:Math.floor(r[1])}}};Tf=$e([j(0,_i),j(1,yu)],Tf);var B3=class{constructor(e,t){this._renderCallback=e,this._coreBrowserService=t,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(e){return this._refreshCallbacks.push(e),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(e,t,r){this._rowCount=r,e=e!==void 0?e:0,t=t!==void 0?t:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,e):e,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,t):t,!this._animationFrame&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0){this._runRefreshCallbacks();return}let e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(let e of this._refreshCallbacks)e(0);this._refreshCallbacks=[]}},db={};GI(db,{getSafariVersion:()=>$3,isChromeOS:()=>_b,isFirefox:()=>fb,isIpad:()=>F3,isIphone:()=>H3,isLegacyEdge:()=>z3,isLinux:()=>Rm,isMac:()=>Rc,isNode:()=>Su,isSafari:()=>pb,isWindows:()=>mb});var Su=typeof process<"u"&&"title"in process,Sa=Su?"node":navigator.userAgent,wa=Su?"node":navigator.platform,fb=Sa.includes("Firefox"),z3=Sa.includes("Edge"),pb=/^((?!chrome|android).)*safari/i.test(Sa);function $3(){if(!pb)return 0;let e=Sa.match(/Version\/(\d+)/);return e===null||e.length<2?0:parseInt(e[1])}var Rc=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(wa),F3=wa==="iPad",H3=wa==="iPhone",mb=["Windows","Win16","Win32","WinCE"].includes(wa),Rm=wa.indexOf("Linux")>=0,_b=/\bCrOS\b/.test(Sa),gb=class{constructor(){this._tasks=[],this._i=0}enqueue(e){this._tasks.push(e),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(e){this._idleCallback=void 0;let t=0,r=0,i=e.timeRemaining(),n=0;for(;this._i<this._tasks.length;){if(t=Date.now(),this._tasks[this._i]()||this._i++,t=Math.max(1,Date.now()-t),r=Math.max(t,r),n=e.timeRemaining(),r*1.5>n){i-t<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(i-t))}ms`),this._start();return}i=n}this.clear()}},V3=class extends gb{_requestCallback(e){return setTimeout(()=>e(this._createDeadline(16)))}_cancelCallback(e){clearTimeout(e)}_createDeadline(e){let t=Date.now()+e;return{timeRemaining:()=>Math.max(0,t-Date.now())}}},W3=class extends gb{_requestCallback(e){return requestIdleCallback(e)}_cancelCallback(e){cancelIdleCallback(e)}},Pc=!Su&&"requestIdleCallback"in window?W3:V3,U3=class{constructor(){this._queue=new Pc}set(e){this._queue.clear(),this._queue.enqueue(e)}flush(){this._queue.flush()}},Af=class extends ne{constructor(e,t,r,i,n,s,o,a){super(),this._rowCount=e,this._charSizeService=i,this._renderer=this._register(new Rs),this._pausedResizeTask=new U3,this._observerDisposable=this._register(new Rs),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this._register(new V),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this._register(new V),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this._register(new V),this.onRender=this._onRender.event,this._onRefreshRequest=this._register(new V),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new B3((l,c)=>this._renderRows(l,c),o),this._register(this._renderDebouncer),this._register(o.onDprChange(()=>this.handleDevicePixelRatioChange())),this._register(s.onResize(()=>this._fullRefresh())),this._register(s.buffers.onBufferActivate(()=>{var l;return(l=this._renderer.value)==null?void 0:l.clear()})),this._register(r.onOptionChange(()=>this._handleOptionsChanged())),this._register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this._register(n.onDecorationRegistered(()=>this._fullRefresh())),this._register(n.onDecorationRemoved(()=>this._fullRefresh())),this._register(r.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(s.cols,s.rows),this._fullRefresh()})),this._register(r.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(s.buffer.y,s.buffer.y,!0))),this._register(a.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(o.window,t),this._register(o.onWindowChange(l=>this._registerIntersectionObserver(l,t)))}get dimensions(){return this._renderer.value.dimensions}_registerIntersectionObserver(e,t){if("IntersectionObserver"in e){let r=new e.IntersectionObserver(i=>this._handleIntersectionChange(i[i.length-1]),{threshold:0});r.observe(t),this._observerDisposable.value=Me(()=>r.disconnect())}}_handleIntersectionChange(e){this._isPaused=e.isIntersecting===void 0?e.intersectionRatio===0:!e.isIntersecting,!this._isPaused&&!this._charSizeService.hasValidSize&&this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(e,t,r=!1){if(this._isPaused){this._needsFullRefresh=!0;return}r||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount)}_renderRows(e,t){this._renderer.value&&(e=Math.min(e,this._rowCount-1),t=Math.min(t,this._rowCount-1),this._renderer.value.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:e,end:t}),this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0)}resize(e,t){this._rowCount=t,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(e){this._renderer.value=e,this._renderer.value&&(this._renderer.value.onRequestRedraw(t=>this.refreshRows(t.start,t.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(e){return this._renderDebouncer.addRefreshCallback(e)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var e,t;this._renderer.value&&((t=(e=this._renderer.value).clearTextureAtlas)==null||t.call(e),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(e,t){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>{var r;return(r=this._renderer.value)==null?void 0:r.handleResize(e,t)}):this._renderer.value.handleResize(e,t),this._fullRefresh())}handleCharSizeChanged(){var e;(e=this._renderer.value)==null||e.handleCharSizeChanged()}handleBlur(){var e;(e=this._renderer.value)==null||e.handleBlur()}handleFocus(){var e;(e=this._renderer.value)==null||e.handleFocus()}handleSelectionChanged(e,t,r){var i;this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=r,(i=this._renderer.value)==null||i.handleSelectionChanged(e,t,r)}handleCursorMove(){var e;(e=this._renderer.value)==null||e.handleCursorMove()}clear(){var e;(e=this._renderer.value)==null||e.clear()}};Af=$e([j(2,Ot),j(3,yu),j(4,ya),j(5,Nt),j(6,mi),j(7,$s)],Af);function j3(e,t,r,i){let n=r.buffer.x,s=r.buffer.y;if(!r.buffer.hasScrollback)return q3(n,s,e,t,r,i)+wu(s,t,r,i)+Y3(n,s,e,t,r,i);let o;if(s===t)return o=n>e?"D":"C",sa(Math.abs(n-e),na(o,i));o=s>t?"D":"C";let a=Math.abs(s-t),l=K3(s>t?e:n,r)+(a-1)*r.cols+1+G3(s>t?n:e);return sa(l,na(o,i))}function G3(e,t){return e-1}function K3(e,t){return t.cols-e}function q3(e,t,r,i,n,s){return wu(t,i,n,s).length===0?"":sa(yb(e,t,e,t-An(t,n),!1,n).length,na("D",s))}function wu(e,t,r,i){let n=e-An(e,r),s=t-An(t,r),o=Math.abs(n-s)-X3(e,t,r);return sa(o,na(vb(e,t),i))}function Y3(e,t,r,i,n,s){let o;wu(t,i,n,s).length>0?o=i-An(i,n):o=t;let a=i,l=Q3(e,t,r,i,n,s);return sa(yb(e,o,r,a,l==="C",n).length,na(l,s))}function X3(e,t,r){var o;let i=0,n=e-An(e,r),s=t-An(t,r);for(let a=0;a<Math.abs(n-s);a++){let l=vb(e,t)==="A"?-1:1;(o=r.buffer.lines.get(n+l*a))!=null&&o.isWrapped&&i++}return i}function An(e,t){let r=0,i=t.buffer.lines.get(e),n=i==null?void 0:i.isWrapped;for(;n&&e>=0&&e<t.rows;)r++,i=t.buffer.lines.get(--e),n=i==null?void 0:i.isWrapped;return r}function Q3(e,t,r,i,n,s){let o;return wu(r,i,n,s).length>0?o=i-An(i,n):o=t,e<r&&o<=i||e>=r&&o<i?"C":"D"}function vb(e,t){return e>t?"A":"B"}function yb(e,t,r,i,n,s){let o=e,a=t,l="";for(;(o!==r||a!==i)&&a>=0&&a<s.buffer.lines.length;)o+=n?1:-1,n&&o>s.cols-1?(l+=s.buffer.translateBufferLineToString(a,!1,e,o),o=0,e=0,a++):!n&&o<0&&(l+=s.buffer.translateBufferLineToString(a,!1,0,e+1),o=s.cols-1,e=o,a--);return l+s.buffer.translateBufferLineToString(a,!1,e,o)}function na(e,t){let r=t?"O":"[";return B.ESC+r+e}function sa(e,t){e=Math.floor(e);let r="";for(let i=0;i<e;i++)r+=t;return r}var Z3=class{constructor(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:!this.selectionEnd||!this.selectionStart?this.selectionStart:this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){let e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?e%this._bufferService.cols===0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)-1]:[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){let e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[Math.max(e,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){let e=this.selectionStart,t=this.selectionEnd;return!e||!t?!1:e[1]>t[1]||e[1]===t[1]&&e[0]>t[0]}handleTrim(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}};function bv(e,t){if(e.start.y>e.end.y)throw new Error(`Buffer range end (${e.end.x}, ${e.end.y}) cannot be before start (${e.start.x}, ${e.start.y})`);return t*(e.end.y-e.start.y)+(e.end.x-e.start.x+1)}var xh=50,J3=15,eM=50,tM=500,rM="",iM=new RegExp(rM,"g"),Lf=class extends ne{constructor(e,t,r,i,n,s,o,a,l){super(),this._element=e,this._screenElement=t,this._linkifier=r,this._bufferService=i,this._coreService=n,this._mouseService=s,this._optionsService=o,this._renderService=a,this._coreBrowserService=l,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new fr,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this._register(new V),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this._register(new V),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this._register(new V),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this._register(new V),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=c=>this._handleMouseMove(c),this._mouseUpListener=c=>this._handleMouseUp(c),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(c=>this._handleTrim(c)),this._register(this._bufferService.buffers.onBufferActivate(c=>this._handleBufferActivate(c))),this.enable(),this._model=new Z3(this._bufferService),this._activeSelectionMode=0,this._register(Me(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!e||!t?!1:e[0]!==t[0]||e[1]!==t[1]}get selectionText(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";let r=this._bufferService.buffer,i=[];if(this._activeSelectionMode===3){if(e[0]===t[0])return"";let n=e[0]<t[0]?e[0]:t[0],s=e[0]<t[0]?t[0]:e[0];for(let o=e[1];o<=t[1];o++){let a=r.translateBufferLineToString(o,!0,n,s);i.push(a)}}else{let n=e[1]===t[1]?t[0]:void 0;i.push(r.translateBufferLineToString(e[1],!0,e[0],n));for(let s=e[1]+1;s<=t[1]-1;s++){let o=r.lines.get(s),a=r.translateBufferLineToString(s,!0);o!=null&&o.isWrapped?i[i.length-1]+=a:i.push(a)}if(e[1]!==t[1]){let s=r.lines.get(t[1]),o=r.translateBufferLineToString(t[1],!0,0,t[0]);s&&s.isWrapped?i[i.length-1]+=o:i.push(o)}}return i.map(n=>n.replace(iM," ")).join(mb?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(e){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),Rm&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(e){let t=this._getMouseBufferCoords(e),r=this._model.finalSelectionStart,i=this._model.finalSelectionEnd;return!r||!i||!t?!1:this._areCoordsInSelection(t,r,i)}isCellInSelection(e,t){let r=this._model.finalSelectionStart,i=this._model.finalSelectionEnd;return!r||!i?!1:this._areCoordsInSelection([e,t],r,i)}_areCoordsInSelection(e,t,r){return e[1]>t[1]&&e[1]<r[1]||t[1]===r[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<r[0]||t[1]<r[1]&&e[1]===r[1]&&e[0]<r[0]||t[1]<r[1]&&e[1]===t[1]&&e[0]>=t[0]}_selectWordAtCursor(e,t){var n,s;let r=(s=(n=this._linkifier.currentLink)==null?void 0:n.link)==null?void 0:s.range;if(r)return this._model.selectionStart=[r.start.x-1,r.start.y-1],this._model.selectionStartLength=bv(r,this._bufferService.cols),this._model.selectionEnd=void 0,!0;let i=this._getMouseBufferCoords(e);return i?(this._selectWordAt(i,t),this._model.selectionEnd=void 0,!0):!1}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()}_handleTrim(e){this._model.handleTrim(e)&&this.refresh()}_getMouseBufferCoords(e){let t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t}_getMouseEventScrollAmount(e){let t=km(this._coreBrowserService.window,e,this._screenElement)[1],r=this._renderService.dimensions.css.canvas.height;return t>=0&&t<=r?0:(t>r&&(t-=r),t=Math.min(Math.max(t,-xh),xh),t/=xh,t/Math.abs(t)+Math.round(t*(J3-1)))}shouldForceSelection(e){return Rc?e.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:e.shiftKey}handleMouseDown(e){if(this._mouseDownTimeStamp=e.timeStamp,!(e.button===2&&this.hasSelection)&&e.button===0){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._handleIncrementalClick(e):e.detail===1?this._handleSingleClick(e):e.detail===2?this._handleDoubleClick(e):e.detail===3&&this._handleTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),eM)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))}_handleSingleClick(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),!this._model.selectionStart)return;this._model.selectionEnd=void 0;let t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&t.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(e){this._selectWordAtCursor(e,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(e){let t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))}shouldColumnSelect(e){return e.altKey&&!(Rc&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(e){if(e.stopImmediatePropagation(),!this._model.selectionStart)return;let t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),!this._model.selectionEnd){this.refresh(!0);return}this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));let r=this._bufferService.buffer;if(this._model.selectionEnd[1]<r.lines.length){let i=r.lines.get(this._model.selectionEnd[1]);i&&i.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}(!t||t[0]!==this._model.selectionEnd[0]||t[1]!==this._model.selectionEnd[1])&&this.refresh(!0)}_dragScroll(){if(!(!this._model.selectionEnd||!this._model.selectionStart)&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});let e=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}}_handleMouseUp(e){let t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<tM&&e.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){let r=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(r&&r[0]!==void 0&&r[1]!==void 0){let i=j3(r[0]-1,r[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(i,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd,r=!!e&&!!t&&(e[0]!==t[0]||e[1]!==t[1]);if(!r){this._oldHasSelection&&this._fireOnSelectionChange(e,t,r);return}!e||!t||(!this._oldSelectionStart||!this._oldSelectionEnd||e[0]!==this._oldSelectionStart[0]||e[1]!==this._oldSelectionStart[1]||t[0]!==this._oldSelectionEnd[0]||t[1]!==this._oldSelectionEnd[1])&&this._fireOnSelectionChange(e,t,r)}_fireOnSelectionChange(e,t,r){this._oldSelectionStart=e,this._oldSelectionEnd=t,this._oldHasSelection=r,this._onSelectionChange.fire()}_handleBufferActivate(e){this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim(t=>this._handleTrim(t))}_convertViewportColToCharacterIndex(e,t){let r=t;for(let i=0;t>=i;i++){let n=e.loadCell(i,this._workCell).getChars().length;this._workCell.getWidth()===0?r--:n>1&&t!==i&&(r+=n-1)}return r}setSelection(e,t,r){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=r,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(e){this._isClickInSelection(e)||(this._selectWordAtCursor(e,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(e,t,r=!0,i=!0){if(e[0]>=this._bufferService.cols)return;let n=this._bufferService.buffer,s=n.lines.get(e[1]);if(!s)return;let o=n.translateBufferLineToString(e[1],!1),a=this._convertViewportColToCharacterIndex(s,e[0]),l=a,c=e[0]-a,u=0,h=0,d=0,f=0;if(o.charAt(a)===" "){for(;a>0&&o.charAt(a-1)===" ";)a--;for(;l<o.length&&o.charAt(l+1)===" ";)l++}else{let S=e[0],m=e[0];s.getWidth(S)===0&&(u++,S--),s.getWidth(m)===2&&(h++,m++);let v=s.getString(m).length;for(v>1&&(f+=v-1,l+=v-1);S>0&&a>0&&!this._isCharWordSeparator(s.loadCell(S-1,this._workCell));){s.loadCell(S-1,this._workCell);let y=this._workCell.getChars().length;this._workCell.getWidth()===0?(u++,S--):y>1&&(d+=y-1,a-=y-1),a--,S--}for(;m<s.length&&l+1<o.length&&!this._isCharWordSeparator(s.loadCell(m+1,this._workCell));){s.loadCell(m+1,this._workCell);let y=this._workCell.getChars().length;this._workCell.getWidth()===2?(h++,m++):y>1&&(f+=y-1,l+=y-1),l++,m++}}l++;let p=a+c-u+d,g=Math.min(this._bufferService.cols,l-a+u+h-d-f);if(!(!t&&o.slice(a,l).trim()==="")){if(r&&p===0&&s.getCodePoint(0)!==32){let S=n.lines.get(e[1]-1);if(S&&s.isWrapped&&S.getCodePoint(this._bufferService.cols-1)!==32){let m=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(m){let v=this._bufferService.cols-m.start;p-=v,g+=v}}}if(i&&p+g===this._bufferService.cols&&s.getCodePoint(this._bufferService.cols-1)!==32){let S=n.lines.get(e[1]+1);if(S!=null&&S.isWrapped&&S.getCodePoint(0)!==32){let m=this._getWordAt([0,e[1]+1],!1,!1,!0);m&&(g+=m.length)}}return{start:p,length:g}}}_selectWordAt(e,t){let r=this._getWordAt(e,t);if(r){for(;r.start<0;)r.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[r.start,e[1]],this._model.selectionStartLength=r.length}}_selectToWordAt(e){let t=this._getWordAt(e,!0);if(t){let r=e[1];for(;t.start<0;)t.start+=this._bufferService.cols,r--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,r++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,r]}}_isCharWordSeparator(e){return e.getWidth()===0?!1:this._optionsService.rawOptions.wordSeparator.indexOf(e.getChars())>=0}_selectLineAt(e){let t=this._bufferService.buffer.getWrappedRangeForLine(e),r={start:{x:0,y:t.first},end:{x:this._bufferService.cols-1,y:t.last}};this._model.selectionStart=[0,t.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=bv(r,this._bufferService.cols)}};Lf=$e([j(3,Nt),j(4,zs),j(5,ym),j(6,Ot),j(7,_i),j(8,mi)],Lf);var xv=class{constructor(){this._data={}}set(e,t,r){this._data[e]||(this._data[e]={}),this._data[e][t]=r}get(e,t){return this._data[e]?this._data[e][t]:void 0}clear(){this._data={}}},Ev=class{constructor(){this._color=new xv,this._css=new xv}setCss(e,t,r){this._css.set(e,t,r)}getCss(e,t){return this._css.get(e,t)}setColor(e,t,r){this._color.set(e,t,r)}getColor(e,t){return this._color.get(e,t)}clear(){this._color.clear(),this._css.clear()}},Ke=Object.freeze((()=>{let e=[De.toColor("#2e3436"),De.toColor("#cc0000"),De.toColor("#4e9a06"),De.toColor("#c4a000"),De.toColor("#3465a4"),De.toColor("#75507b"),De.toColor("#06989a"),De.toColor("#d3d7cf"),De.toColor("#555753"),De.toColor("#ef2929"),De.toColor("#8ae234"),De.toColor("#fce94f"),De.toColor("#729fcf"),De.toColor("#ad7fa8"),De.toColor("#34e2e2"),De.toColor("#eeeeec")],t=[0,95,135,175,215,255];for(let r=0;r<216;r++){let i=t[r/36%6|0],n=t[r/6%6|0],s=t[r%6];e.push({css:je.toCss(i,n,s),rgba:je.toRgba(i,n,s)})}for(let r=0;r<24;r++){let i=8+r*10;e.push({css:je.toCss(i,i,i),rgba:je.toRgba(i,i,i)})}return e})()),un=De.toColor("#ffffff"),_o=De.toColor("#000000"),kv=De.toColor("#ffffff"),Rv=_o,ro={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117},nM=un,Df=class extends ne{constructor(e){super(),this._optionsService=e,this._contrastCache=new Ev,this._halfContrastCache=new Ev,this._onChangeColors=this._register(new V),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:un,background:_o,cursor:kv,cursorAccent:Rv,selectionForeground:void 0,selectionBackgroundTransparent:ro,selectionBackgroundOpaque:Ee.blend(_o,ro),selectionInactiveBackgroundTransparent:ro,selectionInactiveBackgroundOpaque:Ee.blend(_o,ro),scrollbarSliderBackground:Ee.opacity(un,.2),scrollbarSliderHoverBackground:Ee.opacity(un,.4),scrollbarSliderActiveBackground:Ee.opacity(un,.5),overviewRulerBorder:un,ansi:Ke.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this._register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this._register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(e={}){let t=this._colors;if(t.foreground=ve(e.foreground,un),t.background=ve(e.background,_o),t.cursor=Ee.blend(t.background,ve(e.cursor,kv)),t.cursorAccent=Ee.blend(t.background,ve(e.cursorAccent,Rv)),t.selectionBackgroundTransparent=ve(e.selectionBackground,ro),t.selectionBackgroundOpaque=Ee.blend(t.background,t.selectionBackgroundTransparent),t.selectionInactiveBackgroundTransparent=ve(e.selectionInactiveBackground,t.selectionBackgroundTransparent),t.selectionInactiveBackgroundOpaque=Ee.blend(t.background,t.selectionInactiveBackgroundTransparent),t.selectionForeground=e.selectionForeground?ve(e.selectionForeground,Sv):void 0,t.selectionForeground===Sv&&(t.selectionForeground=void 0),Ee.isOpaque(t.selectionBackgroundTransparent)&&(t.selectionBackgroundTransparent=Ee.opacity(t.selectionBackgroundTransparent,.3)),Ee.isOpaque(t.selectionInactiveBackgroundTransparent)&&(t.selectionInactiveBackgroundTransparent=Ee.opacity(t.selectionInactiveBackgroundTransparent,.3)),t.scrollbarSliderBackground=ve(e.scrollbarSliderBackground,Ee.opacity(t.foreground,.2)),t.scrollbarSliderHoverBackground=ve(e.scrollbarSliderHoverBackground,Ee.opacity(t.foreground,.4)),t.scrollbarSliderActiveBackground=ve(e.scrollbarSliderActiveBackground,Ee.opacity(t.foreground,.5)),t.overviewRulerBorder=ve(e.overviewRulerBorder,nM),t.ansi=Ke.slice(),t.ansi[0]=ve(e.black,Ke[0]),t.ansi[1]=ve(e.red,Ke[1]),t.ansi[2]=ve(e.green,Ke[2]),t.ansi[3]=ve(e.yellow,Ke[3]),t.ansi[4]=ve(e.blue,Ke[4]),t.ansi[5]=ve(e.magenta,Ke[5]),t.ansi[6]=ve(e.cyan,Ke[6]),t.ansi[7]=ve(e.white,Ke[7]),t.ansi[8]=ve(e.brightBlack,Ke[8]),t.ansi[9]=ve(e.brightRed,Ke[9]),t.ansi[10]=ve(e.brightGreen,Ke[10]),t.ansi[11]=ve(e.brightYellow,Ke[11]),t.ansi[12]=ve(e.brightBlue,Ke[12]),t.ansi[13]=ve(e.brightMagenta,Ke[13]),t.ansi[14]=ve(e.brightCyan,Ke[14]),t.ansi[15]=ve(e.brightWhite,Ke[15]),e.extendedAnsi){let r=Math.min(t.ansi.length-16,e.extendedAnsi.length);for(let i=0;i<r;i++)t.ansi[i+16]=ve(e.extendedAnsi[i],Ke[i+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(e){this._restoreColor(e),this._onChangeColors.fire(this.colors)}_restoreColor(e){if(e===void 0){for(let t=0;t<this._restoreColors.ansi.length;++t)this._colors.ansi[t]=this._restoreColors.ansi[t];return}switch(e){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[e]=this._restoreColors.ansi[e]}}modifyColors(e){e(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};Df=$e([j(0,Ot)],Df);function ve(e,t){if(e!==void 0)try{return De.toColor(e)}catch{}return t}var sM=class{constructor(...e){this._entries=new Map;for(let[t,r]of e)this.set(t,r)}set(e,t){let r=this._entries.get(e);return this._entries.set(e,t),r}forEach(e){for(let[t,r]of this._entries.entries())e(t,r)}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}},oM=class{constructor(){this._services=new sM,this._services.set(vm,this)}setService(e,t){this._services.set(e,t)}getService(e){return this._services.get(e)}createInstance(e,...t){let r=JI(e).sort((s,o)=>s.index-o.index),i=[];for(let s of r){let o=this._services.get(s.id);if(!o)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${s.id._id}.`);i.push(o)}let n=r.length>0?r[0].index:t.length;if(t.length!==n)throw new Error(`[createInstance] First service dependency of ${e.name} at position ${n+1} conflicts with ${t.length} static arguments`);return new e(...t,...i)}},aM={trace:0,debug:1,info:2,warn:3,error:4,off:5},lM="xterm.js: ",Nf=class extends ne{constructor(e){super(),this._optionsService=e,this._logLevel=5,this._updateLogLevel(),this._register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}get logLevel(){return this._logLevel}_updateLogLevel(){this._logLevel=aM[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(e){for(let t=0;t<e.length;t++)typeof e[t]=="function"&&(e[t]=e[t]())}_log(e,t,r){this._evalLazyOptionalParams(r),e.call(console,(this._optionsService.options.logger?"":lM)+t,...r)}trace(e,...t){var r;this._logLevel<=0&&this._log(((r=this._optionsService.options.logger)==null?void 0:r.trace.bind(this._optionsService.options.logger))??console.log,e,t)}debug(e,...t){var r;this._logLevel<=1&&this._log(((r=this._optionsService.options.logger)==null?void 0:r.debug.bind(this._optionsService.options.logger))??console.log,e,t)}info(e,...t){var r;this._logLevel<=2&&this._log(((r=this._optionsService.options.logger)==null?void 0:r.info.bind(this._optionsService.options.logger))??console.info,e,t)}warn(e,...t){var r;this._logLevel<=3&&this._log(((r=this._optionsService.options.logger)==null?void 0:r.warn.bind(this._optionsService.options.logger))??console.warn,e,t)}error(e,...t){var r;this._logLevel<=4&&this._log(((r=this._optionsService.options.logger)==null?void 0:r.error.bind(this._optionsService.options.logger))??console.error,e,t)}};Nf=$e([j(0,Ot)],Nf);var Pv=class extends ne{constructor(e){super(),this._maxLength=e,this.onDeleteEmitter=this._register(new V),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this._register(new V),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this._register(new V),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(e){if(this._maxLength===e)return;let t=new Array(e);for(let r=0;r<Math.min(e,this.length);r++)t[r]=this._array[this._getCyclicIndex(r)];this._array=t,this._maxLength=e,this._startIndex=0}get length(){return this._length}set length(e){if(e>this._length)for(let t=this._length;t<e;t++)this._array[t]=void 0;this._length=e}get(e){return this._array[this._getCyclicIndex(e)]}set(e,t){this._array[this._getCyclicIndex(e)]=t}push(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(e,t,...r){if(t){for(let i=e;i<this._length-t;i++)this._array[this._getCyclicIndex(i)]=this._array[this._getCyclicIndex(i+t)];this._length-=t,this.onDeleteEmitter.fire({index:e,amount:t})}for(let i=this._length-1;i>=e;i--)this._array[this._getCyclicIndex(i+r.length)]=this._array[this._getCyclicIndex(i)];for(let i=0;i<r.length;i++)this._array[this._getCyclicIndex(e+i)]=r[i];if(r.length&&this.onInsertEmitter.fire({index:e,amount:r.length}),this._length+r.length>this._maxLength){let i=this._length+r.length-this._maxLength;this._startIndex+=i,this._length=this._maxLength,this.onTrimEmitter.fire(i)}else this._length+=r.length}trimStart(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)}shiftElements(e,t,r){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+r<0)throw new Error("Cannot shift elements in list beyond index 0");if(r>0){for(let n=t-1;n>=0;n--)this.set(e+n+r,this.get(e+n));let i=e+t+r-this._length;if(i>0)for(this._length+=i;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let i=0;i<t;i++)this.set(e+i+r,this.get(e+i))}}_getCyclicIndex(e){return(this._startIndex+e)%this._maxLength}},ie=3,We=Object.freeze(new va),il=0,Eh=2,go=class Sb{constructor(t,r,i=!1){this.isWrapped=i,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(t*ie);let n=r||fr.fromCharData([0,zC,1,0]);for(let s=0;s<t;++s)this.setCell(s,n);this.length=t}get(t){let r=this._data[t*ie+0],i=r&2097151;return[this._data[t*ie+1],r&2097152?this._combined[t]:i?Pi(i):"",r>>22,r&2097152?this._combined[t].charCodeAt(this._combined[t].length-1):i]}set(t,r){this._data[t*ie+1]=r[0],r[1].length>1?(this._combined[t]=r[1],this._data[t*ie+0]=t|2097152|r[2]<<22):this._data[t*ie+0]=r[1].charCodeAt(0)|r[2]<<22}getWidth(t){return this._data[t*ie+0]>>22}hasWidth(t){return this._data[t*ie+0]&12582912}getFg(t){return this._data[t*ie+1]}getBg(t){return this._data[t*ie+2]}hasContent(t){return this._data[t*ie+0]&4194303}getCodePoint(t){let r=this._data[t*ie+0];return r&2097152?this._combined[t].charCodeAt(this._combined[t].length-1):r&2097151}isCombined(t){return this._data[t*ie+0]&2097152}getString(t){let r=this._data[t*ie+0];return r&2097152?this._combined[t]:r&2097151?Pi(r&2097151):""}isProtected(t){return this._data[t*ie+2]&536870912}loadCell(t,r){return il=t*ie,r.content=this._data[il+0],r.fg=this._data[il+1],r.bg=this._data[il+2],r.content&2097152&&(r.combinedData=this._combined[t]),r.bg&268435456&&(r.extended=this._extendedAttrs[t]),r}setCell(t,r){r.content&2097152&&(this._combined[t]=r.combinedData),r.bg&268435456&&(this._extendedAttrs[t]=r.extended),this._data[t*ie+0]=r.content,this._data[t*ie+1]=r.fg,this._data[t*ie+2]=r.bg}setCellFromCodepoint(t,r,i,n){n.bg&268435456&&(this._extendedAttrs[t]=n.extended),this._data[t*ie+0]=r|i<<22,this._data[t*ie+1]=n.fg,this._data[t*ie+2]=n.bg}addCodepointToCell(t,r,i){let n=this._data[t*ie+0];n&2097152?this._combined[t]+=Pi(r):n&2097151?(this._combined[t]=Pi(n&2097151)+Pi(r),n&=-2097152,n|=2097152):n=r|1<<22,i&&(n&=-12582913,n|=i<<22),this._data[t*ie+0]=n}insertCells(t,r,i){if(t%=this.length,t&&this.getWidth(t-1)===2&&this.setCellFromCodepoint(t-1,0,1,i),r<this.length-t){let n=new fr;for(let s=this.length-t-r-1;s>=0;--s)this.setCell(t+r+s,this.loadCell(t+s,n));for(let s=0;s<r;++s)this.setCell(t+s,i)}else for(let n=t;n<this.length;++n)this.setCell(n,i);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,i)}deleteCells(t,r,i){if(t%=this.length,r<this.length-t){let n=new fr;for(let s=0;s<this.length-t-r;++s)this.setCell(t+s,this.loadCell(t+r+s,n));for(let s=this.length-r;s<this.length;++s)this.setCell(s,i)}else for(let n=t;n<this.length;++n)this.setCell(n,i);t&&this.getWidth(t-1)===2&&this.setCellFromCodepoint(t-1,0,1,i),this.getWidth(t)===0&&!this.hasContent(t)&&this.setCellFromCodepoint(t,0,1,i)}replaceCells(t,r,i,n=!1){if(n){for(t&&this.getWidth(t-1)===2&&!this.isProtected(t-1)&&this.setCellFromCodepoint(t-1,0,1,i),r<this.length&&this.getWidth(r-1)===2&&!this.isProtected(r)&&this.setCellFromCodepoint(r,0,1,i);t<r&&t<this.length;)this.isProtected(t)||this.setCell(t,i),t++;return}for(t&&this.getWidth(t-1)===2&&this.setCellFromCodepoint(t-1,0,1,i),r<this.length&&this.getWidth(r-1)===2&&this.setCellFromCodepoint(r,0,1,i);t<r&&t<this.length;)this.setCell(t++,i)}resize(t,r){if(t===this.length)return this._data.length*4*Eh<this._data.buffer.byteLength;let i=t*ie;if(t>this.length){if(this._data.buffer.byteLength>=i*4)this._data=new Uint32Array(this._data.buffer,0,i);else{let n=new Uint32Array(i);n.set(this._data),this._data=n}for(let n=this.length;n<t;++n)this.setCell(n,r)}else{this._data=this._data.subarray(0,i);let n=Object.keys(this._combined);for(let o=0;o<n.length;o++){let a=parseInt(n[o],10);a>=t&&delete this._combined[a]}let s=Object.keys(this._extendedAttrs);for(let o=0;o<s.length;o++){let a=parseInt(s[o],10);a>=t&&delete this._extendedAttrs[a]}}return this.length=t,i*4*Eh<this._data.buffer.byteLength}cleanupMemory(){if(this._data.length*4*Eh<this._data.buffer.byteLength){let t=new Uint32Array(this._data.length);return t.set(this._data),this._data=t,1}return 0}fill(t,r=!1){if(r){for(let i=0;i<this.length;++i)this.isProtected(i)||this.setCell(i,t);return}this._combined={},this._extendedAttrs={};for(let i=0;i<this.length;++i)this.setCell(i,t)}copyFrom(t){this.length!==t.length?this._data=new Uint32Array(t._data):this._data.set(t._data),this.length=t.length,this._combined={};for(let r in t._combined)this._combined[r]=t._combined[r];this._extendedAttrs={};for(let r in t._extendedAttrs)this._extendedAttrs[r]=t._extendedAttrs[r];this.isWrapped=t.isWrapped}clone(){let t=new Sb(0);t._data=new Uint32Array(this._data),t.length=this.length;for(let r in this._combined)t._combined[r]=this._combined[r];for(let r in this._extendedAttrs)t._extendedAttrs[r]=this._extendedAttrs[r];return t.isWrapped=this.isWrapped,t}getTrimmedLength(){for(let t=this.length-1;t>=0;--t)if(this._data[t*ie+0]&4194303)return t+(this._data[t*ie+0]>>22);return 0}getNoBgTrimmedLength(){for(let t=this.length-1;t>=0;--t)if(this._data[t*ie+0]&4194303||this._data[t*ie+2]&50331648)return t+(this._data[t*ie+0]>>22);return 0}copyCellsFrom(t,r,i,n,s){let o=t._data;if(s)for(let l=n-1;l>=0;l--){for(let c=0;c<ie;c++)this._data[(i+l)*ie+c]=o[(r+l)*ie+c];o[(r+l)*ie+2]&268435456&&(this._extendedAttrs[i+l]=t._extendedAttrs[r+l])}else for(let l=0;l<n;l++){for(let c=0;c<ie;c++)this._data[(i+l)*ie+c]=o[(r+l)*ie+c];o[(r+l)*ie+2]&268435456&&(this._extendedAttrs[i+l]=t._extendedAttrs[r+l])}let a=Object.keys(t._combined);for(let l=0;l<a.length;l++){let c=parseInt(a[l],10);c>=r&&(this._combined[c-r+i]=t._combined[c])}}translateToString(t,r,i,n){r=r??0,i=i??this.length,t&&(i=Math.min(i,this.getTrimmedLength())),n&&(n.length=0);let s="";for(;r<i;){let o=this._data[r*ie+0],a=o&2097151,l=o&2097152?this._combined[r]:a?Pi(a):Ni;if(s+=l,n)for(let c=0;c<l.length;++c)n.push(r);r+=o>>22||1}return n&&n.push(r),s}};function cM(e,t,r,i,n,s){let o=[];for(let a=0;a<e.length-1;a++){let l=a,c=e.get(++l);if(!c.isWrapped)continue;let u=[e.get(a)];for(;l<e.length&&c.isWrapped;)u.push(c),c=e.get(++l);if(!s&&i>=a&&i<l){a+=u.length-1;continue}let h=0,d=oa(u,h,t),f=1,p=0;for(;f<u.length;){let S=oa(u,f,t),m=S-p,v=r-d,y=Math.min(m,v);u[h].copyCellsFrom(u[f],p,d,y,!1),d+=y,d===r&&(h++,d=0),p+=y,p===S&&(f++,p=0),d===0&&h!==0&&u[h-1].getWidth(r-1)===2&&(u[h].copyCellsFrom(u[h-1],r-1,d++,1,!1),u[h-1].setCell(r-1,n))}u[h].replaceCells(d,r,n);let g=0;for(let S=u.length-1;S>0&&(S>h||u[S].getTrimmedLength()===0);S--)g++;g>0&&(o.push(a+u.length-g),o.push(g)),a+=u.length-1}return o}function uM(e,t){let r=[],i=0,n=t[i],s=0;for(let o=0;o<e.length;o++)if(n===o){let a=t[++i];e.onDeleteEmitter.fire({index:o-s,amount:a}),o+=a-1,s+=a,n=t[++i]}else r.push(o);return{layout:r,countRemoved:s}}function hM(e,t){let r=[];for(let i=0;i<t.length;i++)r.push(e.get(t[i]));for(let i=0;i<r.length;i++)e.set(i,r[i]);e.length=t.length}function dM(e,t,r){let i=[],n=e.map((l,c)=>oa(e,c,t)).reduce((l,c)=>l+c),s=0,o=0,a=0;for(;a<n;){if(n-a<r){i.push(n-a);break}s+=r;let l=oa(e,o,t);s>l&&(s-=l,o++);let c=e[o].getWidth(s-1)===2;c&&s--;let u=c?r-1:r;i.push(u),a+=u}return i}function oa(e,t,r){if(t===e.length-1)return e[t].getTrimmedLength();let i=!e[t].hasContent(r-1)&&e[t].getWidth(r-1)===1,n=e[t+1].getWidth(0)===2;return i&&n?r-1:r}var wb=class Cb{constructor(t){this.line=t,this.isDisposed=!1,this._disposables=[],this._id=Cb._nextId++,this._onDispose=this.register(new V),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),Tn(this._disposables),this._disposables.length=0)}register(t){return this._disposables.push(t),t}};wb._nextId=1;var fM=wb,Ze={},hn=Ze.B;Ze[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""};Ze.A={"#":""};Ze.B=void 0;Ze[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""};Ze.C=Ze[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};Ze.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""};Ze.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};Ze.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""};Ze.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""};Ze.E=Ze[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};Ze.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""};Ze.H=Ze[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};Ze["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""};var Tv=4294967295,Av=class{constructor(e,t,r){this._hasScrollback=e,this._optionsService=t,this._bufferService=r,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=We.clone(),this.savedCharset=hn,this.markers=[],this._nullCell=fr.fromCharData([0,zC,1,0]),this._whitespaceCell=fr.fromCharData([0,Ni,1,32]),this._isClearing=!1,this._memoryCleanupQueue=new Pc,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new Pv(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new xc),this._nullCell}getWhitespaceCell(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new xc),this._whitespaceCell}getBlankLine(e,t){return new go(this._bufferService.cols,this.getNullCell(e),t)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){let e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows}_getCorrectBufferLength(e){if(!this._hasScrollback)return e;let t=e+this._optionsService.rawOptions.scrollback;return t>Tv?Tv:t}fillViewportRows(e){if(this.lines.length===0){e===void 0&&(e=We);let t=this._rows;for(;t--;)this.lines.push(this.getBlankLine(e))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new Pv(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(e,t){let r=this.getNullCell(We),i=0,n=this._getCorrectBufferLength(t);if(n>this.lines.maxLength&&(this.lines.maxLength=n),this.lines.length>0){if(this._cols<e)for(let o=0;o<this.lines.length;o++)i+=+this.lines.get(o).resize(e,r);let s=0;if(this._rows<t)for(let o=this._rows;o<t;o++)this.lines.length<t+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new go(e,r)):this.ybase>0&&this.lines.length<=this.ybase+this.y+s+1?(this.ybase--,s++,this.ydisp>0&&this.ydisp--):this.lines.push(new go(e,r)));else for(let o=this._rows;o>t;o--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(n<this.lines.maxLength){let o=this.lines.length-n;o>0&&(this.lines.trimStart(o),this.ybase=Math.max(this.ybase-o,0),this.ydisp=Math.max(this.ydisp-o,0),this.savedY=Math.max(this.savedY-o,0)),this.lines.maxLength=n}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),s&&(this.y+=s),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(let s=0;s<this.lines.length;s++)i+=+this.lines.get(s).resize(e,r);this._cols=e,this._rows=t,this._memoryCleanupQueue.clear(),i>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let e=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,e=!1);let t=0;for(;this._memoryCleanupPosition<this.lines.length;)if(t+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),t>100)return!0;return e}get _isReflowEnabled(){let e=this._optionsService.rawOptions.windowsPty;return e&&e.buildNumber?this._hasScrollback&&e.backend==="conpty"&&e.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))}_reflowLarger(e,t){let r=this._optionsService.rawOptions.reflowCursorLine,i=cM(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(We),r);if(i.length>0){let n=uM(this.lines,i);hM(this.lines,n.layout),this._reflowLargerAdjustViewport(e,t,n.countRemoved)}}_reflowLargerAdjustViewport(e,t,r){let i=this.getNullCell(We),n=r;for(;n-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new go(e,i))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-r,0)}_reflowSmaller(e,t){let r=this._optionsService.rawOptions.reflowCursorLine,i=this.getNullCell(We),n=[],s=0;for(let o=this.lines.length-1;o>=0;o--){let a=this.lines.get(o);if(!a||!a.isWrapped&&a.getTrimmedLength()<=e)continue;let l=[a];for(;a.isWrapped&&o>0;)a=this.lines.get(--o),l.unshift(a);if(!r){let y=this.ybase+this.y;if(y>=o&&y<o+l.length)continue}let c=l[l.length-1].getTrimmedLength(),u=dM(l,this._cols,e),h=u.length-l.length,d;this.ybase===0&&this.y!==this.lines.length-1?d=Math.max(0,this.y-this.lines.maxLength+h):d=Math.max(0,this.lines.length-this.lines.maxLength+h);let f=[];for(let y=0;y<h;y++){let w=this.getBlankLine(We,!0);f.push(w)}f.length>0&&(n.push({start:o+l.length+s,newLines:f}),s+=f.length),l.push(...f);let p=u.length-1,g=u[p];g===0&&(p--,g=u[p]);let S=l.length-h-1,m=c;for(;S>=0;){let y=Math.min(m,g);if(l[p]===void 0)break;if(l[p].copyCellsFrom(l[S],m-y,g-y,y,!0),g-=y,g===0&&(p--,g=u[p]),m-=y,m===0){S--;let w=Math.max(S,0);m=oa(l,w,this._cols)}}for(let y=0;y<l.length;y++)u[y]<e&&l[y].setCell(u[y],i);let v=h-d;for(;v-- >0;)this.ybase===0?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+s)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+h,this.ybase+t-1)}if(n.length>0){let o=[],a=[];for(let g=0;g<this.lines.length;g++)a.push(this.lines.get(g));let l=this.lines.length,c=l-1,u=0,h=n[u];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+s);let d=0;for(let g=Math.min(this.lines.maxLength-1,l+s-1);g>=0;g--)if(h&&h.start>c+d){for(let S=h.newLines.length-1;S>=0;S--)this.lines.set(g--,h.newLines[S]);g++,o.push({index:c+1,amount:h.newLines.length}),d+=h.newLines.length,h=n[++u]}else this.lines.set(g,a[c--]);let f=0;for(let g=o.length-1;g>=0;g--)o[g].index+=f,this.lines.onInsertEmitter.fire(o[g]),f+=o[g].amount;let p=Math.max(0,l+s-this.lines.maxLength);p>0&&this.lines.onTrimEmitter.fire(p)}}translateBufferLineToString(e,t,r=0,i){let n=this.lines.get(e);return n?n.translateToString(t,r,i):""}getWrappedRangeForLine(e){let t=e,r=e;for(;t>0&&this.lines.get(t).isWrapped;)t--;for(;r+1<this.lines.length&&this.lines.get(r+1).isWrapped;)r++;return{first:t,last:r}}setupTabStops(e){for(e!=null?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.rawOptions.tabStopWidth)this.tabs[e]=!0}prevStop(e){for(e==null&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e}nextStop(e){for(e==null&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e}clearMarkers(e){this._isClearing=!0;for(let t=0;t<this.markers.length;t++)this.markers[t].line===e&&(this.markers[t].dispose(),this.markers.splice(t--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let e=0;e<this.markers.length;e++)this.markers[e].dispose();this.markers.length=0,this._isClearing=!1}addMarker(e){let t=new fM(e);return this.markers.push(t),t.register(this.lines.onTrim(r=>{t.line-=r,t.line<0&&t.dispose()})),t.register(this.lines.onInsert(r=>{t.line>=r.index&&(t.line+=r.amount)})),t.register(this.lines.onDelete(r=>{t.line>=r.index&&t.line<r.index+r.amount&&t.dispose(),t.line>r.index&&(t.line-=r.amount)})),t.register(t.onDispose(()=>this._removeMarker(t))),t}_removeMarker(e){this._isClearing||this.markers.splice(this.markers.indexOf(e),1)}},pM=class extends ne{constructor(e,t){super(),this._optionsService=e,this._bufferService=t,this._onBufferActivate=this._register(new V),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this._register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this._register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new Av(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new Av(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(e,t){this._normal.resize(e,t),this._alt.resize(e,t),this.setupTabStops(e)}setupTabStops(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)}},bb=2,xb=1,Of=class extends ne{constructor(e){super(),this.isUserScrolling=!1,this._onResize=this._register(new V),this.onResize=this._onResize.event,this._onScroll=this._register(new V),this.onScroll=this._onScroll.event,this.cols=Math.max(e.rawOptions.cols||0,bb),this.rows=Math.max(e.rawOptions.rows||0,xb),this.buffers=this._register(new pM(e,this)),this._register(this.buffers.onBufferActivate(t=>{this._onScroll.fire(t.activeBuffer.ydisp)}))}get buffer(){return this.buffers.active}resize(e,t){this.cols=e,this.rows=t,this.buffers.resize(e,t),this._onResize.fire({cols:e,rows:t})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(e,t=!1){let r=this.buffer,i;i=this._cachedBlankLine,(!i||i.length!==this.cols||i.getFg(0)!==e.fg||i.getBg(0)!==e.bg)&&(i=r.getBlankLine(e,t),this._cachedBlankLine=i),i.isWrapped=t;let n=r.ybase+r.scrollTop,s=r.ybase+r.scrollBottom;if(r.scrollTop===0){let o=r.lines.isFull;s===r.lines.length-1?o?r.lines.recycle().copyFrom(i):r.lines.push(i.clone()):r.lines.splice(s+1,0,i.clone()),o?this.isUserScrolling&&(r.ydisp=Math.max(r.ydisp-1,0)):(r.ybase++,this.isUserScrolling||r.ydisp++)}else{let o=s-n+1;r.lines.shiftElements(n+1,o-1,-1),r.lines.set(s,i.clone())}this.isUserScrolling||(r.ydisp=r.ybase),this._onScroll.fire(r.ydisp)}scrollLines(e,t){let r=this.buffer;if(e<0){if(r.ydisp===0)return;this.isUserScrolling=!0}else e+r.ydisp>=r.ybase&&(this.isUserScrolling=!1);let i=r.ydisp;r.ydisp=Math.max(Math.min(r.ydisp+e,r.ybase),0),i!==r.ydisp&&(t||this._onScroll.fire(r.ydisp))}};Of=$e([j(0,Ot)],Of);var Hn={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnEraseInDisplay:!1,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},reflowCursorLine:!1,rescaleOverlappingGlyphs:!1,rightClickSelectsWord:Rc,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRuler:{}},mM=["normal","bold","100","200","300","400","500","600","700","800","900"],_M=class extends ne{constructor(e){super(),this._onOptionChange=this._register(new V),this.onOptionChange=this._onOptionChange.event;let t={...Hn};for(let r in e)if(r in t)try{let i=e[r];t[r]=this._sanitizeAndValidateOption(r,i)}catch(i){console.error(i)}this.rawOptions=t,this.options={...t},this._setupOptions(),this._register(Me(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(e,t){return this.onOptionChange(r=>{r===e&&t(this.rawOptions[e])})}onMultipleOptionChange(e,t){return this.onOptionChange(r=>{e.indexOf(r)!==-1&&t()})}_setupOptions(){let e=r=>{if(!(r in Hn))throw new Error(`No option with key "${r}"`);return this.rawOptions[r]},t=(r,i)=>{if(!(r in Hn))throw new Error(`No option with key "${r}"`);i=this._sanitizeAndValidateOption(r,i),this.rawOptions[r]!==i&&(this.rawOptions[r]=i,this._onOptionChange.fire(r))};for(let r in this.rawOptions){let i={get:e.bind(this,r),set:t.bind(this,r)};Object.defineProperty(this.options,r,i)}}_sanitizeAndValidateOption(e,t){switch(e){case"cursorStyle":if(t||(t=Hn[e]),!gM(t))throw new Error(`"${t}" is not a valid value for ${e}`);break;case"wordSeparator":t||(t=Hn[e]);break;case"fontWeight":case"fontWeightBold":if(typeof t=="number"&&1<=t&&t<=1e3)break;t=mM.includes(t)?t:Hn[e];break;case"cursorWidth":t=Math.floor(t);case"lineHeight":case"tabStopWidth":if(t<1)throw new Error(`${e} cannot be less than 1, value: ${t}`);break;case"minimumContrastRatio":t=Math.max(1,Math.min(21,Math.round(t*10)/10));break;case"scrollback":if(t=Math.min(t,4294967295),t<0)throw new Error(`${e} cannot be less than 0, value: ${t}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(t<=0)throw new Error(`${e} cannot be less than or equal to 0, value: ${t}`);break;case"rows":case"cols":if(!t&&t!==0)throw new Error(`${e} must be numeric, value: ${t}`);break;case"windowsPty":t=t??{};break}return t}};function gM(e){return e==="block"||e==="underline"||e==="bar"}function vo(e,t=5){if(typeof e!="object")return e;let r=Array.isArray(e)?[]:{};for(let i in e)r[i]=t<=1?e[i]:e[i]&&vo(e[i],t-1);return r}var Lv=Object.freeze({insertMode:!1}),Dv=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,cursorBlink:void 0,cursorStyle:void 0,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),If=class extends ne{constructor(e,t,r){super(),this._bufferService=e,this._logService=t,this._optionsService=r,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this._register(new V),this.onData=this._onData.event,this._onUserInput=this._register(new V),this.onUserInput=this._onUserInput.event,this._onBinary=this._register(new V),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this._register(new V),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=vo(Lv),this.decPrivateModes=vo(Dv)}reset(){this.modes=vo(Lv),this.decPrivateModes=vo(Dv)}triggerDataEvent(e,t=!1){if(this._optionsService.rawOptions.disableStdin)return;let r=this._bufferService.buffer;t&&this._optionsService.rawOptions.scrollOnUserInput&&r.ybase!==r.ydisp&&this._onRequestScrollToBottom.fire(),t&&this._onUserInput.fire(),this._logService.debug(`sending data "${e}"`,()=>e.split("").map(i=>i.charCodeAt(0))),this._onData.fire(e)}triggerBinaryEvent(e){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${e}"`,()=>e.split("").map(t=>t.charCodeAt(0))),this._onBinary.fire(e))}};If=$e([j(0,Nt),j(1,WC),j(2,Ot)],If);var Nv={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:e=>e.button===4||e.action!==1?!1:(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)},VT200:{events:19,restrict:e=>e.action!==32},DRAG:{events:23,restrict:e=>!(e.action===32&&e.button===3)},ANY:{events:31,restrict:e=>!0}};function kh(e,t){let r=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return e.button===4?(r|=64,r|=e.action):(r|=e.button&3,e.button&4&&(r|=64),e.button&8&&(r|=128),e.action===32?r|=32:e.action===0&&!t&&(r|=3)),r}var Rh=String.fromCharCode,Ov={DEFAULT:e=>{let t=[kh(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":`\x1B[M${Rh(t[0])}${Rh(t[1])}${Rh(t[2])}`},SGR:e=>{let t=e.action===0&&e.button!==4?"m":"M";return`\x1B[<${kh(e,!0)};${e.col};${e.row}${t}`},SGR_PIXELS:e=>{let t=e.action===0&&e.button!==4?"m":"M";return`\x1B[<${kh(e,!0)};${e.x};${e.y}${t}`}},Mf=class extends ne{constructor(e,t,r){super(),this._bufferService=e,this._coreService=t,this._optionsService=r,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._wheelPartialScroll=0,this._onProtocolChange=this._register(new V),this.onProtocolChange=this._onProtocolChange.event;for(let i of Object.keys(Nv))this.addProtocol(i,Nv[i]);for(let i of Object.keys(Ov))this.addEncoding(i,Ov[i]);this.reset()}addProtocol(e,t){this._protocols[e]=t}addEncoding(e,t){this._encodings[e]=t}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(e){if(!this._protocols[e])throw new Error(`unknown protocol "${e}"`);this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(e){if(!this._encodings[e])throw new Error(`unknown encoding "${e}"`);this._activeEncoding=e}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null,this._wheelPartialScroll=0}consumeWheelEvent(e,t,r){if(e.deltaY===0||e.shiftKey||t===void 0||r===void 0)return 0;let i=t/r,n=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(n/=i+0,Math.abs(e.deltaY)<50&&(n*=.3),this._wheelPartialScroll+=n,n=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(n*=this._bufferService.rows),n}_applyScrollModifier(e,t){return t.altKey||t.ctrlKey||t.shiftKey?e*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:e*this._optionsService.rawOptions.scrollSensitivity}triggerMouseEvent(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows||e.button===4&&e.action===32||e.button===3&&e.action!==32||e.button!==4&&(e.action===2||e.action===3)||(e.col++,e.row++,e.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,e,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(e))return!1;let t=this._encodings[this._activeEncoding](e);return t&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0}explainEvents(e){return{down:!!(e&1),up:!!(e&2),drag:!!(e&4),move:!!(e&8),wheel:!!(e&16)}}_equalEvents(e,t,r){if(r){if(e.x!==t.x||e.y!==t.y)return!1}else if(e.col!==t.col||e.row!==t.row)return!1;return!(e.button!==t.button||e.action!==t.action||e.ctrl!==t.ctrl||e.alt!==t.alt||e.shift!==t.shift)}};Mf=$e([j(0,Nt),j(1,zs),j(2,Ot)],Mf);var Ph=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],vM=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],qe;function yM(e,t){let r=0,i=t.length-1,n;if(e<t[0][0]||e>t[i][1])return!1;for(;i>=r;)if(n=r+i>>1,e>t[n][1])r=n+1;else if(e<t[n][0])i=n-1;else return!0;return!1}var SM=class{constructor(){if(this.version="6",!qe){qe=new Uint8Array(65536),qe.fill(1),qe[0]=0,qe.fill(0,1,32),qe.fill(0,127,160),qe.fill(2,4352,4448),qe[9001]=2,qe[9002]=2,qe.fill(2,11904,42192),qe[12351]=1,qe.fill(2,44032,55204),qe.fill(2,63744,64256),qe.fill(2,65040,65050),qe.fill(2,65072,65136),qe.fill(2,65280,65377),qe.fill(2,65504,65511);for(let e=0;e<Ph.length;++e)qe.fill(0,Ph[e][0],Ph[e][1]+1)}}wcwidth(e){return e<32?0:e<127?1:e<65536?qe[e]:yM(e,vM)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1}charProperties(e,t){let r=this.wcwidth(e),i=r===0&&t!==0;if(i){let n=gn.extractWidth(t);n===0?i=!1:n>r&&(r=n)}return gn.createPropertyValue(0,r,i)}},gn=class Tl{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new V,this.onChange=this._onChange.event;let t=new SM;this.register(t),this._active=t.version,this._activeProvider=t}static extractShouldJoin(t){return(t&1)!==0}static extractWidth(t){return t>>1&3}static extractCharKind(t){return t>>3}static createPropertyValue(t,r,i=!1){return(t&16777215)<<3|(r&3)<<1|(i?1:0)}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(t){if(!this._providers[t])throw new Error(`unknown Unicode version "${t}"`);this._active=t,this._activeProvider=this._providers[t],this._onChange.fire(t)}register(t){this._providers[t.version]=t}wcwidth(t){return this._activeProvider.wcwidth(t)}getStringCellWidth(t){let r=0,i=0,n=t.length;for(let s=0;s<n;++s){let o=t.charCodeAt(s);if(55296<=o&&o<=56319){if(++s>=n)return r+this.wcwidth(o);let c=t.charCodeAt(s);56320<=c&&c<=57343?o=(o-55296)*1024+c-56320+65536:r+=this.wcwidth(c)}let a=this.charProperties(o,i),l=Tl.extractWidth(a);Tl.extractShouldJoin(a)&&(l-=Tl.extractWidth(i)),r+=l,i=a}return r}charProperties(t,r){return this._activeProvider.charProperties(t,r)}},wM=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(e){this.glevel=e,this.charset=this._charsets[e]}setgCharset(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)}};function Iv(e){var i;let t=(i=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1))==null?void 0:i.get(e.cols-1),r=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);r&&t&&(r.isWrapped=t[3]!==0&&t[3]!==32)}var io=2147483647,CM=256,Eb=class Bf{constructor(t=32,r=32){if(this.maxLength=t,this.maxSubParamsLength=r,r>CM)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(t),this.length=0,this._subParams=new Int32Array(r),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(t),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(t){let r=new Bf;if(!t.length)return r;for(let i=Array.isArray(t[0])?1:0;i<t.length;++i){let n=t[i];if(Array.isArray(n))for(let s=0;s<n.length;++s)r.addSubParam(n[s]);else r.addParam(n)}return r}clone(){let t=new Bf(this.maxLength,this.maxSubParamsLength);return t.params.set(this.params),t.length=this.length,t._subParams.set(this._subParams),t._subParamsLength=this._subParamsLength,t._subParamsIdx.set(this._subParamsIdx),t._rejectDigits=this._rejectDigits,t._rejectSubDigits=this._rejectSubDigits,t._digitIsSub=this._digitIsSub,t}toArray(){let t=[];for(let r=0;r<this.length;++r){t.push(this.params[r]);let i=this._subParamsIdx[r]>>8,n=this._subParamsIdx[r]&255;n-i>0&&t.push(Array.prototype.slice.call(this._subParams,i,n))}return t}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(t){if(this._digitIsSub=!1,this.length>=this.maxLength){this._rejectDigits=!0;return}if(t<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=t>io?io:t}addSubParam(t){if(this._digitIsSub=!0,!!this.length){if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength){this._rejectSubDigits=!0;return}if(t<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=t>io?io:t,this._subParamsIdx[this.length-1]++}}hasSubParams(t){return(this._subParamsIdx[t]&255)-(this._subParamsIdx[t]>>8)>0}getSubParams(t){let r=this._subParamsIdx[t]>>8,i=this._subParamsIdx[t]&255;return i-r>0?this._subParams.subarray(r,i):null}getSubParamsAll(){let t={};for(let r=0;r<this.length;++r){let i=this._subParamsIdx[r]>>8,n=this._subParamsIdx[r]&255;n-i>0&&(t[r]=this._subParams.slice(i,n))}return t}addDigit(t){let r;if(this._rejectDigits||!(r=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;let i=this._digitIsSub?this._subParams:this.params,n=i[r-1];i[r-1]=~n?Math.min(n*10+t,io):t}},no=[],bM=class{constructor(){this._state=0,this._active=no,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(e,t){this._handlers[e]===void 0&&(this._handlers[e]=[]);let r=this._handlers[e];return r.push(t),{dispose:()=>{let i=r.indexOf(t);i!==-1&&r.splice(i,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=no}reset(){if(this._state===2)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].end(!1);this._stack.paused=!1,this._active=no,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||no,!this._active.length)this._handlerFb(this._id,"START");else for(let e=this._active.length-1;e>=0;e--)this._active[e].start()}_put(e,t,r){if(!this._active.length)this._handlerFb(this._id,"PUT",vu(e,t,r));else for(let i=this._active.length-1;i>=0;i--)this._active[i].put(e,t,r)}start(){this.reset(),this._state=1}put(e,t,r){if(this._state!==3){if(this._state===1)for(;t<r;){let i=e[t++];if(i===59){this._state=2,this._start();break}if(i<48||57<i){this._state=3;return}this._id===-1&&(this._id=0),this._id=this._id*10+i-48}this._state===2&&r-t>0&&this._put(e,t,r)}}end(e,t=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),!this._active.length)this._handlerFb(this._id,"END",e);else{let r=!1,i=this._active.length-1,n=!1;if(this._stack.paused&&(i=this._stack.loopPosition-1,r=t,n=this._stack.fallThrough,this._stack.paused=!1),!n&&r===!1){for(;i>=0&&(r=this._active[i].end(e),r!==!0);i--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!1,r;i--}for(;i>=0;i--)if(r=this._active[i].end(!1),r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!0,r}this._active=no,this._id=-1,this._state=0}}},Ut=class{constructor(e){this._handler=e,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(e,t,r){this._hitLimit||(this._data+=vu(e,t,r),this._data.length>1e7&&(this._data="",this._hitLimit=!0))}end(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data),t instanceof Promise))return t.then(r=>(this._data="",this._hitLimit=!1,r));return this._data="",this._hitLimit=!1,t}},so=[],xM=class{constructor(){this._handlers=Object.create(null),this._active=so,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=so}registerHandler(e,t){this._handlers[e]===void 0&&(this._handlers[e]=[]);let r=this._handlers[e];return r.push(t),{dispose:()=>{let i=r.indexOf(t);i!==-1&&r.splice(i,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}reset(){if(this._active.length)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].unhook(!1);this._stack.paused=!1,this._active=so,this._ident=0}hook(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||so,!this._active.length)this._handlerFb(this._ident,"HOOK",t);else for(let r=this._active.length-1;r>=0;r--)this._active[r].hook(t)}put(e,t,r){if(!this._active.length)this._handlerFb(this._ident,"PUT",vu(e,t,r));else for(let i=this._active.length-1;i>=0;i--)this._active[i].put(e,t,r)}unhook(e,t=!0){if(!this._active.length)this._handlerFb(this._ident,"UNHOOK",e);else{let r=!1,i=this._active.length-1,n=!1;if(this._stack.paused&&(i=this._stack.loopPosition-1,r=t,n=this._stack.fallThrough,this._stack.paused=!1),!n&&r===!1){for(;i>=0&&(r=this._active[i].unhook(e),r!==!0);i--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!1,r;i--}for(;i>=0;i--)if(r=this._active[i].unhook(!1),r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!0,r}this._active=so,this._ident=0}},yo=new Eb;yo.addParam(0);var Mv=class{constructor(e){this._handler=e,this._data="",this._params=yo,this._hitLimit=!1}hook(e){this._params=e.length>1||e.params[0]?e.clone():yo,this._data="",this._hitLimit=!1}put(e,t,r){this._hitLimit||(this._data+=vu(e,t,r),this._data.length>1e7&&(this._data="",this._hitLimit=!0))}unhook(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data,this._params),t instanceof Promise))return t.then(r=>(this._params=yo,this._data="",this._hitLimit=!1,r));return this._params=yo,this._data="",this._hitLimit=!1,t}},EM=class{constructor(e){this.table=new Uint8Array(e)}setDefault(e,t){this.table.fill(e<<4|t)}add(e,t,r,i){this.table[t<<8|e]=r<<4|i}addMany(e,t,r,i){for(let n=0;n<e.length;n++)this.table[t<<8|e[n]]=r<<4|i}},ar=160,kM=function(){let e=new EM(4095),t=Array.apply(null,Array(256)).map((a,l)=>l),r=(a,l)=>t.slice(a,l),i=r(32,127),n=r(0,24);n.push(25),n.push.apply(n,r(28,32));let s=r(0,14),o;e.setDefault(1,0),e.addMany(i,0,2,0);for(o in s)e.addMany([24,26,153,154],o,3,0),e.addMany(r(128,144),o,3,0),e.addMany(r(144,152),o,3,0),e.add(156,o,0,0),e.add(27,o,11,1),e.add(157,o,4,8),e.addMany([152,158,159],o,0,7),e.add(155,o,11,3),e.add(144,o,11,9);return e.addMany(n,0,3,0),e.addMany(n,1,3,1),e.add(127,1,0,1),e.addMany(n,8,0,8),e.addMany(n,3,3,3),e.add(127,3,0,3),e.addMany(n,4,3,4),e.add(127,4,0,4),e.addMany(n,6,3,6),e.addMany(n,5,3,5),e.add(127,5,0,5),e.addMany(n,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(i,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(r(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(i,7,0,7),e.addMany(n,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(r(64,127),3,7,0),e.addMany(r(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(r(48,60),4,8,4),e.addMany(r(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(r(32,64),6,0,6),e.add(127,6,0,6),e.addMany(r(64,127),6,0,0),e.addMany(r(32,48),3,9,5),e.addMany(r(32,48),5,9,5),e.addMany(r(48,64),5,0,6),e.addMany(r(64,127),5,7,0),e.addMany(r(32,48),4,9,5),e.addMany(r(32,48),1,9,2),e.addMany(r(32,48),2,9,2),e.addMany(r(48,127),2,10,0),e.addMany(r(48,80),1,10,0),e.addMany(r(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(r(96,127),1,10,0),e.add(80,1,11,9),e.addMany(n,9,0,9),e.add(127,9,0,9),e.addMany(r(28,32),9,0,9),e.addMany(r(32,48),9,9,12),e.addMany(r(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(n,11,0,11),e.addMany(r(32,128),11,0,11),e.addMany(r(28,32),11,0,11),e.addMany(n,10,0,10),e.add(127,10,0,10),e.addMany(r(28,32),10,0,10),e.addMany(r(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(r(32,48),10,9,12),e.addMany(n,12,0,12),e.add(127,12,0,12),e.addMany(r(28,32),12,0,12),e.addMany(r(32,48),12,9,12),e.addMany(r(48,64),12,0,11),e.addMany(r(64,127),12,12,13),e.addMany(r(64,127),10,12,13),e.addMany(r(64,127),9,12,13),e.addMany(n,13,13,13),e.addMany(i,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(ar,0,2,0),e.add(ar,8,5,8),e.add(ar,6,0,6),e.add(ar,11,0,11),e.add(ar,13,13,13),e}(),RM=class extends ne{constructor(e=kM){super(),this._transitions=e,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new Eb,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(t,r,i)=>{},this._executeHandlerFb=t=>{},this._csiHandlerFb=(t,r)=>{},this._escHandlerFb=t=>{},this._errorHandlerFb=t=>t,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this._register(Me(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this._register(new bM),this._dcsParser=this._register(new xM),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(e,t=[64,126]){let r=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if(r=e.prefix.charCodeAt(0),r&&60>r||r>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let n=0;n<e.intermediates.length;++n){let s=e.intermediates.charCodeAt(n);if(32>s||s>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");r<<=8,r|=s}}if(e.final.length!==1)throw new Error("final must be a single byte");let i=e.final.charCodeAt(0);if(t[0]>i||i>t[1])throw new Error(`final must be in range ${t[0]} .. ${t[1]}`);return r<<=8,r|=i,r}identToString(e){let t=[];for(;e;)t.push(String.fromCharCode(e&255)),e>>=8;return t.reverse().join("")}setPrintHandler(e){this._printHandler=e}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(e,t){let r=this._identifier(e,[48,126]);this._escHandlers[r]===void 0&&(this._escHandlers[r]=[]);let i=this._escHandlers[r];return i.push(t),{dispose:()=>{let n=i.indexOf(t);n!==-1&&i.splice(n,1)}}}clearEscHandler(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]}setEscHandlerFallback(e){this._escHandlerFb=e}setExecuteHandler(e,t){this._executeHandlers[e.charCodeAt(0)]=t}clearExecuteHandler(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]}setExecuteHandlerFallback(e){this._executeHandlerFb=e}registerCsiHandler(e,t){let r=this._identifier(e);this._csiHandlers[r]===void 0&&(this._csiHandlers[r]=[]);let i=this._csiHandlers[r];return i.push(t),{dispose:()=>{let n=i.indexOf(t);n!==-1&&i.splice(n,1)}}}clearCsiHandler(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]}setCsiHandlerFallback(e){this._csiHandlerFb=e}registerDcsHandler(e,t){return this._dcsParser.registerHandler(this._identifier(e),t)}clearDcsHandler(e){this._dcsParser.clearHandler(this._identifier(e))}setDcsHandlerFallback(e){this._dcsParser.setHandlerFallback(e)}registerOscHandler(e,t){return this._oscParser.registerHandler(e,t)}clearOscHandler(e){this._oscParser.clearHandler(e)}setOscHandlerFallback(e){this._oscParser.setHandlerFallback(e)}setErrorHandler(e){this._errorHandler=e}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(e,t,r,i,n){this._parseStack.state=e,this._parseStack.handlers=t,this._parseStack.handlerPos=r,this._parseStack.transition=i,this._parseStack.chunkPos=n}parse(e,t,r){let i=0,n=0,s=0,o;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,s=this._parseStack.chunkPos+1;else{if(r===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");let a=this._parseStack.handlers,l=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(r===!1&&l>-1){for(;l>=0&&(o=a[l](this._params),o!==!0);l--)if(o instanceof Promise)return this._parseStack.handlerPos=l,o}this._parseStack.handlers=[];break;case 4:if(r===!1&&l>-1){for(;l>=0&&(o=a[l](),o!==!0);l--)if(o instanceof Promise)return this._parseStack.handlerPos=l,o}this._parseStack.handlers=[];break;case 6:if(i=e[this._parseStack.chunkPos],o=this._dcsParser.unhook(i!==24&&i!==26,r),o)return o;i===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(i=e[this._parseStack.chunkPos],o=this._oscParser.end(i!==24&&i!==26,r),o)return o;i===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break}this._parseStack.state=0,s=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=this._parseStack.transition&15}for(let a=s;a<t;++a){switch(i=e[a],n=this._transitions.table[this.currentState<<8|(i<160?i:ar)],n>>4){case 2:for(let d=a+1;;++d){if(d>=t||(i=e[d])<32||i>126&&i<ar){this._printHandler(e,a,d),a=d-1;break}if(++d>=t||(i=e[d])<32||i>126&&i<ar){this._printHandler(e,a,d),a=d-1;break}if(++d>=t||(i=e[d])<32||i>126&&i<ar){this._printHandler(e,a,d),a=d-1;break}if(++d>=t||(i=e[d])<32||i>126&&i<ar){this._printHandler(e,a,d),a=d-1;break}}break;case 3:this._executeHandlers[i]?this._executeHandlers[i]():this._executeHandlerFb(i),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:a,code:i,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:let l=this._csiHandlers[this._collect<<8|i],c=l?l.length-1:-1;for(;c>=0&&(o=l[c](this._params),o!==!0);c--)if(o instanceof Promise)return this._preserveStack(3,l,c,n,a),o;c<0&&this._csiHandlerFb(this._collect<<8|i,this._params),this.precedingJoinState=0;break;case 8:do switch(i){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(i-48)}while(++a<t&&(i=e[a])>47&&i<60);a--;break;case 9:this._collect<<=8,this._collect|=i;break;case 10:let u=this._escHandlers[this._collect<<8|i],h=u?u.length-1:-1;for(;h>=0&&(o=u[h](),o!==!0);h--)if(o instanceof Promise)return this._preserveStack(4,u,h,n,a),o;h<0&&this._escHandlerFb(this._collect<<8|i),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|i,this._params);break;case 13:for(let d=a+1;;++d)if(d>=t||(i=e[d])===24||i===26||i===27||i>127&&i<ar){this._dcsParser.put(e,a,d),a=d-1;break}break;case 14:if(o=this._dcsParser.unhook(i!==24&&i!==26),o)return this._preserveStack(6,[],0,n,a),o;i===27&&(n|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let d=a+1;;d++)if(d>=t||(i=e[d])<32||i>127&&i<ar){this._oscParser.put(e,a,d),a=d-1;break}break;case 6:if(o=this._oscParser.end(i!==24&&i!==26),o)return this._preserveStack(5,[],0,n,a),o;i===27&&(n|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break}this.currentState=n&15}}},PM=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,TM=/^[\da-f]+$/;function Bv(e){if(!e)return;let t=e.toLowerCase();if(t.indexOf("rgb:")===0){t=t.slice(4);let r=PM.exec(t);if(r){let i=r[1]?15:r[4]?255:r[7]?4095:65535;return[Math.round(parseInt(r[1]||r[4]||r[7]||r[10],16)/i*255),Math.round(parseInt(r[2]||r[5]||r[8]||r[11],16)/i*255),Math.round(parseInt(r[3]||r[6]||r[9]||r[12],16)/i*255)]}}else if(t.indexOf("#")===0&&(t=t.slice(1),TM.exec(t)&&[3,6,9,12].includes(t.length))){let r=t.length/3,i=[0,0,0];for(let n=0;n<3;++n){let s=parseInt(t.slice(r*n,r*n+r),16);i[n]=r===1?s<<4:r===2?s:r===3?s>>4:s>>8}return i}}function Th(e,t){let r=e.toString(16),i=r.length<2?"0"+r:r;switch(t){case 4:return r[0];case 8:return i;case 12:return(i+i).slice(0,3);default:return i+i}}function AM(e,t=16){let[r,i,n]=e;return`rgb:${Th(r,t)}/${Th(i,t)}/${Th(n,t)}`}var LM={"(":0,")":1,"*":2,"+":3,"-":1,".":2},xi=131072,zv=10;function $v(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}var Fv=5e3,Hv=0,DM=class extends ne{constructor(e,t,r,i,n,s,o,a,l=new RM){super(),this._bufferService=e,this._charsetService=t,this._coreService=r,this._logService=i,this._optionsService=n,this._oscLinkService=s,this._coreMouseService=o,this._unicodeService=a,this._parser=l,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new QI,this._utf8Decoder=new ZI,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=We.clone(),this._eraseAttrDataInternal=We.clone(),this._onRequestBell=this._register(new V),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this._register(new V),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this._register(new V),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this._register(new V),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this._register(new V),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this._register(new V),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this._register(new V),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this._register(new V),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this._register(new V),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this._register(new V),this.onLineFeed=this._onLineFeed.event,this._onScroll=this._register(new V),this.onScroll=this._onScroll.event,this._onTitleChange=this._register(new V),this.onTitleChange=this._onTitleChange.event,this._onColor=this._register(new V),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this._register(this._parser),this._dirtyRowTracker=new zf(this._bufferService),this._activeBuffer=this._bufferService.buffer,this._register(this._bufferService.buffers.onBufferActivate(c=>this._activeBuffer=c.activeBuffer)),this._parser.setCsiHandlerFallback((c,u)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(c),params:u.toArray()})}),this._parser.setEscHandlerFallback(c=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(c)})}),this._parser.setExecuteHandlerFallback(c=>{this._logService.debug("Unknown EXECUTE code: ",{code:c})}),this._parser.setOscHandlerFallback((c,u,h)=>{this._logService.debug("Unknown OSC code: ",{identifier:c,action:u,data:h})}),this._parser.setDcsHandlerFallback((c,u,h)=>{u==="HOOK"&&(h=h.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(c),action:u,payload:h})}),this._parser.setPrintHandler((c,u,h)=>this.print(c,u,h)),this._parser.registerCsiHandler({final:"@"},c=>this.insertChars(c)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},c=>this.scrollLeft(c)),this._parser.registerCsiHandler({final:"A"},c=>this.cursorUp(c)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},c=>this.scrollRight(c)),this._parser.registerCsiHandler({final:"B"},c=>this.cursorDown(c)),this._parser.registerCsiHandler({final:"C"},c=>this.cursorForward(c)),this._parser.registerCsiHandler({final:"D"},c=>this.cursorBackward(c)),this._parser.registerCsiHandler({final:"E"},c=>this.cursorNextLine(c)),this._parser.registerCsiHandler({final:"F"},c=>this.cursorPrecedingLine(c)),this._parser.registerCsiHandler({final:"G"},c=>this.cursorCharAbsolute(c)),this._parser.registerCsiHandler({final:"H"},c=>this.cursorPosition(c)),this._parser.registerCsiHandler({final:"I"},c=>this.cursorForwardTab(c)),this._parser.registerCsiHandler({final:"J"},c=>this.eraseInDisplay(c,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},c=>this.eraseInDisplay(c,!0)),this._parser.registerCsiHandler({final:"K"},c=>this.eraseInLine(c,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},c=>this.eraseInLine(c,!0)),this._parser.registerCsiHandler({final:"L"},c=>this.insertLines(c)),this._parser.registerCsiHandler({final:"M"},c=>this.deleteLines(c)),this._parser.registerCsiHandler({final:"P"},c=>this.deleteChars(c)),this._parser.registerCsiHandler({final:"S"},c=>this.scrollUp(c)),this._parser.registerCsiHandler({final:"T"},c=>this.scrollDown(c)),this._parser.registerCsiHandler({final:"X"},c=>this.eraseChars(c)),this._parser.registerCsiHandler({final:"Z"},c=>this.cursorBackwardTab(c)),this._parser.registerCsiHandler({final:"`"},c=>this.charPosAbsolute(c)),this._parser.registerCsiHandler({final:"a"},c=>this.hPositionRelative(c)),this._parser.registerCsiHandler({final:"b"},c=>this.repeatPrecedingCharacter(c)),this._parser.registerCsiHandler({final:"c"},c=>this.sendDeviceAttributesPrimary(c)),this._parser.registerCsiHandler({prefix:">",final:"c"},c=>this.sendDeviceAttributesSecondary(c)),this._parser.registerCsiHandler({final:"d"},c=>this.linePosAbsolute(c)),this._parser.registerCsiHandler({final:"e"},c=>this.vPositionRelative(c)),this._parser.registerCsiHandler({final:"f"},c=>this.hVPosition(c)),this._parser.registerCsiHandler({final:"g"},c=>this.tabClear(c)),this._parser.registerCsiHandler({final:"h"},c=>this.setMode(c)),this._parser.registerCsiHandler({prefix:"?",final:"h"},c=>this.setModePrivate(c)),this._parser.registerCsiHandler({final:"l"},c=>this.resetMode(c)),this._parser.registerCsiHandler({prefix:"?",final:"l"},c=>this.resetModePrivate(c)),this._parser.registerCsiHandler({final:"m"},c=>this.charAttributes(c)),this._parser.registerCsiHandler({final:"n"},c=>this.deviceStatus(c)),this._parser.registerCsiHandler({prefix:"?",final:"n"},c=>this.deviceStatusPrivate(c)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},c=>this.softReset(c)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},c=>this.setCursorStyle(c)),this._parser.registerCsiHandler({final:"r"},c=>this.setScrollRegion(c)),this._parser.registerCsiHandler({final:"s"},c=>this.saveCursor(c)),this._parser.registerCsiHandler({final:"t"},c=>this.windowOptions(c)),this._parser.registerCsiHandler({final:"u"},c=>this.restoreCursor(c)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},c=>this.insertColumns(c)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},c=>this.deleteColumns(c)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},c=>this.selectProtected(c)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},c=>this.requestMode(c,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},c=>this.requestMode(c,!1)),this._parser.setExecuteHandler(B.BEL,()=>this.bell()),this._parser.setExecuteHandler(B.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(B.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(B.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(B.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(B.BS,()=>this.backspace()),this._parser.setExecuteHandler(B.HT,()=>this.tab()),this._parser.setExecuteHandler(B.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(B.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(Rl.IND,()=>this.index()),this._parser.setExecuteHandler(Rl.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(Rl.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new Ut(c=>(this.setTitle(c),this.setIconName(c),!0))),this._parser.registerOscHandler(1,new Ut(c=>this.setIconName(c))),this._parser.registerOscHandler(2,new Ut(c=>this.setTitle(c))),this._parser.registerOscHandler(4,new Ut(c=>this.setOrReportIndexedColor(c))),this._parser.registerOscHandler(8,new Ut(c=>this.setHyperlink(c))),this._parser.registerOscHandler(10,new Ut(c=>this.setOrReportFgColor(c))),this._parser.registerOscHandler(11,new Ut(c=>this.setOrReportBgColor(c))),this._parser.registerOscHandler(12,new Ut(c=>this.setOrReportCursorColor(c))),this._parser.registerOscHandler(104,new Ut(c=>this.restoreIndexedColor(c))),this._parser.registerOscHandler(110,new Ut(c=>this.restoreFgColor(c))),this._parser.registerOscHandler(111,new Ut(c=>this.restoreBgColor(c))),this._parser.registerOscHandler(112,new Ut(c=>this.restoreCursorColor(c))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(let c in Ze)this._parser.registerEscHandler({intermediates:"(",final:c},()=>this.selectCharset("("+c)),this._parser.registerEscHandler({intermediates:")",final:c},()=>this.selectCharset(")"+c)),this._parser.registerEscHandler({intermediates:"*",final:c},()=>this.selectCharset("*"+c)),this._parser.registerEscHandler({intermediates:"+",final:c},()=>this.selectCharset("+"+c)),this._parser.registerEscHandler({intermediates:"-",final:c},()=>this.selectCharset("-"+c)),this._parser.registerEscHandler({intermediates:".",final:c},()=>this.selectCharset("."+c)),this._parser.registerEscHandler({intermediates:"/",final:c},()=>this.selectCharset("/"+c));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(c=>(this._logService.error("Parsing error: ",c),c)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new Mv((c,u)=>this.requestStatusString(c,u)))}getAttrData(){return this._curAttrData}_preserveStack(e,t,r,i){this._parseStack.paused=!0,this._parseStack.cursorStartX=e,this._parseStack.cursorStartY=t,this._parseStack.decodedLength=r,this._parseStack.position=i}_logSlowResolvingAsync(e){this._logService.logLevel<=3&&Promise.race([e,new Promise((t,r)=>setTimeout(()=>r("#SLOW_TIMEOUT"),Fv))]).catch(t=>{if(t!=="#SLOW_TIMEOUT")throw t;console.warn(`async parser handler taking longer than ${Fv} ms`)})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(e,t){let r,i=this._activeBuffer.x,n=this._activeBuffer.y,s=0,o=this._parseStack.paused;if(o){if(r=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,t))return this._logSlowResolvingAsync(r),r;i=this._parseStack.cursorStartX,n=this._parseStack.cursorStartY,this._parseStack.paused=!1,e.length>xi&&(s=this._parseStack.position+xi)}if(this._logService.logLevel<=1&&this._logService.debug(`parsing data${typeof e=="string"?` "${e}"`:` "${Array.prototype.map.call(e,c=>String.fromCharCode(c)).join("")}"`}`,typeof e=="string"?e.split("").map(c=>c.charCodeAt(0)):e),this._parseBuffer.length<e.length&&this._parseBuffer.length<xi&&(this._parseBuffer=new Uint32Array(Math.min(e.length,xi))),o||this._dirtyRowTracker.clearRange(),e.length>xi)for(let c=s;c<e.length;c+=xi){let u=c+xi<e.length?c+xi:e.length,h=typeof e=="string"?this._stringDecoder.decode(e.substring(c,u),this._parseBuffer):this._utf8Decoder.decode(e.subarray(c,u),this._parseBuffer);if(r=this._parser.parse(this._parseBuffer,h))return this._preserveStack(i,n,h,c),this._logSlowResolvingAsync(r),r}else if(!o){let c=typeof e=="string"?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer);if(r=this._parser.parse(this._parseBuffer,c))return this._preserveStack(i,n,c,0),this._logSlowResolvingAsync(r),r}(this._activeBuffer.x!==i||this._activeBuffer.y!==n)&&this._onCursorMove.fire();let a=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),l=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);l<this._bufferService.rows&&this._onRequestRefreshRows.fire({start:Math.min(l,this._bufferService.rows-1),end:Math.min(a,this._bufferService.rows-1)})}print(e,t,r){let i,n,s=this._charsetService.charset,o=this._optionsService.rawOptions.screenReaderMode,a=this._bufferService.cols,l=this._coreService.decPrivateModes.wraparound,c=this._coreService.modes.insertMode,u=this._curAttrData,h=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&r-t>0&&h.getWidth(this._activeBuffer.x-1)===2&&h.setCellFromCodepoint(this._activeBuffer.x-1,0,1,u);let d=this._parser.precedingJoinState;for(let f=t;f<r;++f){if(i=e[f],i<127&&s){let m=s[String.fromCharCode(i)];m&&(i=m.charCodeAt(0))}let p=this._unicodeService.charProperties(i,d);n=gn.extractWidth(p);let g=gn.extractShouldJoin(p),S=g?gn.extractWidth(d):0;if(d=p,o&&this._onA11yChar.fire(Pi(i)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+n-S>a){if(l){let m=h,v=this._activeBuffer.x-S;for(this._activeBuffer.x=S,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),h=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),S>0&&h instanceof go&&h.copyCellsFrom(m,v,0,S,!1);v<a;)m.setCellFromCodepoint(v++,0,1,u)}else if(this._activeBuffer.x=a-1,n===2)continue}if(g&&this._activeBuffer.x){let m=h.getWidth(this._activeBuffer.x-1)?1:2;h.addCodepointToCell(this._activeBuffer.x-m,i,n);for(let v=n-S;--v>=0;)h.setCellFromCodepoint(this._activeBuffer.x++,0,0,u);continue}if(c&&(h.insertCells(this._activeBuffer.x,n-S,this._activeBuffer.getNullCell(u)),h.getWidth(a-1)===2&&h.setCellFromCodepoint(a-1,0,1,u)),h.setCellFromCodepoint(this._activeBuffer.x++,i,n,u),n>0)for(;--n;)h.setCellFromCodepoint(this._activeBuffer.x++,0,0,u)}this._parser.precedingJoinState=d,this._activeBuffer.x<a&&r-t>0&&h.getWidth(this._activeBuffer.x)===0&&!h.hasContent(this._activeBuffer.x)&&h.setCellFromCodepoint(this._activeBuffer.x,0,1,u),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(e,t){return e.final==="t"&&!e.prefix&&!e.intermediates?this._parser.registerCsiHandler(e,r=>$v(r.params[0],this._optionsService.rawOptions.windowOptions)?t(r):!0):this._parser.registerCsiHandler(e,t)}registerDcsHandler(e,t){return this._parser.registerDcsHandler(e,new Mv(t))}registerEscHandler(e,t){return this._parser.registerEscHandler(e,t)}registerOscHandler(e,t){return this._parser.registerOscHandler(e,new Ut(t))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var e;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&e.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);t.hasWidth(this._activeBuffer.x)&&!t.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let e=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-e),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(e=this._bufferService.cols-1){this._activeBuffer.x=Math.min(e,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(e,t){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=e,this._activeBuffer.y=this._activeBuffer.scrollTop+t):(this._activeBuffer.x=e,this._activeBuffer.y=t),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(e,t){this._restrictCursor(),this._setCursor(this._activeBuffer.x+e,this._activeBuffer.y+t)}cursorUp(e){let t=this._activeBuffer.y-this._activeBuffer.scrollTop;return t>=0?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1)),!0}cursorDown(e){let t=this._activeBuffer.scrollBottom-this._activeBuffer.y;return t>=0?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1),!0}cursorForward(e){return this._moveCursor(e.params[0]||1,0),!0}cursorBackward(e){return this._moveCursor(-(e.params[0]||1),0),!0}cursorNextLine(e){return this.cursorDown(e),this._activeBuffer.x=0,!0}cursorPrecedingLine(e){return this.cursorUp(e),this._activeBuffer.x=0,!0}cursorCharAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(e){return this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1),!0}charPosAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(e){return this._moveCursor(e.params[0]||1,0),!0}linePosAbsolute(e){return this._setCursor(this._activeBuffer.x,(e.params[0]||1)-1),!0}vPositionRelative(e){return this._moveCursor(0,e.params[0]||1),!0}hVPosition(e){return this.cursorPosition(e),!0}tabClear(e){let t=e.params[0];return t===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:t===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(e){let t=e.params[0];return t===1&&(this._curAttrData.bg|=536870912),(t===2||t===0)&&(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(e,t,r,i=!1,n=!1){let s=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);s.replaceCells(t,r,this._activeBuffer.getNullCell(this._eraseAttrData()),n),i&&(s.isWrapped=!1)}_resetBufferLine(e,t=!1){let r=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);r&&(r.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),t),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+e),r.isWrapped=!1)}eraseInDisplay(e,t=!1){var i;this._restrictCursor(this._bufferService.cols);let r;switch(e.params[0]){case 0:for(r=this._activeBuffer.y,this._dirtyRowTracker.markDirty(r),this._eraseInBufferLine(r++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,t);r<this._bufferService.rows;r++)this._resetBufferLine(r,t);this._dirtyRowTracker.markDirty(r);break;case 1:for(r=this._activeBuffer.y,this._dirtyRowTracker.markDirty(r),this._eraseInBufferLine(r,0,this._activeBuffer.x+1,!0,t),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(r+1).isWrapped=!1);r--;)this._resetBufferLine(r,t);this._dirtyRowTracker.markDirty(0);break;case 2:if(this._optionsService.rawOptions.scrollOnEraseInDisplay){for(r=this._bufferService.rows,this._dirtyRowTracker.markRangeDirty(0,r-1);r--&&!((i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r))!=null&&i.getTrimmedLength()););for(;r>=0;r--)this._bufferService.scroll(this._eraseAttrData())}else{for(r=this._bufferService.rows,this._dirtyRowTracker.markDirty(r-1);r--;)this._resetBufferLine(r,t);this._dirtyRowTracker.markDirty(0)}break;case 3:let n=this._activeBuffer.lines.length-this._bufferService.rows;n>0&&(this._activeBuffer.lines.trimStart(n),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-n,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-n,0),this._onScroll.fire(0));break}return!0}eraseInLine(e,t=!1){switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,t);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,t);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,t);break}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let r=this._activeBuffer.ybase+this._activeBuffer.y,i=this._bufferService.rows-1-this._activeBuffer.scrollBottom,n=this._bufferService.rows-1+this._activeBuffer.ybase-i+1;for(;t--;)this._activeBuffer.lines.splice(n-1,1),this._activeBuffer.lines.splice(r,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let r=this._activeBuffer.ybase+this._activeBuffer.y,i;for(i=this._bufferService.rows-1-this._activeBuffer.scrollBottom,i=this._bufferService.rows-1+this._activeBuffer.ybase-i;t--;)this._activeBuffer.lines.splice(r,1),this._activeBuffer.lines.splice(i,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.insertCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.deleteCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(We));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){let i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.deleteCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData())),i.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){let i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.insertCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData())),i.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){let i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.insertCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData())),i.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){let i=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);i.deleteCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData())),i.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(e.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(e){let t=this._parser.precedingJoinState;if(!t)return!0;let r=e.params[0]||1,i=gn.extractWidth(t),n=this._activeBuffer.x-i,s=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(n),o=new Uint32Array(s.length*r),a=0;for(let c=0;c<s.length;){let u=s.codePointAt(c)||0;o[a++]=u,c+=u>65535?2:1}let l=a;for(let c=1;c<r;++c)o.copyWithin(l,0,a),l+=a;return this.print(o,0,l),!0}sendDeviceAttributesPrimary(e){return e.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(B.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(B.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(e){return e.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(B.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(B.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(B.ESC+"[>83;40003;0c")),!0}_is(e){return(this._optionsService.rawOptions.termName+"").indexOf(e)===0}setMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0;break}return!0}setModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,hn),this._charsetService.setgCharset(1,hn),this._charsetService.setgCharset(2,hn),this._charsetService.setgCharset(3,hn);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(void 0),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0;break}return!0}resetMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1;break}return!0}resetModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),e.params[t]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(void 0),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1;break}return!0}requestMode(e,t){let r;(g=>(g[g.NOT_RECOGNIZED=0]="NOT_RECOGNIZED",g[g.SET=1]="SET",g[g.RESET=2]="RESET",g[g.PERMANENTLY_SET=3]="PERMANENTLY_SET",g[g.PERMANENTLY_RESET=4]="PERMANENTLY_RESET"))(r||(r={}));let i=this._coreService.decPrivateModes,{activeProtocol:n,activeEncoding:s}=this._coreMouseService,o=this._coreService,{buffers:a,cols:l}=this._bufferService,{active:c,alt:u}=a,h=this._optionsService.rawOptions,d=(g,S)=>(o.triggerDataEvent(`${B.ESC}[${t?"":"?"}${g};${S}$y`),!0),f=g=>g?1:2,p=e.params[0];return t?p===2?d(p,4):p===4?d(p,f(o.modes.insertMode)):p===12?d(p,3):p===20?d(p,f(h.convertEol)):d(p,0):p===1?d(p,f(i.applicationCursorKeys)):p===3?d(p,h.windowOptions.setWinLines?l===80?2:l===132?1:0:0):p===6?d(p,f(i.origin)):p===7?d(p,f(i.wraparound)):p===8?d(p,3):p===9?d(p,f(n==="X10")):p===12?d(p,f(h.cursorBlink)):p===25?d(p,f(!o.isCursorHidden)):p===45?d(p,f(i.reverseWraparound)):p===66?d(p,f(i.applicationKeypad)):p===67?d(p,4):p===1e3?d(p,f(n==="VT200")):p===1002?d(p,f(n==="DRAG")):p===1003?d(p,f(n==="ANY")):p===1004?d(p,f(i.sendFocus)):p===1005?d(p,4):p===1006?d(p,f(s==="SGR")):p===1015?d(p,4):p===1016?d(p,f(s==="SGR_PIXELS")):p===1048?d(p,1):p===47||p===1047||p===1049?d(p,f(c===u)):p===2004?d(p,f(i.bracketedPasteMode)):d(p,0)}_updateAttrColor(e,t,r,i,n){return t===2?(e|=50331648,e&=-16777216,e|=va.fromColorRGB([r,i,n])):t===5&&(e&=-50331904,e|=33554432|r&255),e}_extractColor(e,t,r){let i=[0,0,-1,0,0,0],n=0,s=0;do{if(i[s+n]=e.params[t+s],e.hasSubParams(t+s)){let o=e.getSubParams(t+s),a=0;do i[1]===5&&(n=1),i[s+a+1+n]=o[a];while(++a<o.length&&a+s+1+n<i.length);break}if(i[1]===5&&s+n>=2||i[1]===2&&s+n>=5)break;i[1]&&(n=1)}while(++s+t<e.length&&s+n<i.length);for(let o=2;o<i.length;++o)i[o]===-1&&(i[o]=0);switch(i[0]){case 38:r.fg=this._updateAttrColor(r.fg,i[1],i[3],i[4],i[5]);break;case 48:r.bg=this._updateAttrColor(r.bg,i[1],i[3],i[4],i[5]);break;case 58:r.extended=r.extended.clone(),r.extended.underlineColor=this._updateAttrColor(r.extended.underlineColor,i[1],i[3],i[4],i[5])}return s}_processUnderline(e,t){t.extended=t.extended.clone(),(!~e||e>5)&&(e=1),t.extended.underlineStyle=e,t.fg|=268435456,e===0&&(t.fg&=-268435457),t.updateExtended()}_processSGR0(e){e.fg=We.fg,e.bg=We.bg,e.extended=e.extended.clone(),e.extended.underlineStyle=0,e.extended.underlineColor&=-67108864,e.updateExtended()}charAttributes(e){if(e.length===1&&e.params[0]===0)return this._processSGR0(this._curAttrData),!0;let t=e.length,r,i=this._curAttrData;for(let n=0;n<t;n++)r=e.params[n],r>=30&&r<=37?(i.fg&=-50331904,i.fg|=16777216|r-30):r>=40&&r<=47?(i.bg&=-50331904,i.bg|=16777216|r-40):r>=90&&r<=97?(i.fg&=-50331904,i.fg|=16777216|r-90|8):r>=100&&r<=107?(i.bg&=-50331904,i.bg|=16777216|r-100|8):r===0?this._processSGR0(i):r===1?i.fg|=134217728:r===3?i.bg|=67108864:r===4?(i.fg|=268435456,this._processUnderline(e.hasSubParams(n)?e.getSubParams(n)[0]:1,i)):r===5?i.fg|=536870912:r===7?i.fg|=67108864:r===8?i.fg|=1073741824:r===9?i.fg|=2147483648:r===2?i.bg|=134217728:r===21?this._processUnderline(2,i):r===22?(i.fg&=-134217729,i.bg&=-134217729):r===23?i.bg&=-67108865:r===24?(i.fg&=-268435457,this._processUnderline(0,i)):r===25?i.fg&=-536870913:r===27?i.fg&=-67108865:r===28?i.fg&=-1073741825:r===29?i.fg&=2147483647:r===39?(i.fg&=-67108864,i.fg|=We.fg&16777215):r===49?(i.bg&=-67108864,i.bg|=We.bg&16777215):r===38||r===48||r===58?n+=this._extractColor(e,n,i):r===53?i.bg|=1073741824:r===55?i.bg&=-1073741825:r===59?(i.extended=i.extended.clone(),i.extended.underlineColor=-1,i.updateExtended()):r===100?(i.fg&=-67108864,i.fg|=We.fg&16777215,i.bg&=-67108864,i.bg|=We.bg&16777215):this._logService.debug("Unknown SGR attribute: %d.",r);return!0}deviceStatus(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(`${B.ESC}[0n`);break;case 6:let t=this._activeBuffer.y+1,r=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${B.ESC}[${t};${r}R`);break}return!0}deviceStatusPrivate(e){switch(e.params[0]){case 6:let t=this._activeBuffer.y+1,r=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${B.ESC}[?${t};${r}R`);break}return!0}softReset(e){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=We.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(e){let t=e.length===0?1:e.params[0];if(t===0)this._coreService.decPrivateModes.cursorStyle=void 0,this._coreService.decPrivateModes.cursorBlink=void 0;else{switch(t){case 1:case 2:this._coreService.decPrivateModes.cursorStyle="block";break;case 3:case 4:this._coreService.decPrivateModes.cursorStyle="underline";break;case 5:case 6:this._coreService.decPrivateModes.cursorStyle="bar";break}let r=t%2===1;this._coreService.decPrivateModes.cursorBlink=r}return!0}setScrollRegion(e){let t=e.params[0]||1,r;return(e.length<2||(r=e.params[1])>this._bufferService.rows||r===0)&&(r=this._bufferService.rows),r>t&&(this._activeBuffer.scrollTop=t-1,this._activeBuffer.scrollBottom=r-1,this._setCursor(0,0)),!0}windowOptions(e){if(!$v(e.params[0],this._optionsService.rawOptions.windowOptions))return!0;let t=e.length>1?e.params[1]:0;switch(e.params[0]){case 14:t!==2&&this._onRequestWindowsOptionsReport.fire(0);break;case 16:this._onRequestWindowsOptionsReport.fire(1);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${B.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:(t===0||t===2)&&(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>zv&&this._windowTitleStack.shift()),(t===0||t===1)&&(this._iconNameStack.push(this._iconName),this._iconNameStack.length>zv&&this._iconNameStack.shift());break;case 23:(t===0||t===2)&&this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),(t===0||t===1)&&this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop());break}return!0}saveCursor(e){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(e){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(e){return this._windowTitle=e,this._onTitleChange.fire(e),!0}setIconName(e){return this._iconName=e,!0}setOrReportIndexedColor(e){let t=[],r=e.split(";");for(;r.length>1;){let i=r.shift(),n=r.shift();if(/^\d+$/.exec(i)){let s=parseInt(i);if(Vv(s))if(n==="?")t.push({type:0,index:s});else{let o=Bv(n);o&&t.push({type:1,index:s,color:o})}}}return t.length&&this._onColor.fire(t),!0}setHyperlink(e){let t=e.indexOf(";");if(t===-1)return!0;let r=e.slice(0,t).trim(),i=e.slice(t+1);return i?this._createHyperlink(r,i):r.trim()?!1:this._finishHyperlink()}_createHyperlink(e,t){this._getCurrentLinkId()&&this._finishHyperlink();let r=e.split(":"),i,n=r.findIndex(s=>s.startsWith("id="));return n!==-1&&(i=r[n].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:i,uri:t}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(e,t){let r=e.split(";");for(let i=0;i<r.length&&!(t>=this._specialColors.length);++i,++t)if(r[i]==="?")this._onColor.fire([{type:0,index:this._specialColors[t]}]);else{let n=Bv(r[i]);n&&this._onColor.fire([{type:1,index:this._specialColors[t],color:n}])}return!0}setOrReportFgColor(e){return this._setOrReportSpecialColor(e,0)}setOrReportBgColor(e){return this._setOrReportSpecialColor(e,1)}setOrReportCursorColor(e){return this._setOrReportSpecialColor(e,2)}restoreIndexedColor(e){if(!e)return this._onColor.fire([{type:2}]),!0;let t=[],r=e.split(";");for(let i=0;i<r.length;++i)if(/^\d+$/.exec(r[i])){let n=parseInt(r[i]);Vv(n)&&t.push({type:2,index:n})}return t.length&&this._onColor.fire(t),!0}restoreFgColor(e){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(e){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(e){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,hn),!0}selectCharset(e){return e.length!==2?(this.selectDefaultCharset(),!0):(e[0]==="/"||this._charsetService.setgCharset(LM[e[0]],Ze[e[1]]||hn),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){let e=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,e,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=We.clone(),this._eraseAttrDataInternal=We.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=this._curAttrData.bg&67108863,this._eraseAttrDataInternal}setgLevel(e){return this._charsetService.setgLevel(e),!0}screenAlignmentPattern(){let e=new fr;e.content=1<<22|69,e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg,this._setCursor(0,0);for(let t=0;t<this._bufferService.rows;++t){let r=this._activeBuffer.ybase+this._activeBuffer.y+t,i=this._activeBuffer.lines.get(r);i&&(i.fill(e),i.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(e,t){let r=o=>(this._coreService.triggerDataEvent(`${B.ESC}${o}${B.ESC}\\`),!0),i=this._bufferService.buffer,n=this._optionsService.rawOptions;return r(e==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:e==='"p'?'P1$r61;1"p':e==="r"?`P1$r${i.scrollTop+1};${i.scrollBottom+1}r`:e==="m"?"P1$r0m":e===" q"?`P1$r${{block:2,underline:4,bar:6}[n.cursorStyle]-(n.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(e,t){this._dirtyRowTracker.markRangeDirty(e,t)}},zf=class{constructor(e){this._bufferService=e,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(e){e<this.start?this.start=e:e>this.end&&(this.end=e)}markRangeDirty(e,t){e>t&&(Hv=e,e=t,t=Hv),e<this.start&&(this.start=e),t>this.end&&(this.end=t)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};zf=$e([j(0,Nt)],zf);function Vv(e){return 0<=e&&e<256}var NM=5e7,Wv=12,OM=50,IM=class extends ne{constructor(e){super(),this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this._register(new V),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(e,t){if(t!==void 0&&this._syncCalls>t){this._syncCalls=0;return}if(this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;this._isSyncWriting=!0;let r;for(;r=this._writeBuffer.shift();){this._action(r);let i=this._callbacks.shift();i&&i()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(e,t){if(this._pendingData>NM)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput){this._didUserInput=!1,this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t),this._innerWrite();return}setTimeout(()=>this._innerWrite())}this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)}_innerWrite(e=0,t=!0){let r=e||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){let i=this._writeBuffer[this._bufferOffset],n=this._action(i,t);if(n){let o=a=>Date.now()-r>=Wv?setTimeout(()=>this._innerWrite(0,a)):this._innerWrite(r,a);n.catch(a=>(queueMicrotask(()=>{throw a}),Promise.resolve(!1))).then(o);return}let s=this._callbacks[this._bufferOffset];if(s&&s(),this._bufferOffset++,this._pendingData-=i.length,Date.now()-r>=Wv)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>OM&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}},$f=class{constructor(e){this._bufferService=e,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(e){let t=this._bufferService.buffer;if(e.id===void 0){let a=t.addMarker(t.ybase+t.y),l={data:e,id:this._nextId++,lines:[a]};return a.onDispose(()=>this._removeMarkerFromLink(l,a)),this._dataByLinkId.set(l.id,l),l.id}let r=e,i=this._getEntryIdKey(r),n=this._entriesWithId.get(i);if(n)return this.addLineToLink(n.id,t.ybase+t.y),n.id;let s=t.addMarker(t.ybase+t.y),o={id:this._nextId++,key:this._getEntryIdKey(r),data:r,lines:[s]};return s.onDispose(()=>this._removeMarkerFromLink(o,s)),this._entriesWithId.set(o.key,o),this._dataByLinkId.set(o.id,o),o.id}addLineToLink(e,t){let r=this._dataByLinkId.get(e);if(r&&r.lines.every(i=>i.line!==t)){let i=this._bufferService.buffer.addMarker(t);r.lines.push(i),i.onDispose(()=>this._removeMarkerFromLink(r,i))}}getLinkData(e){var t;return(t=this._dataByLinkId.get(e))==null?void 0:t.data}_getEntryIdKey(e){return`${e.id};;${e.uri}`}_removeMarkerFromLink(e,t){let r=e.lines.indexOf(t);r!==-1&&(e.lines.splice(r,1),e.lines.length===0&&(e.data.id!==void 0&&this._entriesWithId.delete(e.key),this._dataByLinkId.delete(e.id)))}};$f=$e([j(0,Nt)],$f);var Uv=!1,MM=class extends ne{constructor(e){super(),this._windowsWrappingHeuristics=this._register(new Rs),this._onBinary=this._register(new V),this.onBinary=this._onBinary.event,this._onData=this._register(new V),this.onData=this._onData.event,this._onLineFeed=this._register(new V),this.onLineFeed=this._onLineFeed.event,this._onResize=this._register(new V),this.onResize=this._onResize.event,this._onWriteParsed=this._register(new V),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this._register(new V),this._instantiationService=new oM,this.optionsService=this._register(new _M(e)),this._instantiationService.setService(Ot,this.optionsService),this._bufferService=this._register(this._instantiationService.createInstance(Of)),this._instantiationService.setService(Nt,this._bufferService),this._logService=this._register(this._instantiationService.createInstance(Nf)),this._instantiationService.setService(WC,this._logService),this.coreService=this._register(this._instantiationService.createInstance(If)),this._instantiationService.setService(zs,this.coreService),this.coreMouseService=this._register(this._instantiationService.createInstance(Mf)),this._instantiationService.setService(VC,this.coreMouseService),this.unicodeService=this._register(this._instantiationService.createInstance(gn)),this._instantiationService.setService(r5,this.unicodeService),this._charsetService=this._instantiationService.createInstance(wM),this._instantiationService.setService(t5,this._charsetService),this._oscLinkService=this._instantiationService.createInstance($f),this._instantiationService.setService(UC,this._oscLinkService),this._inputHandler=this._register(new DM(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this._register(pt.forward(this._inputHandler.onLineFeed,this._onLineFeed)),this._register(this._inputHandler),this._register(pt.forward(this._bufferService.onResize,this._onResize)),this._register(pt.forward(this.coreService.onData,this._onData)),this._register(pt.forward(this.coreService.onBinary,this._onBinary)),this._register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom(!0))),this._register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this._register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this._register(this._bufferService.onScroll(()=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this._register(new IM((t,r)=>this._inputHandler.parse(t,r))),this._register(pt.forward(this._writeBuffer.onWriteParsed,this._onWriteParsed))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this._register(new V),this._onScroll.event(e=>{var t;(t=this._onScrollApi)==null||t.fire(e.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(e){for(let t in e)this.optionsService.options[t]=e[t]}write(e,t){this._writeBuffer.write(e,t)}writeSync(e,t){this._logService.logLevel<=3&&!Uv&&(this._logService.warn("writeSync is unreliable and will be removed soon."),Uv=!0),this._writeBuffer.writeSync(e,t)}input(e,t=!0){this.coreService.triggerDataEvent(e,t)}resize(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,bb),t=Math.max(t,xb),this._bufferService.resize(e,t))}scroll(e,t=!1){this._bufferService.scroll(e,t)}scrollLines(e,t){this._bufferService.scrollLines(e,t)}scrollPages(e){this.scrollLines(e*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(e){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(e){let t=e-this._bufferService.buffer.ydisp;t!==0&&this.scrollLines(t)}registerEscHandler(e,t){return this._inputHandler.registerEscHandler(e,t)}registerDcsHandler(e,t){return this._inputHandler.registerDcsHandler(e,t)}registerCsiHandler(e,t){return this._inputHandler.registerCsiHandler(e,t)}registerOscHandler(e,t){return this._inputHandler.registerOscHandler(e,t)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let e=!1,t=this.optionsService.rawOptions.windowsPty;t&&t.buildNumber!==void 0&&t.buildNumber!==void 0?e=t.backend==="conpty"&&t.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(e=!0),e?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){let e=[];e.push(this.onLineFeed(Iv.bind(null,this._bufferService))),e.push(this.registerCsiHandler({final:"H"},()=>(Iv(this._bufferService),!1))),this._windowsWrappingHeuristics.value=Me(()=>{for(let t of e)t.dispose()})}}},BM={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};function zM(e,t,r,i){var o;let n={type:0,cancel:!1,key:void 0},s=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:e.key==="UIKeyInputUpArrow"?t?n.key=B.ESC+"OA":n.key=B.ESC+"[A":e.key==="UIKeyInputLeftArrow"?t?n.key=B.ESC+"OD":n.key=B.ESC+"[D":e.key==="UIKeyInputRightArrow"?t?n.key=B.ESC+"OC":n.key=B.ESC+"[C":e.key==="UIKeyInputDownArrow"&&(t?n.key=B.ESC+"OB":n.key=B.ESC+"[B");break;case 8:n.key=e.ctrlKey?"\b":B.DEL,e.altKey&&(n.key=B.ESC+n.key);break;case 9:if(e.shiftKey){n.key=B.ESC+"[Z";break}n.key=B.HT,n.cancel=!0;break;case 13:n.key=e.altKey?B.ESC+B.CR:B.CR,n.cancel=!0;break;case 27:n.key=B.ESC,e.altKey&&(n.key=B.ESC+B.ESC),n.cancel=!0;break;case 37:if(e.metaKey)break;s?n.key=B.ESC+"[1;"+(s+1)+"D":t?n.key=B.ESC+"OD":n.key=B.ESC+"[D";break;case 39:if(e.metaKey)break;s?n.key=B.ESC+"[1;"+(s+1)+"C":t?n.key=B.ESC+"OC":n.key=B.ESC+"[C";break;case 38:if(e.metaKey)break;s?n.key=B.ESC+"[1;"+(s+1)+"A":t?n.key=B.ESC+"OA":n.key=B.ESC+"[A";break;case 40:if(e.metaKey)break;s?n.key=B.ESC+"[1;"+(s+1)+"B":t?n.key=B.ESC+"OB":n.key=B.ESC+"[B";break;case 45:!e.shiftKey&&!e.ctrlKey&&(n.key=B.ESC+"[2~");break;case 46:s?n.key=B.ESC+"[3;"+(s+1)+"~":n.key=B.ESC+"[3~";break;case 36:s?n.key=B.ESC+"[1;"+(s+1)+"H":t?n.key=B.ESC+"OH":n.key=B.ESC+"[H";break;case 35:s?n.key=B.ESC+"[1;"+(s+1)+"F":t?n.key=B.ESC+"OF":n.key=B.ESC+"[F";break;case 33:e.shiftKey?n.type=2:e.ctrlKey?n.key=B.ESC+"[5;"+(s+1)+"~":n.key=B.ESC+"[5~";break;case 34:e.shiftKey?n.type=3:e.ctrlKey?n.key=B.ESC+"[6;"+(s+1)+"~":n.key=B.ESC+"[6~";break;case 112:s?n.key=B.ESC+"[1;"+(s+1)+"P":n.key=B.ESC+"OP";break;case 113:s?n.key=B.ESC+"[1;"+(s+1)+"Q":n.key=B.ESC+"OQ";break;case 114:s?n.key=B.ESC+"[1;"+(s+1)+"R":n.key=B.ESC+"OR";break;case 115:s?n.key=B.ESC+"[1;"+(s+1)+"S":n.key=B.ESC+"OS";break;case 116:s?n.key=B.ESC+"[15;"+(s+1)+"~":n.key=B.ESC+"[15~";break;case 117:s?n.key=B.ESC+"[17;"+(s+1)+"~":n.key=B.ESC+"[17~";break;case 118:s?n.key=B.ESC+"[18;"+(s+1)+"~":n.key=B.ESC+"[18~";break;case 119:s?n.key=B.ESC+"[19;"+(s+1)+"~":n.key=B.ESC+"[19~";break;case 120:s?n.key=B.ESC+"[20;"+(s+1)+"~":n.key=B.ESC+"[20~";break;case 121:s?n.key=B.ESC+"[21;"+(s+1)+"~":n.key=B.ESC+"[21~";break;case 122:s?n.key=B.ESC+"[23;"+(s+1)+"~":n.key=B.ESC+"[23~";break;case 123:s?n.key=B.ESC+"[24;"+(s+1)+"~":n.key=B.ESC+"[24~";break;default:if(e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey)e.keyCode>=65&&e.keyCode<=90?n.key=String.fromCharCode(e.keyCode-64):e.keyCode===32?n.key=B.NUL:e.keyCode>=51&&e.keyCode<=55?n.key=String.fromCharCode(e.keyCode-51+27):e.keyCode===56?n.key=B.DEL:e.keyCode===219?n.key=B.ESC:e.keyCode===220?n.key=B.FS:e.keyCode===221&&(n.key=B.GS);else if((!r||i)&&e.altKey&&!e.metaKey){let a=(o=BM[e.keyCode])==null?void 0:o[e.shiftKey?1:0];if(a)n.key=B.ESC+a;else if(e.keyCode>=65&&e.keyCode<=90){let l=e.ctrlKey?e.keyCode-64:e.keyCode+32,c=String.fromCharCode(l);e.shiftKey&&(c=c.toUpperCase()),n.key=B.ESC+c}else if(e.keyCode===32)n.key=B.ESC+(e.ctrlKey?B.NUL:" ");else if(e.key==="Dead"&&e.code.startsWith("Key")){let l=e.code.slice(3,4);e.shiftKey||(l=l.toLowerCase()),n.key=B.ESC+l,n.cancel=!0}}else r&&!e.altKey&&!e.ctrlKey&&!e.shiftKey&&e.metaKey?e.keyCode===65&&(n.type=1):e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&e.key.length===1?n.key=e.key:e.key&&e.ctrlKey&&(e.key==="_"&&(n.key=B.US),e.key==="@"&&(n.key=B.NUL));break}return n}var Fe=0,$M=class{constructor(e){this._getKey=e,this._array=[],this._insertedValues=[],this._flushInsertedTask=new Pc,this._isFlushingInserted=!1,this._deletedIndices=[],this._flushDeletedTask=new Pc,this._isFlushingDeleted=!1}clear(){this._array.length=0,this._insertedValues.length=0,this._flushInsertedTask.clear(),this._isFlushingInserted=!1,this._deletedIndices.length=0,this._flushDeletedTask.clear(),this._isFlushingDeleted=!1}insert(e){this._flushCleanupDeleted(),this._insertedValues.length===0&&this._flushInsertedTask.enqueue(()=>this._flushInserted()),this._insertedValues.push(e)}_flushInserted(){let e=this._insertedValues.sort((n,s)=>this._getKey(n)-this._getKey(s)),t=0,r=0,i=new Array(this._array.length+this._insertedValues.length);for(let n=0;n<i.length;n++)r>=this._array.length||this._getKey(e[t])<=this._getKey(this._array[r])?(i[n]=e[t],t++):i[n]=this._array[r++];this._array=i,this._insertedValues.length=0}_flushCleanupInserted(){!this._isFlushingInserted&&this._insertedValues.length>0&&this._flushInsertedTask.flush()}delete(e){if(this._flushCleanupInserted(),this._array.length===0)return!1;let t=this._getKey(e);if(t===void 0||(Fe=this._search(t),Fe===-1)||this._getKey(this._array[Fe])!==t)return!1;do if(this._array[Fe]===e)return this._deletedIndices.length===0&&this._flushDeletedTask.enqueue(()=>this._flushDeleted()),this._deletedIndices.push(Fe),!0;while(++Fe<this._array.length&&this._getKey(this._array[Fe])===t);return!1}_flushDeleted(){this._isFlushingDeleted=!0;let e=this._deletedIndices.sort((n,s)=>n-s),t=0,r=new Array(this._array.length-e.length),i=0;for(let n=0;n<this._array.length;n++)e[t]===n?t++:r[i++]=this._array[n];this._array=r,this._deletedIndices.length=0,this._isFlushingDeleted=!1}_flushCleanupDeleted(){!this._isFlushingDeleted&&this._deletedIndices.length>0&&this._flushDeletedTask.flush()}*getKeyIterator(e){if(this._flushCleanupInserted(),this._flushCleanupDeleted(),this._array.length!==0&&(Fe=this._search(e),!(Fe<0||Fe>=this._array.length)&&this._getKey(this._array[Fe])===e))do yield this._array[Fe];while(++Fe<this._array.length&&this._getKey(this._array[Fe])===e)}forEachByKey(e,t){if(this._flushCleanupInserted(),this._flushCleanupDeleted(),this._array.length!==0&&(Fe=this._search(e),!(Fe<0||Fe>=this._array.length)&&this._getKey(this._array[Fe])===e))do t(this._array[Fe]);while(++Fe<this._array.length&&this._getKey(this._array[Fe])===e)}values(){return this._flushCleanupInserted(),this._flushCleanupDeleted(),[...this._array].values()}_search(e){let t=0,r=this._array.length-1;for(;r>=t;){let i=t+r>>1,n=this._getKey(this._array[i]);if(n>e)r=i-1;else if(n<e)t=i+1;else{for(;i>0&&this._getKey(this._array[i-1])===e;)i--;return i}}return t}},Ah=0,jv=0,FM=class extends ne{constructor(){super(),this._decorations=new $M(e=>e==null?void 0:e.marker.line),this._onDecorationRegistered=this._register(new V),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this._register(new V),this.onDecorationRemoved=this._onDecorationRemoved.event,this._register(Me(()=>this.reset()))}get decorations(){return this._decorations.values()}registerDecoration(e){if(e.marker.isDisposed)return;let t=new HM(e);if(t){let r=t.marker.onDispose(()=>t.dispose()),i=t.onDispose(()=>{i.dispose(),t&&(this._decorations.delete(t)&&this._onDecorationRemoved.fire(t),r.dispose())});this._decorations.insert(t),this._onDecorationRegistered.fire(t)}return t}reset(){for(let e of this._decorations.values())e.dispose();this._decorations.clear()}*getDecorationsAtCell(e,t,r){let i=0,n=0;for(let s of this._decorations.getKeyIterator(t))i=s.options.x??0,n=i+(s.options.width??1),e>=i&&e<n&&(!r||(s.options.layer??"bottom")===r)&&(yield s)}forEachDecorationAtCell(e,t,r,i){this._decorations.forEachByKey(t,n=>{Ah=n.options.x??0,jv=Ah+(n.options.width??1),e>=Ah&&e<jv&&(!r||(n.options.layer??"bottom")===r)&&i(n)})}},HM=class extends Ui{constructor(e){super(),this.options=e,this.onRenderEmitter=this.add(new V),this.onRender=this.onRenderEmitter.event,this._onDispose=this.add(new V),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=e.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=De.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=De.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}},VM=1e3,WM=class{constructor(e,t=VM){this._renderCallback=e,this._debounceThresholdMS=t,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(e,t,r){this._rowCount=r,e=e!==void 0?e:0,t=t!==void 0?t:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,e):e,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,t):t;let i=Date.now();if(i-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=i,this._innerRefresh();else if(!this._additionalRefreshRequested){let n=i-this._lastRefreshMs,s=this._debounceThresholdMS-n;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},s)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;let e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t)}},Gv=20,Tc=class extends ne{constructor(e,t,r,i){super(),this._terminal=e,this._coreBrowserService=r,this._renderService=i,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="";let n=this._coreBrowserService.mainDocument;this._accessibilityContainer=n.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=n.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let s=0;s<this._terminal.rows;s++)this._rowElements[s]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[s]);if(this._topBoundaryFocusListener=s=>this._handleBoundaryFocus(s,0),this._bottomBoundaryFocusListener=s=>this._handleBoundaryFocus(s,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=n.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this._register(new WM(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this._register(this._terminal.onResize(s=>this._handleResize(s.rows))),this._register(this._terminal.onRender(s=>this._refreshRows(s.start,s.end))),this._register(this._terminal.onScroll(()=>this._refreshRows())),this._register(this._terminal.onA11yChar(s=>this._handleChar(s))),this._register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this._register(this._terminal.onA11yTab(s=>this._handleTab(s))),this._register(this._terminal.onKey(s=>this._handleKey(s.key))),this._register(this._terminal.onBlur(()=>this._clearLiveRegion())),this._register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._register(X(n,"selectionchange",()=>this._handleSelectionChange())),this._register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRowsDimensions(),this._refreshRows(),this._register(Me(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(e){for(let t=0;t<e;t++)this._handleChar(" ")}_handleChar(e){this._liveRegionLineCount<Gv+1&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,e===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===Gv+1&&(this._liveRegion.textContent+=nf.get())))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(e){this._clearLiveRegion(),/\p{Control}/u.test(e)||this._charsToConsume.push(e)}_refreshRows(e,t){this._liveRegionDebouncer.refresh(e,t,this._terminal.rows)}_renderRows(e,t){let r=this._terminal.buffer,i=r.lines.length.toString();for(let n=e;n<=t;n++){let s=r.lines.get(r.ydisp+n),o=[],a=(s==null?void 0:s.translateToString(!0,void 0,void 0,o))||"",l=(r.ydisp+n+1).toString(),c=this._rowElements[n];c&&(a.length===0?(c.textContent="",this._rowColumns.set(c,[0,1])):(c.textContent=a,this._rowColumns.set(c,o)),c.setAttribute("aria-posinset",l),c.setAttribute("aria-setsize",i),this._alignRowWidth(c))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(e,t){let r=e.target,i=this._rowElements[t===0?1:this._rowElements.length-2],n=r.getAttribute("aria-posinset"),s=t===0?"1":`${this._terminal.buffer.lines.length}`;if(n===s||e.relatedTarget!==i)return;let o,a;if(t===0?(o=r,a=this._rowElements.pop(),this._rowContainer.removeChild(a)):(o=this._rowElements.shift(),a=r,this._rowContainer.removeChild(o)),o.removeEventListener("focus",this._topBoundaryFocusListener),a.removeEventListener("focus",this._bottomBoundaryFocusListener),t===0){let l=this._createAccessibilityTreeNode();this._rowElements.unshift(l),this._rowContainer.insertAdjacentElement("afterbegin",l)}else{let l=this._createAccessibilityTreeNode();this._rowElements.push(l),this._rowContainer.appendChild(l)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(t===0?-1:1),this._rowElements[t===0?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}_handleSelectionChange(){var a;if(this._rowElements.length===0)return;let e=this._coreBrowserService.mainDocument.getSelection();if(!e)return;if(e.isCollapsed){this._rowContainer.contains(e.anchorNode)&&this._terminal.clearSelection();return}if(!e.anchorNode||!e.focusNode){console.error("anchorNode and/or focusNode are null");return}let t={node:e.anchorNode,offset:e.anchorOffset},r={node:e.focusNode,offset:e.focusOffset};if((t.node.compareDocumentPosition(r.node)&Node.DOCUMENT_POSITION_PRECEDING||t.node===r.node&&t.offset>r.offset)&&([t,r]=[r,t]),t.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(t={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(t.node))return;let i=this._rowElements.slice(-1)[0];if(r.node.compareDocumentPosition(i)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(r={node:i,offset:((a=i.textContent)==null?void 0:a.length)??0}),!this._rowContainer.contains(r.node))return;let n=({node:l,offset:c})=>{let u=l instanceof Text?l.parentNode:l,h=parseInt(u==null?void 0:u.getAttribute("aria-posinset"),10)-1;if(isNaN(h))return console.warn("row is invalid. Race condition?"),null;let d=this._rowColumns.get(u);if(!d)return console.warn("columns is null. Race condition?"),null;let f=c<d.length?d[c]:d.slice(-1)[0]+1;return f>=this._terminal.cols&&(++h,f=0),{row:h,column:f}},s=n(t),o=n(r);if(!(!s||!o)){if(s.row>o.row||s.row===o.row&&s.column>=o.column)throw new Error("invalid range");this._terminal.select(s.column,s.row,(o.row-s.row)*this._terminal.cols-s.column+o.column)}}_handleResize(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){let e=this._coreBrowserService.mainDocument.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){Object.assign(this._accessibilityContainer.style,{width:`${this._renderService.dimensions.css.canvas.width}px`,fontSize:`${this._terminal.options.fontSize}px`}),this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e]),this._alignRowWidth(this._rowElements[e])}}_refreshRowDimensions(e){e.style.height=`${this._renderService.dimensions.css.cell.height}px`}_alignRowWidth(e){var n,s;e.style.transform="";let t=e.getBoundingClientRect().width,r=(s=(n=this._rowColumns.get(e))==null?void 0:n.slice(-1))==null?void 0:s[0];if(!r)return;let i=r*this._renderService.dimensions.css.cell.width;e.style.transform=`scaleX(${i/t})`}};Tc=$e([j(1,vm),j(2,mi),j(3,_i)],Tc);var Ff=class extends ne{constructor(e,t,r,i,n){super(),this._element=e,this._mouseService=t,this._renderService=r,this._bufferService=i,this._linkProviderService=n,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this._register(new V),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this._register(new V),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this._register(Me(()=>{var s;Tn(this._linkCacheDisposables),this._linkCacheDisposables.length=0,this._lastMouseEvent=void 0,(s=this._activeProviderReplies)==null||s.clear()})),this._register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this._register(X(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this._register(X(this._element,"mousemove",this._handleMouseMove.bind(this))),this._register(X(this._element,"mousedown",this._handleMouseDown.bind(this))),this._register(X(this._element,"mouseup",this._handleMouseUp.bind(this)))}get currentLink(){return this._currentLink}_handleMouseMove(e){this._lastMouseEvent=e;let t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(!t)return;this._isMouseOut=!1;let r=e.composedPath();for(let i=0;i<r.length;i++){let n=r[i];if(n.classList.contains("xterm"))break;if(n.classList.contains("xterm-hover"))return}(!this._lastBufferCell||t.x!==this._lastBufferCell.x||t.y!==this._lastBufferCell.y)&&(this._handleHover(t),this._lastBufferCell=t)}_handleHover(e){if(this._activeLine!==e.y||this._wasResized){this._clearCurrentLink(),this._askForLink(e,!1),this._wasResized=!1;return}this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))}_askForLink(e,t){var i,n;(!this._activeProviderReplies||!t)&&((i=this._activeProviderReplies)==null||i.forEach(s=>{s==null||s.forEach(o=>{o.link.dispose&&o.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=e.y);let r=!1;for(let[s,o]of this._linkProviderService.linkProviders.entries())t?(n=this._activeProviderReplies)!=null&&n.get(s)&&(r=this._checkLinkProviderResult(s,e,r)):o.provideLinks(e.y,a=>{var c,u;if(this._isMouseOut)return;let l=a==null?void 0:a.map(h=>({link:h}));(c=this._activeProviderReplies)==null||c.set(s,l),r=this._checkLinkProviderResult(s,e,r),((u=this._activeProviderReplies)==null?void 0:u.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(e.y,this._activeProviderReplies)})}_removeIntersectingLinks(e,t){let r=new Set;for(let i=0;i<t.size;i++){let n=t.get(i);if(n)for(let s=0;s<n.length;s++){let o=n[s],a=o.link.range.start.y<e?0:o.link.range.start.x,l=o.link.range.end.y>e?this._bufferService.cols:o.link.range.end.x;for(let c=a;c<=l;c++){if(r.has(c)){n.splice(s--,1);break}r.add(c)}}}}_checkLinkProviderResult(e,t,r){var s;if(!this._activeProviderReplies)return r;let i=this._activeProviderReplies.get(e),n=!1;for(let o=0;o<e;o++)(!this._activeProviderReplies.has(o)||this._activeProviderReplies.get(o))&&(n=!0);if(!n&&i){let o=i.find(a=>this._linkAtPosition(a.link,t));o&&(r=!0,this._handleNewLink(o))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!r)for(let o=0;o<this._activeProviderReplies.size;o++){let a=(s=this._activeProviderReplies.get(o))==null?void 0:s.find(l=>this._linkAtPosition(l.link,t));if(a){r=!0,this._handleNewLink(a);break}}return r}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(e){if(!this._currentLink)return;let t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._mouseDownLink&&UM(this._mouseDownLink.link,this._currentLink.link)&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}_clearCurrentLink(e,t){!this._currentLink||!this._lastMouseEvent||(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,Tn(this._linkCacheDisposables),this._linkCacheDisposables.length=0)}_handleNewLink(e){if(!this._lastMouseEvent)return;let t=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);t&&this._linkAtPosition(e.link,t)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:e.link.decorations===void 0?!0:e.link.decorations.underline,pointerCursor:e.link.decorations===void 0?!0:e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:()=>{var r,i;return(i=(r=this._currentLink)==null?void 0:r.state)==null?void 0:i.decorations.pointerCursor},set:r=>{var i;(i=this._currentLink)!=null&&i.state&&this._currentLink.state.decorations.pointerCursor!==r&&(this._currentLink.state.decorations.pointerCursor=r,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",r))}},underline:{get:()=>{var r,i;return(i=(r=this._currentLink)==null?void 0:r.state)==null?void 0:i.decorations.underline},set:r=>{var i,n,s;(i=this._currentLink)!=null&&i.state&&((s=(n=this._currentLink)==null?void 0:n.state)==null?void 0:s.decorations.underline)!==r&&(this._currentLink.state.decorations.underline=r,this._currentLink.state.isHovered&&this._fireUnderlineEvent(e.link,r))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(r=>{if(!this._currentLink)return;let i=r.start===0?0:r.start+1+this._bufferService.buffer.ydisp,n=this._bufferService.buffer.ydisp+1+r.end;if(this._currentLink.link.range.start.y>=i&&this._currentLink.link.range.end.y<=n&&(this._clearCurrentLink(i,n),this._lastMouseEvent)){let s=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);s&&this._askForLink(s,!1)}})))}_linkHover(e,t,r){var i;(i=this._currentLink)!=null&&i.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(r,t.text)}_fireUnderlineEvent(e,t){let r=e.range,i=this._bufferService.buffer.ydisp,n=this._createLinkUnderlineEvent(r.start.x-1,r.start.y-i-1,r.end.x,r.end.y-i-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(n)}_linkLeave(e,t,r){var i;(i=this._currentLink)!=null&&i.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(r,t.text)}_linkAtPosition(e,t){let r=e.range.start.y*this._bufferService.cols+e.range.start.x,i=e.range.end.y*this._bufferService.cols+e.range.end.x,n=t.y*this._bufferService.cols+t.x;return r<=n&&n<=i}_positionFromMouseEvent(e,t,r){let i=r.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(i)return{x:i[0],y:i[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(e,t,r,i,n){return{x1:e,y1:t,x2:r,y2:i,cols:this._bufferService.cols,fg:n}}};Ff=$e([j(1,ym),j(2,_i),j(3,Nt),j(4,GC)],Ff);function UM(e,t){return e.text===t.text&&e.range.start.x===t.range.start.x&&e.range.start.y===t.range.start.y&&e.range.end.x===t.range.end.x&&e.range.end.y===t.range.end.y}var jM=class extends MM{constructor(e={}){super(e),this._linkifier=this._register(new Rs),this.browser=db,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this._register(new Rs),this._onCursorMove=this._register(new V),this.onCursorMove=this._onCursorMove.event,this._onKey=this._register(new V),this.onKey=this._onKey.event,this._onRender=this._register(new V),this.onRender=this._onRender.event,this._onSelectionChange=this._register(new V),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this._register(new V),this.onTitleChange=this._onTitleChange.event,this._onBell=this._register(new V),this.onBell=this._onBell.event,this._onFocus=this._register(new V),this._onBlur=this._register(new V),this._onA11yCharEmitter=this._register(new V),this._onA11yTabEmitter=this._register(new V),this._onWillOpen=this._register(new V),this._setup(),this._decorationService=this._instantiationService.createInstance(FM),this._instantiationService.setService(ya,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(I3),this._instantiationService.setService(GC,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(of)),this._register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this._register(this._inputHandler.onRequestRefreshRows(t=>this.refresh((t==null?void 0:t.start)??0,(t==null?void 0:t.end)??this.rows-1))),this._register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this._register(this._inputHandler.onRequestReset(()=>this.reset())),this._register(this._inputHandler.onRequestWindowsOptionsReport(t=>this._reportWindowsOptions(t))),this._register(this._inputHandler.onColor(t=>this._handleColorEvent(t))),this._register(pt.forward(this._inputHandler.onCursorMove,this._onCursorMove)),this._register(pt.forward(this._inputHandler.onTitleChange,this._onTitleChange)),this._register(pt.forward(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this._register(pt.forward(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this._register(this._bufferService.onResize(t=>this._afterResize(t.cols,t.rows))),this._register(Me(()=>{var t,r;this._customKeyEventHandler=void 0,(r=(t=this.element)==null?void 0:t.parentNode)==null||r.removeChild(this.element)}))}get linkifier(){return this._linkifier.value}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(e){if(this._themeService)for(let t of e){let r,i="";switch(t.index){case 256:r="foreground",i="10";break;case 257:r="background",i="11";break;case 258:r="cursor",i="12";break;default:r="ansi",i="4;"+t.index}switch(t.type){case 0:let n=Ee.toColorRGB(r==="ansi"?this._themeService.colors.ansi[t.index]:this._themeService.colors[r]);this.coreService.triggerDataEvent(`${B.ESC}]${i};${AM(n)}${ub.ST}`);break;case 1:if(r==="ansi")this._themeService.modifyColors(s=>s.ansi[t.index]=je.toColor(...t.color));else{let s=r;this._themeService.modifyColors(o=>o[s]=je.toColor(...t.color))}break;case 2:this._themeService.restoreColor(t.index);break}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(e){e?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Tc,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(e){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(B.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var e;return(e=this.textarea)==null?void 0:e.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(B.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;let e=this.buffer.ybase+this.buffer.y,t=this.buffer.lines.get(e);if(!t)return;let r=Math.min(this.buffer.x,this.cols-1),i=this._renderService.dimensions.css.cell.height,n=t.getWidth(r),s=this._renderService.dimensions.css.cell.width*n,o=this.buffer.y*this._renderService.dimensions.css.cell.height,a=r*this._renderService.dimensions.css.cell.width;this.textarea.style.left=a+"px",this.textarea.style.top=o+"px",this.textarea.style.width=s+"px",this.textarea.style.height=i+"px",this.textarea.style.lineHeight=i+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this._register(X(this.element,"copy",t=>{this.hasSelection()&&YI(t,this._selectionService)}));let e=t=>XI(t,this.textarea,this.coreService,this.optionsService);this._register(X(this.textarea,"paste",e)),this._register(X(this.element,"paste",e)),fb?this._register(X(this.element,"mousedown",t=>{t.button===2&&nv(t,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this._register(X(this.element,"contextmenu",t=>{nv(t,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),Rm&&this._register(X(this.element,"auxclick",t=>{t.button===1&&BC(t,this.textarea,this.screenElement)}))}_bindKeys(){this._register(X(this.textarea,"keyup",e=>this._keyUp(e),!0)),this._register(X(this.textarea,"keydown",e=>this._keyDown(e),!0)),this._register(X(this.textarea,"keypress",e=>this._keyPress(e),!0)),this._register(X(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this._register(X(this.textarea,"compositionupdate",e=>this._compositionHelper.compositionupdate(e))),this._register(X(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this._register(X(this.textarea,"input",e=>this._inputEvent(e),!0)),this._register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(e){var n;if(!e)throw new Error("Terminal requires a parent element.");if(e.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((n=this.element)==null?void 0:n.ownerDocument.defaultView)&&this._coreBrowserService){this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView);return}this._document=e.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),e.appendChild(this.element);let t=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),t.appendChild(this._viewportElement),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._register(X(this.screenElement,"mousemove",s=>this.updateCursorStyle(s))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),t.appendChild(this.screenElement);let r=this.textarea=this._document.createElement("textarea");this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",rf.get()),_b||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._register(this.optionsService.onSpecificOptionChange("disableStdin",()=>r.readOnly=this.optionsService.rawOptions.disableStdin)),this.textarea.readOnly=this.optionsService.rawOptions.disableStdin,this._coreBrowserService=this._register(this._instantiationService.createInstance(N3,this.textarea,e.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(mi,this._coreBrowserService),this._register(X(this.textarea,"focus",s=>this._handleTextAreaFocus(s))),this._register(X(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(Pf,this._document,this._helperContainer),this._instantiationService.setService(yu,this._charSizeService),this._themeService=this._instantiationService.createInstance(Df),this._instantiationService.setService($s,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(kc),this._instantiationService.setService(jC,this._characterJoinerService),this._renderService=this._register(this._instantiationService.createInstance(Af,this.rows,this.screenElement)),this._instantiationService.setService(_i,this._renderService),this._register(this._renderService.onRenderedViewportChange(s=>this._onRender.fire(s))),this.onResize(s=>this._renderService.resize(s.cols,s.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(Ef,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(Tf),this._instantiationService.setService(ym,this._mouseService);let i=this._linkifier.value=this._register(this._instantiationService.createInstance(Ff,this.screenElement));this.element.appendChild(t);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this._register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this._register(this.onBlur(()=>this._renderService.handleBlur())),this._register(this.onFocus(()=>this._renderService.handleFocus())),this._viewport=this._register(this._instantiationService.createInstance(bf,this.element,this.screenElement)),this._register(this._viewport.onRequestScrollLines(s=>{super.scrollLines(s,!1),this.refresh(0,this.rows-1)})),this._selectionService=this._register(this._instantiationService.createInstance(Lf,this.element,this.screenElement,i)),this._instantiationService.setService(n5,this._selectionService),this._register(this._selectionService.onRequestScrollLines(s=>this.scrollLines(s.amount,s.suppressScrollEvent))),this._register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this._register(this._selectionService.onRequestRedraw(s=>this._renderService.handleSelectionChanged(s.start,s.end,s.columnSelectMode))),this._register(this._selectionService.onLinuxMouseSelection(s=>{this.textarea.value=s,this.textarea.focus(),this.textarea.select()})),this._register(pt.any(this._onScroll.event,this._inputHandler.onScroll)(()=>{var s;this._selectionService.refresh(),(s=this._viewport)==null||s.queueSync()})),this._register(this._instantiationService.createInstance(xf,this.screenElement)),this._register(X(this.element,"mousedown",s=>this._selectionService.handleMouseDown(s))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Tc,this)),this._register(this.optionsService.onSpecificOptionChange("screenReaderMode",s=>this._handleScreenReaderModeOptionChange(s))),this.options.overviewRuler.width&&(this._overviewRulerRenderer=this._register(this._instantiationService.createInstance(Ec,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRuler",s=>{!this._overviewRulerRenderer&&s&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this._register(this._instantiationService.createInstance(Ec,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(Rf,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){let e=this,t=this.element;function r(s){var c,u,h,d,f;let o=e._mouseService.getMouseReportCoords(s,e.screenElement);if(!o)return!1;let a,l;switch(s.overrideType||s.type){case"mousemove":l=32,s.buttons===void 0?(a=3,s.button!==void 0&&(a=s.button<3?s.button:3)):a=s.buttons&1?0:s.buttons&4?1:s.buttons&2?2:3;break;case"mouseup":l=0,a=s.button<3?s.button:3;break;case"mousedown":l=1,a=s.button<3?s.button:3;break;case"wheel":if(e._customWheelEventHandler&&e._customWheelEventHandler(s)===!1)return!1;let p=s.deltaY;if(p===0||e.coreMouseService.consumeWheelEvent(s,(d=(h=(u=(c=e._renderService)==null?void 0:c.dimensions)==null?void 0:u.device)==null?void 0:h.cell)==null?void 0:d.height,(f=e._coreBrowserService)==null?void 0:f.dpr)===0)return!1;l=p<0?0:1,a=4;break;default:return!1}return l===void 0||a===void 0||a>4?!1:e.coreMouseService.triggerMouseEvent({col:o.col,row:o.row,x:o.x,y:o.y,button:a,action:l,ctrl:s.ctrlKey,alt:s.altKey,shift:s.shiftKey})}let i={mouseup:null,wheel:null,mousedrag:null,mousemove:null},n={mouseup:s=>(r(s),s.buttons||(this._document.removeEventListener("mouseup",i.mouseup),i.mousedrag&&this._document.removeEventListener("mousemove",i.mousedrag)),this.cancel(s)),wheel:s=>(r(s),this.cancel(s,!0)),mousedrag:s=>{s.buttons&&r(s)},mousemove:s=>{s.buttons||r(s)}};this._register(this.coreMouseService.onProtocolChange(s=>{s?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(s)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),s&8?i.mousemove||(t.addEventListener("mousemove",n.mousemove),i.mousemove=n.mousemove):(t.removeEventListener("mousemove",i.mousemove),i.mousemove=null),s&16?i.wheel||(t.addEventListener("wheel",n.wheel,{passive:!1}),i.wheel=n.wheel):(t.removeEventListener("wheel",i.wheel),i.wheel=null),s&2?i.mouseup||(i.mouseup=n.mouseup):(this._document.removeEventListener("mouseup",i.mouseup),i.mouseup=null),s&4?i.mousedrag||(i.mousedrag=n.mousedrag):(this._document.removeEventListener("mousemove",i.mousedrag),i.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this._register(X(t,"mousedown",s=>{if(s.preventDefault(),this.focus(),!(!this.coreMouseService.areMouseEventsActive||this._selectionService.shouldForceSelection(s)))return r(s),i.mouseup&&this._document.addEventListener("mouseup",i.mouseup),i.mousedrag&&this._document.addEventListener("mousemove",i.mousedrag),this.cancel(s)})),this._register(X(t,"wheel",s=>{var o,a,l,c,u;if(!i.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(s)===!1)return!1;if(!this.buffer.hasScrollback){if(s.deltaY===0||e.coreMouseService.consumeWheelEvent(s,(c=(l=(a=(o=e._renderService)==null?void 0:o.dimensions)==null?void 0:a.device)==null?void 0:l.cell)==null?void 0:c.height,(u=e._coreBrowserService)==null?void 0:u.dpr)===0)return!1;let h=B.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(s.deltaY<0?"A":"B");return this.coreService.triggerDataEvent(h,!0),this.cancel(s,!0)}}},{passive:!1}))}refresh(e,t){var r;(r=this._renderService)==null||r.refreshRows(e,t)}updateCursorStyle(e){var t;(t=this._selectionService)!=null&&t.shouldColumnSelect(e)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(e,t){this._viewport?this._viewport.scrollLines(e):super.scrollLines(e,t),this.refresh(0,this.rows-1)}scrollPages(e){this.scrollLines(e*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(e){e&&this._viewport?this._viewport.scrollToLine(this.buffer.ybase,!0):this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(e){let t=e-this._bufferService.buffer.ydisp;t!==0&&this.scrollLines(t)}paste(e){MC(e,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(e){this._customKeyEventHandler=e}attachCustomWheelEventHandler(e){this._customWheelEventHandler=e}registerLinkProvider(e){return this._linkProviderService.registerLinkProvider(e)}registerCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");let t=this._characterJoinerService.register(e);return this.refresh(0,this.rows-1),t}deregisterCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(e)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(e){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)}registerDecoration(e){return this._decorationService.registerDecoration(e)}hasSelection(){return this._selectionService?this._selectionService.hasSelection:!1}select(e,t,r){this._selectionService.setSelection(e,t,r)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(!(!this._selectionService||!this._selectionService.hasSelection))return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var e;(e=this._selectionService)==null||e.clearSelection()}selectAll(){var e;(e=this._selectionService)==null||e.selectAll()}selectLines(e,t){var r;(r=this._selectionService)==null||r.selectLines(e,t)}_keyDown(e){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(e)===!1)return!1;let t=this.browser.isMac&&this.options.macOptionIsMeta&&e.altKey;if(!t&&!this._compositionHelper.keydown(e))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(!0),!1;!t&&(e.key==="Dead"||e.key==="AltGraph")&&(this._unprocessedDeadKey=!0);let r=zM(e,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),r.type===3||r.type===2){let i=this.rows-1;return this.scrollLines(r.type===2?-i:i),this.cancel(e,!0)}if(r.type===1&&this.selectAll(),this._isThirdLevelShift(this.browser,e)||(r.cancel&&this.cancel(e,!0),!r.key)||e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.key.length===1&&e.key.charCodeAt(0)>=65&&e.key.charCodeAt(0)<=90)return!0;if(this._unprocessedDeadKey)return this._unprocessedDeadKey=!1,!0;if((r.key===B.ETX||r.key===B.CR)&&(this.textarea.value=""),this._onKey.fire({key:r.key,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(r.key,!0),!this.optionsService.rawOptions.screenReaderMode||e.altKey||e.ctrlKey)return this.cancel(e,!0);this._keyDownHandled=!0}_isThirdLevelShift(e,t){let r=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey||e.isWindows&&t.getModifierState("AltGraph");return t.type==="keypress"?r:r&&(!t.keyCode||t.keyCode>47)}_keyUp(e){this._keyDownSeen=!1,!(this._customKeyEventHandler&&this._customKeyEventHandler(e)===!1)&&(GM(e)||this.focus(),this.updateCursorStyle(e),this._keyPressHandled=!1)}_keyPress(e){let t;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(e)===!1)return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(e.which===null||e.which===void 0)t=e.keyCode;else if(e.which!==0&&e.charCode!==0)t=e.which;else return!1;return!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)?!1:(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(t,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,!0)}_inputEvent(e){if(e.data&&e.inputType==="insertText"&&(!e.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;let t=e.data;return this.coreService.triggerDataEvent(t,!0),this.cancel(e),!0}return!1}resize(e,t){if(e===this.cols&&t===this.rows){this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure();return}super.resize(e,t)}_afterResize(e,t){var r;(r=this._charSizeService)==null||r.measure()}clear(){if(!(this.buffer.ybase===0&&this.buffer.y===0)){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(We));this._onScroll.fire({position:this.buffer.ydisp}),this.refresh(0,this.rows-1)}}reset(){var t;this.options.rows=this.rows,this.options.cols=this.cols;let e=this._customKeyEventHandler;this._setup(),super.reset(),(t=this._selectionService)==null||t.reset(),this._decorationService.reset(),this._customKeyEventHandler=e,this.refresh(0,this.rows-1)}clearTextureAtlas(){var e;(e=this._renderService)==null||e.clearTextureAtlas()}_reportFocus(){var e;(e=this.element)!=null&&e.classList.contains("focus")?this.coreService.triggerDataEvent(B.ESC+"[I"):this.coreService.triggerDataEvent(B.ESC+"[O")}_reportWindowsOptions(e){if(this._renderService)switch(e){case 0:let t=this._renderService.dimensions.css.canvas.width.toFixed(0),r=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${B.ESC}[4;${r};${t}t`);break;case 1:let i=this._renderService.dimensions.css.cell.width.toFixed(0),n=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${B.ESC}[6;${n};${i}t`);break}}cancel(e,t){if(!(!this.options.cancelEvents&&!t))return e.preventDefault(),e.stopPropagation(),!1}};function GM(e){return e.keyCode===16||e.keyCode===17||e.keyCode===18}var KM=class{constructor(){this._addons=[]}dispose(){for(let e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()}loadAddon(e,t){let r={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(r),t.dispose=()=>this._wrappedAddonDispose(r),t.activate(e)}_wrappedAddonDispose(e){if(e.isDisposed)return;let t=-1;for(let r=0;r<this._addons.length;r++)if(this._addons[r]===e){t=r;break}if(t===-1)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}},qM=class{constructor(e){this._line=e}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new fr)}translateToString(e,t,r){return this._line.translateToString(e,t,r)}},Kv=class{constructor(e,t){this._buffer=e,this.type=t}init(e){return this._buffer=e,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(e){let t=this._buffer.lines.get(e);if(t)return new qM(t)}getNullCell(){return new fr}},YM=class extends ne{constructor(e){super(),this._core=e,this._onBufferChange=this._register(new V),this.onBufferChange=this._onBufferChange.event,this._normal=new Kv(this._core.buffers.normal,"normal"),this._alternate=new Kv(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}},XM=class{constructor(e){this._core=e}registerCsiHandler(e,t){return this._core.registerCsiHandler(e,r=>t(r.toArray()))}addCsiHandler(e,t){return this.registerCsiHandler(e,t)}registerDcsHandler(e,t){return this._core.registerDcsHandler(e,(r,i)=>t(r,i.toArray()))}addDcsHandler(e,t){return this.registerDcsHandler(e,t)}registerEscHandler(e,t){return this._core.registerEscHandler(e,t)}addEscHandler(e,t){return this.registerEscHandler(e,t)}registerOscHandler(e,t){return this._core.registerOscHandler(e,t)}addOscHandler(e,t){return this.registerOscHandler(e,t)}},QM=class{constructor(e){this._core=e}register(e){this._core.unicodeService.register(e)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(e){this._core.unicodeService.activeVersion=e}},ZM=["cols","rows"],Ir=0,JM=class extends ne{constructor(e){super(),this._core=this._register(new jM(e)),this._addonManager=this._register(new KM),this._publicOptions={...this._core.options};let t=i=>this._core.options[i],r=(i,n)=>{this._checkReadonlyOptions(i),this._core.options[i]=n};for(let i in this._core.options){let n={get:t.bind(this,i),set:r.bind(this,i)};Object.defineProperty(this._publicOptions,i,n)}}_checkReadonlyOptions(e){if(ZM.includes(e))throw new Error(`Option "${e}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new XM(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new QM(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this._register(new YM(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){let e=this._core.coreService.decPrivateModes,t="none";switch(this._core.coreMouseService.activeProtocol){case"X10":t="x10";break;case"VT200":t="vt200";break;case"DRAG":t="drag";break;case"ANY":t="any";break}return{applicationCursorKeysMode:e.applicationCursorKeys,applicationKeypadMode:e.applicationKeypad,bracketedPasteMode:e.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:t,originMode:e.origin,reverseWraparoundMode:e.reverseWraparound,sendFocusMode:e.sendFocus,wraparoundMode:e.wraparound}}get options(){return this._publicOptions}set options(e){for(let t in e)this._publicOptions[t]=e[t]}blur(){this._core.blur()}focus(){this._core.focus()}input(e,t=!0){this._core.input(e,t)}resize(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)}open(e){this._core.open(e)}attachCustomKeyEventHandler(e){this._core.attachCustomKeyEventHandler(e)}attachCustomWheelEventHandler(e){this._core.attachCustomWheelEventHandler(e)}registerLinkProvider(e){return this._core.registerLinkProvider(e)}registerCharacterJoiner(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)}deregisterCharacterJoiner(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)}registerMarker(e=0){return this._verifyIntegers(e),this._core.registerMarker(e)}registerDecoration(e){return this._checkProposedApi(),this._verifyPositiveIntegers(e.x??0,e.width??0,e.height??0),this._core.registerDecoration(e)}hasSelection(){return this._core.hasSelection()}select(e,t,r){this._verifyIntegers(e,t,r),this._core.select(e,t,r)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)}dispose(){super.dispose()}scrollLines(e){this._verifyIntegers(e),this._core.scrollLines(e)}scrollPages(e){this._verifyIntegers(e),this._core.scrollPages(e)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(e){this._verifyIntegers(e),this._core.scrollToLine(e)}clear(){this._core.clear()}write(e,t){this._core.write(e,t)}writeln(e,t){this._core.write(e),this._core.write(`\r
`,t)}paste(e){this._core.paste(e)}refresh(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(e){this._addonManager.loadAddon(this,e)}static get strings(){return{get promptLabel(){return rf.get()},set promptLabel(e){rf.set(e)},get tooMuchOutput(){return nf.get()},set tooMuchOutput(e){nf.set(e)}}}_verifyIntegers(...e){for(Ir of e)if(Ir===1/0||isNaN(Ir)||Ir%1!==0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...e){for(Ir of e)if(Ir&&(Ir===1/0||isNaN(Ir)||Ir%1!==0||Ir<0))throw new Error("This API only accepts positive integers")}};function eB(e,t,r){const[i,n]=_.useState();_.useEffect(()=>{let s=new ResizeObserver(()=>e());return n(s),()=>s.disconnect()},r),_.useEffect(()=>{if(!(!t||!i))return i.observe(t),()=>i.unobserve(t)},[i,t,...r])}const tB="_demoCard_1w0kb_1",rB="_demoToolbar_1w0kb_5",iB="_demoContainer_1w0kb_10",nB="_editorLeft_1w0kb_18",sB="_editorRight_1w0kb_22",oB="_terminalContainer_1w0kb_26",aB="_terminal_1w0kb_26",lB="_domRenderer_1w0kb_67",ti={demoCard:tB,demoToolbar:rB,demoContainer:iB,editorLeft:nB,editorRight:sB,terminalContainer:oB,terminal:aB,domRenderer:lB},Lh=[15,30],Dh=[0,30],qv=15;function cB(){const[e,t]=_.useState(),[r,i]=_.useState("Loading..."),[n,s]=_.useState("Loading..."),[o,a]=_.useState("catppuccin-macchiato"),[l,c]=_.useState(),[u,h]=_.useState(!0),[d,f]=_.useState("terminal"),[p,g]=_.useState(!1),[S,m]=_.useState(null),v=_.useRef(null);v.current=S;const y=_.useRef({source:"left",time:0}),w=_.useRef(null),b=_.useRef(null),R=_.useRef(null),E=_.useRef();_.useEffect(()=>{let A=!1;return(async()=>{let O=await TC({langs:["tsx","typescript"],themes:[o]});A||c(O)})(),()=>{A=!0}},[o]);const L=(A,O)=>{var N,D;v.current||y.current.source!==O&&y.current.time>Date.now()-500||(y.current={source:O,time:Date.now()},O!=="term"&&((D=E.current)==null||D.terminal.scrollToLine(Math.floor(A*(((N=E.current)==null?void 0:N.terminal.buffer.active.baseY)||0)))),O!=="dom"&&R.current&&(R.current.scrollTop=(R.current.scrollHeight-R.current.clientHeight)*A),O!=="left"&&w.current&&(w.current.scrollTop=(w.current.scrollHeight-w.current.clientHeight)*A),O!=="right"&&b.current&&(b.current.scrollTop=(b.current.scrollHeight-b.current.clientHeight)*A))};return eB(()=>{var A;return(A=E.current)==null?void 0:A.fitAddon.fit()},e,[]),_.useEffect(()=>{if(!e)return;const A=new JM({convertEol:!0,fontFamily:"Google Sans Code",fontSize:12}),O=new UI;return A.loadAddon(O),A.open(e),A.onScroll(N=>{y.current.source!=="term"&&y.current.time>Date.now()-500||L(N/(A.buffer.active.baseY||1),"term")}),E.current={terminal:A,fitAddon:O},O.fit(),(async()=>{const[N,D]=await Promise.all([fetch("fs/before").then(T=>T.text()),fetch("fs/after").then(T=>T.text())]);i(N),s(D)})(),()=>{E.current=void 0,A.dispose()}},[e]),_.useEffect(()=>{var O;if(!p||!l)return;let A=!1;return(O=E.current)==null||O.terminal.clear(),m(""),(async()=>{let N=0;for(;!A&&N<n.length;){N+=Lh[0]+Math.floor(Math.random()*(Lh[1]-Lh[0]));let D=n.substring(0,N);m(D),await new Promise(T=>{setTimeout(T,Dh[0]+Math.floor(Math.random()*(Dh[1]-Dh[0])))})}g(!1),m(null)})(),()=>{A=!0,m(null)}},[p,l,n]),_.useEffect(()=>{if(!E.current||!l)return;let A=!1,O=E.current.terminal;return(async()=>{if(S!==null){let N=await tv({highlighter:l,code:S,diffWith:r,streaming:qv,lang:"tsx",theme:o,lineNumbers:!0});if(A)return;O.write("\x1B[H"),O.write(`${(S.length/n.length*100).toFixed(0)}%

`),O.write(N)}else{let N=await tv({highlighter:l,code:n,diffWith:r,lang:"tsx",theme:o,lineNumbers:"both",collapseUnchanged:u?{padding:3,separator:D=>`
 ${D} unchanged 
`}:void 0});if(A)return;y.current={source:"left",time:Date.now()},O.reset(),O.clear(),O.write(N),setTimeout(()=>O.scrollToTop())}})(),()=>{A=!0}},[S,l,o,r,n,u]),x.jsxs(nm,{className:ti.demoCard,children:[x.jsxs(Mt,{className:ti.demoToolbar,align:"center",gap:"5",p:"3",children:[x.jsxs(zw,{size:"1",value:o,onValueChange:A=>{a(A),c(void 0)},children:[x.jsx($w,{placeholder:"Theme"}),x.jsx(Fw,{children:RC.map(A=>x.jsx(Hw,{value:A.id,children:A.displayName},A.id))})]}),x.jsx(Mt,{align:"center",gap:"2",asChild:!0,children:x.jsxs(qt,{as:"label",size:"1",children:[x.jsx(Vw,{size:"2",checked:u,onCheckedChange:h}),"Collapse common lines"]})}),x.jsx(cc,{size:"1",disabled:p,onClick:()=>g(!0),children:"Stream"}),x.jsx("div",{style:{flex:1}}),x.jsxs(Bw,{size:"1",value:d,onValueChange:A=>f(A),children:[x.jsxs($d,{value:"terminal",children:["ANSI via"," ",x.jsx(uc,{color:"gray",variant:"ghost",children:"niftty()"})]}),x.jsxs($d,{value:"dom",children:["DOM via"," ",x.jsx(uc,{color:"gray",variant:"ghost",children:"tokenize()"})]})]})]}),x.jsxs("div",{className:ti.demoContainer,children:[x.jsxs("div",{className:ti.editorLeft,children:[x.jsx(qt,{size:"1",color:"gray",mb:"1",children:"diffWith (before)"}),x.jsx("textarea",{ref:w,value:r,onScroll:A=>{L(A.currentTarget.scrollTop/(A.currentTarget.scrollHeight-A.currentTarget.clientHeight),"left")},onInput:A=>i(A.currentTarget.value)})]}),x.jsxs("div",{className:ti.terminalContainer,children:[x.jsx(qt,{size:"1",color:"gray",mb:"1",children:"Output"}),x.jsx("div",{className:ti.terminal,ref:A=>t(A||void 0),style:{display:d==="terminal"?void 0:"none"}}),d==="dom"&&(l?x.jsx(OC,{className:ti.domRenderer,ref:R,onScroll:A=>{L(A.currentTarget.scrollTop/(A.currentTarget.scrollHeight-A.currentTarget.clientHeight),"dom")},highlighter:l,code:S??n,diffWith:r,lang:"tsx",theme:o,lineNumbers:S!==null?!0:"both",streaming:S!==null?qv:void 0,collapseUnchanged:S!==null?void 0:u?{padding:3,separator:A=>` ${A} unchanged `}:void 0}):x.jsx("div",{className:ti.domRenderer,children:"Loading highlighter..."}))]}),x.jsxs("div",{className:ti.editorRight,children:[x.jsx(qt,{size:"1",color:"gray",mb:"1",children:"code (after)"}),x.jsx("textarea",{ref:b,value:n,onScroll:A=>{L(A.currentTarget.scrollTop/(A.currentTarget.scrollHeight-A.currentTarget.clientHeight),"right")},onInput:A=>s(A.currentTarget.value)})]})]})]})}const uB="/niftty/logotype.jpg",Yv="poimandres",hB=`import { niftty } from "niftty";

process.stdout.write(
  await niftty({
    code: "let foo = 123;",
    diffWith: "let foo = 456;",
    lang: "tsx",
    theme: "catppuccin-frappe",
    lineNumbers: "both",
  })
);`,dB=[{title:"Syntax Highlighting",description:"Powered by Shiki with support for 200+ languages and any VSCode theme"},{title:"Diff Rendering",description:"Show additions, removals, and intra-line changes with collapsible unchanged regions"},{title:"Streaming Support",description:"Perfect for LLM code generation with live diff preview as code streams in"},{title:"Dual Output",description:"ANSI output for terminals via niftty() or structured tokens via tokenize() for custom rendering"}];function fB(){const[e,t]=_.useState(),[r,i]=_.useState(0),n=_.useMemo(()=>Math.random()*1e4,[]);return _.useEffect(()=>{let s=!1;return(async()=>{let o=await TC({langs:["typescript"],themes:[Yv]});s||t(o)})(),()=>{s=!0}},[]),_.useEffect(()=>{const s=()=>i(window.scrollY);return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),x.jsxs(rm,{appearance:"dark",accentColor:"iris",grayColor:"slate",radius:"medium",children:[x.jsx(bk,{className:yi.bgShader,colorBack:"#000000",colorFront:"#111",shape:"warp",type:"4x4",size:2,speed:.2,frame:n,scale:2,offsetY:-r/3e3}),x.jsxs("div",{className:yi.page,children:[x.jsx(Wn,{size:"3",className:yi.hero,children:x.jsx(Vn,{size:"2",children:x.jsxs(Mt,{direction:"column",align:"center",gap:"4",children:[x.jsx(xk,{width:1408/3,height:768/3,image:uB,colorFront:"#B1A9FF",colorHighlight:"#fff",colorBack:"#00000000",type:"8x8",colorSteps:9,size:mB(2,20,pB(0,300,r))}),x.jsx(qt,{size:"5",color:"gray",align:"center",style:{maxWidth:500},children:"A nifty code syntax highlighter for the terminal, powered by Shiki"}),x.jsx(Mt,{align:"center",gap:"2",mt:"2",children:x.jsx(uc,{size:"4",className:yi.installCode,children:"npm install niftty"})}),x.jsxs(Mt,{gap:"3",mt:"2",children:[x.jsx(cc,{asChild:!0,variant:"soft",children:x.jsxs("a",{href:"https://github.com/romannurik/niftty",target:"_blank",rel:"noopener",children:[x.jsx(Pk,{})," GitHub"]})}),x.jsx(cc,{asChild:!0,variant:"soft",children:x.jsxs("a",{href:"https://npmjs.com/package/niftty",target:"_blank",rel:"noopener",children:[x.jsx(kk,{})," NPM"]})})]})]})})}),x.jsx(Wn,{size:"2",children:x.jsx(Vn,{size:"1",children:x.jsxs(Mt,{direction:"column",gap:"3",children:[x.jsx(yl,{size:"5",align:"center",children:"Quickstart"}),x.jsx(Aw,{className:yi.codeExample,children:e?x.jsx(OC,{highlighter:e,code:hB,lang:"typescript",theme:Yv,lineNumbers:!1}):x.jsx(qt,{color:"gray",children:"Loading..."})})]})})}),x.jsx(Wn,{size:"2",children:x.jsx(Vn,{size:"3",children:x.jsxs(Mt,{direction:"column",gap:"4",children:[x.jsx(yl,{size:"5",align:"center",children:"Features"}),x.jsx("div",{className:yi.featuresGrid,children:dB.map(s=>x.jsx(nm,{className:yi.featureCard,children:x.jsxs(Mt,{direction:"column",gap:"1",children:[x.jsx(qt,{weight:"bold",children:s.title}),x.jsx(qt,{size:"2",color:"gray",children:s.description})]})},s.title))})]})})}),x.jsx(Wn,{size:"2",children:x.jsx(Vn,{size:"4",children:x.jsxs(Mt,{direction:"column",gap:"3",children:[x.jsx(yl,{size:"5",align:"center",children:"Interactive Demo"}),x.jsx(qt,{size:"2",color:"gray",align:"center",children:"Edit the code on either side to see the diff update in real-time"}),x.jsx(cB,{})]})})}),x.jsx(Wn,{size:"2",className:yi.footer,children:x.jsx(Vn,{size:"2",children:x.jsxs(Mt,{direction:"column",align:"center",gap:"2",children:[x.jsxs(qt,{size:"2",color:"gray",children:["Made by"," ",x.jsx(Mw,{href:"https://roman.nurik.net",target:"_blank",rel:"noopener",children:"Roman Nurik"})," ","at Google"]}),x.jsx(qt,{size:"1",color:"gray",children:"Brought to you with  from New York"})]})})})]})]})}function pB(e,t,r){return Math.max(0,Math.min(1,(r-e)/(t-e)))}function mB(e,t,r){return e+(t-e)*r}Nh.createRoot(document.getElementById("root")).render(x.jsx(fe.StrictMode,{children:x.jsx(fB,{})}));export{C as _};
